this.__isAppServiceRemoteDebugMode__=!0;var __AppServiceRemoteDebugger__,__WeixinJSCore__=this.WeixinJSCore;!function(){var e={783:function(e){function t(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,s){var a=e.apply(r,n);function o(e){t(a,i,s,o,u,"next",e)}function u(e){t(a,i,s,o,u,"throw",e)}o(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},971:function(e,t,r){var n=r(455);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},709:function(e,t,r){var n=r(971);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},566:function(e,t,r){var n=r(148).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},455:function(e,t,r){var n=r(148).default,i=r(566);e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},148:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},635:function(e,t,r){var n,i,s;!function(a,o){"use strict";i=[r(62)],void 0===(s="function"==typeof(n=function(e){var t=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(r)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),n=r.match(/ (\(.+\)$)/);r=n?r.replace(n[0],""):r;var i=this.extractLocation(n?n[1]:r),s=n&&r||void 0,a=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new e({functionName:s,fileName:a,lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(n)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=t.match(r),i=n&&n[1]?n[1]:void 0,s=this.extractLocation(t.replace(r,""));return new e({functionName:i,fileName:s[0],lineNumber:s[1],columnNumber:s[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),i=[],s=2,a=n.length;s<a;s+=2){var o=r.exec(n[s]);o&&i.push(new e({fileName:o[2],lineNumber:o[1],source:n[s]}))}return i},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),i=[],s=0,a=n.length;s<a;s+=2){var o=r.exec(n[s]);o&&i.push(new e({functionName:o[3]||void 0,fileName:o[2],lineNumber:o[1],source:n[s]}))}return i},parseOpera11:function(r){return r.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var r,n=t.split("@"),i=this.extractLocation(n.pop()),s=n.shift()||"",a=s.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;s.match(/\(([^)]*)\)/)&&(r=s.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var o=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:a,args:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}})?n.apply(t,i):n)||(e.exports=s)}(globalThis)},970:function(e,t,r){var n=r(156),i=Object.prototype.hasOwnProperty,s="undefined"!=typeof Map;function a(){this._array=[],this._set=s?new Map:Object.create(null)}a.fromArray=function(e,t){for(var r=new a,n=0,i=e.length;n<i;n++)r.add(e[n],t);return r},a.prototype.size=function(){return s?this._set.size:Object.getOwnPropertyNames(this._set).length},a.prototype.add=function(e,t){var r=s?e:n.toSetString(e),a=s?this.has(e):i.call(this._set,r),o=this._array.length;a&&!t||this._array.push(e),a||(s?this._set.set(e,o):this._set[r]=o)},a.prototype.has=function(e){if(s)return this._set.has(e);var t=n.toSetString(e);return i.call(this._set,t)},a.prototype.indexOf=function(e){if(s){var t=this._set.get(e);if(t>=0)return t}else{var r=n.toSetString(e);if(i.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},a.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},a.prototype.toArray=function(){return this._array.slice()},t.I=a},615:function(e,t,r){var n=r(55);t.encode=function(e){var t,r="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),r+=n.encode(t)}while(i>0);return r},t.decode=function(e,t,r){var i,s,a,o,u=e.length,c=0,l=0;do{if(t>=u)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=n.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&s),c+=(s&=31)<<l,l+=5}while(i);r.value=(o=(a=c)>>1,1==(1&a)?-o:o),r.rest=t}},55:function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},372:function(e,t){function r(e,n,i,s,a,o){var u=Math.floor((n-e)/2)+e,c=a(i,s[u],!0);return 0===c?u:c>0?n-u>1?r(u,n,i,s,a,o):o==t.LEAST_UPPER_BOUND?n<s.length?n:-1:u:u-e>1?r(e,u,i,s,a,o):o==t.LEAST_UPPER_BOUND?u:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,i,s){if(0===n.length)return-1;var a=r(-1,n.length,e,n,i,s||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===i(n[a],n[a-1],!0);)--a;return a}},345:function(e,t,r){var n=r(156);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,r,i,s,a,o;r=e,i=(t=this._last).generatedLine,s=r.generatedLine,a=t.generatedColumn,o=r.generatedColumn,s>i||s==i&&o>=a||n.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.H=i},294:function(e,t){function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function n(e,t,i,s){if(i<s){var a=i-1;r(e,(l=i,h=s,Math.round(l+Math.random()*(h-l))),s);for(var o=e[s],u=i;u<s;u++)t(e[u],o)<=0&&r(e,a+=1,u);r(e,a+1,u);var c=a+1;n(e,t,i,c-1),n(e,t,c+1,s)}var l,h}t.U=function(e,t){n(e,t,0,e.length-1)}},632:function(e,t,r){var n=r(156),i=r(372),s=r(970).I,a=r(615),o=r(294).U;function u(e,t){var r=e;return"string"==typeof e&&(r=n.parseSourceMapInput(e)),null!=r.sections?new h(r,t):new c(r,t)}function c(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),a=n.getArg(r,"sources"),o=n.getArg(r,"names",[]),u=n.getArg(r,"sourceRoot",null),c=n.getArg(r,"sourcesContent",null),l=n.getArg(r,"mappings"),h=n.getArg(r,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);u&&(u=n.normalize(u)),a=a.map(String).map(n.normalize).map((function(e){return u&&n.isAbsolute(u)&&n.isAbsolute(e)?n.relative(u,e):e})),this._names=s.fromArray(o.map(String),!0),this._sources=s.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map((function(e){return n.computeSourceURL(u,e,t)})),this.sourceRoot=u,this.sourcesContent=c,this._mappings=l,this._sourceMapURL=t,this.file=h}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),a=n.getArg(r,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new s,this._names=new s;var o={line:-1,column:0};this._sections=a.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var r=n.getArg(e,"offset"),i=n.getArg(r,"line"),s=n.getArg(r,"column");if(i<o.line||i===o.line&&s<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=r,{generatedOffset:{generatedLine:i+1,generatedColumn:s+1},consumer:new u(n.getArg(e,"map"),t)}}))}u.fromSourceMap=function(e,t){return c.fromSourceMap(e,t)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},u.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(e,t,r){var i,s=t||null;switch(r||u.GENERATED_ORDER){case u.GENERATED_ORDER:i=this._generatedMappings;break;case u.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;i.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=n.computeSourceURL(a,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,s)},u.prototype.allGeneratedPositionsFor=function(e){var t=n.getArg(e,"line"),r={source:n.getArg(e,"source"),originalLine:t,originalColumn:n.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var s=[],a=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(a>=0){var o=this._originalMappings[a];if(void 0===e.column)for(var u=o.originalLine;o&&o.originalLine===u;)s.push({line:n.getArg(o,"generatedLine",null),column:n.getArg(o,"generatedColumn",null),lastColumn:n.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++a];else for(var c=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==c;)s.push({line:n.getArg(o,"generatedLine",null),column:n.getArg(o,"generatedColumn",null),lastColumn:n.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++a]}return s},t.SourceMapConsumer=u,c.prototype=Object.create(u.prototype),c.prototype.consumer=u,c.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=n.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},c.fromSourceMap=function(e,t){var r=Object.create(c.prototype),i=r._names=s.fromArray(e._names.toArray(),!0),a=r._sources=s.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map((function(e){return n.computeSourceURL(r.sourceRoot,e,t)}));for(var u=e._mappings.toArray().slice(),h=r.__generatedMappings=[],p=r.__originalMappings=[],d=0,f=u.length;d<f;d++){var g=u[d],m=new l;m.generatedLine=g.generatedLine,m.generatedColumn=g.generatedColumn,g.source&&(m.source=a.indexOf(g.source),m.originalLine=g.originalLine,m.originalColumn=g.originalColumn,g.name&&(m.name=i.indexOf(g.name)),p.push(m)),h.push(m)}return o(r.__originalMappings,n.compareByOriginalPositions),r},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),c.prototype._parseMappings=function(e,t){for(var r,i,s,u,c,h=1,p=0,d=0,f=0,g=0,m=0,v=e.length,b=0,y={},x={},S=[],_=[];b<v;)if(";"===e.charAt(b))h++,b++,p=0;else if(","===e.charAt(b))b++;else{for((r=new l).generatedLine=h,u=b;u<v&&!this._charIsMappingSeparator(e,u);u++);if(s=y[i=e.slice(b,u)])b+=i.length;else{for(s=[];b<u;)a.decode(e,b,x),c=x.value,b=x.rest,s.push(c);if(2===s.length)throw new Error("Found a source, but no line and column");if(3===s.length)throw new Error("Found a source and line, but no column");y[i]=s}r.generatedColumn=p+s[0],p=r.generatedColumn,s.length>1&&(r.source=g+s[1],g+=s[1],r.originalLine=d+s[2],d=r.originalLine,r.originalLine+=1,r.originalColumn=f+s[3],f=r.originalColumn,s.length>4&&(r.name=m+s[4],m+=s[4])),_.push(r),"number"==typeof r.originalLine&&S.push(r)}o(_,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=_,o(S,n.compareByOriginalPositions),this.__originalMappings=S},c.prototype._findMapping=function(e,t,r,n,s,a){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return i.search(e,t,s,a)},c.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(e,"bias",u.GREATEST_LOWER_BOUND));if(r>=0){var i=this._generatedMappings[r];if(i.generatedLine===t.generatedLine){var s=n.getArg(i,"source",null);null!==s&&(s=this._sources.at(s),s=n.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=n.getArg(i,"name",null);return null!==a&&(a=this._names.at(a)),{source:s,line:n.getArg(i,"originalLine",null),column:n.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},c.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var i,s=e;if(null!=this.sourceRoot&&(s=n.relative(this.sourceRoot,s)),null!=this.sourceRoot&&(i=n.urlParse(this.sourceRoot))){var a=s.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!i.path||"/"==i.path)&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(t)return null;throw new Error('"'+s+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var t=n.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")},i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(e,"bias",u.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===r.source)return{line:n.getArg(s,"generatedLine",null),column:n.getArg(s,"generatedColumn",null),lastColumn:n.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},h.prototype=Object.create(u.prototype),h.prototype.constructor=u,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=i.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),s=this._sections[r];return s?s.consumer.originalPositionFor({line:t.generatedLine-(s.generatedOffset.generatedLine-1),column:t.generatedColumn-(s.generatedOffset.generatedLine===t.generatedLine?s.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},h.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(n.getArg(e,"source"))){var i=r.consumer.generatedPositionFor(e);if(i)return{line:i.line+(r.generatedOffset.generatedLine-1),column:i.column+(r.generatedOffset.generatedLine===i.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var i=this._sections[r],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var u=s[a],c=i.consumer._sources.at(u.source);c=n.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var l=null;u.name&&(l=i.consumer._names.at(u.name),this._names.add(l),l=this._names.indexOf(l));var h={source:c,generatedLine:u.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(i.generatedOffset.generatedLine===u.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:l};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}o(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),o(this.__originalMappings,n.compareByOriginalPositions)}},362:function(e,t,r){var n=r(615),i=r(156),s=r(970).I,a=r(345).H;function o(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new a,this._sourcesContents=null}o.prototype._version=3,o.fromSourceMap=function(e){var t=e.sourceRoot,r=new o({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=i.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){var s=n;null!==t&&(s=i.relative(t,n)),r._sources.has(s)||r._sources.add(s);var a=e.sourceContentFor(n);null!=a&&r.setSourceContent(n,a)})),r},o.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),r=i.getArg(e,"original",null),n=i.getArg(e,"source",null),s=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,s),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=s&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:s})},o.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=i.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var a=this._sourceRoot;null!=a&&(n=i.relative(a,n));var o=new s,u=new s;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=r&&(t.source=i.join(r,t.source)),null!=a&&(t.source=i.relative(a,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var c=t.source;null==c||o.has(c)||o.add(c);var l=t.name;null==l||u.has(l)||u.add(l)}),this),this._sources=o,this._names=u,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=i.join(r,t)),null!=a&&(t=i.relative(a,t)),this.setSourceContent(t,n))}),this)},o.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},o.prototype._serializeMappings=function(){for(var e,t,r,s,a=0,o=1,u=0,c=0,l=0,h=0,p="",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e="",(t=d[f]).generatedLine!==o)for(a=0;t.generatedLine!==o;)e+=";",o++;else if(f>0){if(!i.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=","}e+=n.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(s=this._sources.indexOf(t.source),e+=n.encode(s-h),h=s,e+=n.encode(t.originalLine-1-c),c=t.originalLine-1,e+=n.encode(t.originalColumn-u),u=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-l),l=r)),p+=e}return p},o.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var r=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},o.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.h=o},577:function(e,t,r){var n=r(362).h,i=r(156),s=/(\r?\n)/,a="$$$isSourceNode$$$";function o(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[a]=!0,null!=n&&this.add(n)}o.fromStringWithSourceMap=function(e,t,r){var n=new o,a=e.split(s),u=0,c=function(){return e()+(e()||"");function e(){return u<a.length?a[u++]:void 0}},l=1,h=0,p=null;return t.eachMapping((function(e){if(null!==p){if(!(l<e.generatedLine)){var t=(r=a[u]||"").substr(0,e.generatedColumn-h);return a[u]=r.substr(e.generatedColumn-h),h=e.generatedColumn,d(p,t),void(p=e)}d(p,c()),l++,h=0}for(;l<e.generatedLine;)n.add(c()),l++;if(h<e.generatedColumn){var r=a[u]||"";n.add(r.substr(0,e.generatedColumn)),a[u]=r.substr(e.generatedColumn),h=e.generatedColumn}p=e}),this),u<a.length&&(p&&d(p,c()),n.add(a.splice(u).join(""))),t.sources.forEach((function(e){var s=t.sourceContentFor(e);null!=s&&(null!=r&&(e=i.join(r,e)),n.setSourceContent(e,s))})),n;function d(e,t){if(null===e||void 0===e.source)n.add(t);else{var s=r?i.join(r,e.source):e.source;n.add(new o(e.originalLine,e.originalColumn,s,t,e.name))}}},o.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},o.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},o.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},o.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[a]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},o.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},o.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(i.fromSetString(n[t]),this.sourceContents[n[t]])},o.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},o.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new n(e),i=!1,s=null,a=null,o=null,u=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(s===n.source&&a===n.line&&o===n.column&&u===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),s=n.source,a=n.line,o=n.column,u=n.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),s=null,i=!1);for(var c=0,l=e.length;c<l;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===l?(s=null,i=!1):i&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}}},156:function(e,t){t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function s(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var r=e,n=i(e);if(n){if(!n.path)return e;r=n.path}for(var a,o=t.isAbsolute(r),u=r.split(/\/+/),c=0,l=u.length-1;l>=0;l--)"."===(a=u[l])?u.splice(l,1):".."===a?c++:c>0&&(""===a?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return""===(r=u.join("/"))&&(r=o?"/":"."),n?(n.path=r,s(n)):r}function o(e,t){""===e&&(e="."),""===t&&(t=".");var r=i(t),o=i(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),s(r);if(r||t.match(n))return t;if(o&&!o.host&&!o.path)return o.host=t,s(o);var u="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=u,s(o)):u}t.urlParse=i,t.urlGenerate=s,t.normalize=a,t.join=o,t.isAbsolute=function(e){return"/"===e.charAt(0)||r.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var u=!("__proto__"in Object.create(null));function c(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=u?c:function(e){return l(e)?"$"+e:e},t.fromSetString=u?c:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){var n=h(e.source,t.source);return 0!==n||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)||r||0!=(n=e.generatedColumn-t.generatedColumn)||0!=(n=e.generatedLine-t.generatedLine)?n:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=h(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||0!==(r=h(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var n=i(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var u=n.path.lastIndexOf("/");u>=0&&(n.path=n.path.substring(0,u+1))}t=o(s(n),t)}return a(t)}},20:function(e,t,r){r(362).h,t.SourceMapConsumer=r(632).SourceMapConsumer,r(577)},62:function(e,t){var r,n,i;!function(s,a){"use strict";n=[],void 0===(i="function"==typeof(r=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],s=["fileName","functionName","source"],a=n.concat(i,s,["args"],["evalOrigin"]);function o(e){if(e)for(var r=0;r<a.length;r++)void 0!==e[a[r]]&&this["set"+t(a[r])](e[a[r]])}o.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof o)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new o(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:n?n+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},o.fromString=function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),n=e.substring(0,t),i=e.substring(t+1,r).split(","),s=e.substring(r+1);if(0===s.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s,""),u=a[1],c=a[2],l=a[3];return new o({functionName:n,args:i||void 0,fileName:u,lineNumber:c||void 0,columnNumber:l||void 0})};for(var u=0;u<n.length;u++)o.prototype["get"+t(n[u])]=r(n[u]),o.prototype["set"+t(n[u])]=function(e){return function(t){this[e]=Boolean(t)}}(n[u]);for(var c=0;c<i.length;c++)o.prototype["get"+t(i[c])]=r(i[c]),o.prototype["set"+t(i[c])]=function(t){return function(r){if(!e(r))throw new TypeError(t+" must be a Number");this[t]=Number(r)}}(i[c]);for(var l=0;l<s.length;l++)o.prototype["get"+t(s[l])]=r(s[l]),o.prototype["set"+t(s[l])]=function(e){return function(t){this[e]=String(t)}}(s[l]);return o})?r.apply(t,n):r)||(e.exports=i)}(globalThis)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n={};!function(){"use strict";r.d(n,{default:function(){return fn}});var e=r(709),t=r.n(e);class i{constructor(e){this.delegate=e}send(e){var t=JSON.stringify(e);this.delegate.sendMessage(t)}sendRaw(e){this.delegate.sendMessage(e)}set onmessage(e){"function"==typeof e&&(this.delegate.onMessage=t=>{var r;try{r=JSON.parse(t),e(r)}catch(e){console.warn("[FATAL]: failed to parse ws payload",e)}})}}class s{constructor(e){this.delegate=e}suspend(){this.delegate.suspend()}resume(){this.delegate.resume()}}var a=Object.prototype.toString;function o(e){return a.call(e).slice(8,-1)}function u(e){return"Int8Array"===e||"Uint8Array"===e||"Uint8ClampedArray"===e||"Int16Array"===e||"Uint16Array"===e||"Int32Array"===e||"Uint32Array"===e||"Float32Array"===e||"Float64Array"===e}function c(e){return"Object"===o(e)}function l(e){return"ArrayBuffer"===o(e)}function h(e){return u(o(e))}function p(e){return"DataView"===o(e)}function d(e){return"Symbol"===o(e)}function f(e){return"Map"===o(e)}function g(e){return"Set"===o(e)}function m(e){return"RegExp"===o(e)}var v=Number.isNaN||(e=>e!=e),b=(Number.isFinite,e=>(e=>"Number"===o(e))(e)&&Math.abs(e)===1/0);function y(e){return"string"==typeof e||"number"==typeof e||"bigint"==typeof e||"boolean"==typeof e||void 0===e||"symbol"==typeof e}function x(e){for(var t=0,r=3735928559;t<e.length;t++)r=Math.imul(r^e.charCodeAt(t),2654435761);return(r^r>>>16)>>>0}function S(e=""){return e?((Number(e)^16*Math.random())>>Number(e)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,S)}class _{constructor(){this.handlers=[]}subscribe(e){this.handlers.push(e)}unsubscribe(e){this.handlers=this.handlers.filter((t=>t!==e))}publish(e){this.handlers.slice(0).forEach((t=>t(e)))}}class w{constructor(e,t,r){this.line=e,this.column=t,this.scriptId=r}}class C{constructor(e,t,r){this.line=void 0,this.column=void 0,this.scriptId=void 0,this.line=e,this.column=t,this.scriptId=r}}function k(e){var t,r="undefined";return void 0===e?r="undefined":null===e?r="null":"number"==typeof e?r=v(e)?"nan":b(e)?"infinity":"number":"boolean"==typeof e?r="boolean":"string"==typeof e?r="string":"function"==typeof e?r="function":(t=e,(Array.isArray&&"function"==typeof Array.isArray?Array.isArray(t):"Array"===o(t))?r="array":function(e){return"Date"===o(e)}(e)?r="date":c(e)?r="object":m(e)?r="regexp":l(e)?r="arraybuffer":h(e)?r=o(e):p(e)?r="dataview":d(e)?r="symbol":f(e)?r="map":g(e)?r="set":function(e){return"WeakMap"===o(e)}(e)?r="weakmap":function(e){return"WeakSet"===o(e)}(e)?r="weakset":(function(e){return"Math"===o(e)}(e)||function(e){return"JSON"===o(e)}(e)||"object"==typeof e)&&(r="object")),r}function E(e,t,r,n,i=!1){try{return I(e,t,r,n,i)}catch(e){return null}}function I(e,t,r,n,i=!1){var s,a,l,h,p="",f="",g="";"null"==t?(s="object",a="null",l=r):"undefined"===t?(s="undefined",l=r):"string"===t?(s="string",l=r):"number"===t?(s="number",l=r):"boolean"===t?(s="boolean",l=r):"function"===t?(s="function",p="Function",f="function"==typeof r&&r.__wrapped?r.toString():((e,t)=>{var r=e.toString(),n=t.getRawScriptGroup();if(n.length>0){var i=null;for(var s of n)s.rawScript.indexOf(r)>-1&&(i=s);if(!i)return"{}";try{var{line:a,column:o}=function(e,t){for(var r=e.split("\n"),n=t.split("\n"),i=0;i<r.length;){var s=r[i].indexOf(n[0]);if(s>-1){for(var a=1;a<n.length&&0===r[i+a].indexOf(n[a]);)a++;if(1===n.length)return{line:i,column:s};if(a===n.length)return{line:i,column:s}}i++}return{line:-1,column:-1}}(i.rawScript,r);if(-1===a||-1===o)return"{}";var u=i.consumer.originalPositionFor({line:a+1,column:o});if(u.source){var c=t.getScriptByName(u.source);for(var l of c.functions){var h=l.location[0],p=l.location[1];if(u.line===h&&u.column===p)return c.source.substring(l.start,l.end)}}}catch(e){return t.log("err:",e),"{}"}}return"{}"})(r,n),h=n.retainObjectGroup(e,r)):"nan"===t?(s="number",f="NaN",g="NaN"):"infinity"===t?(s="number",f="Infinity",g="Infinity"):"array"===t?(s="object",a="array",p="Array",f=`Array(${r.length})`,h=n.retainObjectGroup(e,r)):"date"===t?(s="object",a="date",l=r.toString()):"object"===t?(s="object",p="Object",f="Object",h=n.retainObjectGroup(e,r)):"regexp"===t?(s="object",a="regexp",p="RegExp",f=r.toString(),h=n.retainObjectGroup(e,r)):"arraybuffer"===t?(s="object",a="arraybuffer",p="ArrayBuffer",f=`ArrayBuffer(${r.byteLength})`,h=n.retainObjectGroup(e,r)):u(t)?(s="object",a="typedarray",p=t,f=`${t}(${r.length})`,h=n.retainObjectGroup(e,r)):"dataview"===t?(s="object",a="dataview",p="DataView",f=`DateView(${r.byteLength})`,h=n.retainObjectGroup(e,r)):"symbol"==t?(s="symbol",f=r.toString(),h=n.retainObjectGroup(e,r)):"map"===t?(s="object",a="map",p="Map",f=`Map(${r.size})`,h=n.retainObjectGroup(e,r)):"set"===t?(s="object",a="set",p="Set",f=`Set(${r.size})`,h=n.retainObjectGroup(e,r)):"weakset"===t?(s="object",a="weakset",p="WeakSet",f="WeakSet",h=n.retainObjectGroup(e,r)):"weakmap"===t&&(s="object",a="weakmap",p="WeakMap",f="WeakMap",h=n.retainObjectGroup(e,r));var m=null;if(i)if("Object"===p){var v=!1,b=O(r);b.length>5&&(v=!0);var x=[];for(var S of b.slice(0,5))if("__proto__"!==S){var _=r[S],w=k(_),C="";if(d(S)&&(S=S.toString()),y(_)){var E=I(e,w,_,n,!1);C=E.value||E.description||""}var A={name:S,type:w,value:C};x.push(A)}m={type:s,subtype:a,description:f,overflow:v,properties:x}}else if("Array"===p){var P=!1,T=r.length;T>100&&(P=!0);for(var N=[],R=0;R<Math.min(T,100);++R){var D=r[R],L=k(D),M="";if(y(D)){var F=I(e,L,D,n,!1);M=F.value||F.description||""}else if(c(D))M="Object";else if("Function"===o(D))M="";else{var j=I(e,L,D,n,!1);a=j.subtype,M=j.description||""}var V={name:String(R),type:L,value:M};a&&(V.subtype=a),N.push(V)}m={type:s,subtype:a,description:f,overflow:P,properties:N}}var B={type:s,subtype:a,value:l,className:p,description:f,objectId:h};return m&&(B.preview=m),g&&(B.unserializableValue=g),B}function A(e,t,r){return I(e,k(t),t,r)}function O(e){var t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e),n=function(e){return h(e)?["buffer","byteLength","byteOffset","length"]:l(e)?["byteLength",P,T,N,R]:p(e)?["buffer"]:f(e)||g(e)?["[[Entries]]","size"]:m(e)?["dotAll","flags","ignoreCase","multiline","source","sticky","unicode"]:c(e)?["__proto__"]:[]}(e);return t.concat(r).concat(n)}var P="[[Int8Array]]",T="[[Int16Array]]",N="[[Int32Array]]",R="[[Uint8Array]]";function D(e,t){return t.toString=()=>`${e}() { [native code] }`,Object.defineProperty(t,"name",{writable:!1,enumerable:!1,configurable:!1,value:e}),t}var L,M,F,j=r(20),V=r(635),B=r.n(V),H="https://servicewechat.com/",U=e=>`${H}${e}`,G=e=>e.replace(H,"");!function(e){e[e.Idle=0]="Idle",e[e.Running=1]="Running",e[e.Paused=2]="Paused"}(L||(L={})),function(e){e.PausedOnEntry="PausedOnEntry",e.Ambiguous="Ambiguous"}(M||(M={})),function(e){e.DebuggerStatement="debuggerStatement",e.Call="call",e.Return="return"}(F||(F={}));class W extends w{constructor(e,t,r){super(e,t),this.breakType=void 0,this.breakType=r}}class ${constructor(e="log",t,r){this.type=e,this.messages=t,this.location=r}}class q{constructor(e,t,r,n,i,s,a){this.scriptId=e,this.url=t,this.relativePath=r,this.startLocation=n,this.endLocation=i,this.contextId=s,this.hashedScript=a}}class J{constructor(e,t,r,n){this.scriptId=e,this.line=t,this.column=r,this.reason=n}}class z{}class Q{constructor(e,t,r,n){this.error=e,this.line=t,this.column=r,this.scriptId=n,this.id=Q.nextId++}}Q.nextId=0;class K{constructor(e,t){this.scriptId=e,this.url=t,this.id=void 0,this.name=void 0,this.evalFunction=void 0,this.evalInClosure=void 0,this.currentContext=void 0,this.metadata=void 0,this.callSite=void 0,this.interruptable=!1,this.currentDebuggerState=void 0,this.id=K.currentId++}}K.currentId=0;class X{constructor(e,t){this.type=e,this.value=t}}var Y,Z,ee,te="(function _eval(_$expr, _$nextFuncDecl) {\n  return [eval(_$expr), eval(_$nextFuncDecl)]\n}.bind(this))",re=["error"];class ne{constructor(e,r){this.thread=void 0,this.readFileSync=void 0,this.executionState=L.Idle,this.delegate=void 0,this.subContextGlobal=void 0,this.initialInject=!0,this.scriptsByScriptName={},this.scriptsByScriptId={},this.scriptByFunctionId=[],this.scriptByInterruptId=[],this.rawScriptGroup=[],this.retainedObjectPool=new Map,this.retainedObjectGroup=new Map,this.logEvent=new _,this.scriptParsedEvent=new _,this.pausedEvent=new _,this.resumedEvent=new _,this.contextCreatedEvent=new _,this.scriptExceptionEvent=new _,this.scriptReceivedEvent=new _,this.attachedPromise=void 0,this.resolveAttachedPromise=void 0,this.originalSubscribeHandler=void 0,this.bridgeBuffer=[],this.totalBreakpointCount=0,this.hasBreakpoints=!1,this.currentLine=0,this.currentColumn=0,this.currentScriptId=0,this.hasDebuggerStmt=!1,this.callFrames=[],this.metadataSplitted=!1,this.thread=e,this.readFileSync=r;var n=this,i=[];this.subContextGlobal={$dbg:{$:D("$",((e,r,s=-1)=>{var a,o=null===(a=i[s])||void 0===a?void 0:a[r];if(o)return o.bind(null,e);var u=this.metadataSplitted?this.scriptsByScriptId[s]:this.scriptByFunctionId[r],c=this.metadataSplitted?r:r-u.functionsRange[0],l=u.functions[c],h={scriptId:u.scriptId,url:`${H}${u.fileName}`,metadata:l,name:l.name,currentDebuggerState:Y.Normal},p=function(e,...r){var i=t()(t()({},h),{},{id:K.currentId++,currentContext:this,interruptable:l.interruptsRequested>0});n.callFrames.push(i),(n.hasBreakpoints||n.hasDebuggerStmt)&&n.delegate.handlePushCallFrame();try{return e.apply(this,r)}finally{(n.hasBreakpoints||n.hasDebuggerStmt)&&n.delegate.handlePopCallFrame(),n.callFrames.pop(),i.interruptable&&n.releaseObjectGroup(String(i.id))}};return Object.defineProperty(p,"name",{writable:!0,enumerable:!0,configurable:!0,value:l.name}),Object.defineProperty(p,"toString",{writable:!0,enumerable:!0,configurable:!0,value:function(){return l?u.source.substring(l.start,l.end):"{}"}}),p.__wrapped=!0,i[s]||(i[s]=[]),i[s][r]=p,p.bind(null,e)})),__:D("__",(e=>{this.setEvaluateForCallFrame(e)})),_:D("_",((e,t,r,i=0)=>{if(this.currentLine=t,this.currentColumn=r,this.currentScriptId=e,i&&this.setInterruptableForCurrentCallFrame(),(n.hasBreakpoints||n.hasDebuggerStmt)&&this.callFrames[this.callFrames.length-1].interruptable){1===this.callFrames.length&&(this.getCurrentCallFrame().scriptId=e);var s=this.delegate&&this.delegate.handleInterruptSignal(e,t,r);if(i||s){this.executionState=L.Paused;var a=new J(e,t,r,M.Ambiguous);this.pausedEvent.publish(a),this.thread.suspend()}}}))},BaseConsole:class{log(...e){n.logEvent.publish(new $("log",e,new w(n.currentLine,n.currentColumn,n.currentScriptId)))}warn(...e){n.logEvent.publish(new $("warning",e,new w(n.currentLine,n.currentColumn,n.currentScriptId)))}error(...e){n.logEvent.publish(new $("error",e,new w(n.currentLine,n.currentColumn,n.currentScriptId)))}info(...e){n.logEvent.publish(new $("info",e,new w(n.currentLine,n.currentColumn,n.currentScriptId)))}debug(...e){n.logEvent.publish(new $("debug",e,new w(n.currentLine,n.currentColumn,n.currentScriptId)))}group(...e){n.logEvent.publish(new $("group",e,new w(n.currentLine,n.currentColumn,n.currentScriptId)))}groupEnd(...e){n.logEvent.publish(new $("groupEnd",e,new w(n.currentLine,n.currentColumn,n.currentScriptId)))}}},this.attachedPromise=new Promise((e=>{this.resolveAttachedPromise=e,setTimeout((()=>{e()}),3e4)}))}setupConsole(e,t){var r=new t;re.forEach((t=>{var n=e[t];"function"==typeof e[t]&&(e[t]=function(){r[t].apply(r,arguments),n.apply(e,arguments)})}))}notifyEntryCreated(){var e=new K(0,"");e.name="global",e.interruptable=!0,this.callFrames.push(e),this.delegate&&this.delegate.handlePushCallFrame(),this.executionState=L.Running}getSubContextGlobals(){return this.subContextGlobal}startBufferBridgeMessages(){var e=(...e)=>{this.bridgeBuffer.push(e)},t=r.g;this.originalSubscribeHandler=t.WeixinJSBridge.subscribeHandler;try{Object.defineProperty(t.WeixinJSBridge,"subscribeHandler",{get:()=>e})}catch(e){}}dispatchBridgeMessages(){var e=r.g,t=this.originalSubscribeHandler;for(var n of(Object.defineProperty(e.WeixinJSBridge,"subscribeHandler",{get:()=>t}),this.bridgeBuffer))e.WeixinJSBridge.subscribeHandler(...n)}setRuntimeDelegate(e){this.delegate=e}launch(){this.resolveAttachedPromise&&this.resolveAttachedPromise()}runAfterAttached(e=(()=>{})){return this.attachedPromise.then((()=>{e()})).catch((e=>{}))}registerScript(e,t="",r=""){var n,i={},s="",a="";try{var o;if(o=t||(a=`${null!=e?e:""}__debug__/__jscore-debug__`)+".png",!r){var u="app-service.js.map";r=e?e+u:u}var c=e?e+"app-service.js":"app-service.js",l=this.readFileSync(o),h=this.readFileSync(r);s=this.readFileSync(c);try{n=JSON.parse(l)}catch(e){console.warn("[FATAL] failed to parse metadata")}try{i=JSON.parse(h)}catch(e){console.warn("[FATAL] failed to parse sourcemap")}}catch(e){console.warn("[FATAL] failed to regsiterScript",e)}n&&(n.fileList?(this.metadataSplitted=!0,this.internalRegisterScript(this.initialInject,n,i,s,a)):this.internalRegisterScriptOld(this.initialInject,n,i,s),this.initialInject=!1)}triggerLogEvent(e=[]){this.logEvent.publish(new $("log",e))}internalRegisterScriptOld(e,t,r,n){var i=new j.SourceMapConsumer(r),s=Object.keys(t.scriptFiles),a={rawScript:n,consumer:i};this.rawScriptGroup.push(a),s.forEach((e=>{var r="";try{r=i.sourceContentFor(e)}catch(e){console.warn("[FATAL] sourcemap error",e)}var n=t.scriptFiles[e];n.functions=n.functions.map((e=>{var r=t.functionMetadataKeys,n={};return r.forEach(((t,r)=>{n[t]=e[r]})),n.interruptsRequested=0,n})),n.fileName=e,n.source=r,n.consumer=i,n.rawScript=a,this.scriptsByScriptId[n.scriptId]=n,this.scriptsByScriptName[n.fileName]=n;for(var s=n.interruptsRange[0];s<=n.interruptsRange[1];++s)this.scriptByInterruptId[s]=n;for(var o=n.functionsRange[0];o<=n.functionsRange[1];++o)this.scriptByFunctionId[o]=n;this.scriptParsedEvent.publish(new q(n.scriptId,U(e),e,new w(1,0),new w(1,0),this.getContextId(),String(x(r))))})),e&&this.notifyEntryCreated(),this.hasDebuggerStmt=this.hasDebuggerStmt||t.hasDebuggerStmt}internalRegisterScript(e,t,r,n,i){var s=new j.SourceMapConsumer(r),a=t.fileList,o={rawScript:n,consumer:s};this.rawScriptGroup.push(o);var u=!1;a.forEach((e=>{var r="";try{r=s.sourceContentFor(e)}catch(e){console.warn("[FATAL] sourcemap error",e)}var n=void 0;try{var a=this.readFileSync(`${i}/${e}.png`);n=JSON.parse(a)}catch(t){console.warn("[FATAL] failed to parse metadata for",e)}n&&(n.functions=n.functions.map((e=>{var r=t.functionMetadataKeys,n={};return r.forEach(((t,r)=>{n[t]=e[r]})),n.interruptsRequested=0,n})),n.fileName=e,n.source=r,n.consumer=s,n.rawScript=o,this.scriptsByScriptId[n.scriptId]=n,this.scriptsByScriptName[n.fileName]=n,this.scriptParsedEvent.publish(new q(n.scriptId,U(e),e,new w(1,0),new w(1,0),this.getContextId(),String(x(r)))),u=n.hasDebuggerStmt)})),e&&this.notifyEntryCreated(),this.hasDebuggerStmt=this.hasDebuggerStmt||u}setEvaluateForCallFrame(e){var t=this.callFrames[this.callFrames.length-1];t?t.evalFunction=e:console.warn("[FATAL] invalid current call frame")}evaluateOnCallFrame(e,t=this.getCurrentCallFrame(),r=!1,n=!0){if(!t)return new X("undefined",void 0);var i=t.evalFunction;if(i){var s;r&&!t.evalInClosure&&(t.evalInClosure=i.call(t.currentContext,te));try{if(this.delegate&&this.delegate.willPerformEvaluate(e),r){var a=t.evalInClosure,[o,u]=a(e,te);t.evalInClosure=u,s=o}else s=i.call(t.currentContext,e)}catch(e){if(!n){var{line:c,column:l}=e;e.message=e.message,e.stack="",this.scriptExceptionEvent.publish(new Q(e,c,l))}return new X("undefined",void 0)}finally{this.delegate&&this.delegate.didPerformEvaluate()}var h=k(s);return new X(h,s)}return new X("undefined",void 0)}rawEvaluateOnCallFrame(e,t=this.getCurrentCallFrame()){if(!t)return new X("undefined",void 0);var r=t.evalFunction;if(r){var n;try{this.delegate&&this.delegate.willPerformEvaluate(e),n=r.call(t.currentContext,e)}catch(e){return new X("undefined",void 0)}finally{this.delegate&&this.delegate.didPerformEvaluate()}return n}return null}retainObjectGroup(e,t){var r=S();return this.retainedObjectPool.set(r,{group:e,reference:t}),this.retainedObjectGroup.has(e)||this.retainedObjectGroup.set(e,[]),this.retainedObjectGroup.get(e).push(r),r}releaseObjectGroup(e){var t=this.retainedObjectGroup.get(e);if(t){for(var r of t)this.retainedObjectPool.delete(r);this.retainedObjectGroup.delete(e)}}getRetainedObject(e){var t;return null===(t=this.retainedObjectPool.get(e))||void 0===t?void 0:t.reference}getRetainedObjectGroup(e){var t;return null===(t=this.retainedObjectPool.get(e))||void 0===t?void 0:t.group}resumeExecution(){this.thread.resume(),this.resumedEvent.publish(new z)}searchFunctionInLocation(e,t){var r=this.getScriptByScriptId(e).functions;for(var n of r){var i=n.location[0],s=n.location[1],a=n.location[2],o=n.location[3];if(i===a){if(t.line===i&&t.column>=s&&t.column<=o)return n}else{if(t.line===i&&t.column>=s)return n;if(t.line===a&&t.column<=a)return n;if(t.line>i&&t.line<a)return n}}return null}increaseInterruptForFunction(e){if(e)for(var t of(++e.interruptsRequested,++this.totalBreakpointCount,this.totalBreakpointCount>0&&(this.hasBreakpoints=!0),this.callFrames))t.metadata===e&&(t.interruptable=!0)}decreaseInterruptForFunction(e){e&&(--e.interruptsRequested,--this.totalBreakpointCount,this.totalBreakpointCount<=0&&(this.hasBreakpoints=!1))}getCallFrames(){return this.callFrames}getGlobalCallFrame(){return this.callFrames[0]}getCallFrameById(e){return this.callFrames.find((t=>t.id===e))}getCurrentCallFrame(){var e=this.callFrames[this.callFrames.length-1];return e||console.warn("[FATAL] invalid call frame"),e}setInterruptableForCurrentCallFrame(){var e=this.getCurrentCallFrame();e&&(e.interruptable=!0)}setInterruptableForPreviousCallFrame(){var e=this.callFrames[this.callFrames.length-2];e&&(e.interruptable=!0)}dispatchError(e){if(this.log("[ERROR]",e),"object"==typeof e&&void 0!==e.message&&void 0!==e.stack){var t,r=(e=>{var t=B().parse(e);if(t.length<=0)return null;var r=t[0];return{fileName:r.fileName,lineNumber:r.lineNumber,columnNumber:r.columnNumber}})(e);if(r){e.line=r.lineNumber||1,e.column=r.columnNumber||1;var n=this.getScriptByName(r.fileName||"");n&&(t=n.scriptId)}this.scriptExceptionEvent.publish(new Q(e,e.line,e.column,t))}else{var i=new Error;i.message=e,this.scriptExceptionEvent.publish(new Q(i,-1,-1))}}getThisObjectOnCurrentCallFrame(){var e=this.callFrames[this.callFrames.length-1];if(e&&e.evalFunction){var t=(0,e.evalFunction)("this");if("object"==typeof t)return t}return{}}getPossibleInterrupts(e,t,r){var n,i,s=null!==(n=null===(i=this.scriptsByScriptId[+e])||void 0===i?void 0:i.interrupts)&&void 0!==n?n:[],a=[];for(var o of s)o[0]===t.line&&a.push(new W(o[0],o[1],F.DebuggerStatement));return a}getExecutionState(){return this.executionState}getLogEvent(){return this.logEvent}getScriptParsedEvent(){return this.scriptParsedEvent}getPausedEvent(){return this.pausedEvent}getResumedEvent(){return this.resumedEvent}getContextCreatedEvent(){return this.contextCreatedEvent}getScriptExceptionEvent(){return this.scriptExceptionEvent}getScriptReceivedEvent(){return this.scriptReceivedEvent}getConsumer(e){var t;return null===(t=this.scriptsByScriptName[e])||void 0===t?void 0:t.consumer}getFunctionMetadata(e){return this.scriptsByScriptName[e].functions}getScriptByScriptId(e){return this.scriptsByScriptId[e]}getScriptByName(e){return this.scriptsByScriptName[e]}getScriptNames(){return Object.keys(this.scriptsByScriptName)}getScriptsWithScriptName(){return this.scriptsByScriptName}findFileByInterruptId(e){return Object.values(this.scriptsByScriptId).find((t=>e>=t.interruptsRange[0]&&e<=t.interruptsRange[1]))}findScriptByFunctionId(e){return Object.values(this.scriptsByScriptId).find((t=>e>=t.functionsRange[0]&&e<=t.functionsRange[1]))}findScriptById(e){return this.scriptsByScriptId[e]}getRawScriptGroup(){return this.rawScriptGroup}getContextId(){return 1}isInitialInject(){return this.initialInject}log(...e){this.logEvent.publish(new $("log",e))}}ne.globalScriptIndex=0;class ie{constructor(e,t,r,n){this.scriptId=e,this.line=t,this.column=r,this.condition=n}}!function(e){e[e.Normal=0]="Normal",e[e.StepOver=1]="StepOver",e[e.StepInto=2]="StepInto",e[e.StepOut=3]="StepOut",e[e.SkipAllPauses=4]="SkipAllPauses",e[e.ContinueToLocation=5]="ContinueToLocation"}(Y||(Y={}));class se{constructor(e){this.runtime=void 0,this.breakpoints=[],this.nextBreakpointId=0,this.pausedOnEntry=!1,this.debuggerState=Y.Normal,this.savedDebuggerState=Y.Normal,this.targetContinueLocation=null,this.breakpointActive=!0,this.runtime=e,this.runtime.setRuntimeDelegate(this)}setPausedOnEntry(e=!0){this.pausedOnEntry=e}didResetRuntimeState(){this.breakpoints=[],this.debuggerState=Y.Normal,this.savedDebuggerState=Y.Normal}handleInterruptSignal(e,t,r){if(this.pausedOnEntry)return this.pausedOnEntry=!1,!0;if(!this.breakpointActive)return!1;if(this.debuggerState===Y.SkipAllPauses)return!1;if(this.debuggerState===Y.StepOver)return this.debuggerState=Y.Normal,!0;if(this.debuggerState===Y.StepInto){var n=this.runtime.callFrames[this.runtime.callFrames.length-1];return n&&(n.currentDebuggerState=Y.Normal),this.debuggerState=Y.Normal,!0}for(var i of this.breakpoints)if(i&&i.scriptId===e&&t===i.line&&r===i.column)return!(i.condition&&!this.runtime.rawEvaluateOnCallFrame(i.condition));if(this.debuggerState===Y.ContinueToLocation){if(this.targetContinueLocation){if(this.targetContinueLocation.line===t)return this.targetContinueLocation=null,this.debuggerState=Y.Normal,!0}else console.warn("[FATAL] ContinueToLocation command without targetContinueLocation");return!1}return!1}handlePushCallFrame(){var e=this.runtime.callFrames[this.runtime.callFrames.length-2];e&&(e.currentDebuggerState=this.debuggerState),this.debuggerState===Y.StepOver&&(e&&(e.currentDebuggerState=Y.StepOver),this.debuggerState=Y.Normal),e&&e.currentDebuggerState===Y.StepInto&&(this.debuggerState=Y.StepOver,e&&(e.currentDebuggerState=Y.Normal),this.runtime.setInterruptableForCurrentCallFrame())}handlePopCallFrame(){var e=this.runtime.callFrames[this.runtime.callFrames.length-1];if(this.debuggerState!==Y.SkipAllPauses){e&&e.currentDebuggerState===Y.StepOut&&(this.debuggerState=Y.StepOver,e.currentDebuggerState=Y.Normal,this.runtime.setInterruptableForPreviousCallFrame()),this.debuggerState===Y.StepOver&&(e.currentDebuggerState=Y.Normal,this.runtime.setInterruptableForPreviousCallFrame());var t=this.runtime.callFrames[this.runtime.callFrames.length-2];t&&t.currentDebuggerState===Y.StepOver&&(this.debuggerState=Y.StepOver)}}willPerformEvaluate(){this.savedDebuggerState=this.debuggerState,this.debuggerState=Y.SkipAllPauses}didPerformEvaluate(){this.debuggerState=this.savedDebuggerState,this.savedDebuggerState=Y.Normal}setBreakPointByUrlWithCondition(e,t,r){var n=this.runtime.getPossibleInterrupts(e,t,new w(0,0)),i=t.column,s=n.reduce((function(e,t){return Math.abs(t.column-i)<Math.abs(e.column-i)?t:e})),a=this.breakpoints.findIndex((e=>e&&e.line===t.line&&e.column===t.column));if(a>-1)return{breakpointId:a,breakpoint:this.breakpoints[a]};var o=new ie(e,s.line,s.column,r),u=this.nextBreakpointId++;this.breakpoints[u]=o;var c=this.runtime.searchFunctionInLocation(e,t);return c?this.runtime.increaseInterruptForFunction(c):console.warn("[FATAL] functionIndex is not found"),{breakpointId:u,breakpoint:o}}removeBreakpoint(e){if(void 0!==e){var t=this.breakpoints[e];if(t&&t.scriptId){var r=this.runtime.searchFunctionInLocation(t.scriptId,new w(t.line,t.column));r&&this.runtime.decreaseInterruptForFunction(r)}this.breakpoints[e]=void 0}}resume(){this.debuggerState!==Y.SkipAllPauses&&(this.debuggerState=Y.Normal),this.runtime.resumeExecution()}setSkipAllPauses(){this.debuggerState=Y.SkipAllPauses,setTimeout((()=>{this.debuggerState=Y.Normal}),0)}stepOver(){this.runtime.getExecutionState()===L.Paused&&(this.debuggerState=Y.StepOver,this.runtime.resumeExecution())}stepInto(){this.runtime.getExecutionState()===L.Paused&&(this.runtime.callFrames[this.runtime.callFrames.length-1].currentDebuggerState=Y.StepInto,this.debuggerState=Y.StepInto,this.runtime.resumeExecution())}stepOut(){this.runtime.getExecutionState()===L.Paused&&(this.runtime.getCallFrames().length>1?(this.runtime.callFrames[this.runtime.callFrames.length-1].currentDebuggerState=Y.StepOut,this.debuggerState=Y.StepOut):this.debuggerState=Y.SkipAllPauses,this.runtime.resumeExecution())}continueToLocation(e,t,r){if(!(t<0||r&&r<0)&&this.runtime.getExecutionState()===L.Paused){this.debuggerState=Y.ContinueToLocation,this.targetContinueLocation=new C(t,r);var n=new w("number"==typeof t?t:-1,"number"==typeof r?r:-1),i=this.runtime.searchFunctionInLocation(e,n);i&&this.runtime.increaseInterruptForFunction(i),this.runtime.resumeExecution()}}setBreakpointActive(e){this.breakpointActive=e}}class ae{constructor(e){this.ws=e}respond(e,t={}){var r={id:e,result:t};this.ws.send(r)}respondWithTag(e,t,r={}){var n={id:t,result:r};this.ws.sendRaw(e+"_"+JSON.stringify(n))}fireEvent(e,t={}){var r={method:e,params:t};this.ws.send(r)}fireEventWithTag(e,t,r={}){var n={method:t,params:r};this.ws.sendRaw(e+"_"+JSON.stringify(n))}}class oe{constructor(e,t,r,n,i,s){this.pageInspector=t,this.runtimeInspector=r,this.debugerInspector=n,this.profilerInspector=i,this.fallbackInspector=s,this.ws=void 0,this.ws=e}dispatch(){this.ws.onmessage=e=>{var t=e.method;t.startsWith("Page")?this.pageInspector.handle(e):t.startsWith("Debugger")?this.debugerInspector.handle(e):t.startsWith("Runtime")?this.runtimeInspector.handle(e):t.startsWith("Profiler")?this.profilerInspector.handle(e):this.fallbackInspector.handle(e)}}}class ue extends ae{constructor(e,t){super(e),this.runtime=void 0,this.runtimeHandlers=void 0,this.runtime=t,this.runtimeHandlers={"Runtime.enable":this.handleEnableCommand,"Runtime.getIsolateId":this.handleGetIsolateId,"Runtime.runIfWaitingForDebugger":this.handleRunIfWaitingForDebugger,"Runtime.getProperties":this.handleGetProperties,"Runtime.releaseObjectGroup":this.handleReleaseObjectGroup,"Runtime.compileScript":this.handleCompileScript,"Runtime.evaluate":this.handleEvaluate},this.runtime.getLogEvent().subscribe((e=>{this.onConsoleOutput(e.type,e.messages,e.location)})),this.runtime.getScriptExceptionEvent().subscribe((e=>{this.onExceptionThrown(e.id,e.error.message,e.line,e.column,e.error.stack||"",e.scriptId)}))}onConsoleOutput(e,t,r){var n=t.map((e=>I("console",k(e),e,this.runtime,!0))),i=this.runtime.getContextId(),s=this.runtime.getCurrentCallFrame(),a=[];if(s){var o={functionName:s.name||"",scriptId:r?String(r.scriptId):"",url:"https://servicewechat.com",lineNumber:r?r.line-1:0,columnNumber:r?r.column:0};a.push(o)}var u={type:e,args:n,executionContextId:i,timestamp:Date.now(),stackTrace:{callFrames:a}};this.fireEvent("Runtime.consoleAPICalled",u)}onExceptionThrown(e,t,r,n,i,s){var a={exceptionId:e,text:t+"\n"+i,lineNumber:1,columnNumber:1};void 0!==s&&Object.assign(a,{lineNumber:r-1,columnNumber:n,scriptId:s.toString()});var o={timestamp:Date.now(),exceptionDetails:a};this.fireEvent("Runtime.exceptionThrown",o)}handle(e){var t=this.runtimeHandlers[e.method];t?t.call(this,e.id,e.params):this.respond(e.id)}handleEnableCommand(e){this.fireExecutionContextCreatedEvent(),this.respond(e)}handleGetIsolateId(e){this.respond(e,{id:"0"})}handleRunIfWaitingForDebugger(e){this.respond(e),this.runtime.launch()}handleGetProperties(e,t){var r,n,i,s,a=[],o={result:a},{objectId:u}=t;if(u){var c=this.runtime.getRetainedObject(u),h=this.runtime.getRetainedObjectGroup(u),p=l(c),m=f(c),v=g(c);try{var b=O(c);for(var y of b){var x=void 0;if(p&&y.startsWith("[[")&&y.endsWith("]]"))try{i=c,x=(s=y)===P?new Int8Array(i):s===T?new Int16Array(i):s===N?new Int32Array(i):s===R?new Uint8Array(i):void 0}catch(e){continue}else m&&"[[Entries]]"===y?(n=c,x=Array.from(n.entries())):(m||v)&&"[[Entries]]"===y?(r=c,x=Array.from(r.values())):d(y)?(x=c[y],y=y.toString()):x=c[y];var S=E(h,k(x),x,this.runtime);if(S){var _={name:y,value:S,configurable:!1,enumerable:!1};a.push(_)}}}catch(e){}this.respond(e,o)}}handleReleaseObjectGroup(e,t){var r=t.objectGroup;this.runtime.releaseObjectGroup(r),this.respond(e,{})}handleCompileScript(e){this.respond(e,{})}handleEvaluate(e,t){var r=this.runtime.getGlobalCallFrame(),n="console"===t.objectGroup,i=this.runtime.evaluateOnCallFrame(t.expression,r,n),s={result:I(t.objectGroup||"default",i.type,i.value,this.runtime,t.generatePreview)};this.respond(e,s)}fireExecutionContextCreatedEvent(){var e={context:{id:this.runtime.getContextId(),origin:"",name:"sub_context"}};this.fireEvent("Runtime.executionContextCreated",e)}}class ce extends ae{constructor(e,t){super(e),this.runtime=void 0,this.pageCommandHandlers=void 0,this.runtime=t,this.pageCommandHandlers={"Page.enable":this.handleEnableCommand,"Page.getResourceTree":this.handleGetResourceTreeCommand}}handle(e){var t=this.pageCommandHandlers[e.method];t?t.call(this,e.id,e.params):this.respond(e.id)}handleEnableCommand(e,t){this.respond(e,{})}handleGetResourceTreeCommand(e,t){this.respond(e,{frameTree:{frame:{id:"0",loaderId:"0",name:"test",url:"https://debugger.io/app.js",securityOrigin:"://",mimeType:"text/javascript"},resources:[{url:"https://debugger.io/app.js",type:"Script",mimeType:"text/javascript"}]}})}}class le extends ae{constructor(e){super(e),this.profilerCommandHandlers=void 0,this.profilerCommandHandlers={"Profiler.enable":this.handleEnableCommand}}handle(e){var t=this.profilerCommandHandlers[e.method];t?t.call(this,e.id,e.params):this.respond(e.id)}handleEnableCommand(e){this.respond(e)}}class he extends ae{constructor(e,t,r){super(e),this.runtime=void 0,this.debugger=void 0,this.debuggerHandlers=void 0,this.sourcePathMap={},this.runtime=t,this.debugger=r,this.debuggerHandlers={"Debugger.enable":this.handleEnableCommand,"Debugger.setPauseOnExceptions":this.handleSetPauseOnExceptions,"Debugger.setAsyncCallStackDepth":this.handleSetAsyncCallStackDepth,"Debugger.setBlackboxPatterns":this.handleSetBlackboxPatterns,"Debugger.getScriptSource":this.handleGetScriptSourceCommand,"Debugger.stepOver":this.handleStepOverCommand,"Debugger.stepInto":this.handleStepIntoCommand,"Debugger.stepOut":this.handleStepOutCommand,"Debugger.resume":this.handleResumeCommand,"Debugger.setSkipAllPauses":this.handleSetSkipAllPauses,"Debugger.continueToLocation":this.handleContinueToLocation,"Debugger.getPossibleBreakpoints":this.handleGetPossibleBreakpoints,"Debugger.setBreakpointByUrl":this.handleSetBreakpointByUrl,"Debugger.removeBreakpoint":this.handleRemoveBreakpoint,"Debugger.evaluateOnCallFrame":this.handleEvaluateOnCallFrame,"Debugger.setBreakpointsActive":this.handleSetBreakpointActive},this.runtime.getScriptParsedEvent().subscribe((e=>{this.fireSourceParsedEvent(e.scriptId,e.url,e.relativePath,e.startLocation,e.endLocation,e.contextId,e.hashedScript)})),this.runtime.getPausedEvent().subscribe((e=>{this.firePausedEvent(e.scriptId,e.line,e.column,e.reason)})),this.runtime.getResumedEvent().subscribe((()=>{this.fireResumedEvent()}))}handle(e){var t=e.id,r=e.method,n=e.params,i=this.debuggerHandlers[r];i?i.call(this,t,n):this.respond(t)}handleEnableCommand(e,t){this.respond(e,{debuggerId:"0"})}handleSetPauseOnExceptions(e,t){this.respond(e)}handleSetAsyncCallStackDepth(e,t){this.respond(e)}handleSetBlackboxPatterns(e,t){this.respond(e)}handleGetScriptSourceCommand(e,t){this.respond(e,{scriptSource:this.runtime.getScriptByScriptId(+t.scriptId).source})}handleResumeCommand(e){this.debugger.resume(),this.respond(e)}handleSetSkipAllPauses(e){this.debugger.setSkipAllPauses(),this.respond(e)}handleStepOverCommand(e){this.debugger.stepOver(),this.respond(e)}handleStepIntoCommand(e){this.debugger.stepInto(),this.respond(e)}handleStepOutCommand(e){this.debugger.stepOut(),this.respond(e)}handleContinueToLocation(e,t){var r=t.location;r.lineNumber&&this.debugger.continueToLocation(+r.scriptId,r.lineNumber+1,r.columnNumber),this.respond(e)}handleGetPossibleBreakpoints(e,t){var r=t.start.lineNumber||0,n=t.start.columnNumber||0,i=t.end?t.end.lineNumber:0,s=t.end&&t.end.columnNumber?t.end.columnNumber:0,a=t.start.scriptId,o=new w(r+1,n),u=new w(i+1,s),c=this.runtime.getPossibleInterrupts(+a,o,u),l=[];for(var h of c){var p={scriptId:a,lineNumber:h.line-1,columnNumber:h.column,type:h.breakType};l.push(p)}var d={locations:l};this.respond(e,d)}handleSetBreakpointByUrl(e,t){var r=t.lineNumber,n=t.columnNumber||0,i=t.condition,s=t.url||"",a=t.urlRegex||"",o=null;if(s)o=this.runtime.getScriptByName(G(s));else if(a){var u=new RegExp(a);for(var c of this.runtime.getScriptNames())if(u.test(U(c))){o=this.runtime.getScriptsWithScriptName()[c];break}}if(o){var l=new w(r+1,n),{breakpointId:h,breakpoint:p}=this.debugger.setBreakPointByUrlWithCondition(o.scriptId,l,i),d={scriptId:p.scriptId.toString(),lineNumber:p.line-1,columnNumber:p.column},f={breakpointId:h.toString(),locations:[d]};this.respond(e,f)}}handleRemoveBreakpoint(e,t){var r=t.breakpointId;this.debugger.removeBreakpoint(parseInt(r,10)),this.respond(e)}handleEvaluateOnCallFrame(e,t){var r,n=t.callFrameId,i=this.runtime.getCallFrameById(parseInt(n,10)),s="console"===t.objectGroup,a=this.runtime.evaluateOnCallFrame(t.expression,i,s,null===(r=t.silent)||void 0===r||r),o={result:I(t.objectGroup||"default",a.type,a.value,this.runtime,t.generatePreview)};this.respond(e,o)}handleSetBreakpointActive(e,t){var r=t.active;this.debugger.setBreakpointActive(r),this.respond(e)}fireSourceParsedEvent(e,t,r,n,i,s,a){var o={url:t,scriptId:e.toString(),startLine:n.line-1,startColumn:n.column,endLine:i.line,endColumn:n.column,executionContextId:s,hash:a,isLiveEdit:!1,hasSourceURL:!1,isModule:!1,executionContextAuxData:{isDefault:!0},relativePath:G(t),sourceMapURL:""};this.sourcePathMap[e.toString()]=G(t),this.fireEventWithTag("asm","Debugger.scriptParsed",o)}firePausedEvent(e,t,r,n){for(var i=[],s=this.runtime.getCallFrames().length-1;s>=0;s--){var a=this.runtime.getCallFrames()[s],o=a.callSite,u=void 0!==o?o.line-1:t-1,c=void 0!==o?o.column:r,l={scriptId:a.scriptId.toString(),lineNumber:u,columnNumber:c},h={type:"object",className:"Object",value:a,description:"global"},p=[];if(a.metadata){for(var d={},f=0,g=a.metadata.scopeBindings.length;f<g;++f){var m=a.metadata.scopeBindings[f],v=this.runtime.rawEvaluateOnCallFrame(m,a);d[m]=v}var b={type:"local",object:A(String(a.id),d,this.runtime),name:a.name};p.push(b)}var y=null;a.metadata&&(y={lineNumber:a.metadata.location[0]-1,columnNumber:a.metadata.location[1],scriptId:a.scriptId.toString()});var x={callFrameId:String(a.id),functionName:a.name,location:l,url:a.url,scopeChain:p,this:h};y&&(x.functionLocation=y),i.push(x)}var S={callFrames:i,reason:"ambiguous"};this.fireEvent("Debugger.paused",S)}fireResumedEvent(){this.fireEvent("Debugger.resumed")}}class pe extends ae{constructor(e){super(e)}handle(e){var t=e.id;this.respond(t)}}function de(e){if(!e)return"text/plain";for(var t=["Content-Type","content-type","Content-type","content-Type"],r=0;r<t.length;r++){var n=t[r];if("string"==typeof e[n])return e[n].split(";")[0]}return"text/plain"}var fe,ge,me,ve,be,ye,xe,Se,_e,we,Ce,ke={request:1,download:2,upload:3,socket:4},Ee=0,Ie=0,Ae=0,Oe=0,Pe={request:{},download:{},upload:{},socket:{}},Te={request:{},download:{},upload:{},socket:{}},Ne={request:{},download:{},upload:{},socket:{}};function Re(e){return JSON.parse(JSON.stringify(e))}function De(e){return __wxConfig.wmpfDirectInvokeJs?e:JSON.parse(e)||{}}function Le(e,t){var r=(t||"").toLowerCase(),n=Ne[r]||{},i=Pe[r];return n[e]&&i?function(e,t){var r=(t||"").toLowerCase(),n=Pe[r];if(!n)return null;for(var i=Object.keys(n),s=0;s<i.length;s++){var a=i[s];if(n[a].id===e)return n[a]}return null}(n[e],r):null}class Me{constructor(e){this.messager=void 0,this.messager=e,this._init()}_init(){var e=this.messager.getInstance();e.onReceiveNetworkHeader=this.onReceiveNetworkHeader.bind(this),e.registerCallback(this.onReceiveDevtoolsMessage.bind(this))}onReceiveNetworkHeader(e){try{var r=JSON.parse(e);if(!r.task_id||!r.api_name||!r.request_headers)return;r.api_name=r.api_name.toLowerCase();var n=r.api_name,i=r.task_id,s=`${ke[n]}.${i}`,a=Te[n],o=JSON.parse(r.request_headers);a[s]=t()(t()({},a[s]||{}),{},{requestHeaders:o,requestTimestamp:r.timestamp||Date.now()});var{info:u}=Le(i,r.api_name)||{info:{}},c={method:"Network.requestWillBeSent",params:{requestId:s,documentURL:o.Referer||o.referer,request:{url:u.url,method:u.method,postData:u.data,headers:o},timestamp:(a[s].requestTimestamp||Date.now())/1e3,type:"XHR"}};this.messager.sendToDevtools("__networkDebug",c)}catch(e){console.error(e)}}onReceiveDevtoolsMessage(e,t){if("__getNetworkResponseBody"===e)try{var r=JSON.parse(t),{id:n,api:i,devtoolsMsgId:s}=r,a=Le(n,i)||{};a.data&&this.messager.sendToDevtools("__networkDebug",{id:s,result:{body:a.data,base64Encoded:!1}})}catch(e){console.error(e)}if("__resetNetworkCache"===e)for(var o=Object.keys(Pe),u=0;u<o.length;u++)for(var c=o[u],l=Pe[c],h=Object.keys(l),p=0;p<h.length;p++){var d=l[h[p]];"success"!==d.state&&"fail"!==d.state||(d.data=void 0,d.info=void 0,d.responseHeaders=void 0)}}invokeNetworkMethods(e,t,r){this._invokeRequestTask(e,t,r),this._invokeDownloadTask(e,t,r),this._invokeUploadTask(e,t,r),this._invokeSocketTask(e,t,r)}_invokeRequestTask(e,t,r){if("createRequestTask"===t||"createRequestTaskAsync"===t){var n=De(r),i=++Ee;return Pe.request[e]={id:String(i),api:"request",info:{url:n.url,method:n.method||"GET",data:n.data||n.formData||void 0},state:"requestSent",data:null},JSON.stringify({errMsg:`${t}:ok`,requestTaskId:String(i)})}}_invokeDownloadTask(e,t,r){if("createDownloadTask"===t||"createDownloadTaskAsync"===t){var n=++Ie,i=De(r);return Pe.download[e]={id:String(n),api:"download",info:{url:i.url,method:i.method||"GET",data:i.data||i.formData||void 0},state:"requestSent",data:null},JSON.stringify({errMsg:`${t}:ok`,downloadTaskId:String(n)})}}_invokeUploadTask(e,t,r){if("createUploadTask"===t||"createUploadTaskAsync"===t){var n=++Ae,i=De(r);return Pe.upload[e]={id:String(n),api:"upload",info:{url:i.url,method:i.method||"POST",data:i.data||i.formData||void 0},state:"requestSent",data:null},JSON.stringify({errMsg:`${t}:ok`,uploadTaskId:String(n)})}}_invokeSocketTask(e,t,r){if("createSocketTask"===t||"createSocketTaskAsync"===t){var n=++Oe,i=De(r);return Pe.socket[e]={id:String(n),api:"socket",info:{url:i.url,data:i.data||i.formData||void 0},state:"requestSent",data:""},JSON.stringify({errMsg:`${t}:ok`,socketTaskId:String(n)})}}invokeCallbackNetworkMethods(e,t){Pe.request[e]&&t.requestTaskId&&(Ne.request[t.requestTaskId]=Pe.request[e].id),Pe.download[e]&&t.downloadTaskId&&(Ne.download[t.downloadTaskId]=Pe.download[e].id),Pe.upload[e]&&t.uploadTaskId&&(Ne.upload[t.uploadTaskId]=Pe.upload[e].id),Pe.socket[e]&&t.socketTaskId&&(Ne.socket[t.socketTaskId]=Pe.socket[e].id)}onRequestTaskStateChange(e){var t=e[1]||{},r=(e[3]||{}).nativeTime||Date.now(),n=Le(t.requestTaskId,"request");if(n)if("headersReceived"===t.state){n.responseHeaders=Re(t.header),n.state="headersReceived";var i={id:t.requestTaskId,api:"request",responseHeaders:t.header,state:"headersReceived"};this.sendNetworkDebug(i,r)}else if("success"===t.state){n.state="success",n.data=t.data,n.statusCode=t.statusCode,n.statusText=t.statusText;var s={id:t.requestTaskId,state:"success",api:"request",statusCode:t.statusCode,statusText:t.statusText,dataLength:(t.data||"").length};this.sendNetworkDebug(s,r)}else if("fail"===t.state){n.state="fail",n.statusCode=n.statusCode||t.statusCode;var a={id:t.requestTaskId,api:"request",state:"fail"};this.sendNetworkDebug(a,r)}}onDownloadTaskStateChange(e){var t=e[1]||{},r=(e[3]||{}).nativeTime||Date.now(),n=Le(t.downloadTaskId,"download");if(n)if("headersReceived"===t.state){n.responseHeaders=Re(t.header),n.state="headersReceived";var i={id:t.downloadTaskId,api:"download",responseHeaders:t.header,state:"headersReceived"};this.sendNetworkDebug(i,r)}else if("progressUpdate"===t.state){n.state="dataReceived",n.dataLength=t.totalBytesWritten;var s={id:t.downloadTaskId,state:"dataReceived",dataLength:t.totalBytesWritten,api:"download"};this.sendNetworkDebug(s,r)}else if("success"===t.state){n.state="success","number"==typeof n.dataLength?n.data=`Saved ${n.dataLength} Bytes at "${t.tempFilePath}"`:n.data=`Saved at ${t.tempFilePath}`,n.statusCode=t.statusCode,n.statusText=t.statusText;var a={id:t.downloadTaskId,state:"success",api:"download",statusCode:t.statusCode,statusText:t.statusText};this.sendNetworkDebug(a,r)}else if("fail"===t.state){n.state="fail",n.statusCode=n.statusCode||t.statusCode;var o={id:t.downloadTaskId,api:"download",state:"fail"};this.sendNetworkDebug(o,r)}}onUploadTaskStateChange(e){var t=e[1]||{},r=(e[3]||{}).nativeTime||Date.now(),n=Le(t.uploadTaskId,"upload");if(n)if("headersReceived"===t.state){n.responseHeaders=Re(t.header),n.state="headersReceived";var i={id:t.uploadTaskId,api:"upload",responseHeaders:t.header,state:"headersReceived"};this.sendNetworkDebug(i,r)}else if("progressUpdate"===t.state){n.state="dataSent",n.dataLength=t.totalBytesSent;var s={id:t.uploadTaskId,state:"dataSent",dataLength:t.totalBytesSent,api:"upload"};this.sendNetworkDebug(s,r)}else if("success"===t.state){n.state="success",n.data=t.data,n.statusCode=t.statusCode,n.statusText=t.statusText;var a={id:t.uploadTaskId,state:"success",api:"upload",statusCode:t.statusCode,statusText:t.statusText,dataLength:(t.data||"").length};this.sendNetworkDebug(a,r)}else if("fail"===t.state){n.state="fail",n.statusCode=n.statusCode||t.statusCode;var o={id:t.uploadTaskId,api:"upload",state:"fail"};this.sendNetworkDebug(o,r)}}onSocketTaskStateChange(e){var t=e[1]||{},r=(e[3]||{}).nativeTime||Date.now(),n=Le(t.socketTaskId,"socket");if(n)if("open"===t.state){n.responseHeaders=Re(t.header),n.state="headersReceived";var i={id:t.socketTaskId,api:"socket",responseHeaders:t.header,state:"headersReceived",websocketState:"open"};this.sendNetworkDebug(i,r)}else if("close"===t.state){n.state="success",n.statusCode=t.statusCode,n.statusText=t.statusText;var s={id:t.socketTaskId,state:"success",api:"socket",statusCode:t.statusCode,statusText:t.statusText,websocketState:"close"};this.sendNetworkDebug(s,r)}else if("error"===t.state){n.state="fail",n.statusCode=n.statusCode||t.statusCode;var a={id:t.socketTaskId,api:"socket",websocketState:"error",state:"fail"};this.sendNetworkDebug(a,r)}}sendNetworkDebug(e,t){var{state:r,api:n}=e,i=`${ke[n]}.${e.id}`,s=Te[n];s[i]&&("headersReceived"===r?this._netWorkDebugHeadersReceived(i,s,e,t):"dataReceived"===r?this._netWorkDebugDataReceived(i,s,e,t):"dataSent"===r?this._netWorkDebugDataSent(i,s,e,t):"success"===r?this._netWorkDebugSuccess(i,s,e,t):"fail"===r&&this._netWorkDebugFail(i,s,e,t))}_netWorkDebugHeadersReceived(e,r,n,i){if(r[e]=t()(t()({},r[e]||{}),{},{sate:n.state,responseHeaders:n.responseHeaders,responseReceivedTimestamp:i||Date.now()}),"open"===n.websocketState){var s={method:"Network.responseReceived",params:{requestId:e,timestamp:(r[e].responseReceivedTimestamp||Date.now())/1e3,type:"XHR",response:{url:r[e].url,mimeType:de(r[e].responseHeaders),status:r[e].statusCode||101,statusText:r[e].statusText||"Switching Protocols",headers:r[e].responseHeaders,connectionId:e,timing:{requestTime:(i||Date.now())/1e3,proxyStart:-1,proxyEnd:-1,dnsStart:-1,dnsEnd:-1,connectStart:-1,connectEnd:-1,sslStart:-1,sslEnd:-1,workerStart:-1,workerReady:-1,sendStart:-1,sendEnd:-1,pushStart:0,pushEnd:0,receiveHeadersEnd:(r[e].responseReceivedTimestamp||0)-(i||Date.now())||-1},protocol:"HTTP/1.1"}}};this.messager.sendToDevtools("__networkDebug",s)}}_netWorkDebugDataReceived(e,r,n,i){var s=r[e].datasReceived||[],a={dataLength:n.dataLength,timestamp:i||Date.now()};s.push(a),r[e]=t()(t()({},r[e]||{}),{},{state:n.state,datasReceived:s,dataLength:n.dataLength});var o={method:"Network.dataReceived",params:{requestId:e,timestamp:a.timestamp/1e3,dataLength:n.dataLength,encodedDataLength:n.dataLength}};this.messager.sendToDevtools("__networkDebug",o)}_netWorkDebugDataSent(e,r,n,i){var s=r[e].datasSent||[],a={dataLength:n.dataLength,timestamp:i||Date.now()};s.push(a),r[e]=t()(t()({},r[e]||{}),{},{state:n.state,datasSent:s,dataSentLength:n.dataLength})}_netWorkDebugSuccess(e,r,n,i){r[e]=t()(t()({},r[e]||{}),{},{state:n.state,statusCode:n.statusCode,statusText:n.statusText,finishedTimestamp:i||Date.now(),dataLength:n.dataLength||r[e].dataLength});var s=r[e].datasSent||[],a=-1,o=-1;s.length>0&&(a=0,o=(r[e].requestTimestamp||0)-(s[s.length-1].timestamp||0));var u={method:"Network.responseReceived",params:{requestId:e,timestamp:(r[e].responseReceivedTimestamp||Date.now())/1e3,type:"XHR",response:{url:r[e].url,status:r[e].statusCode,statusText:r[e].statusText||"",headers:r[e].responseHeaders,mimeType:de(r[e].responseHeaders),connectionId:e,timing:{requestTime:(r[e].requestTimestamp||Date.now())/1e3,proxyStart:-1,proxyEnd:-1,dnsStart:-1,dnsEnd:-1,connectStart:-1,connectEnd:-1,sslStart:-1,sslEnd:-1,workerStart:-1,workerReady:-1,sendStart:a,sendEnd:o,pushStart:0,pushEnd:0,receiveHeadersEnd:(r[e].responseReceivedTimestamp||0)-(i||Date.now())||-1},protocol:"HTTP/1.1"}}},c={method:"Network.loadingFinished",params:{requestId:e,timestamp:(r[e].finishedTimestamp||Date.now())/1e3,dataLength:r[e].dataLength,encodedDataLength:r[e].dataLength}};"close"!==n.websocketState&&this.messager.sendToDevtools("__networkDebug",u),this.messager.sendToDevtools("__networkDebug",c)}_netWorkDebugFail(e,r,n,i){r[e]=t()(t()({},r[e]||{}),{},{state:n.state,finishedTimestamp:i||Date.now()});var s={method:"Network.loadingFailed",params:{requestId:e,timestamp:(r[e].finishedTimestamp||Date.now())/1e3,type:"XHR",errorText:"request failed",canceled:!1}};this.messager.sendToDevtools("__networkDebug",s)}}function Fe(){return{__appServiceSDK__:be,__appServiceEngine__:ve,exparser:ye,Reporter:xe,wx:me,_getCurrentPages:fe,_invokeWebviewMethod:ge}}function je(e){Se=e.$eval,_e=e.setGlobalFunctions,r.g.$$autoDebug={$eval:Se,setSubContextGlobalFunctions:_e}}var Ve,Be,He,Ue=()=>{};class Ge{constructor(e){this.messager=void 0,this.__savedWebviewIds=new Set,this._handleSetWxAppDatas=e=>{var t=this.getCurrentPagesFn()(),r=this.getInvokeWebviewMethodFn();if(Array.isArray(t)&&t.length>0&&t.every((e=>"number"==typeof(e||{}).__wxWebviewId__))){var n={};t.forEach((e=>{n[e.__route__||e.route]=e})),Object.keys(e).forEach((t=>{var i=e[t],s=i.__webviewId__;n[t]&&"function"==typeof n[t].setData?n[t].setData(i):"function"==typeof r&&r("appDataChange",i,[s])}))}},this.messager=e,this._init()}_init(){this.messager.getInstance().registerCallback(this.onReceiveDevtoolsMessage.bind(this))}onReceiveDevtoolsMessage(e,t){if("__setAppData"===e){var r=JSON.parse(t);this._handleSetWxAppDatas(r)}else"__getAppData"===e&&this._handleGetWxAppDatas()}getCurrentPagesFn(){var{_getCurrentPages:e}=Fe();return"function"==typeof e?e:Ue}getInvokeWebviewMethodFn(){var{_invokeWebviewMethod:e}=Fe();return e}onAppRouteDone(){var e=this.getCurrentPagesFn()();if(Array.isArray(e)&&e.length>0&&e.every((e=>"number"==typeof(e||{}).__wxWebviewId__))){e.forEach((e=>{this.__savedWebviewIds.add(e.__wxWebviewId__)}));var t={currentWebviewId:e[e.length-1].__wxWebviewId__,webviewIds:Array.from(this.__savedWebviewIds)};this.messager.sendToDevtools("__wxpagesinfo",t)}}onAppRoute(e){var t=e[1]||{};if("navigateBack"===t.openType){var r=e[2];this.__savedWebviewIds.clear(),this.__savedWebviewIds.add(r),this.updateAppData()}else"reLaunch"===t.openType||"autoReLaunch"===t.openType||"redirectTo"===t.openType||"appLaunch"===t.openType?(this.__savedWebviewIds.clear(),this.updateAppData()):"switchTab"!==t.openType&&"navigateTo"!==t.openType||this.updateAppData()}onAppRouteResized(){setTimeout((()=>{this.onAppRouteDone(),this.updateAppData()}),0)}updateAppData(){Ce&&clearTimeout(Ce),Ce=setTimeout(this._handleGetWxAppDatas.bind(this),200)}_handleGetWxAppDatas(){Ce&&clearTimeout(Ce),Ce=void 0;var e=this.getCurrentPagesFn()();if(Array.isArray(e)&&e.length>0&&e.every((e=>"number"==typeof(e||{}).__wxWebviewId__))){for(var r={},n=0;n<e.length;n++){var i=e[n];i&&(i.__route__||i.route)&&(r[i.__route__||i.route]=t()(t()({},i.data||{}),{},{__webviewId__:i.__wxWebviewId__}))}this.messager.sendToDevtools("__wxappdatas",r)}}}class We{constructor(e){this.messagerImpl=void 0,this.messagerImpl=e}sendToDevtools(e,t){var r;this.messagerImpl&&("string"!=typeof t&&(t=JSON.stringify(t)),null===(r=this.messagerImpl)||void 0===r||r.sendCustomMessage(e,t))}registerCallback(e){var t;this.messagerImpl&&(null===(t=this.messagerImpl)||void 0===t||t.registerCallback(e))}getInstance(){return this.messagerImpl}}class $e{constructor(e,t,r,n,i){this.networkDebugger=void 0,this.wxmlDebugger=void 0,this.storageDebugger=void 0,this._subscribeHandler=(e,...t)=>{switch(t[0]){case"onRequestTaskStateChange":var r;null!==(r=t[1])&&void 0!==r&&r.requestTaskId&&this.networkDebugger.onRequestTaskStateChange(t);break;case"onDownloadTaskStateChange":var n;null!==(n=t[1])&&void 0!==n&&n.downloadTaskId&&this.networkDebugger.onDownloadTaskStateChange(t);break;case"onUploadTaskStateChange":var i;null!==(i=t[1])&&void 0!==i&&i.uploadTaskId&&this.networkDebugger.onUploadTaskStateChange(t);break;case"onSocketTaskStateChange":var s;null!==(s=t[1])&&void 0!==s&&s.socketTaskId&&this.networkDebugger.onSocketTaskStateChange(t);break;case"onAppRouteDone":this.wxmlDebugger.onAppRouteDone();break;case"onAppRoute":this.wxmlDebugger.onAppRoute(t);break;case"onAppRouteResized":this.wxmlDebugger.onAppRouteResized()}return e.call(Be,...t)},this._invokeCallbackHandler=(e,...t)=>{var r=t[0],n=t[1];return this.networkDebugger.invokeCallbackNetworkMethods(r,n),e.call(Be,...t)},this._hookWeixinJSCore=(e,t,...r)=>{var n=r[0],i=r[1],s=parseInt(r[2],10),a=isNaN(s)?0:s;if("publishHandler"===e){try{n.endsWith("invokeWebviewMethod")&&"appDataChange"===(__wxConfig.wmpfDirectInvokeJs?i:JSON.parse(i)).data.name&&this.wxmlDebugger.updateAppData(),(n.endsWith("vdSync")||n.endsWith("vdSyncBatch")||n.endsWith("appDataChange")||n.endsWith("pageInitData")||n.endsWith("__updateAppData"))&&this.wxmlDebugger.updateAppData()}catch(e){}return t.call(Ve,...r)}return this._methodInvokeHandler(a,n,i,r,t)},Be=e,Ve=t,this.networkDebugger=r,this.wxmlDebugger=n,this.storageDebugger=i;var s=Be.subscribeHandler,a=Be.invokeCallbackHandler,o=Ve.invokeHandler||(()=>{}),u=Ve.publishHandler||(()=>{});Object.defineProperty(Be,"subscribeHandler",{value:this._subscribeHandler.bind(null,s)}),Object.defineProperty(Be,"invokeCallbackHandler",{value:this._invokeCallbackHandler.bind(null,a)}),Object.defineProperty(Ve,"invokeHandler",{value:this._hookWeixinJSCore.bind(null,"invokeHandler",o)}),Object.defineProperty(Ve,"publishHandler",{value:this._hookWeixinJSCore.bind(null,"publishHandler",u)})}_methodInvokeHandler(e,t,r,n,i){return this.networkDebugger.invokeNetworkMethods(e,t,r),this.storageDebugger.invokeStorageMethods(e,t),i.call(Ve,...n)}}class qe{constructor(e,t){this.messager=void 0,He=e,this.messager=t,this._init()}_init(){this.messager.getInstance().registerCallback(this.onAutoMessageReceive.bind(this))}onAutoMessageReceive(e,t){var r;"onAutoMessageReceive"===e&&(null===(r=He)||void 0===r||r.subscribeHandler("onAutoMessageReceive",JSON.parse(t)))}}var Je=r(783),ze=r.n(Je);class Qe{constructor(e){this.messager=void 0,this.messager=e,this._init()}_init(){this.messager.getInstance().registerCallback(this.onReceiveDevtoolsMessage.bind(this))}onReceiveDevtoolsMessage(e,t){"__getStorageInfo"!==e?"__execStorageSdk"===e&&this.execStorageSdk(t):this.getFullStorage()}execStorageSdk(e){var t=this;return ze()((function*(){var r,n,i,s;try{var a=JSON.parse(e);switch(a.api){case"removeStorage":case"removeStorageSync":yield t._removeStorage(null==a||null===(r=a.args)||void 0===r?void 0:r.key);break;case"setStorage":case"setStorageSync":yield t._setStorage(null==a||null===(n=a.args)||void 0===n?void 0:n.key,null==a||null===(i=a.args)||void 0===i?void 0:i.data,null==a||null===(s=a.args)||void 0===s?void 0:s.dataType);break;case"clearStorage":case"clearStorageSync":yield t._clearStorage()}}catch(e){console.error(e)}}))()}getFullStorage(){var e=this;return ze()((function*(){var t=e._getStorageInfo();if(t){var r=(yield t()).keys,n={};for(var i of r){var s=yield e._getStorage(i),a=Object.prototype.toString.call(s).slice(8,-1);"string"!==a.toLowerCase()&&(s=JSON.stringify(s)),n[i]={data:void 0===s?"undefined":s,dataType:a}}e.messager.sendToDevtools("__getStorageInfo",JSON.stringify(n))}}))()}_getStorageInfo(){var{wx:e}=Fe();return"object"==typeof e&&e.getStorageInfo?e.getStorageInfo.bind(e):null}_getStorage(e){return ze()((function*(){var{wx:t}=Fe();if("object"==typeof t&&t.getStorage)try{return(yield t.getStorage({key:e})).data}catch(e){return}}))()}_removeStorage(e){return ze()((function*(){if(e){var{wx:t}=Fe();if("object"==typeof t&&t.removeStorage)try{yield t.removeStorage({key:e})}catch(e){return}}}))()}_setStorage(e,t,r){return ze()((function*(){"string"!==r.toLowerCase()&&(t=JSON.parse(t));var{wx:n}=Fe();if("object"==typeof n&&n.setStorage)try{n.setStorageSync(e,t)}catch(e){return}}))()}_clearStorage(){return ze()((function*(){var{wx:e}=Fe();if("object"==typeof e&&e.clearStorage)try{yield e.clearStorage()}catch(e){return}}))()}invokeStorageMethods(e,t){if(t.toLowerCase().includes("storage"))switch(t){case"setStorageSync":case"setStorage":case"removeStorageSync":case"removeStorage":case"clearStorageSync":case"clearStorage":setTimeout((()=>{this.getFullStorage()}),0)}}}var Ke={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Xe="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Ye={5:Xe,"5module":Xe+" export import",6:Xe+" const class extends export import super"},Ze=/^in(stanceof)?$/,et="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࣇऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-鿼ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-ꟊꟵ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",tt="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿᫀᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",rt=new RegExp("["+et+"]"),nt=new RegExp("["+et+tt+"]");et=tt=null;var it=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],st=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function at(e,t){for(var r=65536,n=0;n<t.length;n+=2){if((r+=t[n])>e)return!1;if((r+=t[n+1])>=e)return!0}}function ot(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&rt.test(String.fromCharCode(e)):!1!==t&&at(e,it)))}function ut(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&nt.test(String.fromCharCode(e)):!1!==t&&(at(e,it)||at(e,st)))))}var ct=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function lt(e,t){return new ct(e,{beforeExpr:!0,binop:t})}var ht={beforeExpr:!0},pt={startsExpr:!0},dt={};function ft(e,t){return void 0===t&&(t={}),t.keyword=e,dt[e]=new ct(e,t)}var gt={num:new ct("num",pt),regexp:new ct("regexp",pt),string:new ct("string",pt),name:new ct("name",pt),eof:new ct("eof"),bracketL:new ct("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ct("]"),braceL:new ct("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ct("}"),parenL:new ct("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ct(")"),comma:new ct(",",ht),semi:new ct(";",ht),colon:new ct(":",ht),dot:new ct("."),question:new ct("?",ht),questionDot:new ct("?."),arrow:new ct("=>",ht),template:new ct("template"),invalidTemplate:new ct("invalidTemplate"),ellipsis:new ct("...",ht),backQuote:new ct("`",pt),dollarBraceL:new ct("${",{beforeExpr:!0,startsExpr:!0}),eq:new ct("=",{beforeExpr:!0,isAssign:!0}),assign:new ct("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ct("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ct("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:lt("||",1),logicalAND:lt("&&",2),bitwiseOR:lt("|",3),bitwiseXOR:lt("^",4),bitwiseAND:lt("&",5),equality:lt("==/!=/===/!==",6),relational:lt("</>/<=/>=",7),bitShift:lt("<</>>/>>>",8),plusMin:new ct("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:lt("%",10),star:lt("*",10),slash:lt("/",10),starstar:new ct("**",{beforeExpr:!0}),coalesce:lt("??",1),_break:ft("break"),_case:ft("case",ht),_catch:ft("catch"),_continue:ft("continue"),_debugger:ft("debugger"),_default:ft("default",ht),_do:ft("do",{isLoop:!0,beforeExpr:!0}),_else:ft("else",ht),_finally:ft("finally"),_for:ft("for",{isLoop:!0}),_function:ft("function",pt),_if:ft("if"),_return:ft("return",ht),_switch:ft("switch"),_throw:ft("throw",ht),_try:ft("try"),_var:ft("var"),_const:ft("const"),_while:ft("while",{isLoop:!0}),_with:ft("with"),_new:ft("new",{beforeExpr:!0,startsExpr:!0}),_this:ft("this",pt),_super:ft("super",pt),_class:ft("class",pt),_extends:ft("extends",ht),_export:ft("export"),_import:ft("import",pt),_null:ft("null",pt),_true:ft("true",pt),_false:ft("false",pt),_in:ft("in",{beforeExpr:!0,binop:7}),_instanceof:ft("instanceof",{beforeExpr:!0,binop:7}),_typeof:ft("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ft("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ft("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},mt=/\r\n?|\n|\u2028|\u2029/,vt=new RegExp(mt.source,"g");function bt(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var yt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,xt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,St=Object.prototype,_t=St.hasOwnProperty,wt=St.toString;function Ct(e,t){return _t.call(e,t)}var kt=Array.isArray||function(e){return"[object Array]"===wt.call(e)};function Et(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var It=function(e,t){this.line=e,this.column=t};It.prototype.offset=function(e){return new It(this.line,this.column+e)};var At=function(e,t,r){this.start=t,this.end=r,null!==e.sourceFile&&(this.source=e.sourceFile)};function Ot(e,t){for(var r=1,n=0;;){vt.lastIndex=n;var i=vt.exec(e);if(!(i&&i.index<t))return new It(r,t-n);++r,n=i.index+i[0].length}}var Pt={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function Tt(e,t){return 2|(e?4:0)|(t?8:0)}var Nt=function(e,t,r){this.options=e=function(e){var t={};for(var r in Pt)t[r]=e&&Ct(e,r)?e[r]:Pt[r];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),kt(t.onToken)){var n=t.onToken;t.onToken=function(e){return n.push(e)}}return kt(t.onComment)&&(t.onComment=function(e,t){return function(r,n,i,s,a,o){var u={type:r?"Block":"Line",value:n,start:i,end:s};e.locations&&(u.loc=new At(this,a,o)),e.ranges&&(u.range=[i,s]),t.push(u)}}(t,t.onComment)),t}(e),this.sourceFile=e.sourceFile,this.keywords=Et(Ye[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var n="";if(!0!==e.allowReserved){for(var i=e.ecmaVersion;!(n=Ke[i]);i--);"module"===e.sourceType&&(n+=" await")}this.reservedWords=Et(n);var s=(n?n+" ":"")+Ke.strict;this.reservedWordsStrict=Et(s),this.reservedWordsStrictBind=Et(s+" "+Ke.strictBind),this.input=String(t),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf("\n",r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(mt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=gt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},Rt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};Nt.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},Rt.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},Rt.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},Rt.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},Rt.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0},Rt.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},Rt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Nt.prototype.inNonArrowFunction=function(){return(2&this.currentThisScope().flags)>0},Nt.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=this,n=0;n<e.length;n++)r=e[n](r);return r},Nt.parse=function(e,t){return new this(t,e).parse()},Nt.parseExpressionAt=function(e,t,r){var n=new this(r,e,t);return n.nextToken(),n.parseExpression()},Nt.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(Nt.prototype,Rt);var Dt=Nt.prototype,Lt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function Mt(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}Dt.strictDirective=function(e){for(;;){xt.lastIndex=e,e+=xt.exec(this.input)[0].length;var t=Lt.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){xt.lastIndex=e+t[0].length;var r=xt.exec(this.input),n=r.index+r[0].length,i=this.input.charAt(n);return";"===i||"}"===i||mt.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(n+1))}e+=t[0].length,xt.lastIndex=e,e+=xt.exec(this.input)[0].length,";"===this.input[e]&&e++}},Dt.eat=function(e){return this.type===e&&(this.next(),!0)},Dt.isContextual=function(e){return this.type===gt.name&&this.value===e&&!this.containsEsc},Dt.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},Dt.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},Dt.canInsertSemicolon=function(){return this.type===gt.eof||this.type===gt.braceR||mt.test(this.input.slice(this.lastTokEnd,this.start))},Dt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Dt.semicolon=function(){this.eat(gt.semi)||this.insertSemicolon()||this.unexpected()},Dt.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},Dt.expect=function(e){this.eat(e)||this.unexpected()},Dt.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},Dt.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}},Dt.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,n=e.doubleProto;if(!t)return r>=0||n>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")},Dt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Dt.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var Ft=Nt.prototype;Ft.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==gt.eof;){var r=this.parseStatement(null,!0,t);e.body.push(r)}if(this.inModule)for(var n=0,i=Object.keys(this.undefinedExports);n<i.length;n+=1){var s=i[n];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var jt={kind:"loop"},Vt={kind:"switch"};Ft.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;xt.lastIndex=this.pos;var t=xt.exec(this.input),r=this.pos+t[0].length,n=this.input.charCodeAt(r);if(91===n)return!0;if(e)return!1;if(123===n)return!0;if(ot(n,!0)){for(var i=r+1;ut(this.input.charCodeAt(i),!0);)++i;var s=this.input.slice(r,i);if(!Ze.test(s))return!0}return!1},Ft.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;xt.lastIndex=this.pos;var e=xt.exec(this.input),t=this.pos+e[0].length;return!(mt.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&ut(this.input.charAt(t+8)))},Ft.parseStatement=function(e,t,r){var n,i=this.type,s=this.startNode();switch(this.isLet(e)&&(i=gt._var,n="let"),i){case gt._break:case gt._continue:return this.parseBreakContinueStatement(s,i.keyword);case gt._debugger:return this.parseDebuggerStatement(s);case gt._do:return this.parseDoStatement(s);case gt._for:return this.parseForStatement(s);case gt._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case gt._class:return e&&this.unexpected(),this.parseClass(s,!0);case gt._if:return this.parseIfStatement(s);case gt._return:return this.parseReturnStatement(s);case gt._switch:return this.parseSwitchStatement(s);case gt._throw:return this.parseThrowStatement(s);case gt._try:return this.parseTryStatement(s);case gt._const:case gt._var:return n=n||this.value,e&&"var"!==n&&this.unexpected(),this.parseVarStatement(s,n);case gt._while:return this.parseWhileStatement(s);case gt._with:return this.parseWithStatement(s);case gt.braceL:return this.parseBlock(!0,s);case gt.semi:return this.parseEmptyStatement(s);case gt._export:case gt._import:if(this.options.ecmaVersion>10&&i===gt._import){xt.lastIndex=this.pos;var a=xt.exec(this.input),o=this.pos+a[0].length,u=this.input.charCodeAt(o);if(40===u||46===u)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===gt._import?this.parseImport(s):this.parseExport(s,r);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var c=this.value,l=this.parseExpression();return i===gt.name&&"Identifier"===l.type&&this.eat(gt.colon)?this.parseLabeledStatement(s,c,l,e):this.parseExpressionStatement(s,l)}},Ft.parseBreakContinueStatement=function(e,t){var r="break"===t;this.next(),this.eat(gt.semi)||this.insertSemicolon()?e.label=null:this.type!==gt.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var i=this.labels[n];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(r||"loop"===i.kind))break;if(e.label&&r)break}}return n===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")},Ft.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},Ft.parseDoStatement=function(e){return this.next(),this.labels.push(jt),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(gt._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(gt.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},Ft.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(jt),this.enterScope(0),this.expect(gt.parenL),this.type===gt.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.type===gt._var||this.type===gt._const||r){var n=this.startNode(),i=r?"let":this.value;return this.next(),this.parseVar(n,!0,i),this.finishNode(n,"VariableDeclaration"),(this.type===gt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===n.declarations.length?(this.options.ecmaVersion>=9&&(this.type===gt._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,n)):(t>-1&&this.unexpected(t),this.parseFor(e,n))}var s=new Mt,a=this.parseExpression(!0,s);return this.type===gt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===gt._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(a,!1,s),this.checkLVal(a),this.parseForIn(e,a)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,a))},Ft.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,Ht|(r?0:Ut),!1,t)},Ft.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(gt._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},Ft.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(gt.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},Ft.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(gt.braceL),this.labels.push(Vt),this.enterScope(0);for(var r=!1;this.type!==gt.braceR;)if(this.type===gt._case||this.type===gt._default){var n=this.type===gt._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),n?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(gt.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},Ft.parseThrowStatement=function(e){return this.next(),mt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var Bt=[];Ft.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===gt._catch){var t=this.startNode();if(this.next(),this.eat(gt.parenL)){t.param=this.parseBindingAtom();var r="Identifier"===t.param.type;this.enterScope(r?32:0),this.checkLVal(t.param,r?4:2),this.expect(gt.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(gt._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},Ft.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},Ft.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(jt),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},Ft.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},Ft.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},Ft.parseLabeledStatement=function(e,t,r,n){for(var i=0,s=this.labels;i<s.length;i+=1)s[i].name===t&&this.raise(r.start,"Label '"+t+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===gt._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var u=this.labels[o];if(u.statementStart!==e.start)break;u.statementStart=this.start,u.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")},Ft.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},Ft.parseBlock=function(e,t,r){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(gt.braceL),e&&this.enterScope(0);this.type!==gt.braceR;){var n=this.parseStatement(null);t.body.push(n)}return r&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},Ft.parseFor=function(e,t){return e.init=t,this.expect(gt.semi),e.test=this.type===gt.semi?null:this.parseExpression(),this.expect(gt.semi),e.update=this.type===gt.parenR?null:this.parseExpression(),this.expect(gt.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},Ft.parseForIn=function(e,t){var r=this.type===gt._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!r||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(gt.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")},Ft.parseVar=function(e,t,r){for(e.declarations=[],e.kind=r;;){var n=this.startNode();if(this.parseVarId(n,r),this.eat(gt.eq)?n.init=this.parseMaybeAssign(t):"const"!==r||this.type===gt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===n.id.type||t&&(this.type===gt._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(gt.comma))break}return e},Ft.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?1:2,!1)};var Ht=1,Ut=2;Ft.parseFunction=function(e,t,r,n){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===gt.star&&t&Ut&&this.unexpected(),e.generator=this.eat(gt.star)),this.options.ecmaVersion>=8&&(e.async=!!n),t&Ht&&(e.id=4&t&&this.type!==gt.name?null:this.parseIdent(),!e.id||t&Ut||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Tt(e.async,e.generator)),t&Ht||(e.id=this.type===gt.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,r,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(e,t&Ht?"FunctionDeclaration":"FunctionExpression")},Ft.parseFunctionParams=function(e){this.expect(gt.parenL),e.params=this.parseBindingList(gt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Ft.parseClass=function(e,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var n=this.startNode(),i=!1;for(n.body=[],this.expect(gt.braceL);this.type!==gt.braceR;){var s=this.parseClassElement(null!==e.superClass);s&&(n.body.push(s),"MethodDefinition"===s.type&&"constructor"===s.kind&&(i&&this.raise(s.start,"Duplicate constructor in the same class"),i=!0))}return this.strict=r,this.next(),e.body=this.finishNode(n,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},Ft.parseClassElement=function(e){var t=this;if(this.eat(gt.semi))return null;var r=this.startNode(),n=function(e,n){void 0===n&&(n=!1);var i=t.start,s=t.startLoc;return!(!t.eatContextual(e)||(t.type===gt.parenL||n&&t.canInsertSemicolon())&&(r.key&&t.unexpected(),r.computed=!1,r.key=t.startNodeAt(i,s),r.key.name=e,t.finishNode(r.key,"Identifier"),1))};r.kind="method",r.static=n("static");var i=this.eat(gt.star),s=!1;i||(this.options.ecmaVersion>=8&&n("async",!0)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(gt.star)):n("get")?r.kind="get":n("set")&&(r.kind="set")),r.key||this.parsePropertyName(r);var a=r.key,o=!1;return r.computed||r.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?r.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==r.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),i&&this.raise(a.start,"Constructor can't be a generator"),s&&this.raise(a.start,"Constructor can't be an async method"),r.kind="constructor",o=e),this.parseClassMethod(r,i,s,o),"get"===r.kind&&0!==r.value.params.length&&this.raiseRecoverable(r.value.start,"getter should have no params"),"set"===r.kind&&1!==r.value.params.length&&this.raiseRecoverable(r.value.start,"setter should have exactly one param"),"set"===r.kind&&"RestElement"===r.value.params[0].type&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params"),r},Ft.parseClassMethod=function(e,t,r,n){return e.value=this.parseMethod(t,r,n),this.finishNode(e,"MethodDefinition")},Ft.parseClassId=function(e,t){this.type===gt.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},Ft.parseClassSuper=function(e){e.superClass=this.eat(gt._extends)?this.parseExprSubscripts():null},Ft.parseExport=function(e,t){if(this.next(),this.eat(gt.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseIdent(!0),this.checkExport(t,e.exported.name,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==gt.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(gt._default)){var r;if(this.checkExport(t,"default",this.lastTokStart),this.type===gt._function||(r=this.isAsyncFunction())){var n=this.startNode();this.next(),r&&this.next(),e.declaration=this.parseFunction(n,4|Ht,!1,r)}else if(this.type===gt._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==gt.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var s=0,a=e.specifiers;s<a.length;s+=1){var o=a[s];this.checkUnreserved(o.local),this.checkLocalExport(o.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},Ft.checkExport=function(e,t,r){e&&(Ct(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)},Ft.checkPatternExport=function(e,t){var r=t.type;if("Identifier"===r)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===r)for(var n=0,i=t.properties;n<i.length;n+=1){var s=i[n];this.checkPatternExport(e,s)}else if("ArrayPattern"===r)for(var a=0,o=t.elements;a<o.length;a+=1){var u=o[a];u&&this.checkPatternExport(e,u)}else"Property"===r?this.checkPatternExport(e,t.value):"AssignmentPattern"===r?this.checkPatternExport(e,t.left):"RestElement"===r?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===r&&this.checkPatternExport(e,t.expression)},Ft.checkVariableExport=function(e,t){if(e)for(var r=0,n=t;r<n.length;r+=1){var i=n[r];this.checkPatternExport(e,i.id)}},Ft.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Ft.parseExportSpecifiers=function(e){var t=[],r=!0;for(this.expect(gt.braceL);!this.eat(gt.braceR);){if(r)r=!1;else if(this.expect(gt.comma),this.afterTrailingComma(gt.braceR))break;var n=this.startNode();n.local=this.parseIdent(!0),n.exported=this.eatContextual("as")?this.parseIdent(!0):n.local,this.checkExport(e,n.exported.name,n.exported.start),t.push(this.finishNode(n,"ExportSpecifier"))}return t},Ft.parseImport=function(e){return this.next(),this.type===gt.string?(e.specifiers=Bt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===gt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},Ft.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===gt.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLVal(r.local,2),e.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(gt.comma))return e}if(this.type===gt.star){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLVal(n.local,2),e.push(this.finishNode(n,"ImportNamespaceSpecifier")),e}for(this.expect(gt.braceL);!this.eat(gt.braceR);){if(t)t=!1;else if(this.expect(gt.comma),this.afterTrailingComma(gt.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,2),e.push(this.finishNode(i,"ImportSpecifier"))}return e},Ft.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},Ft.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var Gt=Nt.prototype;Gt.toAssignable=function(e,t,r){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var n=0,i=e.properties;n<i.length;n+=1){var s=i[n];this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,r);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return e},Gt.toAssignableList=function(e,t){for(var r=e.length,n=0;n<r;n++){var i=e[n];i&&this.toAssignable(i,t)}if(r){var s=e[r-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},Gt.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Gt.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==gt.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Gt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case gt.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(gt.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case gt.braceL:return this.parseObj(!0)}return this.parseIdent()},Gt.parseBindingList=function(e,t,r){for(var n=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(gt.comma),t&&this.type===gt.comma)n.push(null);else{if(r&&this.afterTrailingComma(e))break;if(this.type===gt.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),n.push(s),this.type===gt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),n.push(a)}return n},Gt.parseBindingListItem=function(e){return e},Gt.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(gt.eq))return r;var n=this.startNodeAt(e,t);return n.left=r,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},Gt.checkLVal=function(e,t,r){switch(void 0===t&&(t=0),e.type){case"Identifier":2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(Ct(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0),0!==t&&5!==t&&this.declareName(e.name,t,e.start);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var n=0,i=e.properties;n<i.length;n+=1){var s=i[n];this.checkLVal(s,t,r)}break;case"Property":this.checkLVal(e.value,t,r);break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var u=o[a];u&&this.checkLVal(u,t,r)}break;case"AssignmentPattern":this.checkLVal(e.left,t,r);break;case"RestElement":this.checkLVal(e.argument,t,r);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,r);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var Wt=Nt.prototype;Wt.checkPropClash=function(e,t,r){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var n,i=e.key;switch(i.type){case"Identifier":n=i.name;break;case"Literal":n=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===n&&"init"===s&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[n="$"+n];a?("init"===s?this.strict&&a.init||a.get||a.set:a.init||a[s])&&this.raiseRecoverable(i.start,"Redefinition of property"):a=t[n]={init:!1,get:!1,set:!1},a[s]=!0}}},Wt.parseExpression=function(e,t){var r=this.start,n=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===gt.comma){var s=this.startNodeAt(r,n);for(s.expressions=[i];this.eat(gt.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i},Wt.parseMaybeAssign=function(e,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var n=!1,i=-1,s=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new Mt,n=!0);var a=this.start,o=this.startLoc;this.type!==gt.parenL&&this.type!==gt.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(e,t);if(r&&(u=r.call(this,u,a,o)),this.type.isAssign){var c=this.startNodeAt(a,o);return c.operator=this.value,c.left=this.type===gt.eq?this.toAssignable(u,!1,t):u,n||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=c.left.start&&(t.shorthandAssign=-1),this.checkLVal(u),this.next(),c.right=this.parseMaybeAssign(e),this.finishNode(c,"AssignmentExpression")}return n&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),u},Wt.parseMaybeConditional=function(e,t){var r=this.start,n=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(gt.question)){var s=this.startNodeAt(r,n);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(gt.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i},Wt.parseExprOps=function(e,t){var r=this.start,n=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===r&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,r,n,-1,e)},Wt.parseExprOp=function(e,t,r,n,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==gt._in)&&s>n){var a=this.type===gt.logicalOR||this.type===gt.logicalAND,o=this.type===gt.coalesce;o&&(s=gt.logicalAND.binop);var u=this.value;this.next();var c=this.start,l=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1),c,l,s,i),p=this.buildBinary(t,r,e,h,u,a||o);return(a&&this.type===gt.coalesce||o&&(this.type===gt.logicalOR||this.type===gt.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,r,n,i)}return e},Wt.buildBinary=function(e,t,r,n,i,s){var a=this.startNodeAt(e,t);return a.left=r,a.operator=i,a.right=n,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},Wt.parseMaybeUnary=function(e,t){var r,n=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===gt.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):t=!0,r=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(r=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(n,i);o.operator=this.value,o.prefix=!1,o.argument=r,this.checkLVal(r),this.next(),r=this.finishNode(o,"UpdateExpression")}}return!t&&this.eat(gt.starstar)?this.buildBinary(n,i,r,this.parseMaybeUnary(null,!1),"**",!1):r},Wt.parseExprSubscripts=function(e){var t=this.start,r=this.startLoc,n=this.parseExprAtom(e);if("ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return n;var i=this.parseSubscripts(n,t,r);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1)),i},Wt.parseSubscripts=function(e,t,r,n){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,s=!1;;){var a=this.parseSubscript(e,t,r,n,i,s);if(a.optional&&(s=!0),a===e||"ArrowFunctionExpression"===a.type){if(s){var o=this.startNodeAt(t,r);o.expression=a,a=this.finishNode(o,"ChainExpression")}return a}e=a}},Wt.parseSubscript=function(e,t,r,n,i,s){var a=this.options.ecmaVersion>=11,o=a&&this.eat(gt.questionDot);n&&o&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(gt.bracketL);if(u||o&&this.type!==gt.parenL&&this.type!==gt.backQuote||this.eat(gt.dot)){var c=this.startNodeAt(t,r);c.object=e,c.property=u?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),c.computed=!!u,u&&this.expect(gt.bracketR),a&&(c.optional=o),e=this.finishNode(c,"MemberExpression")}else if(!n&&this.eat(gt.parenL)){var l=new Mt,h=this.yieldPos,p=this.awaitPos,d=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var f=this.parseExprList(gt.parenR,this.options.ecmaVersion>=8,!1,l);if(i&&!o&&!this.canInsertSemicolon()&&this.eat(gt.arrow))return this.checkPatternErrors(l,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=h,this.awaitPos=p,this.awaitIdentPos=d,this.parseArrowExpression(this.startNodeAt(t,r),f,!0);this.checkExpressionErrors(l,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=d||this.awaitIdentPos;var g=this.startNodeAt(t,r);g.callee=e,g.arguments=f,a&&(g.optional=o),e=this.finishNode(g,"CallExpression")}else if(this.type===gt.backQuote){(o||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,r);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e},Wt.parseExprAtom=function(e){this.type===gt.slash&&this.readRegexp();var t,r=this.potentialArrowAt===this.start;switch(this.type){case gt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==gt.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==gt.dot&&this.type!==gt.bracketL&&this.type!==gt.parenL&&this.unexpected(),this.finishNode(t,"Super");case gt._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case gt.name:var n=this.start,i=this.startLoc,s=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(gt._function))return this.parseFunction(this.startNodeAt(n,i),0,!1,!0);if(r&&!this.canInsertSemicolon()){if(this.eat(gt.arrow))return this.parseArrowExpression(this.startNodeAt(n,i),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===gt.name&&!s)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(gt.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(n,i),[a],!0)}return a;case gt.regexp:var o=this.value;return(t=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},t;case gt.num:case gt.string:return this.parseLiteral(this.value);case gt._null:case gt._true:case gt._false:return(t=this.startNode()).value=this.type===gt._null?null:this.type===gt._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case gt.parenL:var u=this.start,c=this.parseParenAndDistinguishExpression(r);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),c;case gt.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(gt.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case gt.braceL:return this.parseObj(!1,e);case gt._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case gt._class:return this.parseClass(this.startNode(),!1);case gt._new:return this.parseNew();case gt.backQuote:return this.parseTemplate();case gt._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Wt.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case gt.parenL:return this.parseDynamicImport(e);case gt.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}},Wt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(gt.parenR)){var t=this.start;this.eat(gt.comma)&&this.eat(gt.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},Wt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},Wt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},Wt.parseParenExpression=function(){this.expect(gt.parenL);var e=this.parseExpression();return this.expect(gt.parenR),e},Wt.parseParenAndDistinguishExpression=function(e){var t,r=this.start,n=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a=this.start,o=this.startLoc,u=[],c=!0,l=!1,h=new Mt,p=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==gt.parenR;){if(c?c=!1:this.expect(gt.comma),i&&this.afterTrailingComma(gt.parenR,!0)){l=!0;break}if(this.type===gt.ellipsis){s=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===gt.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var f=this.start,g=this.startLoc;if(this.expect(gt.parenR),e&&!this.canInsertSemicolon()&&this.eat(gt.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(r,n,u);u.length&&!l||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,u.length>1?((t=this.startNodeAt(a,o)).expressions=u,this.finishNodeAt(t,"SequenceExpression",f,g)):t=u[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(r,n);return m.expression=t,this.finishNode(m,"ParenthesizedExpression")}return t},Wt.parseParenItem=function(e){return e},Wt.parseParenArrowList=function(e,t,r){return this.parseArrowExpression(this.startNodeAt(e,t),r)};var $t=[];Wt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(gt.dot)){e.meta=t;var r=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"'new.target' can only be used in functions"),this.finishNode(e,"MetaProperty")}var n=this.start,i=this.startLoc,s=this.type===gt._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),n,i,!0),s&&"ImportExpression"===e.callee.type&&this.raise(n,"Cannot use new with import()"),this.eat(gt.parenL)?e.arguments=this.parseExprList(gt.parenR,this.options.ecmaVersion>=8,!1):e.arguments=$t,this.finishNode(e,"NewExpression")},Wt.parseTemplateElement=function(e){var t=e.isTagged,r=this.startNode();return this.type===gt.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),r.tail=this.type===gt.backQuote,this.finishNode(r,"TemplateElement")},Wt.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var n=this.parseTemplateElement({isTagged:t});for(r.quasis=[n];!n.tail;)this.type===gt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(gt.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(gt.braceR),r.quasis.push(n=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")},Wt.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===gt.name||this.type===gt.num||this.type===gt.string||this.type===gt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===gt.star)&&!mt.test(this.input.slice(this.lastTokEnd,this.start))},Wt.parseObj=function(e,t){var r=this.startNode(),n=!0,i={};for(r.properties=[],this.next();!this.eat(gt.braceR);){if(n)n=!1;else if(this.expect(gt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(gt.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),r.properties.push(s)}return this.finishNode(r,e?"ObjectPattern":"ObjectExpression")},Wt.parseProperty=function(e,t){var r,n,i,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(gt.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===gt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===gt.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===gt.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(i=this.start,s=this.startLoc),e||(r=this.eat(gt.star)));var o=this.containsEsc;return this.parsePropertyName(a),!e&&!o&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(a)?(n=!0,r=this.options.ecmaVersion>=9&&this.eat(gt.star),this.parsePropertyName(a,t)):n=!1,this.parsePropertyValue(a,e,r,n,i,s,t,o),this.finishNode(a,"Property")},Wt.parsePropertyValue=function(e,t,r,n,i,s,a,o){if((r||n)&&this.type===gt.colon&&this.unexpected(),this.eat(gt.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===gt.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(r,n);else if(t||o||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===gt.comma||this.type===gt.braceR||this.type===gt.eq)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((r||n)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,e.key):this.type===gt.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(r||n)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var u="get"===e.kind?0:1;if(e.value.params.length!==u){var c=e.value.start;"get"===e.kind?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},Wt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(gt.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(gt.bracketR),e.key;e.computed=!1}return e.key=this.type===gt.num||this.type===gt.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Wt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Wt.parseMethod=function(e,t,r){var n=this.startNode(),i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=e),this.options.ecmaVersion>=8&&(n.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|Tt(t,n.generator)|(r?128:0)),this.expect(gt.parenL),n.params=this.parseBindingList(gt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(n,"FunctionExpression")},Wt.parseArrowExpression=function(e,t,r){var n=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(16|Tt(r,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=n,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")},Wt.parseFunctionBody=function(e,t,r){var n=t&&this.type!==gt.braceL,i=this.strict,s=!1;if(n)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!a||(s=this.strictDirective(this.end))&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(e,!i&&!s&&!t&&!r&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLVal(e.id,5),e.body=this.parseBlock(!1,void 0,s&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=o}this.exitScope()},Wt.isSimpleParamList=function(e){for(var t=0,r=e;t<r.length;t+=1)if("Identifier"!==r[t].type)return!1;return!0},Wt.checkParams=function(e,t){for(var r={},n=0,i=e.params;n<i.length;n+=1){var s=i[n];this.checkLVal(s,1,t?null:r)}},Wt.parseExprList=function(e,t,r,n){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(gt.comma),t&&this.afterTrailingComma(e))break;var a=void 0;r&&this.type===gt.comma?a=null:this.type===gt.ellipsis?(a=this.parseSpread(n),n&&this.type===gt.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):a=this.parseMaybeAssign(!1,n),i.push(a)}return i},Wt.checkUnreserved=function(e){var t=e.start,r=e.end,n=e.name;this.inGenerator&&"yield"===n&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===n&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(n)&&this.raise(t,"Unexpected keyword '"+n+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,r).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(n)&&(this.inAsync||"await"!==n||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+n+"' is reserved"))},Wt.parseIdent=function(e,t){var r=this.startNode();return this.type===gt.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,"class"!==r.name&&"function"!==r.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),"await"!==r.name||this.awaitIdentPos||(this.awaitIdentPos=r.start)),r},Wt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===gt.semi||this.canInsertSemicolon()||this.type!==gt.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(gt.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},Wt.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!1),this.finishNode(e,"AwaitExpression")};var qt=Nt.prototype;qt.raise=function(e,t){var r=Ot(this.input,e);t+=" ("+r.line+":"+r.column+")";var n=new SyntaxError(t);throw n.pos=e,n.loc=r,n.raisedAt=this.pos,n},qt.raiseRecoverable=qt.raise,qt.curPosition=function(){if(this.options.locations)return new It(this.curLine,this.pos-this.lineStart)};var Jt=Nt.prototype,zt=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};Jt.enterScope=function(e){this.scopeStack.push(new zt(e))},Jt.exitScope=function(){this.scopeStack.pop()},Jt.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},Jt.declareName=function(e,t,r){var n=!1;if(2===t){var i=this.currentScope();n=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&1&i.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var s=this.currentScope();n=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(e)>-1&&!(32&o.flags&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){n=!0;break}if(o.var.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e],3&o.flags)break}n&&this.raiseRecoverable(r,"Identifier '"+e+"' has already been declared")},Jt.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},Jt.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Jt.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags)return t}},Jt.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags&&!(16&t.flags))return t}};var Qt=function(e,t,r){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new At(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},Kt=Nt.prototype;function Xt(e,t,r,n){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=n),this.options.ranges&&(e.range[1]=r),e}Kt.startNode=function(){return new Qt(this,this.start,this.startLoc)},Kt.startNodeAt=function(e,t){return new Qt(this,e,t)},Kt.finishNode=function(e,t){return Xt.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},Kt.finishNodeAt=function(e,t,r,n){return Xt.call(this,e,t,r,n)};var Yt=function(e,t,r,n,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!r,this.override=n,this.generator=!!i},Zt={b_stat:new Yt("{",!1),b_expr:new Yt("{",!0),b_tmpl:new Yt("${",!1),p_stat:new Yt("(",!1),p_expr:new Yt("(",!0),q_tmpl:new Yt("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new Yt("function",!1),f_expr:new Yt("function",!0),f_expr_gen:new Yt("function",!0,!1,null,!0),f_gen:new Yt("function",!1,!1,null,!0)},er=Nt.prototype;er.initialContext=function(){return[Zt.b_stat]},er.braceIsBlock=function(e){var t=this.curContext();return t===Zt.f_expr||t===Zt.f_stat||(e!==gt.colon||t!==Zt.b_stat&&t!==Zt.b_expr?e===gt._return||e===gt.name&&this.exprAllowed?mt.test(this.input.slice(this.lastTokEnd,this.start)):e===gt._else||e===gt.semi||e===gt.eof||e===gt.parenR||e===gt.arrow||(e===gt.braceL?t===Zt.b_stat:e!==gt._var&&e!==gt._const&&e!==gt.name&&!this.exprAllowed):!t.isExpr)},er.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},er.updateContext=function(e){var t,r=this.type;r.keyword&&e===gt.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr},gt.parenR.updateContext=gt.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===Zt.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},gt.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Zt.b_stat:Zt.b_expr),this.exprAllowed=!0},gt.dollarBraceL.updateContext=function(){this.context.push(Zt.b_tmpl),this.exprAllowed=!0},gt.parenL.updateContext=function(e){var t=e===gt._if||e===gt._for||e===gt._with||e===gt._while;this.context.push(t?Zt.p_stat:Zt.p_expr),this.exprAllowed=!0},gt.incDec.updateContext=function(){},gt._function.updateContext=gt._class.updateContext=function(e){!e.beforeExpr||e===gt.semi||e===gt._else||e===gt._return&&mt.test(this.input.slice(this.lastTokEnd,this.start))||(e===gt.colon||e===gt.braceL)&&this.curContext()===Zt.b_stat?this.context.push(Zt.f_stat):this.context.push(Zt.f_expr),this.exprAllowed=!1},gt.backQuote.updateContext=function(){this.curContext()===Zt.q_tmpl?this.context.pop():this.context.push(Zt.q_tmpl),this.exprAllowed=!1},gt.star.updateContext=function(e){if(e===gt._function){var t=this.context.length-1;this.context[t]===Zt.f_expr?this.context[t]=Zt.f_expr_gen:this.context[t]=Zt.f_gen}this.exprAllowed=!0},gt.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==gt.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var tr="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",rr=tr+" Extended_Pictographic",nr={9:tr,10:rr,11:rr},ir="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",sr="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ar=sr+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",or={9:sr,10:ar,11:ar+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},ur={};function cr(e){var t=ur[e]={binary:Et(nr[e]+" "+ir),nonBinary:{General_Category:Et(ir),Script:Et(or[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}cr(9),cr(10),cr(11);var lr=Nt.prototype,hr=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=ur[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function pr(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function dr(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function fr(e){return e>=65&&e<=90||e>=97&&e<=122}function gr(e){return fr(e)||95===e}function mr(e){return gr(e)||vr(e)}function vr(e){return e>=48&&e<=57}function br(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function yr(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function xr(e){return e>=48&&e<=55}hr.prototype.reset=function(e,t,r){var n=-1!==r.indexOf("u");this.start=0|e,this.source=t+"",this.flags=r,this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchN=n&&this.parser.options.ecmaVersion>=9},hr.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},hr.prototype.at=function(e,t){void 0===t&&(t=!1);var r=this.source,n=r.length;if(e>=n)return-1;var i=r.charCodeAt(e);if(!t&&!this.switchU||i<=55295||i>=57344||e+1>=n)return i;var s=r.charCodeAt(e+1);return s>=56320&&s<=57343?(i<<10)+s-56613888:i},hr.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var r=this.source,n=r.length;if(e>=n)return n;var i,s=r.charCodeAt(e);return!t&&!this.switchU||s<=55295||s>=57344||e+1>=n||(i=r.charCodeAt(e+1))<56320||i>57343?e+1:e+2},hr.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},hr.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},hr.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},hr.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},lr.validateRegExpFlags=function(e){for(var t=e.validFlags,r=e.flags,n=0;n<r.length;n++){var i=r.charAt(n);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),r.indexOf(i,n+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},lr.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},lr.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,r=e.backReferenceNames;t<r.length;t+=1){var n=r[t];-1===e.groupNames.indexOf(n)&&e.raise("Invalid named capture referenced")}},lr.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},lr.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},lr.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},lr.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!r,!0}return e.pos=t,!1},lr.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},lr.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},lr.regexp_eatBracedQuantifier=function(e,t){var r=e.pos;if(e.eat(123)){var n=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<n&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=r}return!1},lr.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},lr.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},lr.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},lr.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},lr.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},lr.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},lr.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!dr(t)&&(e.lastIntValue=t,e.advance(),!0)},lr.regexp_eatPatternCharacters=function(e){for(var t=e.pos,r=0;-1!==(r=e.current())&&!dr(r);)e.advance();return e.pos!==t},lr.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},lr.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},lr.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},lr.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=pr(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=pr(e.lastIntValue);return!0}return!1},lr.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,n=e.current(r);return e.advance(r),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(n=e.lastIntValue),function(e){return ot(e,!0)||36===e||95===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},lr.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,n=e.current(r);return e.advance(r),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(n=e.lastIntValue),function(e){return ut(e,!0)||36===e||95===e||8204===e||8205===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},lr.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},lr.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var r=e.lastIntValue;if(e.switchU)return r>e.maxBackReference&&(e.maxBackReference=r),!0;if(r<=e.numCapturingParens)return!0;e.pos=t}return!1},lr.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},lr.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},lr.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},lr.regexp_eatZero=function(e){return 48===e.current()&&!vr(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},lr.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},lr.regexp_eatControlLetter=function(e){var t=e.current();return!!fr(t)&&(e.lastIntValue=t%32,e.advance(),!0)},lr.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var r,n=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(i&&s>=55296&&s<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=1024*(s-55296)+(o-56320)+65536,!0}e.pos=a,e.lastIntValue=s}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(r=e.lastIntValue)>=0&&r<=1114111)return!0;i&&e.raise("Invalid unicode escape"),e.pos=n}return!1},lr.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},lr.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},lr.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},lr.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var r=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,r,n),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},lr.regexp_validateUnicodePropertyNameAndValue=function(e,t,r){Ct(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(r)||e.raise("Invalid property value")},lr.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},lr.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";gr(t=e.current());)e.lastStringValue+=pr(t),e.advance();return""!==e.lastStringValue},lr.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";mr(t=e.current());)e.lastStringValue+=pr(t),e.advance();return""!==e.lastStringValue},lr.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},lr.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},lr.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var r=e.lastIntValue;!e.switchU||-1!==t&&-1!==r||e.raise("Invalid character class"),-1!==t&&-1!==r&&t>r&&e.raise("Range out of order in character class")}}},lr.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var r=e.current();(99===r||xr(r))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var n=e.current();return 93!==n&&(e.lastIntValue=n,e.advance(),!0)},lr.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},lr.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!vr(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},lr.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},lr.regexp_eatDecimalDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;vr(r=e.current());)e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();return e.pos!==t},lr.regexp_eatHexDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;br(r=e.current());)e.lastIntValue=16*e.lastIntValue+yr(r),e.advance();return e.pos!==t},lr.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*r+e.lastIntValue:e.lastIntValue=8*t+r}else e.lastIntValue=t;return!0}return!1},lr.regexp_eatOctalDigit=function(e){var t=e.current();return xr(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},lr.regexp_eatFixedHexDigits=function(e,t){var r=e.pos;e.lastIntValue=0;for(var n=0;n<t;++n){var i=e.current();if(!br(i))return e.pos=r,!1;e.lastIntValue=16*e.lastIntValue+yr(i),e.advance()}return!0};var Sr=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new At(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},_r=Nt.prototype;function wr(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}function Cr(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}_r.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Sr(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},_r.getToken=function(){return this.next(),new Sr(this)},"undefined"!=typeof Symbol&&(_r[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===gt.eof,value:t}}}}),_r.curContext=function(){return this.context[this.context.length-1]},_r.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(gt.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},_r.readToken=function(e){return ot(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},_r.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},_r.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),r=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(vt.lastIndex=r;(e=vt.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,n),r,this.pos,t,this.curPosition())},_r.skipLineComment=function(e){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!bt(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,r,this.curPosition())},_r.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&yt.test(String.fromCharCode(e))))break e;++this.pos}}},_r.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)},_r.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(gt.ellipsis)):(++this.pos,this.finishToken(gt.dot))},_r.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(gt.assign,2):this.finishOp(gt.slash,1)},_r.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,n=42===e?gt.star:gt.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++r,n=gt.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(gt.assign,r+1):this.finishOp(n,r)},_r.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(gt.assign,3):this.finishOp(124===e?gt.logicalOR:gt.logicalAND,2):61===t?this.finishOp(gt.assign,2):this.finishOp(124===e?gt.bitwiseOR:gt.bitwiseAND,1)},_r.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(gt.assign,2):this.finishOp(gt.bitwiseXOR,1)},_r.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!mt.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(gt.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(gt.assign,2):this.finishOp(gt.plusMin,1)},_r.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+r)?this.finishOp(gt.assign,r+1):this.finishOp(gt.bitShift,r)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(r=2),this.finishOp(gt.relational,r)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},_r.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(gt.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(gt.arrow)):this.finishOp(61===e?gt.eq:gt.prefix,1)},_r.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(gt.questionDot,2)}if(63===t)return e>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(gt.assign,3):this.finishOp(gt.coalesce,2)}return this.finishOp(gt.question,1)},_r.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(gt.parenL);case 41:return++this.pos,this.finishToken(gt.parenR);case 59:return++this.pos,this.finishToken(gt.semi);case 44:return++this.pos,this.finishToken(gt.comma);case 91:return++this.pos,this.finishToken(gt.bracketL);case 93:return++this.pos,this.finishToken(gt.bracketR);case 123:return++this.pos,this.finishToken(gt.braceL);case 125:return++this.pos,this.finishToken(gt.braceR);case 58:return++this.pos,this.finishToken(gt.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(gt.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(gt.prefix,1)}this.raise(this.pos,"Unexpected character '"+Cr(e)+"'")},_r.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)},_r.readRegexp=function(){for(var e,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(mt.test(n)&&this.raise(r,"Unterminated regular expression"),e)e=!1;else{if("["===n)t=!0;else if("]"===n&&t)t=!1;else if("/"===n&&!t)break;e="\\"===n}++this.pos}var i=this.input.slice(r,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new hr(this));o.reset(r,i,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var u=null;try{u=new RegExp(i,a)}catch(e){}return this.finishToken(gt.regexp,{pattern:i,flags:a,value:u})},_r.readInt=function(e,t,r){for(var n=this.options.ecmaVersion>=12&&void 0===t,i=r&&48===this.input.charCodeAt(this.pos),s=this.pos,a=0,o=0,u=0,c=null==t?1/0:t;u<c;++u,++this.pos){var l=this.input.charCodeAt(this.pos),h=void 0;if(n&&95===l)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===o&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=l;else{if((h=l>=97?l-97+10:l>=65?l-65+10:l>=48&&l<=57?l-48:1/0)>=e)break;o=l,a=a*e+h}}return n&&95===o&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||null!=t&&this.pos-s!==t?null:a},_r.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return null==r&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(r=wr(this.input.slice(t,this.pos)),++this.pos):ot(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(gt.num,r)},_r.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var r=this.pos-t>=2&&48===this.input.charCodeAt(t);r&&this.strict&&this.raise(t,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&110===n){var i=wr(this.input.slice(t,this.pos));return++this.pos,ot(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(gt.num,i)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),46!==n||r||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||r||(43!==(n=this.input.charCodeAt(++this.pos))&&45!==n||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),ot(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s,a=(s=this.input.slice(t,this.pos),r?parseInt(s,8):parseFloat(s.replace(/_/g,"")));return this.finishToken(gt.num,a)},_r.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},_r.readString=function(e){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===e)break;92===n?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):(bt(n,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(gt.string,t)};var kr={};function Er(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ir(e){var t="function"==typeof Map?new Map:void 0;return Ir=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Or(e,arguments,Tr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Pr(n,e)},Ir(e)}function Ar(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Or(e,t,r){return Or=Ar()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Pr(i,r.prototype),i},Or.apply(null,arguments)}function Pr(e,t){return Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pr(e,t)}function Tr(e){return Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tr(e)}_r.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==kr)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},_r.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw kr;this.raise(e,t)},_r.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(96===r||36===r&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==gt.template&&this.type!==gt.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(gt.template,e)):36===r?(this.pos+=2,this.finishToken(gt.dollarBraceL)):(++this.pos,this.finishToken(gt.backQuote));if(92===r)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(bt(r)){switch(e+=this.input.slice(t,this.pos),++this.pos,r){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(r)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},_r.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(gt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},_r.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Cr(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(e){var r=this.pos-1;return this.invalidStringToken(r,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);return i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return bt(t)?"":String.fromCharCode(t)}},_r.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return null===r&&this.invalidStringToken(t,"Bad character escape sequence"),r},_r.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,r=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(ut(i,n))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(r,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?ot:ut)(a,n)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Cr(a),r=this.pos}t=!1}return e+this.input.slice(r,this.pos)},_r.readWord=function(){var e=this.readWord1(),t=gt.name;return this.keywords.test(e)&&(t=dt[e]),this.finishToken(t,e)},Nt.acorn={Parser:Nt,version:"7.4.1",defaultOptions:Pt,Position:It,SourceLocation:At,getLineInfo:Ot,Node:Qt,TokenType:ct,tokTypes:gt,keywordTypes:dt,TokContext:Yt,tokContexts:Zt,isIdentifierChar:ut,isIdentifierStart:ot,Token:Sr,isNewLine:bt,lineBreak:mt,lineBreakG:vt,nonASCIIwhitespace:yt};var Nr=function(e){function t(){return e.apply(this,arguments)||this}return Er(t,e),t}(Ir(Error)),Rr=function(e){function t(){return e.apply(this,arguments)||this}return Er(t,e),t}(Ir(SyntaxError)),Dr=function(e){function t(){return e.apply(this,arguments)||this}return Er(t,e),t}(Ir(ReferenceError)),Lr=function(e){function t(){return e.apply(this,arguments)||this}return Er(t,e),t}(Ir(TypeError)),Mr=function(e){function t(){return e.apply(this,arguments)||this}return Er(t,e),t}(Nr),Fr=function(e){function t(){return e.apply(this,arguments)||this}return Er(t,e),t}(Rr),jr=function(e){function t(){return e.apply(this,arguments)||this}return Er(t,e),t}(Dr),Vr={UnknownError:[3001,"%0",Mr],ExecutionTimeOutError:[3002,"Script execution timed out after %0ms",Mr],NodeTypeSyntaxError:[1001,"Unknown node type: %0",jr],BinaryOperatorSyntaxError:[1002,"Unknown binary operator: %0",jr],LogicalOperatorSyntaxError:[1003,"Unknown logical operator: %0",jr],UnaryOperatorSyntaxError:[1004,"Unknown unary operator: %0",jr],UpdateOperatorSyntaxError:[1005,"Unknown update operator: %0",jr],ObjectStructureSyntaxError:[1006,"Unknown object structure: %0",jr],AssignmentExpressionSyntaxError:[1007,"Unknown assignment expression: %0",jr],VariableTypeSyntaxError:[1008,"Unknown variable type: %0",jr],ParamTypeSyntaxError:[1009,"Unknown param type: %0",jr],AssignmentTypeSyntaxError:[1010,"Unknown assignment type: %0",jr],FunctionUndefinedReferenceError:[2001,"%0 is not a function",Dr],VariableUndefinedReferenceError:[2002,"%0 is not defined",Dr],IsNotConstructor:[2003,"%0 is not a constructor",Lr]};function Br(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Hr(e,t,r){return Hr=Br()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Ur(i,r.prototype),i},Hr.apply(null,arguments)}function Ur(e,t){return Ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ur(e,t)}function Gr(e,t){Object.defineProperty(e,"name",{value:t,writable:!1,enumerable:!1,configurable:!0})}var Wr=Object.prototype.hasOwnProperty,$r=Symbol("Break"),qr=Symbol("Continue"),Jr=Symbol("DefaultCase"),zr=Symbol("EmptyStatementReturn"),Qr=Symbol("WithScopeName"),Kr=Symbol("SuperScopeName"),Xr=Symbol("RootScopeName"),Yr=Symbol("GlobalScopeName");function Zr(e){return"function"==typeof e}var en=function(){function e(e){this.interpreter=e}return e.prototype.generator=function(){var e=this.interpreter;return{getOptions:e.getOptions.bind(e),getCurrentScope:function(){return this.getCurrentScope()}.bind(e),getGlobalScope:function(){return this.getGlobalScope()}.bind(e),getCurrentContext:function(){return this.getCurrentContext()}.bind(e),getExecStartTime:e.getExecStartTime.bind(e)}},e}();function tn(e,t,r){if(void 0===r&&(r=!0),!(e instanceof en))throw new Error("Illegal call");if("string"!=typeof t)return t;if(t){var n=e.generator(),i={timeout:n.getOptions().timeout,_initEnv:function(){r||this.setCurrentContext(n.getCurrentContext()),this.execStartTime=n.getExecStartTime(),this.execEndTime=this.execStartTime}},s=r?n.getGlobalScope():n.getCurrentScope();return new hn(s,i).evaluate(t)}}function rn(e){if(!(e instanceof en))throw new Error("Illegal call");for(var t=e.generator(),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var s=n.pop(),a=new hn(t.getGlobalScope(),t.getOptions()),o="\n\t\t    (function anonymous("+n.join(",")+"){\n\t\t        "+s+"\n\t\t    });\n\t\t    ";return a.evaluate(o)}Object.defineProperty(tn,"__IS_EVAL_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(rn,"__IS_FUNCTION_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});var nn=function(e){this.value=e},sn=function(e){this.value=e},an=function(e){this.value=e},on=function(e,t,r){void 0===t&&(t=null),this.name=r,this.parent=t,this.data=e,this.labelStack=[]};function un(){}function cn(e,t){return void 0===e&&(e=null),new on(Object.create(null),e,t)}var ln={NaN:NaN,Infinity:1/0,undefined:void 0,Object:Object,Array:Array,String:String,Boolean:Boolean,Number:Number,Date:Date,RegExp:RegExp,Error:Error,URIError:URIError,TypeError:TypeError,RangeError:RangeError,SyntaxError:SyntaxError,ReferenceError:ReferenceError,Math:Math,parseInt:parseInt,parseFloat:parseFloat,isNaN:isNaN,isFinite:isFinite,decodeURI:decodeURI,decodeURIComponent:decodeURIComponent,encodeURI:encodeURI,encodeURIComponent:encodeURIComponent,escape:escape,unescape:unescape,eval:tn,Function:rn};"undefined"!=typeof JSON&&(ln.JSON=JSON),"undefined"!=typeof Promise&&(ln.Promise=Promise),"undefined"!=typeof Set&&(ln.Set=Set),"undefined"!=typeof Map&&(ln.Map=Map),"undefined"!=typeof Symbol&&(ln.Symbol=Symbol),"undefined"!=typeof Proxy&&(ln.Proxy=Proxy),"undefined"!=typeof WeakMap&&(ln.WeakMap=WeakMap),"undefined"!=typeof WeakSet&&(ln.WeakSet=WeakSet),"undefined"!=typeof Reflect&&(ln.Reflect=Reflect);var hn=function(){function e(t,r){void 0===t&&(t=e.global),void 0===r&&(r={}),this.sourceList=[],this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.isVarDeclMode=!1,this.lastExecNode=null,this.isRunning=!1,this.options={ecmaVersion:r.ecmaVersion||e.ecmaVersion,timeout:r.timeout||0,rootContext:r.rootContext,globalContextInFunction:void 0===r.globalContextInFunction?e.globalContextInFunction:r.globalContextInFunction,_initEnv:r._initEnv},this.context=t||Object.create(null),this.callStack=[],this.initEnvironment(this.context)}var t=e.prototype;return t.initEnvironment=function(e){var t;if(e instanceof on)t=e;else{var r=null,n=this.createSuperScope(e);this.options.rootContext&&(r=new on(function(e){return Object.create(e)}(this.options.rootContext),n,Xr)),t=new on(e,r||n,Yr)}this.globalScope=t,this.currentScope=this.globalScope,this.globalContext=t.data,this.currentContext=t.data,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.execStartTime=Date.now(),this.execEndTime=this.execStartTime;var i=this.options._initEnv;i&&i.call(this)},t.getExecStartTime=function(){return this.execStartTime},t.getExecutionTime=function(){return this.execEndTime-this.execStartTime},t.setExecTimeout=function(e){void 0===e&&(e=0),this.options.timeout=e},t.getOptions=function(){return this.options},t.getGlobalScope=function(){return this.globalScope},t.getCurrentScope=function(){return this.currentScope},t.getCurrentContext=function(){return this.currentContext},t.isInterruptThrow=function(e){return e instanceof Mr||e instanceof jr||e instanceof Fr},t.createSuperScope=function(e){var t=Object.assign({},ln);return Object.keys(t).forEach((function(r){r in e&&delete t[r]})),new on(t,null,Kr)},t.setCurrentContext=function(e){this.currentContext=e},t.setCurrentScope=function(e){this.currentScope=e},t.evaluate=function(t){var r,n,i;if(void 0===t&&(t=""),t)return n=t,i={ranges:!0,locations:!0,ecmaVersion:this.options.ecmaVersion||e.ecmaVersion},r=Nt.parse(n,i),this.evaluateNode(r,t)},t.appendCode=function(e){return this.evaluate(e)},t.evaluateNode=function(e,t){var r=this;void 0===t&&(t=""),this.value=void 0,this.source=t,this.sourceList.push(t),this.isRunning=!0,this.execStartTime=Date.now(),this.execEndTime=this.execStartTime,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var n=this.getCurrentScope(),i=this.getCurrentContext(),s=n.labelStack.concat([]),a=this.callStack.concat([]);try{var o=this.createClosure(e);this.addDeclarationsToScope(this.collectDeclVars,this.collectDeclFuncs,this.getCurrentScope()),o()}catch(e){throw e}finally{r.setCurrentScope(n),r.setCurrentContext(i),n.labelStack=s,r.callStack=a,this.execEndTime=Date.now()}return this.isRunning=!1,this.getValue()},t.createErrorMessage=function(e,t,r){var n=e[1].replace("%0",String(t));return null!==r&&(n+=this.getNodePosition(r||this.lastExecNode)),n},t.createError=function(e,t){return new t(e)},t.createThrowError=function(e,t){return this.createError(e,t)},t.createInternalThrowError=function(e,t,r){return this.createError(this.createErrorMessage(e,t,r),e[2])},t.checkTimeout=function(){if(!this.isRunning)return!1;var e=this.options.timeout||0;return Date.now()-this.execStartTime>e},t.getNodePosition=function(e){return e&&e.loc?" ["+e.loc.start.line+":"+e.loc.start.column+"]":""},t.createClosure=function(e){var t,r=this;switch(e.type){case"BinaryExpression":t=this.binaryExpressionHandler(e);break;case"LogicalExpression":t=this.logicalExpressionHandler(e);break;case"UnaryExpression":t=this.unaryExpressionHandler(e);break;case"UpdateExpression":t=this.updateExpressionHandler(e);break;case"ObjectExpression":t=this.objectExpressionHandler(e);break;case"ArrayExpression":t=this.arrayExpressionHandler(e);break;case"CallExpression":t=this.callExpressionHandler(e);break;case"NewExpression":t=this.newExpressionHandler(e);break;case"MemberExpression":t=this.memberExpressionHandler(e);break;case"ThisExpression":t=this.thisExpressionHandler(e);break;case"SequenceExpression":t=this.sequenceExpressionHandler(e);break;case"Literal":t=this.literalHandler(e);break;case"Identifier":t=this.identifierHandler(e);break;case"AssignmentExpression":t=this.assignmentExpressionHandler(e);break;case"FunctionDeclaration":t=this.functionDeclarationHandler(e);break;case"VariableDeclaration":t=this.variableDeclarationHandler(e);break;case"BlockStatement":case"Program":t=this.programHandler(e);break;case"ExpressionStatement":t=this.expressionStatementHandler(e);break;case"EmptyStatement":t=this.emptyStatementHandler(e);break;case"ReturnStatement":t=this.returnStatementHandler(e);break;case"FunctionExpression":t=this.functionExpressionHandler(e);break;case"IfStatement":t=this.ifStatementHandler(e);break;case"ConditionalExpression":t=this.conditionalExpressionHandler(e);break;case"ForStatement":t=this.forStatementHandler(e);break;case"WhileStatement":t=this.whileStatementHandler(e);break;case"DoWhileStatement":t=this.doWhileStatementHandler(e);break;case"ForInStatement":t=this.forInStatementHandler(e);break;case"WithStatement":t=this.withStatementHandler(e);break;case"ThrowStatement":t=this.throwStatementHandler(e);break;case"TryStatement":t=this.tryStatementHandler(e);break;case"ContinueStatement":t=this.continueStatementHandler(e);break;case"BreakStatement":t=this.breakStatementHandler(e);break;case"SwitchStatement":t=this.switchStatementHandler(e);break;case"LabeledStatement":t=this.labeledStatementHandler(e);break;case"DebuggerStatement":t=this.debuggerStatementHandler(e);break;default:throw this.createInternalThrowError(Vr.NodeTypeSyntaxError,e.type,e)}return function(){var n=r.options.timeout;if(n&&n>0&&r.checkTimeout())throw r.createInternalThrowError(Vr.ExecutionTimeOutError,n,null);return r.lastExecNode=e,t.apply(void 0,arguments)}},t.binaryExpressionHandler=function(e){var t=this,r=this.createClosure(e.left),n=this.createClosure(e.right);return function(){var i=r(),s=n();switch(e.operator){case"==":return i==s;case"!=":return i!=s;case"===":return i===s;case"!==":return i!==s;case"<":return i<s;case"<=":return i<=s;case">":return i>s;case">=":return i>=s;case"<<":return i<<s;case">>":return i>>s;case">>>":return i>>>s;case"+":return i+s;case"-":return i-s;case"*":return i*s;case"**":return Math.pow(i,s);case"/":return i/s;case"%":return i%s;case"|":return i|s;case"^":return i^s;case"&":return i&s;case"in":return i in s;case"instanceof":return i instanceof s;default:throw t.createInternalThrowError(Vr.BinaryOperatorSyntaxError,e.operator,e)}}},t.logicalExpressionHandler=function(e){var t=this,r=this.createClosure(e.left),n=this.createClosure(e.right);return function(){switch(e.operator){case"||":return r()||n();case"&&":return r()&&n();default:throw t.createInternalThrowError(Vr.LogicalOperatorSyntaxError,e.operator,e)}}},t.unaryExpressionHandler=function(e){var t,r=this;if("delete"===e.operator){var n=this.createObjectGetter(e.argument),i=this.createNameGetter(e.argument);return function(){return delete n()[i()]}}if("typeof"===e.operator&&"Identifier"===e.argument.type){var s=this.createObjectGetter(e.argument),a=this.createNameGetter(e.argument);t=function(){return s()[a()]}}else t=this.createClosure(e.argument);return function(){var n=t();switch(e.operator){case"-":return-n;case"+":return+n;case"!":return!n;case"~":return~n;case"void":return;case"typeof":return typeof n;default:throw r.createInternalThrowError(Vr.UnaryOperatorSyntaxError,e.operator,e)}}},t.updateExpressionHandler=function(e){var t=this,r=this.createObjectGetter(e.argument),n=this.createNameGetter(e.argument);return function(){var i=r(),s=n();switch(t.assertVariable(i,s,e),e.operator){case"++":return e.prefix?++i[s]:i[s]++;case"--":return e.prefix?--i[s]:i[s]--;default:throw t.createInternalThrowError(Vr.UpdateOperatorSyntaxError,e.operator,e)}}},t.objectExpressionHandler=function(e){var t=this,r=[],n=Object.create(null);return e.properties.forEach((function(e){var i=e.kind,s=function(e){return"Identifier"===e.type?e.name:"Literal"===e.type?e.value:this.throwError(Vr.ObjectStructureSyntaxError,e.type,e)}(e.key);n[s]&&"init"!==i||(n[s]={}),n[s][i]=t.createClosure(e.value),r.push({key:s,property:e})})),function(){for(var e={},t=r.length,i=0;i<t;i++){var s=r[i],a=s.key,o=n[a],u=o.init?o.init():void 0,c=o.get?o.get():function(){},l=o.set?o.set():function(e){};if("set"in o||"get"in o){var h={configurable:!0,enumerable:!0,get:c,set:l};Object.defineProperty(e,a,h)}else{var p=s.property,d=p.kind;"Identifier"!==p.key.type||"FunctionExpression"!==p.value.type||"init"!==d||p.value.id||Gr(u,p.key.name),e[a]=u}}return e}},t.arrayExpressionHandler=function(e){var t=this,r=e.elements.map((function(e){return e?t.createClosure(e):e}));return function(){for(var e=r.length,t=Array(e),n=0;n<e;n++){var i=r[n];i&&(t[n]=i())}return t}},t.safeObjectGet=function(e,t,r){return e[t]},t.createCallFunctionGetter=function(e){var t=this;if("MemberExpression"===e.type){var r=this.createClosure(e.object),n=this.createMemberKeyGetter(e),i=this.source;return function(){var s=r(),a=n(),o=t.safeObjectGet(s,a,e);if(!o||!Zr(o)){var u=i.slice(e.start,e.end);throw t.createInternalThrowError(Vr.FunctionUndefinedReferenceError,u,e)}return o.__IS_EVAL_FUNC?function(e){return o(new en(t),e,!0)}:o.__IS_FUNCTION_FUNC?function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return o.apply(void 0,[new en(t)].concat(r))}:o.bind(s)}}var s=this.createClosure(e);return function(){var r="";"Identifier"===e.type&&(r=e.name);var n=s();if(!n||!Zr(n))throw t.createInternalThrowError(Vr.FunctionUndefinedReferenceError,r,e);if("Identifier"===e.type&&n.__IS_EVAL_FUNC&&"eval"===r)return function(e){var i=t.getScopeFromName(r,t.getCurrentScope()),s=i.name===Kr||i.name===Yr||i.name===Xr;return n(new en(t),e,!s)};if(n.__IS_EVAL_FUNC)return function(e){return n(new en(t),e,!0)};if(n.__IS_FUNCTION_FUNC)return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.apply(void 0,[new en(t)].concat(r))};var i=t.options.globalContextInFunction;if("Identifier"===e.type){var a=t.getIdentifierScope(e);a.name===Qr&&(i=a.data)}return n.bind(i)}},t.callExpressionHandler=function(e){var t=this,r=this.createCallFunctionGetter(e.callee),n=e.arguments.map((function(e){return t.createClosure(e)}));return function(){return r().apply(void 0,n.map((function(e){return e()})))}},t.functionExpressionHandler=function(e){var t=this,r=this,n=this.source,i=this.collectDeclVars,s=this.collectDeclFuncs;this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var a=e.id?e.id.name:"",o=e.params.length,u=e.params.map((function(e){return t.createParamNameGetter(e)})),c=this.createClosure(e.body),l=this.collectDeclVars,h=this.collectDeclFuncs;return this.collectDeclVars=i,this.collectDeclFuncs=s,function(){var t=r.getCurrentScope(),i=function e(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];r.callStack.push(""+a);var o=r.getCurrentScope(),p=cn(t,"FunctionScope("+a+")");r.setCurrentScope(p),r.addDeclarationsToScope(l,h,p),a&&(p.data[a]=e),p.data.arguments=arguments,u.forEach((function(e,t){p.data[e()]=i[t]}));var d=r.getCurrentContext();r.setCurrentContext(this);var f=c();if(r.setCurrentContext(d),r.setCurrentScope(o),r.callStack.pop(),f instanceof nn)return f.value};return Gr(i,a),Object.defineProperty(i,"length",{value:o,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(i,"toString",{value:function(){return n.slice(e.start,e.end)},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(i,"valueOf",{value:function(){return n.slice(e.start,e.end)},writable:!0,configurable:!0,enumerable:!1}),i}},t.newExpressionHandler=function(e){var t=this,r=this.source,n=this.createClosure(e.callee),i=e.arguments.map((function(e){return t.createClosure(e)}));return function(){var s=n();if(!Zr(s)||s.__IS_EVAL_FUNC){var a=e.callee,o=r.slice(a.start,a.end);throw t.createInternalThrowError(Vr.IsNotConstructor,o,e)}return s.__IS_FUNCTION_FUNC?s.apply(void 0,[new en(t)].concat(i.map((function(e){return e()})))):Hr(s,i.map((function(e){return e()})))}},t.memberExpressionHandler=function(e){var t=this.createClosure(e.object),r=this.createMemberKeyGetter(e);return function(){return t()[r()]}},t.thisExpressionHandler=function(e){var t=this;return function(){return t.getCurrentContext()}},t.sequenceExpressionHandler=function(e){var t=this,r=e.expressions.map((function(e){return t.createClosure(e)}));return function(){for(var e,t=r.length,n=0;n<t;n++)e=(0,r[n])();return e}},t.literalHandler=function(e){return function(){return e.regex?new RegExp(e.regex.pattern,e.regex.flags):e.value}},t.identifierHandler=function(e){var t=this;return function(){var r=t.getCurrentScope(),n=t.getScopeDataFromName(e.name,r);return t.assertVariable(n,e.name,e),n[e.name]}},t.getIdentifierScope=function(e){var t=this.getCurrentScope();return this.getScopeFromName(e.name,t)},t.assignmentExpressionHandler=function(e){var t=this;"Identifier"!==e.left.type||"FunctionExpression"!==e.right.type||e.right.id||(e.right.id={type:"Identifier",name:e.left.name});var r=this.createObjectGetter(e.left),n=this.createNameGetter(e.left),i=this.createClosure(e.right);return function(){var s=r(),a=n(),o=i();switch("="!==e.operator&&t.assertVariable(s,a,e),e.operator){case"=":return s[a]=o;case"+=":return s[a]+=o;case"-=":return s[a]-=o;case"*=":return s[a]*=o;case"**=":return s[a]=Math.pow(s[a],o);case"/=":return s[a]/=o;case"%=":return s[a]%=o;case"<<=":return s[a]<<=o;case">>=":return s[a]>>=o;case">>>=":return s[a]>>>=o;case"&=":return s[a]&=o;case"^=":return s[a]^=o;case"|=":return s[a]|=o;default:throw t.createInternalThrowError(Vr.AssignmentExpressionSyntaxError,e.type,e)}}},t.functionDeclarationHandler=function(e){if(e.id){var t=this.functionExpressionHandler(e);Object.defineProperty(t,"isFunctionDeclareClosure",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.funcDeclaration(e.id.name,t)}return function(){return zr}},t.getVariableName=function(e){if("Identifier"===e.type)return e.name;throw this.createInternalThrowError(Vr.VariableTypeSyntaxError,e.type,e)},t.variableDeclarationHandler=function(e){for(var t,r=this,n=[],i=0;i<e.declarations.length;i++){var s=e.declarations[i];this.varDeclaration(this.getVariableName(s.id)),s.init&&n.push({type:"AssignmentExpression",operator:"=",left:s.id,right:s.init})}return n.length&&(t=this.createClosure({type:"BlockStatement",body:n})),function(){if(t){var e=r.isVarDeclMode;r.isVarDeclMode=!0,t(),r.isVarDeclMode=e}return zr}},t.assertVariable=function(e,t,r){if(e===this.globalScope.data&&!(t in e))throw this.createInternalThrowError(Vr.VariableUndefinedReferenceError,t,r)},t.programHandler=function(e){var t=this,r=e.body.map((function(e){return t.createClosure(e)}));return function(){for(var e=zr,n=0;n<r.length;n++){var i=r[n],s=t.setValue(i());if(s!==zr&&((e=s)instanceof nn||e instanceof sn||e instanceof an||e===$r||e===qr))break}return e}},t.expressionStatementHandler=function(e){return this.createClosure(e.expression)},t.emptyStatementHandler=function(e){return function(){return zr}},t.returnStatementHandler=function(e){var t=e.argument?this.createClosure(e.argument):un;return function(){return new nn(t())}},t.ifStatementHandler=function(e){var t=this.createClosure(e.test),r=this.createClosure(e.consequent),n=e.alternate?this.createClosure(e.alternate):function(){return zr};return function(){return t()?r():n()}},t.conditionalExpressionHandler=function(e){return this.ifStatementHandler(e)},t.forStatementHandler=function(e){var t=this,r=un,n=e.test?this.createClosure(e.test):function(){return!0},i=un,s=this.createClosure(e.body);return"ForStatement"===e.type&&(r=e.init?this.createClosure(e.init):r,i=e.update?this.createClosure(e.update):un),function(a){var o,u=zr,c="DoWhileStatement"===e.type;for(a&&"LabeledStatement"===a.type&&(o=a.label.name),r();c||n();i()){c=!1;var l=t.setValue(s());if(l!==zr&&l!==qr){if(l===$r)break;if((u=l)instanceof an&&u.value===o)u=zr;else if(u instanceof nn||u instanceof sn||u instanceof an)break}}return u}},t.whileStatementHandler=function(e){return this.forStatementHandler(e)},t.doWhileStatementHandler=function(e){return this.forStatementHandler(e)},t.forInStatementHandler=function(e){var t=this,r=e.left,n=this.createClosure(e.right),i=this.createClosure(e.body);return"VariableDeclaration"===e.left.type&&(this.createClosure(e.left)(),r=e.left.declarations[0].id),function(e){var s,a,o=zr;e&&"LabeledStatement"===e.type&&(s=e.label.name);var u=n();for(a in u){t.assignmentExpressionHandler({type:"AssignmentExpression",operator:"=",left:r,right:{type:"Literal",value:a}})();var c=t.setValue(i());if(c!==zr&&c!==qr){if(c===$r)break;if((o=c)instanceof an&&o.value===s)o=zr;else if(o instanceof nn||o instanceof sn||o instanceof an)break}}return o}},t.withStatementHandler=function(e){var t=this,r=this.createClosure(e.object),n=this.createClosure(e.body);return function(){var e=r(),i=t.getCurrentScope(),s=new on(e,i,Qr);t.setCurrentScope(s);var a=t.setValue(n());return t.setCurrentScope(i),a}},t.throwStatementHandler=function(e){var t=this,r=this.createClosure(e.argument);return function(){throw t.setValue(void 0),r()}},t.tryStatementHandler=function(e){var t=this,r=this.createClosure(e.block),n=e.handler?this.catchClauseHandler(e.handler):null,i=e.finalizer?this.createClosure(e.finalizer):null;return function(){var e,s,a=t.getCurrentScope(),o=t.getCurrentContext(),u=a.labelStack.concat([]),c=t.callStack.concat([]),l=zr,h=function(){t.setCurrentScope(a),t.setCurrentContext(o),a.labelStack=u,t.callStack=c};try{(l=t.setValue(r()))instanceof nn&&(e=l)}catch(r){if(h(),t.isInterruptThrow(r))throw r;if(n)try{(l=t.setValue(n(r)))instanceof nn&&(e=l)}catch(e){if(h(),t.isInterruptThrow(e))throw e;s=e}}if(i)try{(l=i())instanceof nn&&(e=l)}catch(e){if(h(),t.isInterruptThrow(e))throw e;s=e}if(s)throw s;return e||l}},t.catchClauseHandler=function(e){var t=this,r=this.createParamNameGetter(e.param),n=this.createClosure(e.body);return function(e){var i,s=t.getCurrentScope().data,a=r(),o=Wr.call(s,a),u=s[a];return s[a]=e,i=n(),o?s[a]=u:delete s[a],i}},t.continueStatementHandler=function(e){return function(){return e.label?new an(e.label.name):qr}},t.breakStatementHandler=function(e){return function(){return e.label?new sn(e.label.name):$r}},t.switchStatementHandler=function(e){var t=this,r=this.createClosure(e.discriminant),n=e.cases.map((function(e){return t.switchCaseHandler(e)}));return function(){for(var e,i,s,a=r(),o=!1,u=0;u<n.length;u++){var c=n[u](),l=c.testClosure();if(l!==Jr){if(o||l===a){if(o=!0,(i=t.setValue(c.bodyClosure()))===zr)continue;if(i===$r)break;if((e=i)instanceof nn||e instanceof sn||e instanceof an||e===qr)break}}else s=c}return!o&&s&&((i=t.setValue(s.bodyClosure()))===zr||i===$r||(e=i)),e}},t.switchCaseHandler=function(e){var t=e.test?this.createClosure(e.test):function(){return Jr},r=this.createClosure({type:"BlockStatement",body:e.consequent});return function(){return{testClosure:t,bodyClosure:r}}},t.labeledStatementHandler=function(e){var t=this,r=e.label.name,n=this.createClosure(e.body);return function(){var i,s=t.getCurrentScope();return s.labelStack.push(r),(i=n(e))instanceof sn&&i.value===r&&(i=zr),s.labelStack.pop(),i}},t.debuggerStatementHandler=function(e){return function(){return zr}},t.createParamNameGetter=function(e){if("Identifier"===e.type)return function(){return e.name};throw this.createInternalThrowError(Vr.ParamTypeSyntaxError,e.type,e)},t.createObjectKeyGetter=function(e){var t;return t="Identifier"===e.type?function(){return e.name}:this.createClosure(e),function(){return t()}},t.createMemberKeyGetter=function(e){return e.computed?this.createClosure(e.property):this.createObjectKeyGetter(e.property)},t.createObjectGetter=function(e){var t=this;switch(e.type){case"Identifier":return function(){return t.getScopeDataFromName(e.name,t.getCurrentScope())};case"MemberExpression":return this.createClosure(e.object);default:throw this.createInternalThrowError(Vr.AssignmentTypeSyntaxError,e.type,e)}},t.createNameGetter=function(e){switch(e.type){case"Identifier":return function(){return e.name};case"MemberExpression":return this.createMemberKeyGetter(e);default:throw this.createInternalThrowError(Vr.AssignmentTypeSyntaxError,e.type,e)}},t.varDeclaration=function(e){this.collectDeclVars[e]=void 0},t.funcDeclaration=function(e,t){this.collectDeclFuncs[e]=t},t.addDeclarationsToScope=function(e,t,r){var n=r.data;for(var i in t){var s=t[i];n[i]=s?s():s}for(var a in e)a in n||(n[a]=void 0)},t.getScopeValue=function(e,t){return this.getScopeFromName(e,t).data[e]},t.getScopeDataFromName=function(e,t){return this.getScopeFromName(e,t).data},t.getScopeFromName=function(e,t){var r=t;do{if(e in r.data)return r}while(r=r.parent);return this.globalScope},t.setValue=function(e){var t=this.callStack.length;return this.isVarDeclMode||t||e===zr||e===$r||e===qr||e instanceof sn||e instanceof an||(this.value=e instanceof nn?e.value:e),e},t.getValue=function(){return this.value},e}();hn.version="1.4.7",hn.eval=tn,hn.Function=rn,hn.ecmaVersion=5,hn.globalContextInFunction=void 0,hn.global=Object.create(null);var pn=function(e,t,r){return function(e,t,r){return new hn(t,r).evaluate(e)}(e,t,r)},dn=(e,t,n)=>{var i=new We(e);r.g.__debugMessager=i;var s=new Me(i),a=new Ge(i),o=new Qe(i);return new qe(t,i),new $e(t,n,s,a,o),{__remoteDebug__:{setAppserviceHandlers:e=>{var r,n;e&&(n=t,fe=(r=e).getCurrentPages,ge=r.invokeWebviewMethod,ve=r.__appServiceEngine__,be=r.__appServiceSDK__,ye=r.exparser,xe=r.Reporter,me=r.wx,we=r.__virtualDOM__,"function"==typeof __passWAServiceGlobal__&&__passWAServiceGlobal__({__appServiceSDK__:be,__appServiceEngine__:ve,exparser:ye,Reporter:xe,WeixinJSBridge:n,wx:me,__virtualDOM__:we}))},setAutoTestHandler:je,$$eval:pn}}};function fn(e,r,n,a,o){var u={},c=dn(n,o,__WeixinJSCore__);return"ios"===e&&(u=function(e,t,r){var n=new i(t),a=new s({suspend(){e.suspend()},resume(){e.resume()}});Z=new ne(a,r),ee=new se(Z);var o=new ce(n,Z),u=new ue(n,Z),c=new he(n,Z,ee),l=new le(n),h=new pe(n);return new oe(n,o,u,c,l,h).dispatch(),{runtime:Z,debuggerInst:ee}}(r,n,a)),t()(t()({},u),c)}}(),__AppServiceRemoteDebugger__=n.default}(),(()=>{var e={8949:e=>{function t(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,s){var a=e.apply(r,n);function o(e){t(a,i,s,o,u,"next",e)}function u(e){t(a,i,s,o,u,"throw",e)}o(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},157:(e,t,r)=>{var n=r(4182);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},8798:(e,t,r)=>{var n=r(157);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},9226:(e,t,r)=>{var n=r(7309).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4182:(e,t,r)=>{var n=r(7309).default,i=r(9226);e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},7309:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2168:(e,t,r)=>{var n=r(19),i=r(9479),s=r(2999),a=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols;t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.prototype,u=void 0===r||r,c=t.unenumerable,l=void 0!==c&&c,h=t.symbol,p=void 0!==h&&h,d=[];if((l||p)&&a){var f=n;l&&a&&(f=a);do{d=d.concat(f(e)),p&&o&&(d=d.concat(o(e)))}while(u&&(e=i(e))&&e!==Object.prototype);d=s(d)}else if(u)for(var g in e)d.push(g);else d=n(e);return d},e.exports=t},7700:(e,t,r)=>{var n=r(3956);t=n((function(e,t,r){return n((function(n){return e.apply(t,r.concat(n))}))})),e.exports=t},6707:(e,t,r)=>{var n=r(5217),i=r(6432);t=function(e,t){if(i(e))return e;if(t&&n(t,e))return[e];var r=[];return e.replace(s,(function(e,t,n,i){r.push(n?i.replace(a,"$1"):t||e)})),r};var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;e.exports=t},8935:(e,t,r)=>{var n=r(6773),i=r(6432),s=r(2555);t=function(e){return n(e)?i(e)?e.slice():s({},e):e},e.exports=t},3013:(e,t,r)=>{var n=r(8109);t=function(){for(var e=n(arguments),t=[],r=0,i=e.length;r<i;r++)t=t.concat(n(e[r]));return t},e.exports=t},743:(e,t,r)=>{var n=r(2243),i=r(7104),s=r(1139),a=r(5021);t=function(e,t){return i(e)?e.indexOf(t)>-1:(s(e)||(e=a(e)),n(e,t)>=0)},e.exports=t},7443:(e,t,r)=>{var n=r(4284),i=r(5213);t=function(e,t){return function(r){return i(arguments,(function(s,a){if(0!==a){var o=e(s);i(o,(function(e){t&&!n(r[e])||(r[e]=s[e])}))}})),r}},e.exports=t},5213:(e,t,r)=>{var n=r(1139),i=r(19),s=r(9050);t=function(e,t,r){var a,o;if(t=s(t,r),n(e))for(a=0,o=e.length;a<o;a++)t(e[a],a,e);else{var u=i(e);for(a=0,o=u.length;a<o;a++)t(e[u[a]],u[a],e)}return e},e.exports=t},570:(e,t)=>{t=function(e,t){var r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r},e.exports=t},2555:(e,t,r)=>{t=r(7443)(r(2168)),e.exports=t},5979:(e,t,r)=>{var n=r(19);t=r(7443)(n),e.exports=t},1464:(e,t,r)=>{var n=r(2153),i=r(5213);t=function(e,t,r){var s=[];return t=n(t,r),i(e,(function(e,r,n){t(e,r,n)&&s.push(e)})),s},e.exports=t},1505:(e,t,r)=>{var n=r(7969),i=r(2400),s=r(5075),a=r(7104);t=function(e){var t,r,u=i(a(e)?e:n(e));s(u,"async")||s(u,"function")||s(u,"(")?(t=u.indexOf("(")+1,r=u.indexOf(")")):(t=0,r=u.indexOf("=>"));var c=u.slice(t,r);return null===(c=c.match(o))?[]:c};var o=/[^\s,]+/g;e.exports=t},9479:(e,t,r)=>{var n=r(6773),i=r(6395),s=Object.getPrototypeOf,a={}.constructor;t=function(e){if(n(e)){if(s)return s(e);var t=e.__proto__;return t||null===t?t:i(e.constructor)?e.constructor.prototype:e instanceof a?a.prototype:void 0}},e.exports=t},5217:(e,t)=>{var r=Object.prototype.hasOwnProperty;t=function(e,t){return r.call(e,t)},e.exports=t},2474:(e,t)=>{t=function(e){return e},e.exports=t},2243:(e,t)=>{t=function(e,t,r){return Array.prototype.indexOf.call(e,t,r)},e.exports=t},6432:(e,t,r)=>{var n=r(7870);t=Array.isArray?Array.isArray:function(e){return"[object Array]"===n(e)},e.exports=t},1139:(e,t,r)=>{var n=r(3293),i=r(6395),s=Math.pow(2,53)-1;t=function(e){if(!e)return!1;var t=e.length;return n(t)&&t>=0&&t<=s&&!i(e)},e.exports=t},6395:(e,t,r)=>{var n=r(7870);t=function(e){var t=n(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},e.exports=t},3445:(e,t,r)=>{var n=r(19);t=function(e,t){var r=n(t),i=r.length;if(null==e)return!i;e=Object(e);for(var s=0;s<i;s++){var a=r[s];if(t[a]!==e[a]||!(a in e))return!1}return!0},e.exports=t},6159:(e,t)=>{t=function(e){return null==e},e.exports=t},3293:(e,t,r)=>{var n=r(7870);t=function(e){return"[object Number]"===n(e)},e.exports=t},6773:(e,t)=>{t=function(e){var t=typeof e;return!!e&&("function"===t||"object"===t)},e.exports=t},8079:(e,t,r)=>{var n=r(6773),i=r(6395);t=function(e){return n(e)&&i(e.then)&&i(e.catch)},e.exports=t},7104:(e,t,r)=>{var n=r(7870);t=function(e){return"[object String]"===n(e)},e.exports=t},4284:(e,t)=>{t=function(e){return void 0===e},e.exports=t},19:(e,t,r)=>{var n=r(5217);t=Object.keys?Object.keys:function(e){var t=[];for(var r in e)n(e,r)&&t.push(r);return t},e.exports=t},3480:(e,t)=>{t=function(e){var t=e?e.length:0;if(t)return e[t-1]},e.exports=t},9409:(e,t)=>{var r=/^\s+/;t=function(e,t){if(null==t)return e.trimLeft?e.trimLeft():e.replace(r,"");for(var n,i,s=0,a=e.length,o=t.length,u=!0;u&&s<a;)for(u=!1,n=-1,i=e.charAt(s);++n<o;)if(i===t[n]){u=!0,s++;break}return s>=a?"":e.substr(s,a)},e.exports=t},9924:(e,t,r)=>{var n=r(2153),i=r(19),s=r(1139);t=function(e,t,r){t=n(t,r);for(var a=!s(e)&&i(e),o=(a||e).length,u=Array(o),c=0;c<o;c++){var l=a?a[c]:c;u[c]=t(e[l],l,e)}return u},e.exports=t},2682:(e,t,r)=>{var n=r(5979),i=r(3445);t=function(e){return e=n({},e),function(t){return i(t,e)}},e.exports=t},3283:(e,t)=>{t=function(){},e.exports=t},6398:(e,t)=>{t=Date.now?Date.now:function(){return(new Date).getTime()},e.exports=t},7870:(e,t)=>{var r=Object.prototype.toString;t=function(e){return r.call(e)},e.exports=t},9050:(e,t,r)=>{var n=r(4284);t=function(e,t,r){if(n(t))return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,s){return e.call(t,r,n,i,s)}}return function(){return e.apply(t,arguments)}},e.exports=t},8350:(e,t,r)=>{var n=r(6432),i=r(8191);t=function(e){return n(e)?function(t){return i(t,e)}:(t=e,function(e){return null==e?void 0:e[t]});var t},e.exports=t},3956:(e,t)=>{t=function(e,t){return t=null==t?e.length-1:+t,function(){var r,n=Math.max(arguments.length-t,0),i=new Array(n);for(r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var s=new Array(t+1);for(r=0;r<t;r++)s[r]=arguments[r];return s[t]=i,e.apply(this,s)}},e.exports=t},8320:(e,t)=>{t=function(e,t){if(null==t){if(e.trimRight)return e.trimRight();t=" \r\n\t\f\v"}for(var r,n,i=e.length-1,s=t.length,a=!0;a&&i>=0;)for(a=!1,r=-1,n=e.charAt(i);++r<s;)if(n===t[r]){a=!0,i--;break}return i>=0?e.substring(0,i+1):""},e.exports=t},2153:(e,t,r)=>{var n=r(6395),i=r(6773),s=r(6432),a=r(9050),o=r(2682),u=r(2474),c=r(8350);t=function(e,t,r){return null==e?u:n(e)?a(e,t,r):i(e)&&!s(e)?o(e):c(e)},e.exports=t},8191:(e,t,r)=>{var n=r(4284),i=r(6707);t=function(e,t){var r;for(r=(t=i(t,e)).shift();!n(r);){if(null==(e=e[r]))return;r=t.shift()}return e},e.exports=t},3698:(e,t)=>{t=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.exports=t},5075:(e,t)=>{t=function(e,t){return 0===e.indexOf(t)},e.exports=t},2400:(e,t)=>{t=function(e){for(var t={singleQuote:!1,doubleQuote:!1,regex:!1,blockComment:!1,lineComment:!1,condComp:!1},r=0,n=(e=("__"+e+"__").split("")).length;r<n;r++)if(t.regex)"/"===e[r]&&"\\"!==e[r-1]&&(t.regex=!1);else if(t.singleQuote)"'"===e[r]&&"\\"!==e[r-1]&&(t.singleQuote=!1);else if(t.doubleQuote)'"'===e[r]&&"\\"!==e[r-1]&&(t.doubleQuote=!1);else if(t.blockComment)"*"===e[r]&&"/"===e[r+1]&&(e[r+1]="",t.blockComment=!1),e[r]="";else if(t.lineComment)"\n"===e[r+1]&&(t.lineComment=!1),e[r]="";else if(t.doubleQuote='"'===e[r],t.singleQuote="'"===e[r],"/"===e[r]){if("*"===e[r+1]){e[r]="",t.blockComment=!0;continue}if("/"===e[r+1]){e[r]="",t.lineComment=!0;continue}t.regex=!0}return e.join("").slice(2,-2)},e.exports=t},8109:(e,t,r)=>{var n=r(1139),i=r(9924),s=r(6432),a=r(7104);t=function(e){return e?s(e)?e:n(e)&&!a(e)?i(e):[e]:[]},e.exports=t},7969:(e,t,r)=>{var n=r(6159);t=function(e){if(n(e))return"";try{return i.call(e)}catch(e){}try{return e+""}catch(e){}return""};var i=Function.prototype.toString;e.exports=t},9059:(e,t,r)=>{var n=r(9409),i=r(8320);t=function(e,t){return null==t&&e.trim?e.trim():n(i(e,t),t)},e.exports=t},2999:(e,t,r)=>{var n=r(1464);function i(e,t){return e===t}t=function(e,t){return t=t||i,n(e,(function(e,r,n){for(var i=n.length;++r<i;)if(t(e,n[r]))return!1;return!0}))},e.exports=t},5021:(e,t,r)=>{var n=r(5213);t=function(e){var t=[];return n(e,(function(e){t.push(e)})),t},e.exports=t},3236:(e,t,r)=>{var n=r(6398);t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;function i(){return new Promise((function(t,r){try{t(e())}catch(e){r(e)}}))}return new Promise((function(e,s){var a=n(),o=function(){i().then((function(i){var u=n()-a;i?e(i):t&&u>=t?s(Error("Wait timed out after ".concat(t," ms"))):setTimeout(o,r)}),s)};o()}))},e.exports=t}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(8949),t=r.n(e),n=r(8798),i=r.n(n),s=r(5075),a=r.n(s),o=r(570),u=r.n(o),c=r(743),l=r.n(c),h=r(1505),p=r.n(h),d=r.g.Function,f=Object.getPrototypeOf(t()((function*(){}))).constructor;function g(e){return!a()(e,"on")&&!a()(e,"off")}function m(e){return u()(e,"Sync")||l()(v,e)}var v=["stopRecord","getRecorderManager","pauseVoice","stopVoice","pauseBackgroundAudio","stopBackgroundAudio","getBackgroundAudioManager","createAudioContext","createInnerAudioContext","createVideoContext","createCameraContext","createMapContext","canIUse","startAccelerometer","stopAccelerometer","startCompass","stopCompass","hideToast","hideLoading","showNavigationBarLoading","hideNavigationBarLoading","navigateBack","createAnimation","pageScrollTo","createSelectorQuery","createCanvasContext","createContext","drawCanvas","hideKeyboard","stopPullDownRefresh","arrayBufferToBase64","base64ToArrayBuffer"];function b(e){var t=p()(e);return"}"!==e[e.length-1]?t.push("return "+e.slice(e.indexOf("=>")+2)):t.push(e.slice(e.indexOf("{")+1,e.lastIndexOf("}"))),t}function y(){return r.g.__isAppServiceRemoteDebugMode__&&r.g.$$autoDebug}function x(e,t,n){return r.g.$$autoDebug.$eval("("+e+")",t,n)}function S(e,t,r){return _.apply(this,arguments)}function _(){return(_=t()((function*(e,t,n){return yield r.g.$$autoDebug.$eval("("+e+")",t,n)}))).apply(this,arguments)}function w(e,t){return C.apply(this,arguments)}function C(){return C=t()((function*(e,t,r=null){var n,i=b(e);return a()(e,"async")?y()?yield S(e,t,r):(n=f.apply(null,i),yield n.apply(r,t)):y()?x(e,t,r):(n=d.apply(null,i)).apply(r,t)})),C.apply(this,arguments)}function k(e,t,r=null){var n=b(e);return y()?x(e,t,r):d.apply(null,n).apply(r,t)}var E=r(3480),I=r.n(E),A=r(4284),O=r.n(A),P=r(6395),T=r.n(P),N=r(9059),R=r.n(N),D=r(8109),L=r.n(D),M=r(3013),F=r.n(M),j=r(7700),V=r.n(j),B=r(8935),H=r.n(B),U=r(3236),G=r.n(U),W=r.g.WeixinJSBridge,$=!1,q=[];function J(){$=!0;for(var e=0,t=q.length;e<t;e++)q[e]();q=[]}r.g.__wxConfig.clientDebug=!0;var z=Object.getOwnPropertyDescriptor(r.g,"WeixinJSBridge");W&&W.on?J():z&&!1===z.configurable?G()((()=>r.g.WeixinJSBridge&&r.g.WeixinJSBridge.on),5e3,50).then((()=>{W=r.g.WeixinJSBridge,J()})):Object.defineProperty(r.g,"WeixinJSBridge",{set(e){e&&e.on&&(W=e,J())},get:()=>W,configurable:!0});var Q={on:(...e)=>W.on(...e),publish:(...e)=>W.publish(...e),invoke(...e){var t;r.g.__isAppServiceRemoteDebugMode__&&"sendAutoMessage"===e[0]&&(null===(t=r.g.__debugMessager)||void 0===t||t.sendToDevtools(e[0],e[1]));return W.invoke(...e)},subscribe:(...e)=>W.subscribe(...e),onReady(e){$?e():q.push(e)}},K=r(5213),X=r.n(K),Y=r(3283),Z=r.n(Y),ee={},te=[],re=!1,ne=r.g.__passWAServiceGlobal__||Z();function ie(e){re?e(ee):te.push(e)}r.g.__passWAServiceGlobal__=function(e){X()(e,((e,t)=>{re=!0,"Protect"!==t&&(ee[t]=e)})),re&&(te.forEach((e=>{e(ee)})),te=[]),ne(e)};var se,ae,oe="https://servicewechat.com/",ue=`${oe}wxa-dev-logic/jslogin`,ce=`${oe}wxa-dev-logic/jsrefresh_session`,le=`${oe}wxa-dev-logic/jsoperatewxdata`,he=`${oe}wxa-dev-logic/jsauthorize`,pe=`${oe}wxa-dev-logic/jsauthorize-confirm`,de=`${oe}wxa-dev-logic/jsgetuserwxphone`,fe=`${oe}wxa-dev-logic/checkwerunstate`,ge=`${oe}wxa-dev-logic/getuserfillinfo`,me=`${oe}wxa-dev-logic/deleteuserfillinfo`,ve=`${oe}wxa-dev-logic/authuserfillinfo`,be=-12e3,ye=-12007,xe=r.g.__wxConfig,Se={};ie((e=>{var t;Se=(null==xe||null===(t=xe.debugLaunchInfo)||void 0===t?void 0:t.autoTest)||{},console.log("autoTestInfo..",Se),se=e.__appServiceSDK__._requestSkipCheckDomain,ae=Se.appid}));var _e=e=>{var{success:t,fail:r,complete:n}=e,s=(e.url||"").split("?")[0],a=[`newticket=${Se.newticket}`,`appid=${Se.appid}`,`clientversion=${Se.clientversion}`];return Se.testuser&&a.push(`testuser=${Se.testuser}`),e.url=`${s}?${a.join("&")}`,t||r||n?se(e):new Promise(((t,r)=>{se(i()(i()({},e),{},{success:t,fail:r}))}))},we=()=>ae;function Ce(e,t,r,n,s){_e({url:`${pe}`,method:"POST",data:{scope:r,opt:t?1:2},success:r=>{var a=r.data,o="fail request error";return a.baseresponse&&0===a.baseresponse.errcode&&(o=t?"ok":"fail auth deny"),n(i()({errMsg:`${e}:${o}`},s))}})}function ke(e,t,r){return _e({url:`${ue}`,method:"POST",data:{scope:["snsapi_base"]},success:t=>{var n=t.data;r({errMsg:`${e}:ok`,code:n.code})},fail:()=>{r({errMsg:`${e}:fail request fail`})}})}function Ee(e,t,r){return _e({url:`${ce}`,method:"POST",data:{scope:["snsapi_base"]},success:t=>{var n=t.data;r({errMsg:`${e}:ok`,expireIn:n.session_expire_in,err_code:n.baseresponse.errcode})},fail:()=>{r({errMsg:`${e}:fail request fail`})}})}function Ie(e,t,r,n){var i=n.scopeList;return _e({url:`${le}`,method:"POST",data:{data:JSON.stringify(t.data||{}),grant_scope:i[0].scope,opt:1},success:t=>{var n=t.data;return r({errMsg:`${e}:ok`,data:JSON.parse(n.data)})}})}function Ae(e,t,r){return Oe.apply(this,arguments)}function Oe(){return(Oe=t()((function*(e,t,r){var n={data:JSON.stringify(t.data||{})};return"webapi_plugin_setauth"===t.data.api_name&&(n.ext_info={source_env:2}),_e({url:`${le}`,method:"POST",data:n,success:n=>{var i=n.data,s=i.baseresponse;if(s){var a=i.baseresponse.errcode;if(0===a){var o=JSON.parse(i.data);return r({errMsg:`${e}:ok`,data:o})}return a===be?Ie(e,t,r,{imageUrl:i.appicon_url,appName:i.appname,scopeList:[i.scope]}):r(a===ye?{errMsg:`${e}:fail ${s.errmsg}`}:{errMsg:`${e}:fail ${s.errmsg}`,err_code:a})}r({errMsg:`${e}:fail no baseresponse`})},fail:()=>{r({errMsg:`${e}:fail response fail`})}})}))).apply(this,arguments)}function Pe(e,t,r){return _e({url:`${he}`,method:"POST",data:{scope:t.scope||[]},success:t=>{var n=t.data,i=n.baseresponse;if(i){var s=i.errcode;if(0===s)return r({errMsg:`${e}:ok`,body:n});if(s===be){var a=n.scope_list||[],o=[];return a.forEach((e=>{o.push(e.scope)})),Ce(e,!0,a,r)}}},fail:()=>{r({errMsg:`${e}:fail request fail`})}})}function Te(e,t,r){return _e({url:`${fe}`,method:"POST",data:{appid:we()},success:t=>{var n=t.data;if(1===n.state)return r({errMsg:`${e}:ok`});var i=n.wording||"USER_NOT_OPEN_WECHAT_MOVEMENT";return r({errMsg:`${e}:fail ${i}`})},fail:()=>{r({errMsg:`${e}:fail request fail`})}})}var Ne,Re,De={login:ke,refreshSession:Ee,operateWXData:Ae,authorize:Pe,openWeRunSetting:Te,getPhoneNumber:function(e,r,n){var i;_e({url:`${de}`,method:"POST",data:{appid:we()},success:(i=t()((function*(t){var r=t.data;console.log("getPhoneNumber",r);var i=r.jsapi_baseresponse,s=i?parseInt(i.errcode,10):-1e4;try{if(0===s){var a,o={};try{o=JSON.parse(r.data),a=JSON.parse(o.data)}catch(e){throw new Error(`GET_DATA_ERROR ${e}`)}if(!a||!a.mobile)throw new Error("USER_NOT_BOUND_PHONE");if(a.need_auth)throw new Error("PHONE_BOUND_NEED_VERIFIED");var u=[r.scope],c=[];return u.forEach((e=>{c.push(e.scope)})),Ce(e,!0,u,n,o)}throw-12001===s?new Error("APPID_NO_PERMISSIONS"):-12004===s?new Error("WX_LOGIN_FIRST"):new Error(`SYSTEM_ERROR errorCode:${s}`)}catch(t){return n({errMsg:`${e}:fail ${t}`})}})),function(e){return i.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},getUserAutoFillData:function(e,r,n){var i,s={appid:we(),get_all_info:!1,source:1,user_info_list:r.fields,client_version:r.clientVersion};_e({url:`${ge}`,method:"POST",data:s,success:(i=t()((function*(t){var r=t.data;n({errMsg:`${e}:ok`,userData:r.user_info_json||"{}",authStatus:r.auth_status,authInfo:r.auth_info,authGroupList:r.auth_group_list})})),function(e){return i.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},setUserAutoFillData:function(e,r,n){var i,s={appid:we(),source:1,user_info_json:r.dataList,client_version:r.clientVersion};_e({url:`${ge}`,method:"POST",data:s,success:(i=t()((function*(t){t.data,n({errMsg:`${e}:ok`})})),function(e){return i.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},deleteUserAutoFillData:function(e,r,n){var i,s={appid:we(),source:1,group_key:r.groupKey,group_id:r.groupId,client_version:r.clientVersion};_e({url:`${me}`,method:"POST",data:s,success:(i=t()((function*(t){t.data,n({errMsg:`${e}:ok`})})),function(e){return i.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})},requestAuthUserAutoFillData:function(e,r,n){var i,s={appid:we(),source:1,auth_info_list:r.fields||[],auth_status:r.authStatus,user_confirm:!0,client_version:r.clientVersion};_e({url:`${ve}`,method:"POST",data:s,success:(i=t()((function*(t){t.data,n({errMsg:`${e}:ok`})})),function(e){return i.apply(this,arguments)}),fail:()=>{n({errMsg:`${e}:fail request fail`})}})}};function Le(){return(Le=t()((function*(e){var{functionDeclaration:t,args:r}=e;return{result:yield w(t,r)}}))).apply(this,arguments)}function Me(){return(Me=t()((function*(){return I()((yield Fe()).pageStack)}))).apply(this,arguments)}function Fe(){return je.apply(this,arguments)}function je(){return(je=t()((function*(){return{pageStack:Ne.getCurrentPagesByDomain().map((e=>{var{route:t}=e,r=t.indexOf("__plugin__/");return r>-1&&(t="plugin-private://"+t.slice(r+11)),{pageId:e.__wxWebviewId__,path:t,query:e.options}}))}}))).apply(this,arguments)}var Ve={},Be={},He={},Ue={};function Ge(e,t=""){return t?`${t}_${e}`:e}function We(e=""){if(e){if(!Ve[e])throw Error(`Plugin ${e} not exists`);return Ve[e].wx}return"undefined"==typeof wx?Re:wx}function $e(){return $e=t()((function*(e){var{method:r,result:n,pluginId:i}=e,{functionDeclaration:s,args:a}=e,o=We(i);if(!o[r])throw Error(`wx.${r} not exists`);if(!g(r))throw Error(`You can't mock wx.${r}`);if(O()(n)&&O()(s))Je(r,i);else{var u;O()(n)||(s="function () {\n      return arguments[arguments.length - 1];\n    }",a=[n]);var c={origin:V()(qe(r,i),o)};u=m(r)?function(){return k(s,F()(L()(arguments),a),c)}:function(){var e=t()((function*(...e){var n=!1,i=e[0];if((O()(i)||O()(i.success)&&O()(i.fail)&&O()(i.complete))&&(n=!0),n)return a=F()(e,a),new Promise(function(){var e=t()((function*(e,t){var n=yield w(s,a,c);(n.errMsg||`${r}:ok`).indexOf(`${r}:ok`)>-1?e(n):t(n)}));return function(t,r){return e.apply(this,arguments)}}());var o=H()(i);delete o.success,delete o.fail,delete o.complete;var u=yield w(s,F()([o],a),c);(u.errMsg||`${r}:ok`).indexOf(`${r}:ok`)>-1?i.success&&i.success(u):i.fail&&i.fail(u),i.complete&&i.complete(u)}));return function(){return e.apply(this,arguments)}}(),ze(r,u,i)}})),$e.apply(this,arguments)}function qe(e,t){var r=We(t),n=Ge(e,t);if(Be[n])return He[n]?Be[n]():Be[n];var i=Object.getOwnPropertyDescriptor(r,e);return i&&i.get?i.get():r[e]}function Je(e,t){var r=We(t),n=Ge(e,t);Be[n]&&(Object.getOwnPropertyDescriptor(r,e)?He[n]?Object.defineProperty(r,e,{get:Be[n]}):Object.defineProperty(r,e,{value:Be[n]}):r[e]=Be[n],delete Be[n])}function ze(e,t,r){var n=We(r),i=Ge(e,r),s=Object.getOwnPropertyDescriptor(n,e);if(!Be[i]){var a,o=!1,u=!1;s?s.get?(o=!0,a=s.get):(u=!0,a=s.value):a=n[e],a&&(Ue[i]=u,He[i]=o,Be[i]=a)}s?Object.defineProperty(n,e,{get:()=>t}):n[e]=t}var Qe=["log","info","warn","error","debug"];function Ke(){return(Ke=t()((function*(){Qe.forEach((e=>{var t=console[e];console[e]=function(...r){Q.invoke("sendAutoMessage",{method:"App.logAdded",params:{type:e,args:r}}),T()(t)&&t.apply(console,r)}}))}))).apply(this,arguments)}function Xe(){return(Xe=t()((function*(e){var t,{name:n}=e,i=function(...e){Q.invoke("sendAutoMessage",{method:"App.bindingCalled",params:{name:n,args:e}})};r.g.__isAppServiceRemoteDebugMode__&&r.g.$$autoDebug?null===(t=r.g.$$autoDebug)||void 0===t||t.setSubContextGlobalFunctions(n,i):r.g[n]=i}))).apply(this,arguments)}function Ye(){return(Ye=t()((function*(){Q.invoke("exitMiniProgram",{})}))).apply(this,arguments)}function Ze(){return Ze=t()((function*(){return new Promise(((e,r)=>{function n(){r(Error("fail to capture screenshot"))}Q.invoke("private_captureScreen",{},function(){var r=t()((function*(t){var{errMsg:r}=t;if(l()(r,":ok")){var{tempFilePath:i}=t;qe("saveFile")({tempFilePath:i,success(t){var r=qe("getFileSystemManager")(),i=t.savedFilePath;r.readFile({filePath:i,encoding:"base64",success(t){qe("removeSavedFile")({filePath:i}),e({data:t.data})},fail(){n()}})},fail(){n()}})}else n()}));return function(e){return r.apply(this,arguments)}}())}))})),Ze.apply(this,arguments)}var et=r.g.__wxConfig;ie((e=>{var t,r,n;Ne=e.__appServiceEngine__,Re=e.wx;var i=null===(t=Ne)||void 0===t||null===(r=t.__getCreatePluginGlobal)||void 0===r?void 0:r.call(t),s=Ne.__setCreatePluginGlobal;if(null==s||s(((e,t)=>{var r=null==i?void 0:i(e,t);return Ve[e]=r,r})),e.Reporter.registerErrorListener((e=>{var t=e.split("\n");"MiniProgramError"===R()(t[0])&&(e=t[2],e=R()(e.replace(/^((Type)|(Range)|(Reference)|(Syntax))?Error:/,"")),Q.invoke("sendAutoMessage",{method:"App.exceptionThrown",params:{message:e,stack:t.slice(2).join("\n")}}))})),null!=et&&null!==(n=et.debugLaunchInfo)&&void 0!==n&&n.autoTest){var a=e.WeixinJSBridge.invoke;Object.defineProperty(e.WeixinJSBridge,"invoke",{value(...t){var[r,n,i,s]=t;return De[r]?De[r](r,n,i):a.apply(e.WeixinJSBridge,t)}}),e.WeixinJSBridge.subscribe("callAutoInvoke",(t=>{var{name:r,args:n,callbackId:i}=t;if(De[r])return De[r](r,n,(t=>{e.WeixinJSBridge.publish("callbackAutoInvoke",{callbackId:i,res:t})}))}))}}));var tt,rt,nt,it=r(8079),st=r.n(it),at=r(8191),ot=r.n(at);function ut(e){var t=tt.getCurrentPagesByDomain();for(var r of t)if(r.__wxWebviewId__===e)return r;throw Error("page destroyed")}ie((e=>{tt=e.__appServiceEngine__})),ie((e=>{rt=e.exparser,nt=e.__virtualDOM__}));var ct={"App.callWxMethod":function(e){var{method:t,pluginId:r}=e,n=We(r),{args:s}=e;return new Promise(((e,r)=>{if(!n[t])return r(Error(`wx.${t} not exists`));m(t)?e({result:n[t].apply(n,s)}):(s=s[0]||{},n[t](i()(i()({},s),{},{success(t){e({result:t})},fail(e){r(Error(e.errMsg.replace(`${t}:fail `,"")))}})))}))},"App.callFunction":function(e){return Le.apply(this,arguments)},"App.getCurrentPage":function(){return Me.apply(this,arguments)},"App.getPageStack":Fe,"App.mockWxMethod":function(e){return $e.apply(this,arguments)},"App.enableLog":function(){return Ke.apply(this,arguments)},"App.addBinding":function(e){return Xe.apply(this,arguments)},"App.exit":function(){return Ye.apply(this,arguments)},"App.captureScreenshot":function(){return Ze.apply(this,arguments)},"Page.setData":function(e){var{pageId:t,data:r}=e,n=ut(t);return new Promise((e=>{n.setData(r,(()=>{e()}))}))},"Page.getData":function(e){var{pageId:t,path:r}=e,n=ut(t),i=Object.assign({},n.data);return delete i.__webviewId__,r&&(i=ot()(i,r)),{data:i}},"Page.callMethod":function(e){var{method:t,args:r}=e,n=ut(e.pageId);return new Promise(((e,i)=>{if(!n[t])return i(Error(`page.${t} not exists`));var s=n[t].apply(n,r);st()(s)?s.then((t=>{e({result:t})}),i):e({result:s})}))},"Element.callMethod":function(e){var{nodeId:t,method:r,args:n,pageId:i}=e,s=nt.getNodeById(t,i);if(s)return new Promise(((e,t)=>{var i=rt.Element.getMethodCaller(s);if(!i[r])return t(Error(`component.${r} not exists`));var a=rt.safeCallback("Event Handler",i[r],i,n,s);st()(a)?a.then((t=>{e({result:t})}),t):e({result:a})}))},"Element.getData":function(e){var{nodeId:t,pageId:r,path:n}=e,i=nt.getNodeById(t,r).data;return n&&(i=ot()(i,n)),{data:i}},"Element.setData":function(e){var{nodeId:t,pageId:r,data:n}=e;nt.getNodeById(t,r).setData(n)},"Element.callContextMethod":function(e){var t,r,{nodeId:n,videoId:i,pageId:s,method:a,args:o}=e;if(t=n?nt.getNodeById(n,s):ut(s),!i)throw Error("id is not provided");return{result:(r=qe("createVideoContext")(i,t))[a].apply(r,o)}}},lt=r(3698),ht=r.n(lt);function pt(){return(pt=t()((function*(e,t){if(ct[e])return(yield ct[e](t))||{};throw Error(`appservice ${e} unimplemented`)}))).apply(this,arguments)}Q.onReady(t()((function*(){Q.on("onAutoMessageReceive",function(){var e=t()((function*(e){var{method:t,params:r,id:n}=e,i={id:n};if(O()(r.pageId)||ct[t])try{i.result=yield function(e,t){return pt.apply(this,arguments)}(t,r)}catch(e){i.error={message:e.message}}else try{return ut(r.pageId),void Q.publish("sendAutoMessage",e,[r.pageId])}catch(e){i.error={message:e.message}}Q.invoke("sendAutoMessage",i)}));return function(t){return e.apply(this,arguments)}}()),Q.subscribe("sendAutoMessage",(e=>{Q.invoke("sendAutoMessage",e)})),yield G()((()=>r.g.getCurrentPages&&r.g.getCurrentPages().length>0),0,50),yield ht()(1e3),Q.invoke("sendAutoMessage",{method:"App.initialized",params:{from:r.g.__isAppServiceRemoteDebugMode__?"appservice":"devtools"}})})))})()})();;this.__wxLibrary={fileName:"WAServiceMainContext.js",envType:"Service",contextType:"App:MainContext",execStart:Date.now(),mayHaveSnapshot:!1};var __WAServiceMainContextStartTime__=this.__wxLibrary.execStart;(function(e){var r={updateTime:"2023.2.19 23:36:18",version:"2.29.2",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,wkFeatureVersion:4,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,expt:["clicfg_appbrand_ios_native_download_new","clicfg_appbrand_native_download","clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_navigation_use_scl_alert_v5","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_appbrand_ios_game_split_multi_plugincode","clicfg_appbrand_game_split_multi_plugincode","clicfg_appbrand_android_tcp_buffer","clicfg_appbrand_ios_tcp_buffer","clicfg_weapp_weak_net_predict_local","clicfg_wa_ar_iosurface_switch","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_free_httpdns_sdk_cache","clicfg_appbrand_android_free_httpdns_sdk_cache","clicfg_appbrand_ios_inneraudio2webaudio","clicfg_appbrand_android_inneraudio2webaudio","clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio","clicfg_appbrand_android_inneraudio2webaudio_usewebaudio"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]}},debugOptions:{}},n={},i=e.Function,a=i,c={},l;(()=>{var e={7967:(e,t,r)=>{var n={"./applyDecoratedDescriptor":4725,"./asyncToGenerator":2222,"./extends":1211,"./initializerDefineProperty":6460,"./initializerWarningHelper":9279,"./objectSpread2":4178,"./objectWithoutProperties":3724};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=7967},4725:(e,t,r)=>{"use strict";function n(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}r.r(t),r.d(t,{default:()=>n})},2222:(e,t,r)=>{"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>i})},1211:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.r(t),r.d(t,{default:()=>n})},6460:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(t),r.d(t,{default:()=>n})},9279:(e,t,r)=>{"use strict";function n(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>n})},4178:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},3724:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.r(t),r.d(t,{default:()=>n})},2874:(e,t,r)=>{var n=r(2582),i=r(3396),a=r(5476),o=r(4386),s=a.data,c=a.normalize,l="USE_FUNCTION_CONSTRUCTOR",u="AsyncIteratorPrototype",d=function(e,t){if(i(e))for(var r=0;r<e.length;r++)s[c(e[r])]=t};e.exports=function(e){"object"==typeof e&&(d(e.useNative,a.NATIVE),d(e.usePolyfill,a.POLYFILL),d(e.useFeatureDetection,null),n(e,l)&&(o[l]=!!e[l]),n(e,u)&&(o[l]=e[u]))}},2799:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},5577:(e,t,r)=>{var n=r(3394);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},6964:(e,t,r)=>{var n=r(3461),i=r(8561),a=r(4142),o=n("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},8501:(e,t,r)=>{"use strict";var n=r(2430).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},2378:e=>{e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},372:(e,t,r)=>{var n=r(3394);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},2171:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9064:(e,t,r)=>{"use strict";var n,i=r(2171),o=r(1644),s=r(4380),c=r(3394),l=r(2582),u=r(9085),d=r(8528),p=r(9059),h=r(4142).f,f=r(4879),g=r(8476),v=r(3461),m=r(992),y=s.Int8Array,b=y&&y.prototype,_=s.Uint8ClampedArray,w=_&&_.prototype,I=y&&f(y),S=b&&f(b),k=Object.prototype,C=k.isPrototypeOf,E=v("toStringTag"),A=m("TYPED_ARRAY_TAG"),T=i&&!!g&&"Opera"!==u(s.opera),P=!1,x={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},R=function(e){if(!c(e))return!1;var t=u(e);return l(x,t)||l(M,t)};for(n in x)s[n]||(T=!1);if((!T||"function"!=typeof I||I===a.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},T))for(n in x)s[n]&&g(s[n],I);if((!T||!S||S===k)&&(S=I.prototype,T))for(n in x)s[n]&&g(s[n].prototype,S);if(T&&f(w)!==S&&g(w,S),o&&!l(S,E))for(n in P=!0,h(S,E,{get:function(){return c(this)?this[A]:void 0}}),x)s[n]&&d(s[n],A,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:P&&A,aTypedArray:function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(g){if(C.call(I,e))return e}else for(var t in x)if(l(x,n)){var r=s[t];if(r&&(e===r||C.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(o){if(r)for(var n in x){var i=s[n];if(i&&l(i.prototype,e))try{delete i.prototype[e]}catch(e){}}S[e]&&!r||p(S,e,r?t:T&&b[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(o){if(g){if(r)for(n in x)if((i=s[n])&&l(i,e))try{delete i[e]}catch(e){}if(I[e]&&!r)return;try{return p(I,e,r?t:T&&I[e]||t)}catch(e){}}for(n in x)!(i=s[n])||i[e]&&!r||p(i,e,t)}},isView:function(e){if(!c(e))return!1;var t=u(e);return"DataView"===t||l(x,t)||l(M,t)},isTypedArray:R,TypedArray:I,TypedArrayPrototype:S}},8806:(e,t,r)=>{"use strict";var n=r(4380),i=r(1644),a=r(2171),o=r(8528),s=r(6901),c=r(4330),l=r(2378),u=r(4072),d=r(4353),p=r(2961),h=r(5936),f=r(4879),g=r(8476),v=r(9819).f,m=r(4142).f,y=r(9625),b=r(923),_=r(9676),w=_.get,I=_.set,S="ArrayBuffer",k="DataView",C="prototype",E="Wrong index",A=n[S],T=A,P=n[k],x=P&&P[C],M=Object.prototype,R=n.RangeError,D=h.pack,O=h.unpack,L=function(e){return[255&e]},N=function(e){return[255&e,e>>8&255]},B=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},W=function(e){return D(e,23,4)},j=function(e){return D(e,52,8)},V=function(e,t){m(e[C],t,{get:function(){return w(this)[t]}})},U=function(e,t,r,n){var i=p(r),a=w(e);if(i+t>a.byteLength)throw R(E);var o=w(a.buffer).bytes,s=i+a.byteOffset,c=o.slice(s,s+t);return n?c:c.reverse()},$=function(e,t,r,n,i,a){var o=p(r),s=w(e);if(o+t>s.byteLength)throw R(E);for(var c=w(s.buffer).bytes,l=o+s.byteOffset,u=n(+i),d=0;d<t;d++)c[l+d]=u[a?d:t-d-1]};if(a){if(!c((function(){A(1)}))||!c((function(){new A(-1)}))||c((function(){return new A,new A(1.5),new A(NaN),A.name!=S}))){for(var z,q=(T=function(e){return l(this,T),new A(p(e))})[C]=A[C],H=v(A),G=0;H.length>G;)(z=H[G++])in T||o(T,z,A[z]);q.constructor=T}g&&f(x)!==M&&g(x,M);var K=new P(new T(2)),J=x.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||s(x,{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){l(this,T,S);var t=p(e);I(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},P=function(e,t,r){l(this,P,k),l(e,T,k);var n=w(e).byteLength,a=u(t);if(a<0||a>n)throw R("Wrong offset");if(a+(r=void 0===r?n-a:d(r))>n)throw R("Wrong length");I(this,{buffer:e,byteLength:r,byteOffset:a}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=a)},i&&(V(T,"byteLength"),V(P,"buffer"),V(P,"byteLength"),V(P,"byteOffset")),s(P[C],{getInt8:function(e){return U(this,1,e)[0]<<24>>24},getUint8:function(e){return U(this,1,e)[0]},getInt16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return F(U(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return F(U(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return O(U(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return O(U(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){$(this,1,e,L,t)},setUint8:function(e,t){$(this,1,e,L,t)},setInt16:function(e,t){$(this,2,e,N,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){$(this,2,e,N,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){$(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){$(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){$(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){$(this,8,e,j,t,arguments.length>2?arguments[2]:void 0)}});b(T,S),b(P,k),e.exports={ArrayBuffer:T,DataView:P}},9625:(e,t,r)=>{"use strict";var n=r(5141),i=r(6156),a=r(4353);e.exports=function(e){for(var t=n(this),r=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),c=o>2?arguments[2]:void 0,l=void 0===c?r:i(c,r);l>s;)t[s++]=e;return t}},6550:(e,t,r)=>{var n=r(4749),i=r(4353),a=r(6156),o=function(e){return function(t,r,o){var s,c=n(t),l=i(c.length),u=a(o,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},4832:(e,t,r)=>{var n=r(1466),i=r(3043),a=r(5141),o=r(4353),s=function(e){var t=6==e;return function(r,s,c){for(var l,u=a(r),d=i(u),p=n(s,c,3),h=o(d.length);h-- >0;)if(p(l=d[h],h,u))switch(e){case 5:return l;case 6:return h}return t?-1:void 0}};e.exports={findLast:s(5),findLastIndex:s(6)}},7139:(e,t,r)=>{var n=r(1466),i=r(3043),a=r(5141),o=r(4353),s=r(5484),c=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,u=4==e,d=6==e,p=7==e,h=5==e||d;return function(f,g,v,m){for(var y,b,_=a(f),w=i(_),I=n(g,v,3),S=o(w.length),k=0,C=m||s,E=t?C(f,S):r||p?C(f,0):void 0;S>k;k++)if((h||k in w)&&(b=I(y=w[k],k,_),e))if(t)E[k]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return k;case 2:c.call(E,y)}else switch(e){case 4:return!1;case 7:c.call(E,y)}return d?-1:l||u?u:E}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},9813:(e,t,r)=>{"use strict";var n=r(4330);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},4067:(e,t,r)=>{var n=r(2799),i=r(5141),a=r(3043),o=r(4353),s=function(e){return function(t,r,s,c){n(r);var l=i(t),u=a(l),d=o(l.length),p=e?d-1:0,h=e?-1:1;if(s<2)for(;;){if(p in u){c=u[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=h)p in u&&(c=r(c,u[p],p,l));return c}};e.exports={left:s(!1),right:s(!0)}},9091:e=>{var t=Math.floor,r=function(e,a){var o=e.length,s=t(o/2);return o<8?n(e,a):i(r(e.slice(0,s),a),r(e.slice(s),a),a)},n=function(e,t){for(var r,n,i=e.length,a=1;a<i;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},i=function(e,t,r){for(var n=e.length,i=t.length,a=0,o=0,s=[];a<n||o<i;)a<n&&o<i?s.push(r(e[a],t[o])<=0?e[a++]:t[o++]):s.push(a<n?e[a++]:t[o++]);return s};e.exports=r},5484:(e,t,r)=>{var n=r(3394),i=r(3396),a=r(3461)("species");e.exports=function(e,t){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[a])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},7303:(e,t,r)=>{"use strict";var n=r(3759),i=r(2799),a=r(372),o=r(8561),s=r(8528),c=r(6901),l=r(3461),u=r(9676),d=r(6274)("Promise"),p=u.set,h=u.get,f=l("toStringTag"),g=function(e){var t=h(this).iterator,r=t.return;return void 0===r?d.resolve({done:!0,value:e}):a(r.call(t,e))},v=function(e){var t=h(this).iterator,r=t.throw;return void 0===r?d.reject(e):r.call(t,e)};e.exports=function(e,t){var r=function(e){e.next=i(e.iterator.next),e.done=!1,p(this,e)};return r.prototype=c(o(n.AsyncIterator.prototype),{next:function(t){var r=h(this);if(r.done)return d.resolve({done:!0,value:void 0});try{return d.resolve(a(e.call(r,t,d)))}catch(e){return d.reject(e)}},return:g,throw:v}),t||s(r.prototype,f,"Generator"),r}},4445:(e,t,r)=>{"use strict";var n=r(2799),i=r(372),a=r(6274)("Promise"),o=[].push,s=function(e){var t=0==e,r=1==e,s=2==e,c=3==e;return function(e,l){i(e);var u=n(e.next),d=t?[]:void 0;return t||n(l),new a((function(n,p){var h=function(t,r){try{var n=e.return;if(void 0!==n)return a.resolve(n.call(e)).then((function(){t(r)}),(function(e){p(e)}))}catch(e){return p(e)}t(r)},f=function(e){h(p,e)},g=function(){try{a.resolve(i(u.call(e))).then((function(e){try{if(i(e).done)n(t?d:!c&&(s||void 0));else{var u=e.value;t?(o.call(d,u),g()):a.resolve(l(u)).then((function(e){r?g():s?e?g():h(n,!1):e?h(n,c||u):g()}),f)}}catch(e){f(e)}}),f)}catch(e){f(e)}};g()}))}};e.exports={toArray:s(0),forEach:s(1),every:s(2),some:s(3),find:s(4)}},9415:(e,t,r)=>{var n,i,o=r(4380),s=r(4386),c=r(4879),l=r(2582),u=r(8528),d=r(3461),p=r(3481),h="USE_FUNCTION_CONSTRUCTOR",f=d("asyncIterator"),g=o.AsyncIterator,v=s.AsyncIteratorPrototype;if(!p)if(v)n=v;else if("function"==typeof g)n=g.prototype;else if(s[h]||o[h])try{i=c(c(c(a("return async function*(){}()")()))),c(i)===Object.prototype&&(n=i)}catch(e){}n||(n={}),l(n,f)||u(n,f,(function(){return this})),e.exports=n},9841:(e,t,r)=>{var n=r(372),i=r(2976);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){throw i(e),t}}},5987:(e,t,r)=>{var n=r(3461)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},4849:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9085:(e,t,r)=>{var n=r(7427),i=r(4849),a=r(3461)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:o?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},8646:(e,t,r)=>{var n=r(2582),i=r(7534),a=r(294),o=r(4142);e.exports=function(e,t){for(var r=i(t),s=o.f,c=a.f,l=0;l<r.length;l++){var u=r[l];n(e,u)||s(e,u,c(t,u))}}},4580:(e,t,r)=>{var n=r(4330);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8859:(e,t,r)=>{"use strict";var n=r(2937).IteratorPrototype,i=r(8561),a=r(1074),o=r(923),s=r(1337),c=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";return e.prototype=i(n,{next:a(1,r)}),o(e,l,!1,!0),s[l]=c,e}},8528:(e,t,r)=>{var n=r(1644),i=r(4142),a=r(1074);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},1074:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7556:(e,t,r)=>{"use strict";var n=r(5698),i=r(4142),a=r(1074);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},1205:(e,t,r)=>{var n=r(3759),i=r(2582),a=r(1806),o=r(4142).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},1644:(e,t,r)=>{var n=r(4330);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8370:(e,t,r)=>{var n=r(4380),i=r(3394),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},6173:(e,t,r)=>{var n=r(661).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},8623:e=>{e.exports="object"==typeof window},5308:(e,t,r)=>{var n=r(661);e.exports=/MSIE|Trident/.test(n)},5692:(e,t,r)=>{var n=r(661);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},3986:(e,t,r)=>{var n=r(4849),i=r(4380);e.exports="process"==n(i.process)},8927:(e,t,r)=>{var n=r(661);e.exports=/web0s(?!.*chrome)/i.test(n)},661:(e,t,r)=>{var n=r(6274);e.exports=n("navigator","userAgent")||""},2136:(e,t,r)=>{var n,i,a=r(4380),o=r(661),s=a.process,c=s&&s.versions,l=c&&c.v8;l?i=(n=l.split("."))[0]<4?1:n[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},9632:(e,t,r)=>{var n=r(661).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},8398:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6753:(e,t,r)=>{var n=r(4380),i=r(294).f,a=r(8528),o=r(9059),s=r(485),c=r(8646),l=r(5476);e.exports=function(e,t){var r,u,d,p,h,f=e.target,g=e.global,v=e.stat;if(r=g?n:v?n[f]||s(f,{}):(n[f]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(h=i(r,u))&&h.value:r[u],!l(g?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(r,u,p,e)}}},4330:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},225:(e,t,r)=>{"use strict";r(9437);var n=r(9059),i=r(7879),a=r(4330),o=r(3461),s=r(8528),c=o("species"),l=RegExp.prototype;e.exports=function(e,t,r,u){var d=o(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!p||!h||r){var f=/./[d],g=t(d,""[e],(function(e,t,r,n,a){var o=t.exec;return o===i||o===l.exec?p&&!a?{done:!0,value:f.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}));n(String.prototype,e,g[0]),n(l,d,g[1])}u&&s(l[d],"sham",!0)}},6614:(e,t,r)=>{"use strict";var n=r(3396),i=r(4353),a=r(1466),o=function(e,t,r,s,c,l,u,d){for(var p,h=c,f=0,g=!!u&&a(u,d,3);f<s;){if(f in r){if(p=g?g(r[f],f,t):r[f],l>0&&n(p))h=o(e,t,p,i(p.length),h,l-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=p}h++}f++}return h};e.exports=o},1466:(e,t,r)=>{var n=r(2799);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},153:(e,t,r)=>{var n=r(5225),i=r(3461)("asyncIterator");e.exports=function(e){var t=e[i];return void 0===t?n(e):t}},6274:(e,t,r)=>{var n=r(3759),i=r(4380),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},5225:(e,t,r)=>{var n=r(9085),i=r(1337),a=r(3461)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},1884:(e,t,r)=>{var n=r(5141),i=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,c,l,u){var d=r+e.length,p=c.length,h=s;return void 0!==l&&(l=n(l),h=o),a.call(u,h,(function(n,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":o=l[a.slice(1,-1)];break;default:var s=+a;if(0===s)return n;if(s>p){var u=i(s/10);return 0===u?n:u<=p?void 0===c[u-1]?a.charAt(1):c[u-1]+a.charAt(1):n}o=c[s-1]}return void 0===o?"":o}))}},4380:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||a("return this")()},2582:(e,t,r)=>{var n=r(5141),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(n(e),t)}},2687:e=>{e.exports={}},916:(e,t,r)=>{var n=r(4380);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},7162:(e,t,r)=>{var n=r(6274);e.exports=n("document","documentElement")},3258:(e,t,r)=>{var n=r(1644),i=r(4330),a=r(8370);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},5936:e=>{var t=Math.abs,r=Math.pow,n=Math.floor,i=Math.log,a=Math.LN2;e.exports={pack:function(e,o,s){var c,l,u,d=new Array(s),p=8*s-o-1,h=(1<<p)-1,f=h>>1,g=23===o?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,m=0;for((e=t(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=n(i(e)/a),e*(u=r(2,-c))<1&&(c--,u*=2),(e+=c+f>=1?g/u:g*r(2,1-f))*u>=2&&(c++,u/=2),c+f>=h?(l=0,c=h):c+f>=1?(l=(e*u-1)*r(2,o),c+=f):(l=e*r(2,f-1)*r(2,o),c=0));o>=8;d[m++]=255&l,l/=256,o-=8);for(c=c<<o|l,p+=o;p>0;d[m++]=255&c,c/=256,p-=8);return d[--m]|=128*v,d},unpack:function(e,t){var n,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,c=a-7,l=i-1,u=e[l--],d=127&u;for(u>>=7;c>0;d=256*d+e[l],l--,c-=8);for(n=d&(1<<-c)-1,d>>=-c,c+=t;c>0;n=256*n+e[l],l--,c-=8);if(0===d)d=1-s;else{if(d===o)return n?NaN:u?-1/0:1/0;n+=r(2,t),d-=s}return(u?-1:1)*n*r(2,d-t)}}},3043:(e,t,r)=>{var n=r(4330),i=r(4849),a="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},2612:(e,t,r)=>{var n=r(3394),i=r(8476);e.exports=function(e,t,r){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==r&&n(o=a.prototype)&&o!==r.prototype&&i(e,o),e}},5487:(e,t,r)=>{var n=r(4386),i=a.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},9676:(e,t,r)=>{var n,i,a,o=r(8242),s=r(4380),c=r(3394),l=r(8528),u=r(2582),d=r(4386),p=r(1453),h=r(2687),f="Object already initialized",g=s.WeakMap;if(o||d.state){var v=d.state||(d.state=new g),m=v.get,y=v.has,b=v.set;n=function(e,t){if(y.call(v,e))throw new TypeError(f);return t.facade=e,b.call(v,e,t),t},i=function(e){return m.call(v,e)||{}},a=function(e){return y.call(v,e)}}else{var _=p("state");h[_]=!0,n=function(e,t){if(u(e,_))throw new TypeError(f);return t.facade=e,l(e,_,t),t},i=function(e){return u(e,_)?e[_]:{}},a=function(e){return u(e,_)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},588:(e,t,r)=>{var n=r(3461),i=r(1337),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},3396:(e,t,r)=>{var n=r(4849);e.exports=Array.isArray||function(e){return"Array"==n(e)}},5476:(e,t,r)=>{var n=r(4330),i=/#|\.prototype\./,a=function(e,t){var r=s[o(e)];return r==l||r!=c&&("function"==typeof t?n(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},3394:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},3481:e=>{e.exports=!1},8410:(e,t,r)=>{var n=r(3394),i=r(4849),a=r(3461)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},3984:(e,t,r)=>{var n=r(372),i=r(588),a=r(4353),o=r(1466),s=r(5225),c=r(2976),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var u,d,p,h,f,g,v,m=r&&r.that,y=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),_=!(!r||!r.INTERRUPTED),w=o(t,m,1+y+_),I=function(e){return u&&c(u),new l(!0,e)},S=function(e){return y?(n(e),_?w(e[0],e[1],I):w(e[0],e[1])):_?w(e,I):w(e)};if(b)u=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(i(d)){for(p=0,h=a(e.length);h>p;p++)if((f=S(e[p]))&&f instanceof l)return f;return new l(!1)}u=d.call(e)}for(g=u.next;!(v=g.call(u)).done;){try{f=S(v.value)}catch(e){throw c(u),e}if("object"==typeof f&&f&&f instanceof l)return f}return new l(!1)}},2976:(e,t,r)=>{var n=r(372);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},8212:(e,t,r)=>{"use strict";var n=r(3759),i=r(2799),a=r(372),o=r(8561),s=r(8528),c=r(6901),l=r(3461),u=r(9676),d=u.set,p=u.get,h=l("toStringTag"),f=function(e){var t=p(this).iterator,r=t.return;return void 0===r?{done:!0,value:e}:a(r.call(t,e))},g=function(e){var t=p(this).iterator,r=t.throw;if(void 0===r)throw e;return r.call(t,e)};e.exports=function(e,t){var r=function(e){e.next=i(e.iterator.next),e.done=!1,d(this,e)};return r.prototype=c(o(n.Iterator.prototype),{next:function(){var t=p(this),r=t.done?void 0:e.apply(t,arguments);return{done:t.done,value:r}},return:f,throw:g}),t||s(r.prototype,h,"Generator"),r}},2937:(e,t,r)=>{"use strict";var n,i,a,o=r(4330),s=r(4879),c=r(8528),l=r(2582),u=r(3461),d=r(3481),p=u("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(i=s(s(a)))!==Object.prototype&&(n=i):h=!0);var f=null==n||o((function(){var e={};return n[p].call(e)!==e}));f&&(n={}),d&&!f||l(n,p)||c(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},1337:e=>{e.exports={}},1684:(e,t,r)=>{var n,i,a,o,s,c,l,u,d=r(4380),p=r(294).f,h=r(4869).set,f=r(5692),g=r(8927),v=r(3986),m=d.MutationObserver||d.WebKitMutationObserver,y=d.document,b=d.process,_=d.Promise,w=p(d,"queueMicrotask"),I=w&&w.value;I||(n=function(){var e,t;for(v&&(e=b.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},f||v||g||!m||!y?_&&_.resolve?((l=_.resolve(void 0)).constructor=_,u=l.then,o=function(){u.call(l,n)}):o=v?function(){b.nextTick(n)}:function(){h.call(d,n)}:(s=!0,c=y.createTextNode(""),new m(n).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),e.exports=I||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},3535:(e,t,r)=>{var n=r(4380);e.exports=n.Promise},5845:(e,t,r)=>{var n=r(2136),i=r(4330);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8242:(e,t,r)=>{var n=r(4380),i=r(5487),a=n.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},3288:(e,t,r)=>{"use strict";var n=r(2799),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},8787:(e,t,r)=>{var n=r(4380),i=r(1380).trim,a=r(7612),o=n.parseFloat,s=1/o(a+"-0")!=-1/0;e.exports=s?function(e){var t=i(String(e)),r=o(t);return 0===r&&"-"==t.charAt(0)?-0:r}:o},8561:(e,t,r)=>{var n,i=r(372),a=r(7197),o=r(8398),s=r(2687),c=r(7162),l=r(8370),u=r(1453),d="prototype",p="script",h=u("IE_PROTO"),f=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},v=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,r;v=n?function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):(t=l("iframe"),r="java"+p+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F);for(var i=o.length;i--;)delete v[d][o[i]];return v()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[d]=i(e),r=new f,f[d]=null,r[h]=e):r=v(),void 0===t?r:a(r,t)}},7197:(e,t,r)=>{var n=r(1644),i=r(4142),a=r(372),o=r(5313);e.exports=n?Object.defineProperties:function(e,t){a(e);for(var r,n=o(t),s=n.length,c=0;s>c;)i.f(e,r=n[c++],t[r]);return e}},4142:(e,t,r)=>{var n=r(1644),i=r(3258),a=r(372),o=r(5698),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(a(e),t=o(t,!0),a(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},294:(e,t,r)=>{var n=r(1644),i=r(8078),a=r(1074),o=r(4749),s=r(5698),c=r(2582),l=r(3258),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(c(e,t))return a(!i.f.call(e,t),e[t])}},9819:(e,t,r)=>{var n=r(8891),i=r(8398).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},7840:(e,t)=>{t.f=Object.getOwnPropertySymbols},4879:(e,t,r)=>{var n=r(2582),i=r(5141),a=r(1453),o=r(4580),s=a("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},8891:(e,t,r)=>{var n=r(2582),i=r(4749),a=r(6550).indexOf,o=r(2687);e.exports=function(e,t){var r,s=i(e),c=0,l=[];for(r in s)!n(o,r)&&n(s,r)&&l.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~a(l,r)||l.push(r));return l}},5313:(e,t,r)=>{var n=r(8891),i=r(8398);e.exports=Object.keys||function(e){return n(e,i)}},8078:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},8476:(e,t,r)=>{var n=r(372),i=r(5577);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,a){return n(r),i(a),t?e.call(r,a):r.__proto__=a,r}}():void 0)},5686:(e,t,r)=>{var n=r(1644),i=r(5313),a=r(4749),o=r(8078).f,s=function(e){return function(t){for(var r,s=a(t),c=i(s),l=c.length,u=0,d=[];l>u;)r=c[u++],n&&!o.call(s,r)||d.push(e?[r,s[r]]:s[r]);return d}};e.exports={entries:s(!0),values:s(!1)}},7534:(e,t,r)=>{var n=r(6274),i=r(9819),a=r(7840),o=r(372);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(o(e)),r=a.f;return r?t.concat(r(e)):t}},3759:(e,t,r)=>{var n=r(4380);e.exports=n},561:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},3443:(e,t,r)=>{var n=r(372),i=r(3394),a=r(3288);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},6901:(e,t,r)=>{var n=r(9059);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},9059:(e,t,r)=>{var n=r(4380),i=r(8528),o=r(2582),s=r(485),c=r(5487),l=r(9676),u=l.get,d=l.enforce,p=String(String).split("String");(e.exports=function(e,t,r,a){var c,l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof t||o(r,"name")||i(r,"name",t),(c=d(r)).source||(c.source=p.join("string"==typeof t?t:""))),e!==n?(l?!h&&e[t]&&(u=!0):delete e[t],u?e[t]=r:i(e,t,r)):u?e[t]=r:s(t,r)})(a.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||c(this)}))},3519:(e,t,r)=>{var n=r(4849),i=r(7879);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},7879:(e,t,r)=>{"use strict";var n,i,a=r(2530),o=r(4016),s=r(138),c=r(8561),l=r(9676).get,u=r(2198),d=r(5618),p=RegExp.prototype.exec,h=s("native-string-replace",String.prototype.replace),f=p,g=(n=/a/,i=/b*/g,p.call(n,"a"),p.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),v=o.UNSUPPORTED_Y||o.BROKEN_CARET,m=void 0!==/()??/.exec("")[1];(g||m||v||u||d)&&(f=function(e){var t,r,n,i,o,s,u,d=this,y=l(d),b=y.raw;if(b)return b.lastIndex=d.lastIndex,t=f.call(b,e),d.lastIndex=b.lastIndex,t;var _=y.groups,w=v&&d.sticky,I=a.call(d),S=d.source,k=0,C=e;if(w&&(-1===(I=I.replace("y","")).indexOf("g")&&(I+="g"),C=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(S="(?: "+S+")",C=" "+C,k++),r=new RegExp("^(?:"+S+")",I)),m&&(r=new RegExp("^"+S+"$(?!\\s)",I)),g&&(n=d.lastIndex),i=p.call(w?r:d,C),w?i?(i.input=i.input.slice(k),i[0]=i[0].slice(k),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:g&&i&&(d.lastIndex=d.global?i.index+i[0].length:n),m&&i&&i.length>1&&h.call(i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&_)for(i.groups=s=c(null),o=0;o<_.length;o++)s[(u=_[o])[0]]=i[u[1]];return i}),e.exports=f},2530:(e,t,r)=>{"use strict";var n=r(372);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},4016:(e,t,r)=>{var n=r(4330),i=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},2198:(e,t,r)=>{var n=r(4330);e.exports=n((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},5618:(e,t,r)=>{var n=r(4330);e.exports=n((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},6190:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},485:(e,t,r)=>{var n=r(4380),i=r(8528);e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},8505:(e,t,r)=>{"use strict";var n=r(6274),i=r(4142),a=r(3461),o=r(1644),s=a("species");e.exports=function(e){var t=n(e),r=i.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},923:(e,t,r)=>{var n=r(4142).f,i=r(2582),a=r(3461)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},1453:(e,t,r)=>{var n=r(138),i=r(992),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},4386:(e,t,r)=>{var n=r(4380),i=r(485),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},138:(e,t,r)=>{var n=r(3481),i=r(4386);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},1749:(e,t,r)=>{var n=r(372),i=r(2799),a=r(3461)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},2430:(e,t,r)=>{var n=r(4072),i=r(6190),a=function(e){return function(t,r){var a,o,s=String(i(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},4532:(e,t,r)=>{var n=r(661);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},3295:(e,t,r)=>{var n=r(4353),i=r(3067),a=r(6190),o=Math.ceil,s=function(e){return function(t,r,s){var c,l,u=String(a(t)),d=u.length,p=void 0===s?" ":String(s),h=n(r);return h<=d||""==p?u:(c=h-d,(l=i.call(p,o(c/p.length))).length>c&&(l=l.slice(0,c)),e?u+l:l+u)}};e.exports={start:s(!1),end:s(!0)}},3067:(e,t,r)=>{"use strict";var n=r(4072),i=r(6190);e.exports=function(e){var t=String(i(this)),r="",a=n(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},4128:(e,t,r)=>{var n=r(4330),i=r(7612);e.exports=function(e){return n((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},1380:(e,t,r)=>{var n=r(6190),i="["+r(7612)+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},4869:(e,t,r)=>{var n,i,o,s=r(4380),c=r(4330),l=r(1466),u=r(7162),d=r(8370),p=r(5692),h=r(3986),f=s.location,g=s.setImmediate,v=s.clearImmediate,m=s.process,y=s.MessageChannel,b=s.Dispatch,_=0,w={},I="onreadystatechange",S=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},k=function(e){return function(){S(e)}},C=function(e){S(e.data)},E=function(e){s.postMessage(e+"",f.protocol+"//"+f.host)};g&&v||(g=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return w[++_]=function(){("function"==typeof e?e:a(e)).apply(void 0,t)},n(_),_},v=function(e){delete w[e]},h?n=function(e){m.nextTick(k(e))}:b&&b.now?n=function(e){b.now(k(e))}:y&&!p?(o=(i=new y).port2,i.port1.onmessage=C,n=l(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&f&&"file:"!==f.protocol&&!c(E)?(n=E,s.addEventListener("message",C,!1)):n=I in d("script")?function(e){u.appendChild(d("script"))[I]=function(){u.removeChild(this),S(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:g,clear:v}},6156:(e,t,r)=>{var n=r(4072),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},2961:(e,t,r)=>{var n=r(4072),i=r(4353);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length or index");return r}},4749:(e,t,r)=>{var n=r(3043),i=r(6190);e.exports=function(e){return n(i(e))}},4072:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},4353:(e,t,r)=>{var n=r(4072),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},5141:(e,t,r)=>{var n=r(6190);e.exports=function(e){return Object(n(e))}},1477:(e,t,r)=>{var n=r(1048);e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},1048:(e,t,r)=>{var n=r(4072);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},5698:(e,t,r)=>{var n=r(3394);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},7427:(e,t,r)=>{var n={};n[r(3461)("toStringTag")]="z",e.exports="[object z]"===String(n)},9140:(e,t,r)=>{"use strict";var n=r(6753),i=r(4380),a=r(1644),o=r(9668),s=r(9064),c=r(8806),l=r(2378),u=r(1074),d=r(8528),p=r(4353),h=r(2961),f=r(1477),g=r(5698),v=r(2582),m=r(9085),y=r(3394),b=r(8561),_=r(8476),w=r(9819).f,I=r(9627),S=r(7139).forEach,k=r(8505),C=r(4142),E=r(294),A=r(9676),T=r(2612),P=A.get,x=A.set,M=C.f,R=E.f,D=Math.round,O=i.RangeError,L=c.ArrayBuffer,N=c.DataView,B=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,W=s.TypedArray,j=s.TypedArrayPrototype,V=s.aTypedArrayConstructor,U=s.isTypedArray,$="BYTES_PER_ELEMENT",z="Wrong length",q=function(e,t){for(var r=0,n=t.length,i=new(V(e))(n);n>r;)i[r]=t[r++];return i},H=function(e,t){M(e,t,{get:function(){return P(this)[t]}})},G=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=m(e))||"SharedArrayBuffer"==t},K=function(e,t){return U(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},J=function(e,t){return K(e,t=g(t,!0))?u(2,e[t]):R(e,t)},X=function(e,t,r){return!(K(e,t=g(t,!0))&&y(r)&&v(r,"value"))||v(r,"get")||v(r,"set")||r.configurable||v(r,"writable")&&!r.writable||v(r,"enumerable")&&!r.enumerable?M(e,t,r):(e[t]=r.value,e)};a?(B||(E.f=J,C.f=X,H(j,"buffer"),H(j,"byteOffset"),H(j,"byteLength"),H(j,"length")),n({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:J,defineProperty:X}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",c="get"+e,u="set"+e,g=i[s],v=g,m=v&&v.prototype,C={},E=function(e,t){M(e,t,{get:function(){return function(e,t){var r=P(e);return r.view[c](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=P(e);r&&(n=(n=D(n))<0?0:n>255?255:255&n),i.view[u](t*a+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};B?o&&(v=t((function(e,t,r,n){return l(e,v,s),T(y(t)?G(t)?void 0!==n?new g(t,f(r,a),n):void 0!==r?new g(t,f(r,a)):new g(t):U(t)?q(v,t):I.call(v,t):new g(h(t)),e,v)})),_&&_(v,W),S(w(g),(function(e){e in v||d(v,e,g[e])})),v.prototype=m):(v=t((function(e,t,r,n){l(e,v,s);var i,o,c,u=0,d=0;if(y(t)){if(!G(t))return U(t)?q(v,t):I.call(v,t);i=t,d=f(r,a);var g=t.byteLength;if(void 0===n){if(g%a)throw O(z);if((o=g-d)<0)throw O(z)}else if((o=p(n)*a)+d>g)throw O(z);c=o/a}else c=h(t),i=new L(o=c*a);for(x(e,{buffer:i,byteOffset:d,byteLength:o,length:c,view:new N(i)});u<c;)E(e,u++)})),_&&_(v,W),m=v.prototype=b(j)),m.constructor!==v&&d(m,"constructor",v),F&&d(m,F,s),C[s]=v,n({global:!0,forced:v!=g,sham:!B},C),$ in v||d(v,$,a),$ in m||d(m,$,a),k(s)}):e.exports=function(){}},9668:(e,t,r)=>{var n=r(4380),i=r(4330),a=r(5987),o=r(9064).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;e.exports=!o||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!a((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},9627:(e,t,r)=>{var n=r(5141),i=r(4353),a=r(5225),o=r(588),s=r(1466),c=r(9064).aTypedArrayConstructor;e.exports=function(e){var t,r,l,u,d,p,h=n(e),f=arguments.length,g=f>1?arguments[1]:void 0,v=void 0!==g,m=a(h);if(null!=m&&!o(m))for(p=(d=m.call(h)).next,h=[];!(u=p.call(d)).done;)h.push(u.value);for(v&&f>2&&(g=s(g,arguments[2],2)),r=i(h.length),l=new(c(this))(r),t=0;r>t;t++)l[t]=v?g(h[t],t):h[t];return l}},992:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},7665:(e,t,r)=>{var n=r(5845);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},1806:(e,t,r)=>{var n=r(3461);t.f=n},3461:(e,t,r)=>{var n=r(4380),i=r(138),a=r(2582),o=r(992),s=r(5845),c=r(7665),l=i("wks"),u=n.Symbol,d=c?u:u&&u.withoutSetter||o;e.exports=function(e){return a(l,e)&&(s||"string"==typeof l[e])||(s&&a(u,e)?l[e]=u[e]:l[e]=d("Symbol."+e)),l[e]}},7612:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},4521:(e,t,r)=>{"use strict";var n=r(6753),i=r(4879),a=r(8476),o=r(8561),s=r(8528),c=r(1074),l=r(3984),u=function(e,t){var r=this;if(!(r instanceof u))return new u(e,t);a&&(r=a(new Error(void 0),i(r))),void 0!==t&&s(r,"message",String(t));var n=[];return l(e,n.push,{that:n}),s(r,"errors",n),r};u.prototype=o(Error.prototype,{constructor:c(5,u),message:c(5,""),name:c(5,"AggregateError")}),n({global:!0},{AggregateError:u})},1142:(e,t,r)=>{"use strict";var n=r(6753),i=r(4380),a=r(8806),o=r(8505),s="ArrayBuffer",c=a[s];n({global:!0,forced:i[s]!==c},{ArrayBuffer:c}),o(s)},9525:(e,t,r)=>{"use strict";var n=r(6753),i=r(4330),a=r(8806),o=r(372),s=r(6156),c=r(4353),l=r(1749),u=a.ArrayBuffer,d=a.DataView,p=u.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(o(this),e);for(var r=o(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),a=new(l(this,u))(c(i-n)),h=new d(this),f=new d(a),g=0;n<i;)f.setUint8(g++,h.getUint8(n++));return a}})},685:(e,t,r)=>{"use strict";var n=r(6753),i=r(6614),a=r(5141),o=r(4353),s=r(2799),c=r(5484);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=a(this),n=o(r.length);return s(e),(t=c(r,0)).length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},5091:(e,t,r)=>{"use strict";var n=r(6753),i=r(6614),a=r(5141),o=r(4353),s=r(4072),c=r(5484);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t.length),n=c(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},3683:(e,t,r)=>{"use strict";var n=r(6753),i=r(4067).right,a=r(9813),o=r(2136),s=r(3986);n({target:"Array",proto:!0,forced:!a("reduceRight")||!s&&o>79&&o<83},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1456:(e,t,r)=>{"use strict";var n=r(6753),i=r(4067).left,a=r(9813),o=r(2136),s=r(3986);n({target:"Array",proto:!0,forced:!a("reduce")||!s&&o>79&&o<83},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},9293:(e,t,r)=>{"use strict";var n=r(6753),i=r(3396),a=[].reverse,o=[1,2];n({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a.call(this)}})},8495:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(5141),o=r(4353),s=r(4330),c=r(9091),l=r(9813),u=r(6173),d=r(5308),p=r(2136),h=r(9632),f=[],g=f.sort,v=s((function(){f.sort(void 0)})),m=s((function(){f.sort(null)})),y=l("sort"),b=!s((function(){if(p)return p<70;if(!(u&&u>3)){if(d)return!0;if(h)return h<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)f.push({k:t+n,v:r})}for(f.sort((function(e,t){return t.v-e.v})),n=0;n<f.length;n++)t=f[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:v||!m||!y||!b},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(b)return void 0===e?g.call(t):g.call(t,e);var r,n,s=[],l=o(t.length);for(n=0;n<l;n++)n in t&&s.push(t[n]);for(s=c(s,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:String(t)>String(r)?1:-1}}(e)),r=s.length,n=0;n<r;)t[n]=s[n++];for(;n<l;)delete t[n++];return t}})},7703:(e,t,r)=>{r(6964)("flatMap")},5150:(e,t,r)=>{r(6964)("flat")},560:(e,t,r)=>{r(6753)({global:!0},{globalThis:r(4380)})},7516:(e,t,r)=>{var n=r(6753),i=r(6274),a=r(4330),o=i("JSON","stringify"),s=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,u=function(e,t,r){var n=r.charAt(t-1),i=r.charAt(t+1);return c.test(e)&&!l.test(i)||l.test(e)&&!c.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},d=a((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&n({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,r){var n=o.apply(null,arguments);return"string"==typeof n?n.replace(s,u):n}})},4541:(e,t,r)=>{var n=r(6753),i=Math.hypot,a=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,i=0,s=0,c=arguments.length,l=0;s<c;)l<(r=a(arguments[s++]))?(i=i*(n=l/r)*n+1,l=r):i+=r>0?(n=r/l)*n:r;return l===1/0?1/0:l*o(i)}})},6328:(e,t,r)=>{var n=r(6753),i=r(8787);n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},1358:(e,t,r)=>{var n=r(6753),i=r(5686).entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},9983:(e,t,r)=>{var n=r(6753),i=r(3984),a=r(7556);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){a(t,e,r)}),{AS_ENTRIES:!0}),t}})},842:(e,t,r)=>{var n=r(6753),i=r(5686).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},9356:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(3288),o=r(561),s=r(3984);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=a.f(t),n=r.resolve,c=r.reject,l=o((function(){var r=i(t.resolve),a=[],o=0,c=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),c++,r.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--c||n(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--c||n(a))}))})),--c||n(a)}));return l.error&&c(l.value),r.promise}})},1773:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(6274),o=r(3288),s=r(561),c=r(3984),l="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,d=s((function(){var r=i(t.resolve),o=[],s=0,d=1,p=!1;c(e,(function(e){var i=s++,c=!1;o.push(void 0),d++,r.call(t,e).then((function(e){c||p||(p=!0,n(e))}),(function(e){c||p||(c=!0,o[i]=e,--d||u(new(a("AggregateError"))(o,l)))}))})),--d||u(new(a("AggregateError"))(o,l))}));return d.error&&u(d.value),r.promise}})},7691:(e,t,r)=>{"use strict";var n=r(6753),i=r(3481),a=r(3535),o=r(4330),s=r(6274),c=r(1749),l=r(3443),u=r(9059);if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),!i&&"function"==typeof a){var d=s("Promise").prototype.finally;a.prototype.finally!==d&&u(a.prototype,"finally",d,{unsafe:!0})}},5470:(e,t,r)=>{"use strict";var n,i,a,o,s=r(6753),c=r(3481),l=r(4380),u=r(6274),d=r(3535),p=r(9059),h=r(6901),f=r(8476),g=r(923),v=r(8505),m=r(3394),y=r(2799),b=r(2378),_=r(5487),w=r(3984),I=r(5987),S=r(1749),k=r(4869).set,C=r(1684),E=r(3443),A=r(916),T=r(3288),P=r(561),x=r(9676),M=r(5476),R=r(3461),D=r(8623),O=r(3986),L=r(2136),N=R("species"),B="Promise",F=x.get,W=x.set,j=x.getterFor(B),V=d&&d.prototype,U=d,$=V,z=l.TypeError,q=l.document,H=l.process,G=T.f,K=G,J=!!(q&&q.createEvent&&l.dispatchEvent),X="function"==typeof PromiseRejectionEvent,Y="unhandledrejection",Q=!1,Z=M(B,(function(){var e=_(U)!==String(U);if(!e&&66===L)return!0;if(c&&!$.finally)return!0;if(L>=51&&/native code/.test(U))return!1;var t=new U((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(t.constructor={})[N]=r,!(Q=t.then((function(){}))instanceof r)||!e&&D&&!X})),ee=Z||!I((function(e){U.all(e).catch((function(){}))})),te=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},re=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;C((function(){for(var n=e.value,i=1==e.state,a=0;r.length>a;){var o,s,c,l=r[a++],u=i?l.ok:l.fail,d=l.resolve,p=l.reject,h=l.domain;try{u?(i||(2===e.rejection&&oe(e),e.rejection=1),!0===u?o=n:(h&&h.enter(),o=u(n),h&&(h.exit(),c=!0)),o===l.promise?p(z("Promise-chain cycle")):(s=te(o))?s.call(o,d,p):d(o)):p(n)}catch(e){h&&!c&&h.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},ne=function(e,t,r){var n,i;J?((n=q.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},!X&&(i=l["on"+e])?i(n):e===Y&&A("Unhandled promise rejection",r)},ie=function(e){k.call(l,(function(){var t,r=e.facade,n=e.value;if(ae(e)&&(t=P((function(){O?H.emit("unhandledRejection",n,r):ne(Y,r,n)})),e.rejection=O||ae(e)?2:1,t.error))throw t.value}))},ae=function(e){return 1!==e.rejection&&!e.parent},oe=function(e){k.call(l,(function(){var t=e.facade;O?H.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},se=function(e,t,r){return function(n){e(t,n,r)}},ce=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,re(e,!0))},le=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw z("Promise can't be resolved itself");var n=te(t);n?C((function(){var r={done:!1};try{n.call(t,se(le,r,e),se(ce,r,e))}catch(t){ce(r,t,e)}})):(e.value=t,e.state=1,re(e,!1))}catch(t){ce({done:!1},t,e)}}};if(Z&&($=(U=function(e){b(this,U,B),y(e),n.call(this);var t=F(this);try{e(se(le,t),se(ce,t))}catch(e){ce(t,e)}}).prototype,(n=function(e){W(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h($,{then:function(e,t){var r=j(this),n=G(S(this,U));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?H.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&re(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=F(e);this.promise=e,this.resolve=se(le,t),this.reject=se(ce,t)},T.f=G=function(e){return e===U||e===a?new i(e):K(e)},!c&&"function"==typeof d&&V!==Object.prototype)){o=V.then,Q||(p(V,"then",(function(e,t){var r=this;return new U((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),p(V,"catch",$.catch,{unsafe:!0}));try{delete V.constructor}catch(e){}f&&f(V,$)}s({global:!0,wrap:!0,forced:Z},{Promise:U}),g(U,B,!1,!0),v(B),a=u(B),s({target:B,stat:!0,forced:Z},{reject:function(e){var t=G(this);return t.reject.call(void 0,e),t.promise}}),s({target:B,stat:!0,forced:c||Z},{resolve:function(e){return E(c&&this===a?U:this,e)}}),s({target:B,stat:!0,forced:ee},{all:function(e){var t=this,r=G(t),n=r.resolve,i=r.reject,a=P((function(){var r=y(t.resolve),a=[],o=0,s=1;w(e,(function(e){var c=o++,l=!1;a.push(void 0),s++,r.call(t,e).then((function(e){l||(l=!0,a[c]=e,--s||n(a))}),i)})),--s||n(a)}));return a.error&&i(a.value),r.promise},race:function(e){var t=this,r=G(t),n=r.reject,i=P((function(){var i=y(t.resolve);w(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},2266:(e,t,r)=>{var n=r(6753),i=r(4380),a=r(923);n({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},8827:(e,t,r)=>{var n=r(1644),i=r(4380),a=r(5476),o=r(2612),s=r(8528),c=r(4142).f,l=r(9819).f,u=r(8410),d=r(2530),p=r(4016),h=r(9059),f=r(4330),g=r(2582),v=r(9676).enforce,m=r(8505),y=r(3461),b=r(2198),_=r(5618),w=y("match"),I=i.RegExp,S=I.prototype,k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,C=/a/g,E=/a/g,A=new I(C)!==C,T=p.UNSUPPORTED_Y,P=n&&(!A||T||b||_||f((function(){return E[w]=!1,I(C)!=C||I(E)==E||"/a/i"!=I(C,"i")})));if(a("RegExp",P)){for(var x=function(e,t){var r,n,i,a,c,l,p=this instanceof x,h=u(e),f=void 0===t,m=[],y=e;if(!p&&h&&f&&e.constructor===x)return e;if((h||e instanceof x)&&(e=e.source,f&&(t="flags"in y?y.flags:d.call(y))),e=void 0===e?"":String(e),t=void 0===t?"":String(t),y=e,b&&"dotAll"in C&&(n=!!t&&t.indexOf("s")>-1)&&(t=t.replace(/s/g,"")),r=t,T&&"sticky"in C&&(i=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,"")),_&&(a=function(e){for(var t,r=e.length,n=0,i="",a=[],o={},s=!1,c=!1,l=0,u="";n<=r;n++){if("\\"===(t=e.charAt(n)))t+=e.charAt(++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:k.test(e.slice(n+1))&&(n+=2,c=!0),i+=t,l++;continue;case">"===t&&c:if(""===u||g(o,u))throw new SyntaxError("Invalid capture group name");o[u]=!0,a.push([u,l]),c=!1,u="";continue}c?u+=t:i+=t}return[i,a]}(e),e=a[0],m=a[1]),c=o(I(e,t),p?this:S,x),(n||i||m.length)&&(l=v(c),n&&(l.dotAll=!0,l.raw=x(function(e){for(var t,r=e.length,n=0,i="",a=!1;n<=r;n++)"\\"!==(t=e.charAt(n))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+e.charAt(++n);return i}(e),r)),i&&(l.sticky=!0),m.length&&(l.groups=m)),e!==y)try{s(c,"source",""===y?"(?:)":y)}catch(e){}return c},M=function(e){e in x||c(x,e,{configurable:!0,get:function(){return I[e]},set:function(t){I[e]=t}})},R=l(I),D=0;R.length>D;)M(R[D++]);S.constructor=x,x.prototype=S,h(i,"RegExp",x)}m("RegExp")},6314:(e,t,r)=>{var n=r(1644),i=r(2198),a=r(4142).f,o=r(9676).get,s=RegExp.prototype;n&&i&&a(s,"dotAll",{configurable:!0,get:function(){if(this!==s){if(this instanceof RegExp)return!!o(this).dotAll;throw TypeError("Incompatible receiver, RegExp required")}}})},9437:(e,t,r)=>{"use strict";var n=r(6753),i=r(7879);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},6559:(e,t,r)=>{var n=r(1644),i=r(4142),a=r(2530),o=r(4330);n&&o((function(){return"sy"!==Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})}))&&i.f(RegExp.prototype,"flags",{configurable:!0,get:a})},3187:(e,t,r)=>{"use strict";var n=r(6753),i=r(8859),a=r(6190),o=r(4353),s=r(2799),c=r(372),l=r(4849),u=r(8410),d=r(2530),p=r(8528),h=r(4330),f=r(3461),g=r(1749),v=r(8501),m=r(9676),y=r(3481),b=f("matchAll"),_="RegExp String",w=_+" Iterator",I=m.set,S=m.getterFor(w),k=RegExp.prototype,C=k.exec,E="".matchAll,A=!!E&&!h((function(){"a".matchAll(/./)})),T=i((function(e,t,r,n){I(this,{type:w,regexp:e,string:t,global:r,unicode:n,done:!1})}),_,(function(){var e=S(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,r=e.string,n=function(e,t){var r,n=e.exec;if("function"==typeof n){if("object"!=typeof(r=n.call(e,t)))throw TypeError("Incorrect exec result");return r}return C.call(e,t)}(t,r);return null===n?{value:void 0,done:e.done=!0}:e.global?(""==String(n[0])&&(t.lastIndex=v(r,o(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),P=function(e){var t,r,n,i,a,s,l=c(this),u=String(e);return t=g(l,RegExp),void 0===(r=l.flags)&&l instanceof RegExp&&!("flags"in k)&&(r=d.call(l)),n=void 0===r?"":String(r),i=new t(t===RegExp?l.source:l,n),a=!!~n.indexOf("g"),s=!!~n.indexOf("u"),i.lastIndex=o(l.lastIndex),new T(i,u,a,s)};n({target:"String",proto:!0,forced:A},{matchAll:function(e){var t,r,n,i=a(this);if(null!=e){if(u(e)&&!~String(a("flags"in k?e.flags:d.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(A)return E.apply(i,arguments);if(void 0===(r=e[b])&&y&&"RegExp"==l(e)&&(r=P),null!=r)return s(r).call(e,i)}else if(A)return E.apply(i,arguments);return t=String(i),n=new RegExp(e,"g"),y?P.call(n,t):n[b](t)}}),y||b in k||p(k,b,P)},7506:(e,t,r)=>{"use strict";var n=r(6753),i=r(3295).end;n({target:"String",proto:!0,forced:r(4532)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},416:(e,t,r)=>{"use strict";var n=r(6753),i=r(3295).start;n({target:"String",proto:!0,forced:r(4532)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},235:(e,t,r)=>{"use strict";var n=r(6753),i=r(6190),a=r(8410),o=r(2530),s=r(1884),c=r(3461),l=r(3481),u=c("replace"),d=RegExp.prototype,p=Math.max,h=function(e,t,r){return r>e.length?-1:""===t?r:e.indexOf(t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,c,f,g,v,m,y,b=i(this),_=0,w=0,I="";if(null!=e){if((r=a(e))&&!~String(i("flags"in d?e.flags:o.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=e[u]))return n.call(e,b,t);if(l&&r)return String(b).replace(e,t)}for(c=String(b),f=String(e),(g="function"==typeof t)||(t=String(t)),v=f.length,m=p(1,v),_=h(c,f,0);-1!==_;)y=g?String(t(f,_,c)):s(f,c,_,[],void 0,t),I+=c.slice(w,_)+y,w=_+v,_=h(c,f,_+m);return w<c.length&&(I+=c.slice(w)),I}})},5441:(e,t,r)=>{"use strict";var n=r(225),i=r(4330),a=r(372),o=r(4353),s=r(4072),c=r(6190),l=r(8501),u=r(1884),d=r(3519),p=r(3461)("replace"),h=Math.max,f=Math.min,g="$0"==="a".replace(/./,"$0"),v=!!/./[p]&&""===/./[p]("a","$0");n("replace",(function(e,t,r){var n=v?"$":"$0";return[function(e,r){var n=c(this),i=null==e?void 0:e[p];return void 0!==i?i.call(e,n,r):t.call(String(n),e,r)},function(e,i){if("string"==typeof i&&-1===i.indexOf(n)&&-1===i.indexOf("$<")){var c=r(t,this,e,i);if(c.done)return c.value}var p=a(this),g=String(e),v="function"==typeof i;v||(i=String(i));var m=p.global;if(m){var y=p.unicode;p.lastIndex=0}for(var b=[];;){var _=d(p,g);if(null===_)break;if(b.push(_),!m)break;""===String(_[0])&&(p.lastIndex=l(g,o(p.lastIndex),y))}for(var w,I="",S=0,k=0;k<b.length;k++){_=b[k];for(var C=String(_[0]),E=h(f(s(_.index),g.length),0),A=[],T=1;T<_.length;T++)A.push(void 0===(w=_[T])?w:String(w));var P=_.groups;if(v){var x=[C].concat(A,E,g);void 0!==P&&x.push(P);var M=String(i.apply(void 0,x))}else M=u(C,g,E,A,P,i);E>=S&&(I+=g.slice(S,E)+M,S=E+C.length)}return I+g.slice(S)}]}),!!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!g||v)},9103:(e,t,r)=>{"use strict";var n=r(6753),i=r(1380).end,a=r(4128)("trimEnd"),o=a?function(){return i(this)}:"".trimEnd;n({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},9928:(e,t,r)=>{"use strict";var n=r(6753),i=r(1380).start,a=r(4128)("trimStart"),o=a?function(){return i(this)}:"".trimStart;n({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},4057:(e,t,r)=>{"use strict";var n=r(6753),i=r(1380).trim;n({target:"String",proto:!0,forced:r(4128)("trim")},{trim:function(){return i(this)}})},8610:(e,t,r)=>{r(1205)("asyncIterator")},1751:(e,t,r)=>{"use strict";var n=r(6753),i=r(1644),a=r(4380),o=r(2582),s=r(3394),c=r(4142).f,l=r(8646),u=a.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};l(p,u);var h=p.prototype=u.prototype;h.constructor=p;var f=h.toString,g="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(o(d,e))return"";var r=g?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},4017:(e,t,r)=>{r(1205)("matchAll")},5839:(e,t,r)=>{"use strict";var n=r(9064),i=r(9625),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(e){return i.apply(a(this),arguments)}))},9969:(e,t,r)=>{r(9140)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},9369:(e,t,r)=>{r(9140)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},3600:(e,t,r)=>{"use strict";var n=r(9668);(0,r(9064).exportTypedArrayStaticMethod)("from",r(9627),n)},5954:(e,t,r)=>{r(9140)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},8218:(e,t,r)=>{r(9140)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},9005:(e,t,r)=>{r(9140)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},33:(e,t,r)=>{"use strict";var n=r(9064),i=r(9668),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),i)},2032:(e,t,r)=>{"use strict";var n=r(9064),i=r(4353),a=r(1477),o=r(5141),s=r(4330),c=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(e){c(this);var t=a(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=o(e),s=i(n.length),l=0;if(s+t>r)throw RangeError("Wrong length");for(;l<s;)this[t+l]=n[l++]}),s((function(){new Int8Array(1).set({})})))},4433:(e,t,r)=>{"use strict";var n=r(9064),i=r(4380),a=r(4330),o=r(2799),s=r(4353),c=r(9091),l=r(6173),u=r(5308),d=r(2136),p=r(9632),h=n.aTypedArray,f=n.exportTypedArrayMethod,g=i.Uint16Array,v=g&&g.prototype.sort,m=!!v&&!a((function(){var e=new g(2);e.sort(null),e.sort({})})),y=!!v&&!a((function(){if(d)return d<74;if(l)return l<67;if(u)return!0;if(p)return p<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(r.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));f("sort",(function(e){var t=this;if(void 0!==e&&o(e),y)return v.call(t,e);h(t);var r,n=s(t.length),i=Array(n);for(r=0;r<n;r++)i[r]=t[r];for(i=c(t,function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e)),r=0;r<n;r++)t[r]=i[r];return t}),!y||m)},7969:(e,t,r)=>{r(9140)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},6438:(e,t,r)=>{r(9140)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},8457:(e,t,r)=>{r(9140)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},4439:(e,t,r)=>{r(9140)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},4916:(e,t,r)=>{r(4521)},6832:(e,t,r)=>{"use strict";var n=r(6753),i=r(5141),a=r(4353),o=r(4072),s=r(6964);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=a(t.length),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},8591:(e,t,r)=>{"use strict";var n=r(6753),i=r(4832).findLastIndex,a=r(6964);n({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},7193:(e,t,r)=>{"use strict";var n=r(6753),i=r(4832).findLast,a=r(6964);n({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},7002:(e,t,r)=>{"use strict";var n=r(6753),i=r(2378),a=r(8528),o=r(2582),s=r(3461),c=r(9415),l=r(3481),u=s("toStringTag"),d=function(){i(this,d)};d.prototype=c,o(c,u)||a(c,u,"AsyncIterator"),o(c,"constructor")&&c.constructor!==Object||a(c,"constructor",d),n({global:!0,forced:l},{AsyncIterator:d})},3982:(e,t,r)=>{"use strict";var n=r(6753),i=r(372),a=r(1048),o=r(7303)((function(e,t){var r=this;return new t((function(n,a){var o=function(){try{t.resolve(i(r.next.call(r.iterator,r.remaining?void 0:e))).then((function(e){try{i(e).done?(r.done=!0,n({done:!0,value:void 0})):r.remaining?(r.remaining--,o()):n({done:!1,value:e.value})}catch(e){a(e)}}),a)}catch(e){a(e)}};o()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{drop:function(e){return new o({iterator:i(this),remaining:a(e)})}})},4457:(e,t,r)=>{"use strict";var n=r(6753),i=r(4445).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return i(this,e)}})},3655:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(372),o=r(7303)((function(e,t){var r=this,n=r.filterer;return new t((function(i,o){var s=function(){try{t.resolve(a(r.next.call(r.iterator,e))).then((function(e){try{if(a(e).done)r.done=!0,i({done:!0,value:void 0});else{var c=e.value;t.resolve(n(c)).then((function(e){e?i({done:!1,value:c}):s()}),o)}}catch(e){o(e)}}),o)}catch(e){o(e)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{filter:function(e){return new o({iterator:a(this),filterer:i(e)})}})},3296:(e,t,r)=>{"use strict";var n=r(6753),i=r(4445).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return i(this,e)}})},5284:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(372),o=r(7303),s=r(153),c=o((function(e,t){var r,n,o=this,c=o.mapper;return new t((function(l,u){var d=function(){try{t.resolve(a(o.next.call(o.iterator,e))).then((function(e){try{a(e).done?(o.done=!0,l({done:!0,value:void 0})):t.resolve(c(e.value)).then((function(e){try{if(void 0!==(n=s(e)))return o.innerIterator=r=a(n.call(e)),o.innerNext=i(r.next),p();u(TypeError(".flatMap callback should return an iterable object"))}catch(e){u(e)}}),u)}catch(e){u(e)}}),u)}catch(e){u(e)}},p=function(){if(r=o.innerIterator)try{t.resolve(a(o.innerNext.call(r))).then((function(e){try{a(e).done?(o.innerIterator=o.innerNext=null,d()):l({done:!1,value:e.value})}catch(e){u(e)}}),u)}catch(e){u(e)}else d()};p()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(e){return new c({iterator:a(this),mapper:i(e),innerIterator:null,innerNext:null})}})},5143:(e,t,r)=>{"use strict";var n=r(6753),i=r(4445).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return i(this,e)}})},4872:(e,t,r)=>{var n=r(6753),i=r(3759),a=r(2799),o=r(372),s=r(5141),c=r(7303),l=r(153),u=i.AsyncIterator,d=c((function(e){return o(this.next.call(this.iterator,e))}),!0);n({target:"AsyncIterator",stat:!0},{from:function(e){var t,r=s(e),n=l(r);if(null!=n){if((t=a(n).call(r))instanceof u)return t}else t=r;return new d({iterator:t})}})},4168:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(372),o=r(7303)((function(e,t){var r=this,n=r.mapper;return t.resolve(a(r.next.call(r.iterator,e))).then((function(e){return a(e).done?(r.done=!0,{done:!0,value:void 0}):t.resolve(n(e.value)).then((function(e){return{done:!1,value:e}}))}))}));n({target:"AsyncIterator",proto:!0,real:!0},{map:function(e){return new o({iterator:a(this),mapper:i(e)})}})},1731:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(372),o=r(6274)("Promise");n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){var t=a(this),r=i(t.next),n=arguments.length<2,s=n?void 0:arguments[1];return i(e),new o((function(i,c){var l=function(){try{o.resolve(a(r.call(t))).then((function(t){try{if(a(t).done)n?c(TypeError("Reduce of empty iterator with no initial value")):i(s);else{var r=t.value;n?(n=!1,s=r,l()):o.resolve(e(s,r)).then((function(e){s=e,l()}),c)}}catch(e){c(e)}}),c)}catch(e){c(e)}};l()}))}})},534:(e,t,r)=>{"use strict";var n=r(6753),i=r(4445).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return i(this,e)}})},2216:(e,t,r)=>{"use strict";var n=r(6753),i=r(372),a=r(1048),o=r(7303)((function(e,t){var r,n,i=this.iterator;return this.remaining--?this.next.call(i,e):(n={done:!0,value:void 0},this.done=!0,void 0!==(r=i.return)?t.resolve(r.call(i)).then((function(){return n})):n)}));n({target:"AsyncIterator",proto:!0,real:!0},{take:function(e){return new o({iterator:i(this),remaining:a(e)})}})},5132:(e,t,r)=>{"use strict";var n=r(6753),i=r(4445).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return i(this)}})},5543:(e,t,r)=>{r(560)},4925:(e,t,r)=>{"use strict";var n=r(6753),i=r(4380),a=r(2378),o=r(8528),s=r(4330),c=r(2582),l=r(3461),u=r(2937).IteratorPrototype,d=r(3481),p=l("iterator"),h=l("toStringTag"),f=i.Iterator,g=d||"function"!=typeof f||f.prototype!==u||!s((function(){f({})})),v=function(){a(this,v)};d&&o(u={},p,(function(){return this})),c(u,h)||o(u,h,"Iterator"),!g&&c(u,"constructor")&&u.constructor!==Object||o(u,"constructor",v),v.prototype=u,n({global:!0,forced:g},{Iterator:v})},2141:(e,t,r)=>{"use strict";var n=r(6753),i=r(372),a=r(1048),o=r(8212)((function(e){for(var t,r=this.iterator,n=this.next;this.remaining;)if(this.remaining--,t=i(n.call(r)),this.done=!!t.done)return;if(t=i(n.call(r,e)),!(this.done=!!t.done))return t.value}));n({target:"Iterator",proto:!0,real:!0},{drop:function(e){return new o({iterator:i(this),remaining:a(e)})}})},2181:(e,t,r)=>{"use strict";var n=r(6753),i=r(3984),a=r(2799),o=r(372);n({target:"Iterator",proto:!0,real:!0},{every:function(e){return o(this),a(e),!i(this,(function(t,r){if(!e(t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},8073:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(372),o=r(8212),s=r(9841),c=o((function(e){for(var t,r,n=this.iterator,i=this.filterer,o=this.next;;){if(t=a(o.call(n,e)),this.done=!!t.done)return;if(r=t.value,s(n,i,r))return r}}));n({target:"Iterator",proto:!0,real:!0},{filter:function(e){return new c({iterator:a(this),filterer:i(e)})}})},106:(e,t,r)=>{"use strict";var n=r(6753),i=r(3984),a=r(2799),o=r(372);n({target:"Iterator",proto:!0,real:!0},{find:function(e){return o(this),a(e),i(this,(function(t,r){if(e(t))return r(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},735:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(372),o=r(5225),s=r(8212),c=r(2976),l=s((function(e){for(var t,r,n,s,l=this.iterator,u=this.mapper;;)try{if(s=this.innerIterator){if(!(t=a(this.innerNext.call(s))).done)return t.value;this.innerIterator=this.innerNext=null}if(t=a(this.next.call(l,e)),this.done=!!t.done)return;if(r=u(t.value),void 0===(n=o(r)))throw TypeError(".flatMap callback should return an iterable object");this.innerIterator=s=a(n.call(r)),this.innerNext=i(s.next)}catch(e){throw c(l),e}}));n({target:"Iterator",proto:!0,real:!0},{flatMap:function(e){return new l({iterator:a(this),mapper:i(e),innerIterator:null,innerNext:null})}})},8865:(e,t,r)=>{"use strict";var n=r(6753),i=r(3984),a=r(372);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){i(a(this),e,{IS_ITERATOR:!0})}})},1061:(e,t,r)=>{var n=r(6753),i=r(3759),a=r(2799),o=r(372),s=r(5141),c=r(8212),l=r(5225),u=i.Iterator,d=c((function(e){var t=o(this.next.call(this.iterator,e));if(!(this.done=!!t.done))return t.value}),!0);n({target:"Iterator",stat:!0},{from:function(e){var t,r=s(e),n=l(r);if(null!=n){if((t=a(n).call(r))instanceof u)return t}else t=r;return new d({iterator:t})}})},2044:(e,t,r)=>{"use strict";var n=r(6753),i=r(2799),a=r(372),o=r(8212),s=r(9841),c=o((function(e){var t=this.iterator,r=a(this.next.call(t,e));if(!(this.done=!!r.done))return s(t,this.mapper,r.value)}));n({target:"Iterator",proto:!0,real:!0},{map:function(e){return new c({iterator:a(this),mapper:i(e)})}})},7754:(e,t,r)=>{"use strict";var n=r(6753),i=r(3984),a=r(2799),o=r(372);n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){o(this),a(e);var t=arguments.length<2,r=t?void 0:arguments[1];if(i(this,(function(n){t?(t=!1,r=n):r=e(r,n)}),{IS_ITERATOR:!0}),t)throw TypeError("Reduce of empty iterator with no initial value");return r}})},938:(e,t,r)=>{"use strict";var n=r(6753),i=r(3984),a=r(2799),o=r(372);n({target:"Iterator",proto:!0,real:!0},{some:function(e){return o(this),a(e),i(this,(function(t,r){if(e(t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},5749:(e,t,r)=>{"use strict";var n=r(6753),i=r(372),a=r(1048),o=r(8212),s=r(2976),c=o((function(e){var t=this.iterator;if(!this.remaining--)return this.done=!0,s(t);var r=i(this.next.call(t,e));return(this.done=!!r.done)?void 0:r.value}));n({target:"Iterator",proto:!0,real:!0},{take:function(e){return new c({iterator:i(this),remaining:a(e)})}})},9037:(e,t,r)=>{"use strict";var n=r(6753),i=r(3984),a=r(372),o=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return i(a(this),o,{that:e,IS_ITERATOR:!0}),e}})},2810:(e,t,r)=>{r(6753)({target:"Object",stat:!0},{hasOwn:r(2582)})},1848:(e,t,r)=>{r(9356)},4644:(e,t,r)=>{r(1773)},8767:(e,t,r)=>{r(3187)},4862:(e,t,r)=>{r(235)},9715:(e,t,r)=>{r(1205)("dispose")},9231:(e,t,r)=>{"use strict";var n=r(9064),i=r(4353),a=r(4072),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=i(t.length),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},4856:(e,t,r)=>{"use strict";var n=r(9064),i=r(4832).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6486:(e,t,r)=>{"use strict";var n=r(9064),i=r(4832).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4348:(e,t,r)=>{var n=r(7967);n.keys().forEach((e=>{c[e.substr(2)]=n(e)}))},4476:(e,t,r)=>{"use strict";r.r(t);r(1751),r(8610),r(4017),r(4521),r(5091),r(685),r(1456),r(3683),r(9293),r(8495),r(5150),r(7703),r(1142),r(9525),r(560),r(7516),r(4541),r(6328),r(1358),r(9983),r(842),r(5470),r(9356),r(1773),r(7691),r(2266),r(8827),r(6314),r(9437),r(6559),r(3187),r(7506),r(416),r(5441),r(235),r(4057),r(9103),r(9928),r(9969),r(9369),r(9005),r(5954),r(8218),r(8457),r(4439),r(7969),r(6438),r(5839),r(3600),r(33),r(2032),r(4433),r(4916),r(6832),r(7193),r(8591),r(5543),r(2810),r(1848),r(4644),r(8767),r(4862),r(9231),r(6486),r(4856),r(7002),r(3982),r(4457),r(3655),r(3296),r(5284),r(5143),r(4872),r(4168),r(1731),r(534),r(2216),r(5132),r(4925),r(2141),r(2181),r(8073),r(106),r(735),r(8865),r(1061),r(2044),r(7754),r(938),r(5749),r(9037),r(9715);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var e=!1,t=!1;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform)"ios"===r.g.__wxConfig.platform.toLowerCase()?e=!0:"mac"===r.g.__wxConfig.platform.toLowerCase()&&(t=!0);else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var n=navigator.userAgent.toLowerCase();n.indexOf("iphone")>=0||n.indexOf("ipad")>=0?e=!0:n.indexOf("miniprogramenv/mac")>=0&&(t=!0)}var i=[];(e||t)&&(r.g.Promise=void 0,i.push("Promise")),r(2874)({usePolyfill:i,useNative:["WeakMap"]}),r(4476),r(4348),delete r.g.__polyfill_injecting})()})(),(()=>{"use strict";var e={};(()=>{var t={createTracer(){return this},traceBegin(){},traceEnd(){},traceInstant(){}};e.default=t})(),l=e.default})();var u=!1,d=function(e){e()},p,h;(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};(()=>{e.d(t,{default:()=>rt});var n={};e.r(n),e.d(n,{emitFrameworkError:()=>re,emitUnhandledError:()=>ne,emitUnhandledRejection:()=>Z,onFrameworkError:()=>ae,onUnhandledError:()=>oe,onUnhandledRejection:()=>ie});var o=c.objectSpread2,s=e.n(o),l=e.g.__wxLibrary,u=e.g.__wxConfig,d=l.envType,h=l.contextType,f="Service"===d,g="WebView"===d,m="Worker"===d,y=g||f&&0===h.indexOf("App:"),_=f&&0===h.indexOf("Game:"),w=!!u.isIsolateContext,I=w&&f&&h.indexOf("MainContext")>=0,S=w&&f&&h.indexOf("SubContext")>=0,k=S&&h.indexOf("Safe")>=0,C=I||S,A="wxlib"===u.workerContentType,T=g||I||k||A,P=function(){var e,t,r=u.platform;if(!r&&"string"==typeof(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)){var n=window.navigator.userAgent.toLowerCase();n.indexOf("devtools")>=0?r="devtools":n.indexOf("miniprogramenv/windows")>=0?r="windows":n.indexOf("miniprogramenv/mac")>=0?r="mac":n.indexOf("miniprogramenv/mina")>=0?r="mina":n.indexOf("iphone")>=0||n.indexOf("ipad")>=0?r="ios":n.indexOf("android")>=0&&(r="android")}return(r||"unknown").toLowerCase()}(),x=r,M={platform:P,SDKVersion:void 0===x||"develop"===x.version?"9.9.9":x.version,isIsolateContext:C,isGame:_,isApp:y,isMainContext:I,isSubContext:S,isSafeEnv:T,isService:f,isWebView:g,isWorker:m,isWidget:!1,typeStr:S?"SubContext":d,isWXLibWorker:A,workerType:"user",contextName:"",mayHaveSnapShot:!!l.mayHaveSnapshot},D=()=>{},O="devtools"===M.platform;"undefined"!=typeof performance&&performance.now;function L(e,t=(()=>D)){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function N(){var t=p||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var B=()=>{},F=["log","info","warn","error","debug"],W=L(F),j=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],V=(()=>{var e=L(j);return e})(),U=V,$=Symbol("error"),z=Symbol("slow");class q{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent($,e),this}onSlow(e){return this.onInternalEvent(z,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var i,a=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();i=oar c=Date.now();c-s>q.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(z,e,s,c,o.cb)}catch(t){if(!this.emitPrivate($,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(a=!0),!1===i&&t.cancelable)break}return a&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var i={count:r,cb:t},a=this.$[e];return a?n.prepend?a.unshift(i):a.push(i):this.$[e]=[i],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}q.SLOW_CALLBACK_THRESHOLD=50;var H=new q,G="unhandlederror",K="unhandledrejection",J="frameworkerror",X=new WeakMap;var Y=Object.prototype.hasOwnProperty;function Q(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function Z(e,t){e=Q(e),Fe.onLoad((()=>{H.emit(K,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}),!0)}var ee=!1,te=!1;function re(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=Q(e),p.isSnapshoting)throw e;Fe.onLoad((()=>{if(ee)console.error("[ErrorHandler] recursive framework error detected.",e);else{ee=!0;try{H.emit(J,e)||ne(e)}catch(e){console.error("Framework",e)}ee=!1}}),!0)}function ne(e){if(e=Q(e),p.isSnapshoting)throw e;Fe.onLoad((()=>{if(te)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{te=!0;try{H.emit(G,e)||console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}te=!1}}),!0)}function ie(e){H.on(K,e)}function ae(e){H.on(J,e)}function oe(e){H.on(G,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener?(e.addEventListener("unhandledrejection",(e=>{Z(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,n;ne(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(n=r.userAgent)||void 0===n?void 0:n.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;Y.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(X.has(r)||setTimeout((()=>{var e=X.get(r);0===(null==e?void 0:e.type)&&Z(e.reason,e.promise),X.delete(r)}),0),X.set(r,t))):Z(e.reason,e.promise)}})}(e.g);var se,ce=JSON.parse,le=JSON.stringify;function ue(e){return ce(le(e))}function de(e){e.platform=M.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=M.SDKVersion,e.isReady=!1,e.onReady=Fe.onStart}function pe(e){var t;de(e),M.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var n=null===(t=r.debugOptions)||void 0===t?void 0:t.overwriteExpt;n&&(e.expt=Object.assign(e.expt||{},n))}function he(e){if(pe(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=(a=e.appLaunchInfo.clickTimestampInMs)?a+9782784e5-(new Date).getTimezoneOffset()/60*3600*1e3:0,r=Number.MAX_SAFE_INTEGER,n=e.instanceId;if(n)try{var i=n.split("&").filter((e=>0===e.indexOf("ts=")));i.length>0&&(r=parseInt(i[0].slice(3),10))}catch(e){re(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0;var a}var fe=!(null===(se=r.features)||void 0===se||!se.pruneWxConfigByPage),ge=Object.defineProperty,ve=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function me(e,t,r,n){ge(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{var e;W.warn("[__wxConfig usage] developer uses __wxConfig."+r),"function"==typeof(null===(e=E)||void 0===e?void 0:e.reportKeyValue)&&E.reportKeyValue({key:"DeprecatedAPI",value:"__wxConfig."+r,force:!0})}catch(e){re(e,"report __wxConfig usage")}try{return"function"!=typeof n?n:n()}catch(e){return void re(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var ye=M.isSafeEnv,be=Object.create(null),_e=M.isService?function(e){return new Proxy(e,{set(e,t,r,n){if("__siblings__"===t)return Reflect.set(e,t,r,n);var i=Reflect.get(e,"__siblings__",n);return Array.isArray(i)?(i.length>1&&W.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`),i.forEach((e=>{Reflect.set(e,t,r)})),!0):Reflect.set(e,t,r,n)}})}(be):be,we=e=>{},Ie="wxConfig:updatePage";function Se(t,r=!1){return we(!1),be.currentPhase="onStart",void 0===t||(r?(Object.assign(be,t),Object.defineProperty(be,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(be,ye?t:ue(t)),he(be),function(t,r){var n;Array.isArray(null==t||null===(n=t.tabBar)||void 0===n?void 0:n.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var i=t.subPackages||t.subpackages;Array.isArray(i)&&i.length>0&&(i.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=i),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),fe&&(M.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(be,((e,t)=>{Fe.emit(Ie,{key:e,value:t})})),Object.defineProperty(be,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(be.__siblings__)&&be.__siblings__.push(be),be.onPageUpdate((({key:e,value:t})=>{be.page=be.page||{},be.page[e]=be.page[e+".html"]=t,n&&(n[e+".html"]=ue(t))})),ye||(n=function(){var t=e.g.__wxConfig,r={},n={},i=fe?{}:t.page||{};try{me(n,r,"deprecated",!0),ve.forEach((e=>{if(e in t){var a=t[e];switch(e){case"page":me(n,r,e,i);break;case"env":me(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:a.USER_DATA_PATH})));break;case"accountInfo":me(n,r,e,{appId:a.appId,icon:a.icon,nickname:a.nickname});break;case"appLaunchInfo":me(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),R&&"function"==typeof R.getLaunchOptionsSync?R.getLaunchOptionsSync():{})));break;case"wxAppInfo":me(n,r,e,{maxRequestConcurrent:a.maxRequestConcurrent,maxUploadConcurrent:a.maxUploadConcurrent,maxDownloadConcurrent:a.maxDownloadConcurrent,maxWorkerConcurrent:a.maxWorkerConcurrent,maxWebsocketConnect:a.maxWebsocketConnect});break;default:me(n,r,e,a)}}})),e.g.__wxConfig=n}catch(r){re(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return i}())),_e;var n}var ke=new q,Ce=new q,Ee={},Ae="WeixinJSBridgeReady",Te="libraryEnd",Pe="load",xe="postLoad",Me="start",Re="postStart";function De(e,t){if(e in Ee)try{t(Ee[e])}catch(t){re(t,"LifeCycle."+e)}else Ce.once(e,t)}function Oe(e,t){return!(e in Ee)&&(Ee[e]=t,Ce.emit(e,t))}var Le,Ne=De.bind(null,Te),Be=De.bind(null,Pe),Fe={EventEmitter:q,on:ke.on.bind(ke),emit:ke.emit.bind(ke),once:ke.once.bind(ke),getIsLoaded:()=>Pe in Ee,getIsStarted:()=>Me in Ee,onBridgeReady(e){De(Ae,e)},setWeixinJSBridge(e){Oe(Ae,e)},onLibraryEnd:Ne,onCreate(e){e()},onLoadInstant(e){p.isSnapshoting&&M.mayHaveSnapShot?Be((()=>{e()})):e()},onLoad(e,t=!1){t?Ne((()=>{Be(e)})):Be(e)},_onPostLoad:De.bind(null,xe),onStart:De.bind(null,Me),onPostStart:De.bind(null,Re)};Ce.onError(((e,t)=>{W.error(`[LifeCycle/${M.typeStr}] ${e.toString()} failed: `,t),re(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,n)=>{U.warn(`[LifeCycle/${M.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${n+""}`)})),e.g.__wxLibrary.onEnd=function(){Oe(Te)},Le=e.g.__wxConfig,be.currentPhase="onCreate",void 0===Le||(we(!1),Object.assign(be,ye?Le:ue(Le)),de(be),we(!0));var We=!1,je=!1;function Ve(){We||je?re(new Error(`LifeCycle error: undesired onLoad(${We}/${je})`)):(We=!0,p=function(e){return be.currentPhase="onLoad",void 0===e||(we(!1),Object.assign(be,ye?e:ue(e)),be.onPageUpdate=Fe.on.bind(null,Ie),pe(be),we(!0)),_e}(e.g.__wxConfig),Oe(Pe,p),M.isSubContext?p.__readyHandler=e=>{Ue(e,!0)}:!0===p.preload?Fe.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{Ue(e.g.__wxConfig)}))})):Fe.onLibraryEnd((()=>{Ue(e.g.__wxConfig)})),Oe(xe,p))}function Ue(e,t=!1){if(We&&!je){je=!0;var r=Date.now();"onReadyStart"in(p=Se(e,t))||(p.onReadyStart=r),Oe(Me,p),p.onReadyEnd=Date.now(),Oe(Re,p)}else re(new Error(`LifeCycle error: undesired onStart(${We}/${je})`))}(p=_e).isSnapshoting?e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,p.isSnapshoting=!1,Ve()}}:M.mayHaveSnapShot?Fe.onLibraryEnd(Ve):Ve();class $e{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:B}}var ze={ALL:new $e(Number.MIN_VALUE,"ALL"),DEBUG:new $e(5e3,"DEBUG",console.debug),LOG:new $e(1e4,"LOG",console.log),INFO:new $e(2e4,"INFO",console.info),WARN:new $e(3e4,"WARN",console.warn),ERROR:new $e(4e4,"ERROR",console.error),OFF:new $e(Number.MAX_VALUE,"OFF")},qe=(e,t)=>({debug:e(ze.DEBUG,t),log:e(ze.LOG,t),info:e(ze.INFO,t),warn:e(ze.WARN,t),error:e(ze.ERROR,t)}),He=ze.INFO,Ge=(()=>{if(M.isWorker||M.isWidget){return Object.assign({createLogger:function(){return W}},W)}return M.isSubContext&&M.isIsolateContext?(e=[],t=(t,r)=>(...n)=>{e.push({level:t,logs:n,category:r})},r=()=>{setTimeout((()=>{var t=v.__isFromMainContext?v.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},Fe.onStart(r),s()(s()({},qe(t)),{},{createLogger:e=>qe(t,"string"==typeof e?e:"default"),__isFromMainContext:!1})):(()=>{var e=M.platform,t="android"!==e,r=[],n=function(t){var r=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2),i=("0"+t.getHours()).slice(-2),a=("0"+t.getMinutes()).slice(-2),o=("0"+t.getSeconds()).slice(-2),s=("00"+t.getMilliseconds()).slice(-3),c=t.getFullYear()+"-"+r+"-"+n,l=i+":"+a+":"+o+"."+s;return"ios"===e?c+" "+l+"000"+(t.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):c+" "+(t.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+l},i=function(t){"android"!==e?b.invoke("systemLog",{dataArray:t.map((e=>({message:`\n${n(e.date)} [${e.level.type[0].toUpperCase()}][wxapplib]] ${e.content}`})))}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},a=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},o=function(e,n){return function(...o){var s;if(n&&Array.prototype.unshift.call(o,"["+n+"]"),(N()||e.num>=ze.WARN.num)&&(null===(s=W[e.type.toLowerCase()])||void 0===s||s.call(W,...o)),e.num>=He.num){var c=Array.prototype.slice.call(o).map(a).join(" ");if(t){var l=new Date;r&&r.length>1024&&r.shift(),r.push({date:l,level:e,content:c})}else i([{level:e,content:c}])}}};return Fe.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(i(r),r=[])}),4e3)})),s()(s()({},qe(o)),{},{createLogger:function(e){return qe(o,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:n}=e;o(t,n)(...r)}))},__isFromMainContext:!0})})();var e,t,r})();Fe.onLoad((()=>{Ge.info("[BaseLibVersion] "+JSON.stringify(r))}));var Ke,Je=Ge,Xe=L(["log","info","warn","error"],(e=>function(...t){(O||N())&&console[e]("[system]",...t)}));function Ye(){return Ke||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}Fe.onLoad((()=>{Ke=Ye()}));var Qe=Object.create(null);Object.defineProperty(Qe,"WebAssembly",{enumerable:!0,get:Ye});var Ze=Qe,et=e.g,tt=s()(s()(s()({env:M,global:et,get isConfigReady(){return Fe.getIsStarted()},get isStarted(){return Fe.getIsStarted()},get isLoaded(){return Fe.getIsLoaded()}},Fe),n),{},{wxConsole:W,wxPerfConsole:U,wxNativeConsole:Je,libConsole:Xe,libGlobal:Ze,globalShare:{}});void 0!==i&&(a=function(){return"return this"===arguments[arguments.length-1]?function(){return et}:new i(...arguments)},a.prototype=i.prototype);var rt=tt})(),h=t.default})();var f=h.wxConsole,g=h.wxPerfConsole,v=h.wxNativeConsole,m=h.libConsole,y=h.libGlobal,b,_,w,I,S,k,C,E,A,T;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>z});class r{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}}class n{constructor(e=0){this.id=e,this.$={}}add(e){var t=this.id++;return"function"==typeof e&&(this.$[t]=e),t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t)}}}class i{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t)}}class o{constructor(e){this.onNewEvent=e,this.$={},this.$e=new h.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}var s=()=>{},c=JSON.parse,l=JSON.stringify,u="custom_event_",d=0;function f(t){var r=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),a=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=s),h.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:s},d=1<<25),e.g.WeixinJSCore={invokeHandler:s,publishHandler:s,setTimerHandler:s,clearTimerHandler:s},t}(),o=new n(d),f=new i,g=new i;function v(e,t){if(void 0!==e&&o.has(t)&&""!==e&&null!==e){if("string"==typeof e)try{e=c(e),e=_.unpack(e)}catch(t){e={}}o.callAndRemove(t,e)}}return{invoke(e,n,i,s={}){var c=n;s.keepOriginalParams||t.directInvokeJS||(n=_.pack(n),c=l(n||{})),delete s.keepOriginalParams,function(e,n,i,o={}){if(a){var s,c;v("splashad"===h.env.workerType||p.supportInvokeWithAppId?null===(s=a.invokeHandler)||void 0===s?void 0:s.call(a,e,n,i,o):null===(c=a.invokeHandler)||void 0===c?void 0:c.call(a,e,n,i),i)}else{var u={event:e,paramsString:n,callbackId:i,privateArgs:l(o)};if(t.isWebMiniGame)v(prompt("webgame_invoke",l(u)),i);else{var d=null==r?void 0:r.messageHandlers.invokeHandler.postMessage(u);null!=d&&d.catch&&d.catch((t=>{var r=console.error.bind(console);r("webkit.messageHandlers.invokeHandler.postMessage fail"),r(`event=${e}`),r("params=",n),r("err=",t),r("err.code=",t.code),r("err.message=",t.message),r("err.name=",t.name)}))}}}(e,c,o.add(i),s)},on(e,t){f.set(e,t)},subscribe(e,t){g.set(u+e,t)},publish(e,n,i){e=u+e;var o=i,s=n;t.directInvokeJS||(s=l(n),o=l(i)),function(e,t,n){if(a){var i;null===(i=a.publishHandler)||void 0===i||i.call(a,e,t,n)}else{var o=null==r?void 0:r.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:n});null!=o&&o.catch&&o.catch((r=>{var n=console.error.bind(console);n("webkit.messageHandlers.publishHandler.postMessage fail"),n(`event=${e}`),n("params=",t),n("err=",r),n("err.code=",r.code),n("err.message=",r.message),n("err.name=",r.name)}))}}(e,s,o)},invokeCallbackHandler:function(e,t){t=_.unpack(t),o.callAndRemove(e,t)},subscribeHandler:function(e,t,r,n){t=_.unpack(t),-1!==e.indexOf(u)?g.emit(e,t,r,n||{}):f.emit(e,t,r,n||{})}}}var g=!0,m={},y={},w=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);h.onPostStart((()=>{g=!1,m={},y={}}));var I=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var S=null;var k=new r,C=k.ready.bind(k),E=new o(((e,t)=>{I.has(e)?C((r=>{r.on(e,t.emitCancelable.bind(t,e))})):C((r=>{r.on(e,t.emit.bind(t,e))}))})),A=()=>{},T=[],P={on(e,t){I.has(e)?E.add(e,t):E.setSingle(e,t)},addEventListener(e,t,r){E.add(e,t,r)},removeEventListener(e,t){E.remove(e,t)},invoke(e,t,r,n={}){var i=!0,a=!1,o=[],s=e=>{for(var t of(a||(i=!1),o))t(e,i);null==r||r(e)};if(S){var c=e=>{o.push(e)};for(var l of T){var u=l(e,t,c);if(u)return u instanceof Promise?(u.then((e=>{s(e)})),!0):(s(u),!1)}S.invoke(e,t,s,n)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return a=!0,i},get invokeCallbackHandler(){var e;return null===(e=S)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=S)||void 0===e?void 0:e.subscribeHandler},publish:A,subscribe:A,addSubscribeListener:A,removeSubscribeListener:A,addInvokeInterceptor(e){return T.push(e),this}};h.onLoad((()=>{!function(t){if(!("devtools"===h.env.platform&&!h.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){var r=f({directInvokeJS:!!p.wmpfDirectInvokeJs,isWebMiniGame:!!p.isWK}),n={get invokeCallbackHandler(){return r.invokeCallbackHandler},get subscribeHandler(){return r.subscribeHandler}};return p.clientDebug&&Object.assign(n,{on:P.on,publish:P.publish,invoke:P.invoke,subscribe:P.subscribe}),e.g.WeixinJSBridge=n,t(r,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{S=t,r&&e.g.WeixinJSBridge===b&&Object.keys(t).forEach((e=>{e in P||(P[e]=(...r)=>t[e](...r))})),k.done(S)}))})),P.addInvokeInterceptor((e=>{if(!h.isStarted&&"splashad"!==h.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(g&&w.has(e)){if(e in m)return m[e];if(e in y)return y[e];if(w.has(e)){var n=new Promise((t=>{r(((r,n)=>{n?t(r):(delete y[e],m[e]=r)}))}));y[e]=n}}}));class x{constructor(e){this.onMessage=e}dispatch(e,t,r,n={}){var i;null===(i=this.onMessage)||void 0===i||i.call(this,e,t,r,n)}}class M extends x{publish(e,t,r=[]){var n=function(e=[]){if(Array.isArray(e)){var t=e.filter((e=>null!=e));if(0===e.length||0!==t.length)return t;v.error("[publish] unexpected broadcast detected, aborted.")}}(r);n?0===n.length?this.broadcast(e,t):this.multicast(e,t,n):v.error(`[publish] invalid target: ${r.join(",")} (event=${e})`)}}class R extends M{constructor(e,t){super(t),this.$=void 0,this._hasFirstTarget=!1,this._pendingBroadCast=[],this.$=e}cb(e,t,r,n={}){this.dispatch(e,t,r,n)}postMessage(e,t,r){this.flushBroadCast(),this.$.publish(e,t,[r])}multicast(e,t,r=[]){this.flushBroadCast(),this.$.publish(e,t,r)}broadcast(e,t){this._hasFirstTarget?this.$.publish(e,t,[]):this._pendingBroadCast.push([e,t])}flushBroadCast(){if(!this._hasFirstTarget){for(var[e,t]of(this._hasFirstTarget=!0,this._pendingBroadCast))this.broadcast(e,t);this._pendingBroadCast=[]}}registerEvent(e){this.$.subscribe(e,this.cb.bind(this,e))}addClient(e){}adoptPending(e,t){}}class D{constructor(e,t){this.$=e,this.onMessage=t,this.isServer=void 0,this.$.setMessageListener(this.selfId,this.cb.bind(this)),this.isServer=this.selfId===this.serverId,this.updateGroup()}get selfId(){return this.$.id}get serverId(){return this.$.serviceId}get version(){return this.$.version}waitserverId(e){this.isServer||this.serverId?e(this.serverId):h.onStart((()=>{e(this.serverId)}))}resetId(e){this.$.setMessageListener(),this.$.setMessageListener(e,this.cb.bind(this)),this.$.id=e,this.updateGroup()}pack(e,t){return{event:e,param:t,id:this.selfId,sendTime:Date.now()}}postMessage(e,t,r){this.$.postMessage(r,this.pack(e,t))}multicast(e,t,r){for(var n of r)this.postMessage(e,t,n)}broadcast(e,t){this.waitserverId((r=>{this.$.broadcastMessage(r,this.pack(e,t))}))}updateGroup(){this.isServer||this.waitserverId((e=>{this.$.addGroup(e,this.selfId)}))}cb(e){this.onMessage(e.event,e.param,e.id,{nativeTime:e.sendTime||Date.now()})}}class O extends M{constructor(e,t){super(t),this.$=void 0,this.clients=new Set,this.pending=new Map,this.$=new D(e,this.cb.bind(this)),v.info(`[NTrans/Server] init ${e.id}(${e.version})`)}cb(e,t,r,n){this.dispatch(e,t,r,n)}postMessage(e,t,r){this.$.postMessage(e,t,r)}multicast(e,t,r){if((r=r.filter((r=>{if(this.clients.has(r))return!0;var n=this.pending.get(r);return n?Date.now()-n.initTime>3e5?n.queue=[]:n.queue.push([e,t]):this.pending.set(r,{initTime:Date.now(),queue:[[e,t]]}),!1}))).length>0)for(var n of r)this.postMessage(e,t,n)}broadcast(e,t){this.$.broadcast(e,t)}registerEvent(e){}flushQueue(e){var t=this.pending.get(e);if(t)for(var[r,n]of t.queue)this.postMessage(r,n,e);this.pending.delete(e)}addClient(e){this.clients.add(e),this.flushQueue(e)}adoptPending(e,t){var r=this.pending.get(e);r&&(this.pending.set(t,r),this.pending.delete(e))}}var L=String.prototype.replace,N=/["'\\]/g;new Map;var B=Symbol("error"),F=Symbol("slow");class W{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(B,e),this}onSlow(e){return this.onInternalEvent(F,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var i,a=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();i=o.cb(...r);var c=Date.now();c-s>W.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(F,e,s,c,o.cb)}catch(t){if(!this.emitPrivate(B,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(a=!0),!1===i&&t.cancelable)break}return a&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var i={count:r,cb:t},a=this.$[e];return a?n.prepend?a.unshift(i):a.push(i):this.$[e]=[i],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}W.SLOW_CALLBACK_THRESHOLD=50;var j=new r,V=new r,U=function(e,t,r){var n=new o((e=>{r.ready((t=>{t.registerEvent(e)}))}));return e.subscribe=function(e,t){n.setSingle(e,t)},e.addSubscribeListener=function(e,t){n.add(e,t)},e.removeSubscribeListener=function(e,t){n.remove(e,t)},e.publish=function(e,r,n){var i;i=e||"",e=L.call(i,N,""),t.ready((t=>{t.publish(e,r,n||[])}))},n.emit.bind(n)}(P,j,V);P.clientManager=new W;var $="[MsgCh/Server]";C((t=>{var r,n,i,a=(r=e.g.ntrans,i=!1,(n="object"==typeof r)&&(i=!!r.serviceId,h.onStart((()=>{i=!!r.serviceId,delete e.g.ntrans}))),{ntrans:r,selfId:n?r.id:void 0,serverEnabled:n,clientEnabled:n,get serviceIdReady(){return i}}),o=a.serverEnabled;var s=new R(t,U);h.onStart((()=>{j.hasValue()||(v.info($,"preinitMessageChannel (jsbridge)"),j.done(s))}));var c=!0;t.subscribe("jsbridge:SYNC",((r,n)=>{var i;if(n=null!==(i=r.id)&&void 0!==i?i:n,v.info($,`recv SYNC from ${n}, publish ACK @ ${Date.now()}`),c){c=!1,a.clientEnabled=!!r.enableNTrans,o=function(t){var r=t.clientEnabled&&t.serverEnabled,n=r&&t.serviceIdReady;return e.g.__nativeTransEnabled__=n,r&&!t.serviceIdReady&&h.emitFrameworkError(new Error("Empty ntrans serverId"),"NTrans"),"android"!==p.platform||n||v.warn(`nTrans disabled. (server: ${t.serverEnabled}, client: ${t.clientEnabled})`),n}(a),v.info($,`initMessageChannel (ntrans=${o})`);var l=o?new O(a.ntrans,U):s;l!==s&&s.flushBroadCast(),j.done(l),V.done(l)}!function(e){t.publish("jsbridge:ACK",{enableNTrans:o,id:a.selfId},[e])}(n),P.clientManager.emit("clientConnected",n,r.extra),j.ready((e=>{e.addClient(n)}))})),P.clientManager.on("clientIdChanged",((e,r)=>{v.info($,`clientID changed ${e} -> ${r}, publish ACK @ ${Date.now()}`),t.publish("jsbridge:RESET",{newClientId:r},[r]),j.ready((t=>{t.adoptPending(e,r)}))}))})),h.setWeixinJSBridge(P);var z=P;b=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>_});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,a=0;a<i;a++)t+=String.fromCharCode(n[a]);return function(e){if("function"==typeof btoa)return btoa(e);for(var t,n,i=String(e),a="",o=0,s=r;i.charAt(0|o)||(s="=",o%1);a+=s.charAt(63&t>>8-o%1*8)){if((n=i.charCodeAt(o+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|n}return a}(t)}function i(e){for(var t=function(e){if("function"==typeof atob)return atob(e);var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var i,a,o=0,s=0;a=t.charAt(s++);~a&&(i=o%4?64*i+a:a,o++%4)?n+=String.fromCharCode(255&i>>(-2*o&6)):0)a=r.indexOf(a);return n}(e),n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i.buffer}var a,o=p.platform,s="ios"===o||"mac"===o,c="android"===o||"windows"===o||"mina"===o;s&&(a=e.g.WeixinNativeBuffer);var l=null;function u(e,t=!1){var r={};if(l&&!t){var i=!1,a=Object.getPrototypeOf(e);a!==ArrayBuffer.prototype&&(i=!0,Object.setPrototypeOf(e,ArrayBuffer.prototype)),r.id=l.create(e),i&&Object.setPrototypeOf(e,a)}else r.base64=n(e);return r}function d(e){if(null!=e)return l&&void 0!==e.id?l.get(e.id):void 0!==e.base64?i(e.base64):void 0}h.onLoad((()=>{l=function(e){var t=a,r=e.getNativeBufferId,n=e.setNativeBuffer,i=e.getNativeBuffer;delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer;var o=null;return c&&"function"==typeof r&&"function"==typeof n&&"function"==typeof i&&p.nativeBufferEnabled?o={create(e){var t=r();return n(t,e),t},get:e=>i(e),useCompatibleMode(){}}:s&&t&&(o={create:e=>t.new(e),get:e=>t.get(e),useCompatibleMode(e){t.useCompatibleMode(e)}}),o}(e.g)}));var f=Object.prototype.toString;function g(e){return"[object Array]"===f.call(e)}function v(e){return"[object ArrayBuffer]"===f.call(e)}function m(e,t){if(!t)return null;var r=t.split(".");if(!r.length)return null;for(var n=r[r.length-1],i=e,a=0;a<r.length-1;a++){if(!i)return null;i=i[r[a]]}return[i,n]}function y(e,t=!1,r=!1){if(null==e)return e;var n;if(t)n=function(e,t=!1){var r=[],n=function(e,r,i=[]){for(var a in e){var o=e[a];if(d=o,"[object Object]"===f.call(d)||g(o)){var s=[...i];s.push(a),n(o,r,s)}else if(v(o)){if(e._sabId)continue;var c=u(o,t),l=Array.prototype.concat.call(i,a).join(".");c.key=l,delete e[a],r.push(c)}}var d};return n(e,r),r}(e,r);else{for(var i in n=[],e){var a=e[i];if(v(a)){var o=u(a,r);o.key=i,n.push(o)}}if(n.length>0)for(var s of n)delete e[s.key]}return n.length>0&&(e.__nativeBuffers__=n),e}function b(e,t=!1){if(null==e||null==e.__nativeBuffers__)return e;var r=e.__nativeBuffers__;for(var n of(delete e.__nativeBuffers__,r))if(null!=n){var i=d(n);if(v(i))if(t){var a=m(e,n.key);if(!a)return;var[o,s]=a;o[s]=i}else e[n.key]=i}return e}var _={new:u,get:d,useCompatibleMode:function(e){var t;null===(t=l)||void 0===t||t.useCompatibleMode(e)},pack:y,unpack:b,packPostMessage:(e,t=!1)=>y(e,!0,t),unpackPostMessage:e=>b(e,!0)}})(),_=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>I});var r,n,i=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","readCompressedFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey","getPermissionBytes"],o=[],s=[],c=[],l={},u=function(e){return l[e]},d=function(e,t){l[e]=t},f=function(e){e=_.unpackPostMessage(e),s.forEach((t=>{"function"==typeof t&&t(e)}))},g=function(e,t){t=_.unpackPostMessage(t),o.forEach((r=>{"function"==typeof r&&r(e,t)}))},v=function(e,t){c.forEach((r=>{"function"==typeof r&&r(e,t)}))},m=function(e){h.emitUnhandledError(e)},y={get appServiceMsgHandler(){return f},get workerMsgHandler(){return g},get workerCreatedHandler(){return v},get errorHandler(){return m},get __workerId__(){return n.__workerId__}},b={create:function(e,t){var a,o,s=!(!(t=t||{}).useExperimentalWorker||!r);if(s?(o=r,a=JSON.stringify(t)):(o=n,a={APIList:i}),"function"==typeof o.create){var c=o.create.call(o,e,a);return d(c,o),{workerId:c,useWKWorker:s}}return{workerId:-1,useWKWorker:s}},createWXLibWorker:function(e,t){var r={APIList:i};t.APIList&&(r.APIList=i.concat(t.APIList)),t.type&&(r.type=t.type);var a=n;if("function"==typeof a.createWXLibWorker){var o=a.createWXLibWorker.call(a,e,JSON.stringify(r));return d(o,a),{workerId:o}}return{workerId:-1}},terminate:function(e){var t=u(e);if("function"==typeof(null==t?void 0:t.terminate))return function(e){delete l[e]}(e),t.terminate.call(t,e)},postMsgToAppService:function(e,t){try{!1!==t&&(e=_.packPostMessage(e),e=JSON.stringify(e))}catch(e){console.error(e)}n.postMsgToAppService(e)},postMsgToWorker:function(e,t,r,n){var i=u(e);try{!1!==r&&(t=_.packPostMessage(t,n),t=JSON.stringify(t)),null==i||i.postMsgToWorker(e,t)}catch(e){console.error(e)}},onWorkerMsg:function(e){o.push(e)},onWorkerCreated:function(e){c.push(e)},onAppServiceMsg:function(e){s.push(e)},get WebAssembly(){return n.WebAssembly},isSupportWXLibWorker:function(){return"function"==typeof n.createWXLibWorker}};h.onLoadInstant((()=>{r=e.g.WeAppWorker,n=e.g.WeixinWorker,e.g.WeixinWorker=y,e.g.WeAppWorker=y,"devtools"===p.platform&&(b.appServiceMsgHandler=y.appServiceMsgHandler,b.workerMsgHandler=y.workerMsgHandler,b.errorHandler=y.errorHandler,b.__workerId__=y.__workerId__)}));var I=b;w=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>R});var r,n,i,o,s,c,l,u,d,f,g,m,y=Object.prototype.toString,b=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,{}),_={},w=[],S=0,k=[],C=(e,t,n)=>{if(void 0!==t&&void 0!==e&&e===r){var i=void 0!==n?n:++S;return g=i,_[i]=t,w.push(i),k.forEach((e=>{"function"==typeof e&&e(i)})),i}},E=(e,t,n,i)=>{if(void 0!==e&&e===r){var a=(e=>{for(var t=w.length,r=0;r<t;r++){var n=w[r];if(_[n]===e)return n}})(t);if(void 0!==a){var o=b[n];return"function"==typeof o?o(i,a):void 0}}},A=(e,t)=>{if(void 0===d||"function"!=typeof d)return"failed: loadLibFiles not supported";if("devtools"===p.platform&&"number"!=typeof f)return"failed: loadLibFiles not supported";try{if(0===d(e,JSON.stringify(t)))throw`WAFiles: ${t} is not exist.`;return"success"}catch(e){return"failed: "+e}},T=(e,t,r)=>{if("android"===p.platform||"ios"===p.platform||"devtools"===p.platform||"windows"===p.platform||"mac"===p.platform){var n=Date.now(),i=A(null!=r?r:1,[e]);v.info(`inject subPackage: ${e} coast: `,Date.now()-n),t(i)}else v.error("不支持loadJSFiles")},P={},x={__init__:e=>{void 0===r&&void 0!==e&&((r=e).register=C,r.subscribeHandler=E,n=r.alloc,i=r.create,o=r.destroy,s=r.evaluateScriptFile,c=r.loadJsFiles,d=r.loadLibFiles,l=r.allocEmpty,u=r.allocFromSnapshot,f=r.mainContextId,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile,delete r.loadJsFiles,delete r.loadLibFiles,delete r.allocEmpty,delete r.allocFromSnapshot,delete r.mainContextId)},publish:(e,t={},n)=>{var i,a=(i=t,y.call(i).split(" ")[1].split("]")[0]);if("Object"!==a&&"Undefined"!==a)throw new Error("params should be an object.");return n.map((n=>{var i=_[n];if(i)return i.subscribeHandler(r,e,t)}))},subscribe:(e,t)=>{b[e]=t},onRegister:e=>{k.push(e)},evaluateScriptFile:(e,t,r)=>s(e,t,r),batchLoadJsFiles:(e,t,r)=>{if(void 0===c||"function"!=typeof c)return"failed: loadJsFiles not supported";var n="devtools"===p.platform?void 0:JSON.stringify(r);try{return c(e,JSON.stringify(t),n),"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof n?n.call(r,e,t):-9999,create:(e,t)=>"function"==typeof i?i.call(r,e,t):-9999,destroy:(e,t)=>"function"==typeof o?o(e,t):-9999,isAsync:()=>r&&!0===r.async,supportAlloc:()=>"function"==typeof n,loadLibFiles:A,allocEmpty:(e,t)=>"function"==typeof l?l.call(r,e,t):-9999,supportAllocEmpty:()=>"function"==typeof l,allocFromSnapshot:(e,t)=>{if("function"==typeof u){var n=u.call(r,e,t);return n}return-9999},supportAllocFromSnapshot:()=>"function"==typeof u,loadMainContextLibFile:T,loadSubContextLibFile:(e,t,r)=>{if(r)return T(e,t,r);v.error("loadSubContextLibFile lose subContextId")},getMainContextId:()=>f,setAppSubContextId:e=>{m=e},getAppSubContextId:()=>m,convertRealId2SdkId:e=>P[e],associateRealId2SdkId:e=>{P[e]=g}},M=x;h.onLoad((()=>{M.__init__(WeixinJSContext),delete M.__init__,delete e.g.WeixinJSContext}));var R=M;I=t.default})(),(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}();var t=(()=>(p.onReady((()=>{t!==p&&void 0!==t&&Object.assign(t,p)})),p))(),r=t,n=(()=>r.platform)(),i=(()=>"android"===n)(),o=(()=>"ios"===n)();var s=["shouldShowSplashAd","onSplashAdShow","onSplashAdHide","onSplashAdClose","onSplashAdWillLayout","onSplashAdButtonClicked","showSplashAd","closeSplashAd","showSplashAdMenu","insertTextView","updateTextView","removeTextView","insertImageView","updateImageView","removeImageView","animateCoverView","onTextViewClick","onImageViewClick","insertVideoPlayer","removeVideoPlayer","updateVideoPlayer","operateVideoPlayer","onVideoProgress","onVideoTimeUpdate","onVideoWaiting","splashAdFirstStepViewLayoutStateChange","splashAdAllViewLayoutStateChange","getInstallState","getDeviceInfo","getOAID","private_addContact","launchApplication","downloadAppInternal","navigateToMiniProgram","openADCanvas","private_openUrl","adOperateWXData","operateWXData","reportIDKey","reportKeyValue","adDataReport","getSystemInfo","accessSync","getPermissionBytes","readFileSync","statSync","reportRealtimeAction","measureText","openChannelsActivity","openChannelsLive","openChannelsUserProfile","openChannelsRewardedVideoAd","getAdPushMsg","clearAdPushMsg"];try{(i||o)&&h.onLoadInstant((()=>{var e=w.createWXLibWorker("WASplashadWorker.js",{APIList:s,type:"ad"});-1!==e.workerId&&(h.globalShare.reusableWorkerId=e.workerId)}))}catch(e){h.emitFrameworkError(e,"LifeCycle.load")}})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};function r(){b.publish(...arguments)}function n(){b.subscribe(...arguments)}e.d(t,{default:()=>j});var i=(()=>(p.onReady((()=>{i!==p&&void 0!==i&&Object.assign(i,p)})),p))(),o=i,s=(()=>o.platform)(),c=(()=>"devtools"===s)(),l=(()=>"ios"===s)();function u(){if(o&&"debug"in o&&void 0!==o.debug)return!!o.debug}var d=(()=>Object.prototype.toString)(),h=a.prototype.call.bind(d);function f(e){return h(e).slice(8,-1)}var g=e=>"Number"===f(e),v=e=>null===e,m=(()=>Number.isNaN||(e=>e!=e))(),y=(()=>Array.isArray||(e=>"Array"===f(e)))(),_=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===f(e))(e);function w(e){var t,r=f(e);if("Number"===r){if(m(e))return"NaN";if(g(t=e)&&Math.abs(t)===1/0)return"Infinity"}else if("Object"===r){if(v(e))return"Null"}else if(r.endsWith("Array")&&"Array"!==r&&_(e))return"TypedArray";return r}var I={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>${e.stack?"\n"+e.stack:""}`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`};function k(e){var t=new WeakMap,r=0;return function e(n,i){var a,[o,s]=function(e){var t=w(e);return t in I?I[t]?"function"!=typeof I[t]?[I[t],!0]:[I[t](e),!0]:[e,!0]:[null,!1]}(n);return s?o:r>3e3?"<Hidden>":t.has(n)?`<Circular: ${t.get(n)}>`:(t.set(n,i),r++,y(n)?n.map(((t,r)=>e(t,`${i}[${r}]`))):(a={},Object.keys(n).forEach((t=>{a[t]=e(n[t],`${i}.${t}`)})),a))}(e,"@")}function C(e){try{return(e=Array.prototype.slice.call(e)).map(k)}catch(e){return void console.warn("[console] This object can not be logged")}}var E=["log","warn","error","info","debug"],A=null,T=null,P=null;function x(e,t,r){A=e,T=t,P=r}var M=null,R=e=>M=e;class D{constructor({context:e}={}){var t=this;if(!P)throw new Error("BaseConsole: call setBaseConsoleStaticProps first");var n=P,i=function(e){"function"==typeof n[e]&&(t[e]=function(...t){(n[e]||(()=>{})).call(n,...t)})};for(var a of Object.keys(n))i(a);var o=function(i){var a=n[i];t[i]=function(...t){var o,s,l=u();if(!1!==l){null===(o=M)||void 0===o||o.callConsoleAPI(i,t);var d=C(arguments);d&&(T&&T.length>1024&&T.shift(),null===(s=T)||void 0===s||s.push({method:i,log:d,timestamp:Date.now()}),l&&A&&A.length>0&&r(i,{log:d},A),a.apply(n,d))}else{if("main"===e){if("warn"!==i&&"error"!==i&&!c)return;return void a.call(n,...t)}if(!c)return;a.call(n,...t)}}};for(var s of E)o(s);this.group=function(){var e=n.group||(()=>{});e.apply(n,arguments)},this.groupEnd=function(){var e=n.groupEnd||(()=>{});e.apply(n,arguments)}}}var O=!l&&!!e.g.__isAppServiceRemoteDebugMode__,L=null,N=null,B=null;if(c||O){if(c||O){x([],[],console)}}else{var F=[],W=[];x(W,F,console),n("GenerateFuncReady",((e,t)=>{t&&W.push(t),u()&&r("initLogs",{logs:F},[t])})),n("webviewClearLog",((e,t)=>{var n=W.filter((e=>e!==t));r("serviceClearLog",{triggerWebViewId:t},n),F.length=0})),o.onReady((()=>{var e;u()&&(W.length>0&&r("initLogs",{logs:F},W),null===(e=L)||void 0===e||e(F,R))})),console=new D({context:"main"})}var j={BaseConsole:D,onDebugEnabledAfterBaseConsoleInjected:e=>{L=e},setInspecteeRoots:e=>N=e,getInspecteeRoots:()=>N,setSkylineRuntimeGetter:e=>B=e,getSkylineRuntime:()=>{var e;return null===(e=B)||void 0===e?void 0:e()}};S=t.default})(),(()=>{var e={333:(e,t,r)=>{"use strict";r.r(t);var n=(()=>(p.onReady((()=>{n!==p&&void 0!==n&&Object.assign(n,p)})),p))();t.default=n},581:(e,t,r)=>{"use strict";r.r(t),r.d(t,{reportDeprecatedAPI:()=>n});var n=e=>{E.reportKeyValue({key:"DeprecatedAPI",value:e})}},578:(e,t,r)=>{var{reportDeprecatedAPI:n}=r(581),{default:i}=r(333);e.exports={hijack:function(e=!0,t=!0){!function(e){if("function"==typeof globalThis.Function){var t={};r.prototype=globalThis.Function.prototype,r.prototype.constructor=r,globalThis.Function=r}function r(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e?t:{}}}}(t),"undefined"!=typeof eval&&("ios"===i.platform&&r.g.__isAppServiceRemoteDebugMode__||i.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var n=C.surroundThirdByTryCatch(t,"at setTimeout callback function"),i=[].slice.call(arguments,2);return e((()=>{n.apply(globalThis,i)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var n=C.surroundThirdByTryCatch(e,"at setInterval callback function"),i=[].slice.call(arguments,2);return t((()=>{n.apply(globalThis,i)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(n("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))}}},585:()=>{if("undefined"==typeof navigator){try{new a('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new a('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new a('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>H,deepFreezeObj:()=>R,deepFreezeObjProperty:()=>M,doNotWriteGlobalObjs:()=>q,doNotWriteObj:()=>N,doNotWriteObjProperty:()=>D,globalEsHiddenObjs:()=>t,globalEsObjs:()=>i,hijack:()=>G.hijack,overwriteSetPrototypeOf:()=>z});r(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),i=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],a=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],o=globalThis,s=r(333),c=(()=>s.default.platform)(),l=(()=>"ios"===c)();var u=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code\])?$/;function p(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return l?function(e,t){for(var r=[],n=e.split("\n"),i=0,a=0;i<n.length&&a<t;++i){var o=n[i];if(!d.test(o)){++a;var s=o.indexOf("@");if(-1===s){var c=h(o);r.push({fileName:c.URI,lineNumber:c.line,columnNumber:c.column,source:o})}else{var l=o.substring(0,s),u=h(o.substr(s+1));r.push({functionName:l,fileName:u.URI,lineNumber:u.line,columnNumber:u.column,source:o})}}}return r}(r,t):function(e,t){for(var r=[],n=e.split("\n"),i=0,a=0;i<n.length&&a<t;++i){var o=n[i];u.test(o)&&(r.push(o),++a)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),i=h(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0],lineNumber:i[1],columnNumber:i[2],source:e}}))}(r,t)}function h(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var f=Object.freeze,g=Object.setPrototypeOf,v=Object.defineProperty,m=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,w=Object.preventExtensions;var I=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function S(){var e,t,r=Date.now(),n=p(new Error,3),i=n[1],a=n[2],o=!(i.fileName&&a.fileName&&a.fileName!==i.fileName&&(e=a.fileName,t=i.fileName,!I.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,o}function k(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=m(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&v(e,"__proto__",{get(){return _(this)},set(r){if(this===e)t&&S()&&g(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;g(this,r)}},enumerable:!1,configurable:!1})}}var C=new Map,E=(e,t,r)=>{C.has(e)||C.set(e,new Map);var n=C.get(e);n.has(t)?Object.assign(n.get(t),r):n.set(t,r)};function A(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var n=m(e,t);return!!n&&(n.configurable&&(v(e,t,{get:n.get||(()=>n.value),set(i){if(this===e)r&&S()&&(n.set?n.set.call(this,i):n.writable&&(n.value=i));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?g(e,r):v(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,i)}},enumerable:n.enumerable,configurable:!1}),r&&E(e,t,n)),!n.get&&("function"==typeof n.value||"object"==typeof n.value&&null!==n.value))}catch(e){throw e.message,e}}var T=new WeakSet;function P(e){T.add(e)}function x(e){return T.has(e)}function M(e,t,r){A(e,t)&&R(e[t],r)}function R(e,t){if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){P(e);for(var r=y(e),n=b(e),i=0;i<r.length;++i)M(e,r[i],t);for(var a=0;a<n.length;++a)M(e,n[a],t);t?w(e):k(e,!1)}else if(t){var o=e=>{if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){P(e),f(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)o(e[t[n]]);for(var i=0;i<r.length;++i)o(e[r[i]])}};o(Error)}}function D(e,t){A(e,t,!0)&&N(e[t])}var O=new WeakSet;function L(e){return O.has(e)}function N(e){if(e&&!L(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){O.add(e)}(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)D(e,t[n]);for(var i=0;i<r.length;++i)D(e,r[i]);k(e,!0)}}var B=Object.prototype.hasOwnProperty,F=Object.defineProperty,W=Object.defineProperties,j=Object.getOwnPropertyNames,V=Object.getOwnPropertySymbols,U=Object.getOwnPropertyDescriptor,$=!1,z=function(){$||($=!0,F(o.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),F(o.Object,"defineProperty",{value(e,t,r){if(!L(e))return F(e,t,r);if(!S())return r;var n=U(e,t);if(!n||n.configurable){var i=F(e,t,r);return D(e,t),i}return E(e,t,r),r},configurable:!0}),F(o.Object,"defineProperties",{value(e,t){if(!L(e))return W(e,t);if(!S())return t;var r=r=>{var n=U(e,r);if(!n||n.configurable){var i=F(e,r,t[r]);return D(e,r),i}return E(e,r,t[r]),t[r]};return j(t).forEach(r),V(t).forEach(r),t},configurable:!0}))},q=function(e=[]){try{for(var r=[...i,...a,...t,...e],n=(Date.now(),0);n<r.length;++n){var s=r[n],c=typeof s;"string"===c?B.call(o,s)&&D(o,s):"function"!==c&&"object"!==c||N(s)}Date.now()}catch(e){}},H=function(e=[],r=!1){try{for(var n=[...i,...a,...t,...e],s=(Date.now(),0);s<n.length;++s){var c=n[s],l=typeof c;"string"===l?B.call(o,c)&&M(o,c,r):"function"!==l&&"object"!==l||R(c,r)}Date.now()}catch(e){}},G=r(578),K=Object.prototype.isPrototypeOf,J=Object.defineProperty,X=Object.prototype.hasOwnProperty,Y=Symbol.hasInstance,Q=function(e){return!("function"!=typeof this||!Z(e))&&((e,t)=>K.call(t.prototype,e))(e,this)},Z=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t){for(var r=function(){var r=e[n],i=t[n];if("function"!=typeof r)return"continue";var a=X.call(r,Y)?r[Y]:Q,o=X.call(i,Y)?i[Y]:Q;J(r,Y,{value(e){return a.call(this,e)||o.call(i,e)},writable:!0,enumerable:!1,configurable:!0}),J(i,Y,{value(e){return o.call(this,e)||a.call(r,e)},writable:!0,enumerable:!1,configurable:!0})},n=0;n<e.length;++n)r()}})(),k=n})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>p,callSystemFunction:()=>u,callThirdPartyFunction:()=>h,convertStack:()=>i,endSystemFunctionCall:()=>l,findCurrentSource:()=>s,startSystemFunctionCall:()=>c,surroundThirdByTryCatch:()=>v,wrapMiniProgramOrPluginFunction:()=>f,wrapSystemFunction:()=>d,wrapThirdPartyFunction:()=>g,wrapperStack:()=>n});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n=[];function i(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,i=n.length-1,o=0;o>=0&&i>=0;){var s=r.length,c=0;for(var l in a)if(a[l]){var u=r.indexOf(a[l],o);u<0||s<=u||(s=u,c=a[l].length)}if(s>=r.length)break;var d=`at <${n[i--].description}>`;r=r.slice(0,s)+d+r.slice(s+c),o=s+d.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var a={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o(e){var t=((new Error).stack||"").match(/.+/gm),n="",i=0;t&&t.forEach((e=>{if(r.test(e)&&2===(i+=1)){var t=e.match(/^(\s*)at /),a=t?t[1].length:0;return n=e.slice(a),!1}return!0})),a[e]=n}function s(){for(var e="",t=n.length-1;t>=0;t--)n[t].pluginAppId&&(e=n[t].pluginAppId);return e}var c=e=>{null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:e})},l=()=>{n.pop()};function u(e,t,r,c,l,u=!1){var p;null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:t});try{p=r.apply(c,l)}catch(t){if(i(t)){if("AppServiceSdkKnownError"===t.type)throw n.pop(),t;if("ThirdScriptError"===t.type){var h=s();E.thirdErrorReport({error:t,source:h,triggerErrorCallback:!u})}else E.errorReport({key:e,error:t,triggerErrorCallback:!u})}if(u)throw n.pop(),t}return n.pop(),p}function d(e,t,r,n=!1){return function(...i){return u(e,t,r,this,i,n)}}function p(e,t,r,s,c,l=!1){var u;null===a.wrapMiniProgramOrPluginFunction&&(a.wrapMiniProgramOrPluginFunction="",f("","",o)("wrapMiniProgramOrPluginFunction")),n.push({description:t,pluginAppId:e});try{u=r.apply(s,c)}catch(t){if(i(t)&&E.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!l}),l)throw n.pop(),t}return n.pop(),u}function h(e,t,r,n,i=!1){return p(s(),e,t,r,n,i)}function f(e,t,r,n=!1){return function(...i){return p(e,t,r,this,i,n)}}function g(e,t,r=!1){return function(...n){return p(s(),e,t,this,n,r)}}function v(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",i=e||function(){};return function(...e){return p(s(),n,i,i,e,!1)}}C=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>se});var n={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},i={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,SdkInnerApiInvoke:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287},o={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},s={apiCallback:1,pageInvoke:2,widgetInvoke:3},c={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},l={[n.APP]:"thirdScriptError",[n.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[n.WIDGET]:"widgetThirdScriptError",[n.GAME]:"gameThirdScriptError",[n.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var u={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},d=0;function f(){var e=0;return{get(){if(e>0)return e;if(0===d)throw Error("initTime not ready");return e=d},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==h?h.onLoad((()=>{u.offset=Date.now(),d=Date.now()})):(u.offset=Date.now(),d=Date.now());class g{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=f(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=f(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class v{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=f(),this._periodStartTime=f(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class m{constructor(e,t,r,n){this.reportTime=f(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new v(e,t,r,n),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,n,i){this.continueDecreaseReportLimitStrategys[e]=new g(t,r,n,i)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var y=(()=>(p.onReady((()=>{y!==p&&void 0!==y&&Object.assign(y,p)})),p))(),_=y,w=(()=>_.platform)(),I=(()=>"devtools"===w)(),S=(()=>"ios"===w)();var k=(()=>Object.prototype.toString)(),E=a.prototype.call.bind(k);function A(e){return E(e).slice(8,-1)}var T=6e4,P=15e3;function x(...e){b.invoke(...e)}var R={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},D=new m("id",P,100,T);function O(e){_.onReady((()=>{x("reportIDKey",{dataArray:e})}))}function L(e,t,r,n=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){D.pushReportQueue({id:e,key:t,value:r});var i=D.attemptReportAndGetReportMsgs(n);i.length&&O(i)}}function N(){var e=D.attemptReportAndGetReportMsgs(!0);e.length&&O(e)}var B=[],F=0,W=0,j=0,V={},U={},$={},z=new m("key",P,100,T);function q(e){_.onReady((()=>{x("reportKeyValue",{dataArray:e})}))}function H(){_.onReady((()=>{!B||B.length<=0||(x("systemLog",{dataArray:B}),B=[])}))}function G(e){var t=_&&_.appContactInfo&&_.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}z.setContinueDecreaseReportLimitStrategyKey(18042,P,.5,100,T);var K=()=>{},J=()=>{},X=()=>{},Y=()=>{},Q="",Z={},ee=-1,te=0,re=n.APP,ne="";"function"==typeof _.onReady&&_.onReady((()=>{void 0!==_.appType&&(ee=_.appType),"object"==typeof _.appLaunchInfo&&(te=_.appLaunchInfo.scene);var e=_.networkType;e?ne=e:b.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(ne=e.networkType)})),"function"==typeof b.addEventListener&&b.addEventListener("onNetworkStatusChange",(e=>{ne=e.networkType}))}));var ie={surroundThirdByTryCatch:C.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:n})=>{var i=s[e],a=Date.now();if(i&&(n||!(a-j<500))&&!(Object.keys($).length>50||($[r]||($[r]=0),$[r]++,$[r]>3))){j=a;var o=`${t},${encodeURIComponent(r)},${i},${ie.getAppType()}`;ie.reportKeyValue({key:"Slow",value:o})}},isLimitReport:e=>z.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:n})=>{var i=o[e],a=Date.now(),s=0,c=r.nativeTime;if(i&&(n||!(a-(V[i]||0)<500))&&r.startTime&&r.endTime&&(1!==i&&2!==i||c)){t&&(s=JSON.stringify(t).length),V[i]=a;var l=`${i},${r.startTime},${c},${c},${r.endTime},${s},${ie.getAppType()}`;ie.reportKeyValue({key:"Speed",value:l})}},reportQualityData(e,t,r,n=[]){var a=r-t;a<0&&(a=0),x("reportKeyValue",{version:2,dataArray:[{key:i[e],value:[a,te,t,r,...n].join(",")}]})},reportQualityData2(e,t=[]){x("reportKeyValue",{version:2,dataArray:[{key:i[e],value:t.join(",")}]})},flushReportKeyValueList:()=>{var e=z.attemptReportAndGetReportMsgs(!0);e.length&&q(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:n=!1})=>{if(n||i[e]){z.pushReportQueue({key:n?e:i[e],value:t},r);var a=z.attemptReportAndGetReportMsgs(r);a.length&&q(a)}},flushReportIDKeyList:N,reportIDKey:function({id:e,key:t,value:r=1,force:n=!1}){R[t]&&L(e||(S?356:358),R[t],r,n)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&L(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||L(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){L(1874,e,t)},thirdErrorReport:({key:e=re,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:n=!1,promise:i,source:a="",isOpenDataContextError:o})=>{ie.errorReport({key:l[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:n,promise:i,source:a,isOpenDataContextError:o})},errorReport:({key:e,error:t,isThirdScriptError:i=!1,triggerErrorCallback:a=!0,isUnhandledRejection:o=!1,promise:s,source:l="",isOpenDataContextError:u})=>{if(c[e]&&t){var d,p;"function"==typeof __wxSourceMapRetrace__&&(t=__wxSourceMapRetrace__(t)),"object"==typeof t&&(t.message||t.stack)?(d=t.message,p=t.stack):(d=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(t),p=A(t));var h=i?"MiniProgramError":`SystemError (${e})`,f=d,g="";t.name&&0!==(p||"").indexOf(t.name)&&(g="\n"+t.name+": "+f);var v=`${h}\n${f}${g}\n${p}`;if(I){var m=new Error(`${h}\n${f}`);"object"==typeof t&&void 0!==t.name&&Object.defineProperty(m,"name",{value:t.name}),"object"==typeof t&&void 0!==t.stack&&Object.defineProperty(m,"stack",{value:t.stack}),console.error(m)}else o?console.error("(in promise) "+v):console.error(v);if(!(u||v.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){b.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:v},options:{timestamp:Date.now()}}):a&&(ie.triggerErrorMessage(v,o,t,s),i&&ie.triggerThirdErrorMessage(v,o,t,s)),Object.keys(U).length>50||o&&"Error"!==A(t)))){var y="",_="";re!==n.APP&&re!==n.GAME||(y=Q,_=function(e){var t="";return Object.keys(e).forEach(((r,n)=>{0!==n&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(Z));var w=0;if(1004===ie.getAppType())try{ne=M.getGameRelatedContextsExports().game._getCurrentNetworkType();var S=t.stackInfoArr;if(delete t.stackInfoArr,S){var k=S[0];if(k&&"usr"===k.type&&"__plugin__"===k.package&&"string"==typeof k.file){var C=k.file.split("/");w=G(l=C&&C[0])}}}catch(m){}else w=l.match(/wx[0-9a-f]{16}/)?G(l):0;var E=[c[e],t.name,...[f,p,void 0!==r&&r.version||"",ie.getAppType(),y,_,void 0!==r&&r.updateTime||"","",o?1:0,l,w,ne].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(U[E]||(U[E]=0),U[E]++,!(i&&U[E]>3||U[E]>3)){ie.reportIDKey({key:e}),ie.reportKeyValue({key:"Error",value:E});var T=z.attemptReportAndGetReportMsgs(!0);T.length&&q(T),N(),H()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-F<50||(F=Date.now(),B.push(e+""),B.length>=50&&H()))},submit:()=>{Date.now()-W<50||(W=Date.now(),N(),q(z.attemptReportAndGetReportMsgs(!0)),H())},registerErrorListener:e=>{"function"==typeof e&&(K=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(J=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(X=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(Y=e)},triggerErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?X(r,n):K(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?Y(r,n):J(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{re=n.WIDGET},setAsGame:()=>{re=n.GAME},setAsGameSubContext:()=>{re=n.GAME_SUBCONTEXT},getAppType:()=>-1===ee?0:ee+1e3},ae={};function oe(e){Object.defineProperty(ae,e,{get(){return t=ie[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(ie).forEach((e=>{oe(e)})),Object.defineProperty(ae,"__route__",{set(e){Q=e}}),Object.defineProperty(ae,"__method__",{set(){}}),Object.defineProperty(ae,"__query__",{set(e){Z=e}}),ae.RunType=n,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){ie.submit()}});var se=ae})(),E=t.default})(),(()=>{var e={300:(e,t,r)=>{var n;r.d(t,{k:()=>a,r:()=>i}),h.onLoad((()=>{n=[...k.globalEsObjs.map((e=>globalThis[e])),...k.globalEsHiddenObjs].filter(Boolean)}));var i=()=>n;function a(e){var t=e.getGlobals(),r=i();t.length===r.length?k.bridgeGlobalInstanceOf(i(),t):h.emitFrameworkError(new Error("remoteGlobals mismatch with currentGlobals"),"bridgeGlobalInstanceOf")}},465:(e,t,r)=>{r.d(t,{A:()=>n});var n=(globalThis.__wxLibrary||{}).contextType}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{_getSelfBridgeContext:()=>a,bridgeContext:()=>o});var e=r(300),t=r(465),i=new Map;function a(){return{getGlobals:e.r,contextType:t.A,setBridged:(e,t)=>{i.set(e,t)}}}function o(r){var n=r._getSelfBridgeContext();t.A,n.contextType;try{if(i.has(n.contextType))return;i.set(n.contextType,n),n.setBridged(t.A,a()),(0,e.k)(n)}catch(e){t.A,n.contextType}}})(),A=n})(),(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};e.r(t),e.d(t,{actionController:()=>we,allowReportLoadingTime:()=>vt,checkIsWebviewPageDetach:()=>Ge,clearAsyncCallApiRelatedEvent:()=>Ve,clearCurrentEventApiList:()=>xe,clearCurrentEventInfo:()=>Le,closeTrackUserAction:()=>Te,convert24247SchemaToSensitiveQueryJudgeSchema:()=>N,convertReportInfo2Strategys:()=>re,endLoading:()=>ft,endTraceHandler:()=>et,filterApiReportReq:()=>ae,getAppServiceVariable:()=>$e,getAsyncCallApiRelatedEvent:()=>je,getAsyncCallbackJoinEventInterval:()=>Ye,getCurrentEventApiList:()=>Be,getCurrentEventInfo:()=>Oe,getCurrentFullyRoutePath:()=>x,getCurrentPageTitle:()=>A,getCurrentRawRoutePath:()=>U,getCurrentRoutePath:()=>w,getCurrentRoutePathWithoutQuery:()=>I,getCurrentRouteStartTime:()=>$,getEventJoinInterval:()=>Xe,getLastRoutePath:()=>_,getPageTitle:()=>R,getQualityConfig:()=>ut,getReportEvent:()=>le,getRouteHasWebview:()=>He,getSafeRoutePath:()=>B,getSamplePercent:()=>se,getSessionId:()=>ue,getTextContentMaxLayer:()=>me,getTextContentMaxLength:()=>ve,getTrackUserAction:()=>Ne,protectActionReporter:()=>mt,pruneSensitiveUrl:()=>j,pushApiToEventApiList:()=>Fe,reportInteractionAPI:()=>ct,setAppServiceVariable:()=>Ue,setAsyncCallApiRelatedEvent:()=>We,setAsyncCallbackJoinEventInterval:()=>Qe,setCurrentEventApiList:()=>Pe,setCurrentEventInfo:()=>De,setCurrentRouteStartTime:()=>z,setEventJoinInterval:()=>Je,setQualityConfig:()=>lt,setReportSetting:()=>Ie,setRouteHasWebview:()=>qe,setSessionId:()=>te,shouldReportApi:()=>ge,shouldReportEvent:()=>ce,shouldReportLifetime:()=>de,shouldStartReport:()=>fe,shouldStopReport24689:()=>oe,shouldUpdateReportInfo:()=>he,startActionChainReport:()=>pe,startLoading:()=>ht,startTraceHandler:()=>Ze,startTrackUserAction:()=>Ae,traceApi:()=>Ee,traceBootRoutePath:()=>k,traceEvent:()=>Ce,traceFullyRoutePath:()=>P,traceLife:()=>Se,traceNewRoute:()=>D,traceRawRoutePath:()=>V,traceRoute:()=>ke,traceRoutePath:()=>y,traceRoutePathWithoutQuery:()=>b,updateWebviewPageInfo:()=>Ke});var r=c.objectSpread2,n=e.n(r),i=(()=>Object.prototype.toString)(),o=a.prototype.call.bind(i);function s(e){return o(e).slice(8,-1)}var l=e=>"Object"===s(e);class u{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}var d,f,g,m=(()=>new u)(),y=e=>{d=w(),m.set("current_route_path",e,!0)},b=e=>{m.set("current_route_without_query_path",e,!0)},_=()=>d,w=()=>m.get("current_route_path"),I=()=>m.get("current_route_without_query_path"),S=!0,k=e=>{S&&(y(e),S=!1)},C={},A=()=>{var e=x();return C[e]},P=(e,t)=>{try{if("string"!=typeof e)return f=e;if(!l(t))return f=e;for(var r of(e+="?",Object.keys(t))){e+=`${r}=${t[r]}&`}return f=e.slice(0,e.length-1)}catch(t){return v.error("getFullyRoutePath err:",t),f=e}},x=()=>f,R=e=>C[e],D=(e,t)=>{var r,n,i=(t&&t.window||{}).navigationBarTitleText||"",a=U(),o=null==e?void 0:e[a],s=(null==o||null===(r=o.window)||void 0===r?void 0:r.navigationBarTitleText)||i;n=s,C[f]=n},O={},L=!1,N=e=>{try{var t,r,n,i=(null==e||null===(t=e.common)||void 0===t?void 0:t.importantKeyInfo)||[];(i=i.map((e=>{var t;return new RegExp(e.pure,null!==(t=e.flag)&&void 0!==t?t:"")}))).length&&(O.keyJudge=i);var a=(null==e||null===(r=e.common)||void 0===r?void 0:r.sensitiveInfo)||[],o=[...(null==e||null===(n=e.common)||void 0===n?void 0:n.safeSensitiveInfo)||[],...a].reduce(((e,t)=>{var r;return t.matchKey||e.push(new RegExp(t.pure,null!==(r=t.flag)&&void 0!==r?r:"")),e}),[]);o.length&&(O.valJudge=o),L=!0}catch(e){v.error("convert24247SchemaToSensitiveQueryJudgeSchema err:",e)}},B=(e,t,r)=>{try{if("string"!=typeof e)return e;var n=((e,t)=>{if(!l(e))return e;if(!L){var r={};return Object.keys(e).forEach((n=>{r[n]=1092!=t||_()?"":e[n]})),r}var{keyJudge:n,valJudge:i}=O,a={},o=function(t){var r=e[t];n&&n.some((e=>e.test(t)))&&(r=null),r&&i&&i.forEach((e=>{r=r.replace(e,"")})),a[t]=r};for(var s of Object.keys(e))o(s);return a})(t,r);if(!l(n))return e;for(var i of(e+="?",Object.keys(n))){e+=`${i}=${n[i]}&`}return e.slice(0,e.length-1)}catch(t){return v.error("getSafeRoutePath err:",t),e}},F=new RegExp("[^&=?]+=[^&]*","g"),W=new RegExp("(.*)=(.*)"),j=e=>{try{if("string"!=typeof e)return e;var t=e.indexOf("?");if(-1===t)return e;var r=e.slice(t+1).match(F);if(!r)return e;var n=e.slice(0,t);return r=r.reduce(((e,t)=>{var r,n,i=null===(r=t.match(W))||void 0===r||null===(n=r.slice)||void 0===n?void 0:n.call(r,1);return i?(Object.assign(e,Object.fromEntries([i])),e):e}),{}),B(n,r)}catch(t){return e}},V=e=>{m.set("current_raw_route_path",e,!0)},U=()=>m.get("current_raw_route_path"),$=()=>g,z=()=>g=Date.now(),q=(()=>(p.onReady((()=>{q!==p&&void 0!==q&&Object.assign(q,p)})),p))(),H=q;H.onReady((()=>{m.set("api_call_from_hot_boot_time",Date.now(),!0),void 0!==M&&M.onAppEnterForeground((()=>{m.set("api_call_from_hot_boot_time",Date.now())}))}));var G,K=e=>{try{e=JSON.stringify(e)}catch(e){}return e},J={},X={tap:!0},Y={},Q=30,Z=3,ee=!1,te=e=>{G=e},re=e=>{e&&"object"==typeof e&&(e.api.forEach((e=>{"string"==typeof e.name&&(J[e.name]={req:e.req,res:e.resp,samplePercent:e.samplePercent})})),(e=>{e.forEach((e=>{X[e.type]=!0}))})(e.event),(e=>{e.lifetimes&&e.lifetimes.forEach((e=>{Y[e.type]=!0}))})(e),(e=>{void 0!==e.textContentMaxLength&&(Q=e.textContentMaxLength>30?30:e.textContentMaxLength<0?0:e.textContentMaxLength),void 0!==e.textContentMaxLayer&&(Z=e.textContentMaxLayer>3?3:e.textContentMaxLayer<0?0:e.textContentMaxLayer)})(e),v.info("TUA ApiReportStrategys:",J))},ne=e=>{if(!l(e))return e;var t={};for(var r of Object.keys(e)){var i=e[r];l(i)?t=n()(n()({},t),ne(i)):t[r]=i}return t},ie=(e,t)=>{if(!e)return null;if(!t)return t;if("string"==typeof t)return l(e)?null:t.slice(0,512);if(!0===e||"string"==typeof e)return t;var r;if(Array.isArray(t))r=[];else{if("[object Object]"!==Object.prototype.toString.call(t))return t;r={}}for(var n of Object.keys(e))if("string"==typeof n){var i=t[n];if(void 0!==i){var a=e[n];if(a){var o=n.toLowerCase();"string"==typeof a&&(o=a.toLowerCase()),r[o]=ie(a,i)}}}return r=ne(r)},ae=(e,t,r=!1)=>{var n,i=J[e];if(!i)return null;var a={};return 1===(null===(n=i=i[r?"res":"req"])||void 0===n?void 0:n.__ALL__)?a.ext_data=K(t):a.ext_data=K(ie(i,t)),a},oe=e=>Math.random()>se(e),se=(e={})=>{var t;return"api"===e.type?null===(t=J[e.data])||void 0===t?void 0:t.samplePercent:1},ce=e=>ee&&X[e],le=()=>ee?X:[],ue=()=>G,de=e=>Y[e],pe=()=>{ee=!0},he=e=>G!==e,fe=()=>ee,ge=e=>J[e],ve=()=>Q,me=()=>Z;var ye,be,_e,we=new class{constructor({sendInterval:e=5e3,cache:t=5}={}){this.sendInterval=e,this.cache=t,this.actions=[],this.isInit=!1,this.currentActionId=1}create(){return{}}intervalSend(){if(!this.sendClear){var e=setTimeout((()=>{this.send(),this.intervalSend()}),this.sendInterval);this.sendClear=e}}clearIntervalSend(){clearTimeout(this.sendClear),this.sendClear=null}getCurrentId(){return this.currentActionId++}add(e,t={}){var r,i;this.isInit&&(1!==e.result&&oe({type:e.reporttype,data:e.name})||(e.id=this.getCurrentId(),e.hotbootdistance=(i=m.get("api_call_from_hot_boot_time"),Date.now()-i),e.pagename=null!==(r=t.path)&&void 0!==r?r:w(),e.instanceId=H.appLaunchInfo.sessionid||H.appLaunchInfo.sessionId,e.source=void 0!==h?h.env.isWebView?2:1:0,e.appId=H.accountInfo&&H.accountInfo.appId,e.pagetitle=t.path?R(t.fullyPath):A(),e.extra_info=JSON.stringify(n()({isasyncreturn:e.isAsync},e.extra_info)),delete e.isAsync,e.time=Date.now(),"api"!==e.reporttype||"navigateTo"!==e.name&&"redirectTo"!==e.name&&"switchTab"!==e.name&&"navigateBack"!==e.name||(e.pagename=_()),this.actions.push(JSON.stringify(e)),this.actions.length>this.cache&&this.send()))}cut(e){if("string"!=typeof e)return e;var t=Math.floor(204700/this.cache);return e.length>t?e.slice(0,t):e}send(){void 0!==M&&(this.actions.length&&M.reportActionTrace({cs_session_id:ue(),click_event_data_list:this.actions.map(this.cut.bind(this))},{fail(e){var t=["","","webapi_reportwxacityservicescreenshot",w(),1,JSON.stringify({err:e.errMsg})].map(encodeURIComponent).join(",");E.reportKeyValue({key:"SdkInnerApiInvoke",value:t,force:!0}),v.error("report user action err:",e)}}),this.actions=[],this.clearIntervalSend(),this.intervalSend())}protect(){if(this.isInit)return null;void 0!==M&&(this.intervalSend(),M.onAppEnterBackground((()=>{this.clearIntervalSend(),this.send()})),M.onAppEnterForeground((()=>{this.intervalSend()})),this.isInit=!0)}setReportSetting({reportCache:e,reportInterval:t}){this.cache=null!=e?e:5,this.sendInterval=null!=t?t:5e3}},Ie=e=>we.setReportSetting(e),Se=(e,t)=>{if(de(e)){var r={reporttype:"lifetimes",result:0,type:e};we.add(r,{path:t.path,fullyPath:t.fullyPath})}},ke=(e,t,r=!0)=>{Ee(e,{url:t},null,r,null,0)},Ce=(e,t,r,n,i,a)=>{if("onH5Open"===e||ce(e)){var o={reporttype:"event",event:{currenttarget:r,target:n},errmsg:t||null,result:t?1:0,eventname:e,event_id:String(a)};we.add(o)}},Ee=(e,t,r,i,a,o,s,c={})=>{if(ge(e)){var{errMsg:l,errno:u,relatedEvent:d}=c,p=n()({reporttype:"api",name:e,req:c.noFilterReq?{ext_data:K(t)}:ae(e,t),resp:c.noFilterRes?{ext_data:K(r)}:ae(e,r,!0),uid:String(a),result:i?1:0,cost_time:o,isAsync:s,extraInfo:c,jsapi_errmsg:l,jsapi_errno:u},d?{in_event:String(d)}:{});delete c.noFilterReq,delete c.noFilterRes,we.add(p)}},Ae=e=>{m.set("start_track_user_action",e,!0)},Te=()=>{m.set("start_track_user_action",!1)},Pe=e=>{m.set("current_event_api_list",e,!0)},xe=()=>{m.set("current_event_api_list",null)},Me=null,Re=null,De=e=>{Me=e},Oe=()=>Me,Le=e=>{if(Ne()!==e)return!1;Me=null},Ne=()=>m.get("start_track_user_action"),Be=()=>m.get("current_event_api_list"),Fe=(e,t)=>{var r=Be();return!(!r||!ge(e))&&(r.push(String(t)),!0)},We=e=>{if(Re)return!1;Re=e},je=()=>Re,Ve=e=>{if(e!==Re)return!1;Re=null},Ue=e=>{ye=e},$e=()=>ye,ze={},qe=(e,t)=>{if(!t)return!1;t.startTime=Date.now(),ze[e]=t},He=e=>ze[e],Ge=()=>{var e,t=U();if(e=ze[t]){var{src:r,startTime:n}=e,{scene:i,scene_note:a,instanceId:o}=$e()||{},s=[o,i,a,j(r),Date.now(),Date.now()-n,w()].map(encodeURIComponent).join(",");E.reportKeyValue({key:"detachFromNestWebviewPage",value:s})}},Ke=()=>{var e,t=U();(e=ze[t])&&(e.startTime=Date.now())};var Je=e=>be=null!=e?e:50,Xe=()=>be,Ye=()=>_e,Qe=e=>_e=null!=e?e:25,Ze=e=>{if(e&&ce(e.type)){if(Ne())return null;var t,r;try{var{currentTarget:{__extra:n},target:{__extra:i}}=e;r=i,(t=n)&&(delete e.currentTarget.__extra,delete e.target.__extra)}catch(e){}var a=[],o=1e4*Date.now()+Math.round(9999*Math.random());return Ae(o),Pe(a),De({type:e.type,callErr:null,currentTargetTrace:t,targetTrace:r,apiCalls:a}),o}},et=e=>{e===Ne()&&setTimeout((()=>{var t=Oe()||{};Ce(t.type,t.callErr,t.currentTargetTrace,t.targetTrace,t.apiCalls,e),Le(e),Te(),xe()}),be)},tt=0,rt=0,nt={},it=[1005,1006,1042,1053,1106,1179,1027,1153];H.onReady((()=>{tt=H.appLaunchInfo.scene,rt=H.appLaunchInfo.sessionid||H.appLaunchInfo.sessionId,Object.assign(nt,H.appLaunchInfo)}));var at,ot,st=null,ct=({api:e,result:t,res:r})=>{if(!1!==st){null===st&&(st=it.includes(tt)),0===t&&r&&r.cancel&&(t=2);var n=[e,t,Date.now(),tt,encodeURIComponent(nt.scene_note||nt.sceneNote),rt,I()].join(",");E.reportKeyValue({key:"WeAppInteractionApiCall",value:n})}},lt=e=>{at=e},ut=()=>at,dt=-1,pt=!1,ht=()=>{if(!pt)return!1;ot=Date.now()},ft=e=>{var t;if(!pt)return!1;dt=Date.now()-ot;var r=gt(),n=$e().instanceId,i=["showLoading",String(r),w(),n,3,e].join(",");null!==(t=ut())&&void 0!==t&&t.reportLoading&&E.reportKeyValue({key:"WeAppInteractiveApiError",value:i})},gt=()=>{if(-1===dt)return!1;var e=dt;return dt=-1,e},vt=()=>{pt=!0},mt=()=>{we.protect()};T=t})();var P=!1,x,M;(()=>{var e={925:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{AnimationStatus:()=>X,Context:()=>d.Context,Easing:()=>me,RGBtoHSV:()=>j,addRouteBuilder:()=>Je,blue:()=>F,cancelAnimation:()=>ee,checkPluginState:()=>Re,convertToHSVA:()=>H,createAnimatedStyle:()=>Ee,createRouteContext:()=>xe,decay:()=>_e,defineAnimation:()=>Z,delay:()=>we,derived:()=>Ae,genRouteConfig:()=>Qe,getRouteBuilder:()=>Ye,getRouteContext:()=>Ze,green:()=>B,hsvToColor:()=>U,initialUpdaterRun:()=>J,initialize:()=>qe,isColor:()=>z,isConfigured:()=>De,isConfiguredCheck:()=>Oe,makeMutable:()=>We,makeRemote:()=>je,makeShareable:()=>Ne,opacity:()=>L,processColor:()=>q,processColorInitially:()=>$,red:()=>N,removeRouteBuilder:()=>Xe,removeRouteContext:()=>et,repeat:()=>Ie,rgbaColor:()=>W,runOnJS:()=>ze,runOnUI:()=>Le,sequence:()=>Se,setUserGestureInProgress:()=>Pe,shared:()=>h,spring:()=>be,startMapper:()=>Ve,stopMapper:()=>Ue,stopMappers:()=>$e,timing:()=>ye,toRGBA:()=>G});var e,t=new class{get nativeModule(){return SkylineGlobal.workletModule}installCoreFunctions(e){return this.nativeModule.installCoreFunctions(e)}makeShareable(e){return this.nativeModule.makeShareable(e)}makeMutable(e){return this.nativeModule.makeMutable(e)}makeRemote(e={}){return this.nativeModule.makeRemote(e)}startMapper(e,t,r=[],n=[]){return this.nativeModule.startMapper(e,t,r,n)}stopMapper(e,t){return this.nativeModule.stopMapper(e,t)}stopMappers(e,t){return this.nativeModule.stopMappers(e,t)}registerEventHandler(e,t){this.nativeModule.registerEventHandler(e,t)}unregisterEventHandler(e){return this.nativeModule.unregisterEventHandler(e)}},i=((e=function(e){for(var t=[e];t.length>0;){var r=t.pop();if(Array.isArray(r))for(var n of r)t.push(n);else{if(void 0!==(null==r?void 0:r.onFrame))return!0;if("object"==typeof r)for(var i of Object.values(r))t.push(i)}}return!1})._closure={},e.asString="function isAnimated(prop){const propsToCheck=[prop];while(propsToCheck.length>0){const currentProp=propsToCheck.pop();if(Array.isArray(currentProp)){for(const item of currentProp){propsToCheck.push(item);}}else if((currentProp===null||currentProp===void 0?void 0:currentProp.onFrame)!==undefined){return true;}else if(typeof currentProp==='object'){for(const item of Object.values(currentProp)){propsToCheck.push(item);}}}return false;}",e.__workletHash=3559579197933,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (14:7)",e.__worklet=!0,e),a=function(){var e=function(e,t){var r={};for(var n in e)void 0===t[n]&&(r[n]=null);for(var a in t){var o=t[a],s=e[a];i(o)||s!==o&&(r[a]=o)}return r};return e._closure={isAnimated:i},e.asString="function styleDiff(oldStyle,newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in oldStyle){if(newStyle[key]===undefined){diff[key]=null;}}for(const key in newStyle){const value=newStyle[key];const oldValue=oldStyle[key];if(isAnimated(value)){continue;}if(oldValue!==value){diff[key]=value;}}return diff;}}",e.__workletHash=0xfe47055e6f3,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (37:7)",e.__worklet=!0,e}(),o=(function(){var e=function(e){var t={};for(var r in e){var n=e[r];i(n)||(t[r]=n)}return t};e._closure={isAnimated:i},e.asString="function getStyleWithoutAnimations(newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in newStyle){const value=newStyle[key];if(isAnimated(value)){continue;}diff[key]=value;}return diff;}}",e.__workletHash=2190466090064,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (60:7)",e.__worklet=!0}(),function(){var e=function(e){if("object"!=typeof e)throw new Error(`createAnimatedStyle has to return an object, found ${typeof e} instead`)};return e._closure={},e.asString='function _f(styles){if(typeof styles!==\'object\'){throw new Error("createAnimatedStyle has to return an object, found "+typeof styles+" instead");}}',e.__workletHash=9807328913452,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (74:38)",e.__worklet=!0,e}()),s=function(){var e=function(){return _frameTimestamp||workletUIModule.getCurrentTime()};return e._closure={},e.asString="function getTimestamp(){if(_frameTimestamp){return _frameTimestamp;}return workletUIModule.getCurrentTime();}",e.__workletHash=6987138698829,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (81:7)",e.__worklet=!0,e}(),c=function(){var e=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))};return e._closure={},e.asString="function camelToDash(propertyName){function upperToHyphenLower(match){return'-'+match.toLowerCase();}return propertyName.replace(/[A-Z]/g,upperToHyphenLower);}",e.__workletHash=2809696379033,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (90:7)",e.__worklet=!0,e}(),l=function(){var e=function(e){return Object.keys(e).map((function(t){return`${c(t)}: ${e[t]}`})).join("; ")+";"};return e._closure={camelToDash:c},e.asString="function covertInlineStyle(styleObject){const{camelToDash}=jsThis._closure;{const inlineStyle=Object.keys(styleObject).map(function(key){return camelToDash(key)+\": \"+styleObject[key];}).join('; ')+';';return inlineStyle;}}",e.__workletHash=0xbd03b15f23c,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (98:7)",e.__worklet=!0,e}();p.platform,p.platform;var u="devtools"===p.platform,d=r(925);function h(e){return We(e)}var f=function(){var e=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))};return e._closure={},e.asString="function camelToDash(propertyName){function upperToHyphenLower(match){return'-'+match.toLowerCase();}return propertyName.replace(/[A-Z]/g,upperToHyphenLower);}",e.__workletHash=2809696379033,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/UpdateProps.ts (3:0)",e.__worklet=!0,e}(),g=function(){var e=function(e){return Object.keys(e).map((function(t){return`${f(t)}: ${e[t]}`})).join("; ")+";"};return e._closure={camelToDash:f},e.asString="function covertInlineStyle(styleObject){const{camelToDash}=jsThis._closure;{const inlineStyle=Object.keys(styleObject).map(function(key){return camelToDash(key)+\": \"+styleObject[key];}).join('; ')+';';return inlineStyle;}}",e.__workletHash=0xbd03b15f23c,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/UpdateProps.ts (11:0)",e.__worklet=!0,e}(),m=function(){var e=function(e,t){var r=g(t);workletUIModule.updateNodeStyle(e,r)};return e._closure={covertInlineStyle:g},e.asString="function _f(shadowNode,updates){const{covertInlineStyle}=jsThis._closure;{const inlineStyle=covertInlineStyle(updates);workletUIModule.updateNodeStyle(shadowNode,inlineStyle);}}",e.__workletHash=9139659003565,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/UpdateProps.ts (20:30)",e.__worklet=!0,e}(),y=m,b={OS:p.platform},_="[-+]?\\d*\\.?\\d+",w=_+"%",I=function(){var e=function(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"};return e._closure={},e.asString='function call(...args){return"\\\\(\\\\s*("+args.join(")\\\\s*,\\\\s*(")+")\\\\s*\\\\)";}',e.__workletHash=5957993449695,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (24:0)",e.__worklet=!0,e}(),S={},k=function(){var e=function(){var e=globalThis,t="_uiCachedMatchers";return void 0===e[t]&&(e[t]={}),e[t]};return e._closure={},e.asString='function _f(){const obj=globalThis;const prop="_uiCachedMatchers";if(typeof obj[prop]==="undefined"){obj[prop]={};}return obj[prop];}',e.__workletHash=0x95ce11262e3,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (33:25)",e.__worklet=!0,e}(),C=function(){var e=function(){var e=P?k():S;return void 0===e.rgb&&(e.rgb=new RegExp("rgb"+I(_,_,_)),e.rgba=new RegExp("rgba"+I(_,_,_,_)),e.hsl=new RegExp("hsl"+I(_,w,w)),e.hsla=new RegExp("hsla"+I(_,w,w,_)),e.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,e.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,e.hex6=/^#([0-9a-fA-F]{6})$/,e.hex8=/^#([0-9a-fA-F]{8})$/),e};return e._closure={uiCachedMatchers:k,jsCachedMatchers:S,call:I,NUMBER:_,PERCENTAGE:w},e.asString='function getMatchers(){const{uiCachedMatchers,jsCachedMatchers,call,NUMBER,PERCENTAGE}=jsThis._closure;{const cachedMatchers=_WORKLET?uiCachedMatchers():jsCachedMatchers;if(cachedMatchers.rgb===undefined){cachedMatchers.rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER));cachedMatchers.rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER));cachedMatchers.hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE));cachedMatchers.hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER));cachedMatchers.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex6=/^#([0-9a-fA-F]{6})$/;cachedMatchers.hex8=/^#([0-9a-fA-F]{8})$/;}return cachedMatchers;}}',e.__workletHash=6466912516105,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (54:0)",e.__worklet=!0,e}();C();var E=function(){var e=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e};return e._closure={},e.asString="function hue2rgb(p,q,t){if(t<0){t+=1;}if(t>1){t-=1;}if(t<1/6){return p+(q-p)*6*t;}if(t<1/2){return q;}if(t<2/3){return p+(q-p)*(2/3-t)*6;}return p;}",e.__workletHash=3618366985414,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (83:0)",e.__worklet=!0,e}(),A=function(){var e=function(e,t,r){var n=r<.5?r*(1+t):r+t-r*t,i=2*r-n,a=E(i,n,e+1/3),o=E(i,n,e),s=E(i,n,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8};return e._closure={hue2rgb:E},e.asString="function hslToRgb(h,s,l){const{hue2rgb}=jsThis._closure;{const q=l<0.5?l*(1+s):l+s-l*s;const p=2*l-q;const r=hue2rgb(p,q,h+1/3);const g=hue2rgb(p,q,h);const b=hue2rgb(p,q,h-1/3);return Math.round(r*255)<<24|Math.round(g*255)<<16|Math.round(b*255)<<8;}}",e.__workletHash=4500055963175,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (103:0)",e.__worklet=!0,e}(),T=function(){var e=function(e){var t=Number.parseInt(e,10);return t<0?0:t>255?255:t};return e._closure={},e.asString="function parse255(str){const int=Number.parseInt(str,10);if(int<0){return 0;}if(int>255){return 255;}return int;}",e.__workletHash=7024550667346,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (118:0)",e.__worklet=!0,e}(),x=function(){var e=function(e){return(Number.parseFloat(e)%360+360)%360/360};return e._closure={},e.asString="function parse360(str){const int=Number.parseFloat(str);return(int%360+360)%360/360;}",e.__workletHash=6683812623228,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (130:0)",e.__worklet=!0,e}(),M=function(){var e=function(e){var t=Number.parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)};return e._closure={},e.asString="function parse1(str){const num=Number.parseFloat(str);if(num<0){return 0;}if(num>1){return 255;}return Math.round(num*255);}",e.__workletHash=7197247664793,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (136:0)",e.__worklet=!0,e}(),R=function(){var e=function(e){var t=Number.parseFloat(e);return t<0?0:t>100?1:t/100};return e._closure={},e.asString="function parsePercentage(str){const int=Number.parseFloat(str);if(int<0){return 0;}if(int>100){return 1;}return int/100;}",e.__workletHash=8813932430184,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (148:0)",e.__worklet=!0,e}(),D={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},O=function(){var e=function(e){var t,r,n,i,a,o,s,c;if("number"==typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!=typeof e)return null;var l,u=C();return(l=null==u||null===(t=u.hex6)||void 0===t?void 0:t.exec(e))?Number.parseInt(l[1]+"ff",16)>>>0:void 0!==D[e]?D[e]:(l=null==u||null===(r=u.rgb)||void 0===r?void 0:r.exec(e))?(T(l[1])<<24|T(l[2])<<16|T(l[3])<<8|255)>>>0:(l=null==u||null===(n=u.rgba)||void 0===n?void 0:n.exec(e))?(T(l[1])<<24|T(l[2])<<16|T(l[3])<<8|M(l[4]))>>>0:(l=null==u||null===(i=u.hex3)||void 0===i?void 0:i.exec(e))?Number.parseInt(l[1]+l[1]+l[2]+l[2]+l[3]+l[3]+"ff",16)>>>0:(l=null==u||null===(a=u.hex8)||void 0===a?void 0:a.exec(e))?Number.parseInt(l[1],16)>>>0:(l=null==u||null===(o=u.hex4)||void 0===o?void 0:o.exec(e))?Number.parseInt(l[1]+l[1]+l[2]+l[2]+l[3]+l[3]+l[4]+l[4],16)>>>0:(l=null==u||null===(s=u.hsl)||void 0===s?void 0:s.exec(e))?(255|A(x(l[1]),R(l[2]),R(l[3])))>>>0:(l=null==u||null===(c=u.hsla)||void 0===c?void 0:c.exec(e))?(A(x(l[1]),R(l[2]),R(l[3]))|M(l[4]))>>>0:null};return e._closure={getMatchers:C,names:D,parse255:T,parse1:M,hslToRgb:A,parse360:x,parsePercentage:R},e.asString='function normalizeColor(color){const{getMatchers,names,parse255,parse1,hslToRgb,parse360,parsePercentage}=jsThis._closure;{var _matchers$hex,_matchers$rgb,_matchers$rgba,_matchers$hex2,_matchers$hex3,_matchers$hex4,_matchers$hsl,_matchers$hsla;if(typeof color==="number"){if(color>>>0===color&&color>=0&&color<=0xffffffff){return color;}return null;}if(typeof color!=="string"){return null;}const matchers=getMatchers();let match;if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex=matchers.hex6)===null||_matchers$hex===void 0?void 0:_matchers$hex.exec(color)){return Number.parseInt(match[1]+"ff",16)>>>0;}if(names[color]!==undefined){return names[color];}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgb=matchers.rgb)===null||_matchers$rgb===void 0?void 0:_matchers$rgb.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgba=matchers.rgba)===null||_matchers$rgba===void 0?void 0:_matchers$rgba.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|parse1(match[4]))>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex2=matchers.hex3)===null||_matchers$hex2===void 0?void 0:_matchers$hex2.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+"ff",16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex3=matchers.hex8)===null||_matchers$hex3===void 0?void 0:_matchers$hex3.exec(color)){return Number.parseInt(match[1],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex4=matchers.hex4)===null||_matchers$hex4===void 0?void 0:_matchers$hex4.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+match[4]+match[4],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsl=matchers.hsl)===null||_matchers$hsl===void 0?void 0:_matchers$hsl.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsla=matchers.hsla)===null||_matchers$hsla===void 0?void 0:_matchers$hsla.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|parse1(match[4]))>>>0;}return null;}}',e.__workletHash=923457302830,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (316:0)",e.__worklet=!0,e}(),L=function(){var e=function(e){return(e>>24&255)/255};return e._closure={},e.asString="function _f(c){return(c>>24&255)/255;}",e.__workletHash=0xd60a2a09964,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (428:23)",e.__worklet=!0,e}(),N=function(){var e=function(e){return e>>16&255};return e._closure={},e.asString="function _f(c){return c>>16&255;}",e.__workletHash=0xba6200c4759,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (433:19)",e.__worklet=!0,e}(),B=function(){var e=function(e){return e>>8&255};return e._closure={},e.asString="function _f(c){return c>>8&255;}",e.__workletHash=3499836539046,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (438:21)",e.__worklet=!0,e}(),F=function(){var e=function(e){return 255&e};return e._closure={},e.asString="function _f(c){return c&255;}",e.__workletHash=0xd6ef76daabe,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (443:20)",e.__worklet=!0,e}(),W=function(){var e=function(e,t,r,n=1){if(!P)return`rgba(${e}, ${t}, ${r}, ${n})`;var i=Math.round(255*n)*(1<<24)+65536*Math.round(e)+256*Math.round(t)+Math.round(r);return"android"===b.OS?i<1<<31>>>0?i:i-4294967296:i};return e._closure={Platform:{OS:b.OS}},e.asString='function _f(r,g,b,alpha=1){const{Platform}=jsThis._closure;{if(!_WORKLET){return"rgba("+r+", "+g+", "+b+", "+alpha+")";}const c=Math.round(alpha*255)*(1<<24)+Math.round(r)*(1<<16)+Math.round(g)*(1<<8)+Math.round(b);if(Platform.OS==="android"){return c<1<<31>>>0?c:c-4294967296;}return c;}}',e.__workletHash=0xd4bf6c0982f,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (448:25)",e.__worklet=!0,e}(),j=function(){var e=function(e,t,r){1===arguments.length&&(t=e.g,r=e.b,e=e.r);var n,i=Math.max(e,t,r),a=Math.min(e,t,r),o=i-a,s=0===i?0:o/i,c=i/255;switch(i){default:case a:n=0;break;case e:n=t-r+o*(t<r?6:0),n/=6*o;break;case t:n=r-e+2*o,n/=6*o;break;case r:n=e-t+4*o,n/=6*o}return{h:n,s:s,v:c}};return e._closure={},e.asString="function RGBtoHSV(r,g,b){if(arguments.length===1){g=r.g;b=r.b;r=r.r;}const max=Math.max(r,g,b);const min=Math.min(r,g,b);const d=max-min;const s=max===0?0:d/max;const v=max/255;let h;switch(max){default:case min:h=0;break;case r:h=g-b+d*(g<b?6:0);h/=6*d;break;case g:h=b-r+d*2;h/=6*d;break;case b:h=r-g+d*4;h/=6*d;break;}return{h:h,s:s,v:v};}",e.__workletHash=0xf0c87722021,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (480:7)",e.__worklet=!0,e}(),V=function(){var e=function(e,t,r){var n,i,a,o,s,c,l,u;switch(1===arguments.length&&(t=e.s,r=e.v,e=e.h),c=r*(1-t),l=r*(1-(s=6*e-(o=Math.floor(6*e)))*t),u=r*(1-(1-s)*t),o%6){case 0:n=r,i=u,a=c;break;case 1:n=l,i=r,a=c;break;case 2:n=c,i=r,a=u;break;case 3:n=c,i=l,a=r;break;case 4:n=u,i=c,a=r;break;case 5:n=r,i=c,a=l}return{r:Math.round(255*n),g:Math.round(255*i),b:Math.round(255*a)}};return e._closure={},e.asString="function HSVtoRGB(h,s,v){var r,g,b,i,f,p,q,t;if(arguments.length===1){s=h.s;v=h.v;h=h.h;}i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q;break;}return{r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)};}",e.__workletHash=8891027662548,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (533:0)",e.__worklet=!0,e}(),U=function(){var e=function(e,t,r){var{r:n,g:i,b:a}=V(e,t,r);return W(n,i,a)};return e._closure={HSVtoRGB:V,rgbaColor:W},e.asString="function _f(h,s,v){const{HSVtoRGB,rgbaColor}=jsThis._closure;{const{r:r,g:g,b:b}=HSVtoRGB(h,s,v);return rgbaColor(r,g,b);}}",e.__workletHash=0xad5827cb6d2,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (575:26)",e.__worklet=!0,e}(),$=function(){var e=function(e){if(null==e||"number"==typeof e)return e;var t=O(e);return null!=t?"number"!=typeof t?null:t=(t<<24|t>>>8)>>>0:void 0};return e._closure={normalizeColor:O},e.asString='function processColorInitially(color){const{normalizeColor}=jsThis._closure;{if(color===null||color===undefined||typeof color==="number"){return color;}let normalizedColor=normalizeColor(color);if(normalizedColor===null||normalizedColor===undefined){return undefined;}if(typeof normalizedColor!=="number"){return null;}normalizedColor=(normalizedColor<<24|normalizedColor>>>8)>>>0;return normalizedColor;}}',e.__workletHash=3201234226873,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (585:7)",e.__worklet=!0,e}(),z=function(){var e=function(e){return"string"==typeof e&&null!=$(e)};return e._closure={processColorInitially:$},e.asString='function isColor(value){const{processColorInitially}=jsThis._closure;{if(typeof value!=="string"){return false;}return processColorInitially(value)!=null;}}',e.__workletHash=0xa9799faf3a4,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (607:7)",e.__worklet=!0,e}(),q=function(){var e=function(e){var t=$(e);if(null!=t)return"number"!=typeof t?null:("android"===b.OS&&(t|=0),t)};return e._closure={processColorInitially:$,Platform:{OS:b.OS}},e.asString='function processColor(color){const{processColorInitially,Platform}=jsThis._closure;{let normalizedColor=processColorInitially(color);if(normalizedColor===null||normalizedColor===undefined){return undefined;}if(typeof normalizedColor!=="number"){return null;}if(Platform.OS==="android"){normalizedColor=normalizedColor|0x0;}return normalizedColor;}}',e.__workletHash=2492039203038,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (615:7)",e.__worklet=!0,e}(),H=function(){var e=function(e){var t=$(e),r=(t>>>24)/255,n=t<<8>>>24,i=t<<16>>>24,a=t<<24>>>24,{h:o,s:s,v:c}=j(n,i,a);return[o,s,c,r]};return e._closure={processColorInitially:$,RGBtoHSV:j},e.asString="function convertToHSVA(color){const{processColorInitially,RGBtoHSV}=jsThis._closure;{const processedColor=processColorInitially(color);const a=(processedColor>>>24)/255;const r=processedColor<<8>>>24;const g=processedColor<<16>>>24;const b=processedColor<<24>>>24;const{h:h,s:s,v:v}=RGBtoHSV(r,g,b);return[h,s,v,a];}}",e.__workletHash=0xb07725cb4ca,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (639:7)",e.__worklet=!0,e}(),G=function(){var e=function(e){var{r:t,g:r,b:n}=V(e[0],e[1],e[2]);return`rgba(${t}, ${r}, ${n}, ${e[3]})`};return e._closure={HSVtoRGB:V},e.asString='function toRGBA(HSVA){const{HSVtoRGB}=jsThis._closure;{const{r:r,g:g,b:b}=HSVtoRGB(HSVA[0],HSVA[1],HSVA[2]);return"rgba("+r+", "+g+", "+b+", "+HSVA[3]+")";}}',e.__workletHash=6249111174588,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (650:7)",e.__worklet=!0,e}(),K=!1;function J(e){K=!0;var t=e();return K=!1,t}var X,Y=function(){var e=function(e){if("string"==typeof e){var t,r=e.match(/([A-Za-z]*)(-?\d*\.?\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!r)throw Error("Couldn't parse animation value. Check if there isn't any typo.");var n=r[1],i=r[4],a=r[2]+(null!==(t=r[3])&&void 0!==t?t:"");return{prefix:n,suffix:i,strippedValue:parseFloat(a)}}return{strippedValue:e}};return e._closure={},e.asString="function recognizePrefixSuffix(value){if(typeof value==='string'){var _match$;const match=value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!match){throw Error(\"Couldn't parse animation value. Check if there isn't any typo.\");}const prefix=match[1];const suffix=match[4];const number=match[2]+((_match$=match[3])!==null&&_match$!==void 0?_match$:'');return{prefix:prefix,suffix:suffix,strippedValue:parseFloat(number)};}else{return{strippedValue:value};}}",e.__workletHash=0x95dcba9cd08,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (36:0)",e.__worklet=!0,e}(),Q=function(){var e=function(e){if(!e.isHigherOrder){var t=e.onStart,r=e.onFrame,n=Object.assign({},e);delete n.callback;var i=function(e,t){var n,i;e.current=e.strippedCurrent;var a=r(e,t);return e.strippedCurrent=e.current,e.current=(null!==(n=e.__prefix)&&void 0!==n?n:"")+e.current+(null!==(i=e.__suffix)&&void 0!==i?i:""),a},a=["H","S","V","A"],o=function(e,t){var r=H(e.current),n=[],i=!0;return a.forEach((function(a,o){e[a].current=r[o],i&=e[a].onFrame(e[a],t),n.push(e[a].current)})),e.current=G(n),i},s=function(e,t){var r=!0;return e.current.forEach((function(n,i){r&=e[i].onFrame(e[i],t),e.current[i]=e[i].current})),r};e.onStart=function(e,r,c,l){return z(r)?(function(e,t,r,i){var o,s,c,l=[];z(t)&&(s=H(e.current),o=H(t),e.toValue&&(c=H(e.toValue))),a.forEach((function(t,a){e[t]=Object.assign({},n),e[t].current=s[a],e[t].toValue=c?c[a]:void 0,e[t].onStart(e[t],o[a],r,i?i[t]:void 0),l.push(e[t].current)})),e.current=G(l)}(e,r,c,l),void(e.onFrame=o)):Array.isArray(r)?(function(e,t,r,i){t.forEach((function(t,a){e[a]=Object.assign({},n),e[a].current=t,e[a].toValue=e.toValue[a],e[a].onStart(e[a],t,r,i?i[a]:void 0)})),e.current=t}(e,r,c,l),void(e.onFrame=s)):"string"==typeof r?(function(e,r,n,i){var a,o,{prefix:s,suffix:c,strippedValue:l}=Y(r);e.__prefix=s,e.__suffix=c,e.strippedCurrent=l;var u,d,{strippedValue:p}=Y(e.toValue);e.current=l,e.startValue=l,e.toValue=p,i&&i!==e&&(i.current=i.strippedCurrent),t(e,l,n,i),e.current=(null!==(a=e.__prefix)&&void 0!==a?a:"")+e.current+(null!==(o=e.__suffix)&&void 0!==o?o:""),i&&i!==e&&(i.current=(null!==(u=i.__prefix)&&void 0!==u?u:"")+i.current+(null!==(d=i.__suffix)&&void 0!==d?d:""))}(e,r,c,l),void(e.onFrame=i)):void t(e,r,c,l)}}};return e._closure={recognizePrefixSuffix:Y,isColor:z,convertToHSVA:H,toRGBA:G},e.asString="function decorateAnimation(animation){const{recognizePrefixSuffix,isColor,convertToHSVA,toRGBA}=jsThis._closure;{if(animation.isHigherOrder){return;}const baseOnStart=animation.onStart;const baseOnFrame=animation.onFrame;const animationCopy=Object.assign({},animation);delete animationCopy.callback;const prefNumberSuffOnStart=function(animation,value,timestamp,previousAnimation){var _animation$__prefix,_animation$__suffix;const{prefix:prefix,suffix:suffix,strippedValue:strippedValue}=recognizePrefixSuffix(value);animation.__prefix=prefix;animation.__suffix=suffix;animation.strippedCurrent=strippedValue;const{strippedValue:strippedToValue}=recognizePrefixSuffix(animation.toValue);animation.current=strippedValue;animation.startValue=strippedValue;animation.toValue=strippedToValue;if(previousAnimation&&previousAnimation!==animation){previousAnimation.current=previousAnimation.strippedCurrent;}baseOnStart(animation,strippedValue,timestamp,previousAnimation);animation.current=((_animation$__prefix=animation.__prefix)!==null&&_animation$__prefix!==void 0?_animation$__prefix:'')+animation.current+((_animation$__suffix=animation.__suffix)!==null&&_animation$__suffix!==void 0?_animation$__suffix:'');if(previousAnimation&&previousAnimation!==animation){var _previousAnimation$__,_previousAnimation$__2;previousAnimation.current=((_previousAnimation$__=previousAnimation.__prefix)!==null&&_previousAnimation$__!==void 0?_previousAnimation$__:'')+previousAnimation.current+((_previousAnimation$__2=previousAnimation.__suffix)!==null&&_previousAnimation$__2!==void 0?_previousAnimation$__2:'');}};const prefNumberSuffOnFrame=function(animation,timestamp){var _animation$__prefix2,_animation$__suffix2;animation.current=animation.strippedCurrent;const res=baseOnFrame(animation,timestamp);animation.strippedCurrent=animation.current;animation.current=((_animation$__prefix2=animation.__prefix)!==null&&_animation$__prefix2!==void 0?_animation$__prefix2:'')+animation.current+((_animation$__suffix2=animation.__suffix)!==null&&_animation$__suffix2!==void 0?_animation$__suffix2:'');return res;};const tab=['H','S','V','A'];const colorOnStart=function(animation,value,timestamp,previousAnimation){let HSVAValue;let HSVACurrent;let HSVAToValue;const res=[];if(isColor(value)){HSVACurrent=convertToHSVA(animation.current);HSVAValue=convertToHSVA(value);if(animation.toValue){HSVAToValue=convertToHSVA(animation.toValue);}}tab.forEach(function(i,index){animation[i]=Object.assign({},animationCopy);animation[i].current=HSVACurrent[index];animation[i].toValue=HSVAToValue?HSVAToValue[index]:undefined;animation[i].onStart(animation[i],HSVAValue[index],timestamp,previousAnimation?previousAnimation[i]:undefined);res.push(animation[i].current);});animation.current=toRGBA(res);};const colorOnFrame=function(animation,timestamp){const HSVACurrent=convertToHSVA(animation.current);const res=[];let finished=true;tab.forEach(function(i,index){animation[i].current=HSVACurrent[index];finished&=animation[i].onFrame(animation[i],timestamp);res.push(animation[i].current);});animation.current=toRGBA(res);return finished;};const arrayOnStart=function(animation,value,timestamp,previousAnimation){value.forEach(function(v,i){animation[i]=Object.assign({},animationCopy);animation[i].current=v;animation[i].toValue=animation.toValue[i];animation[i].onStart(animation[i],v,timestamp,previousAnimation?previousAnimation[i]:undefined);});animation.current=value;};const arrayOnFrame=function(animation,timestamp){let finished=true;animation.current.forEach(function(v,i){finished&=animation[i].onFrame(animation[i],timestamp);animation.current[i]=animation[i].current;});return finished;};animation.onStart=function(animation,value,timestamp,previousAnimation){if(isColor(value)){colorOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=colorOnFrame;return;}else if(Array.isArray(value)){arrayOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=arrayOnFrame;return;}else if(typeof value==='string'){prefNumberSuffOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=prefNumberSuffOnFrame;return;}baseOnStart(animation,value,timestamp,previousAnimation);};}}",e.__workletHash=0xd77acdd9584,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (57:0)",e.__worklet=!0,e}(),Z=function(){var e=function(e,t){if(K)return e;var r=function(){var e=function(){var e=t();return Q(e),e};return e._closure={factory:t,decorateAnimation:Q},e.asString="function _f(){const{factory,decorateAnimation}=jsThis._closure;{const animation=factory();decorateAnimation(animation);return animation;}}",e.__workletHash=2441595458132,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (246:17)",e.__worklet=!0,e}();return P?r():r};return e._closure={IN_STYLE_UPDATER:K,decorateAnimation:Q},e.asString="function defineAnimation(starting,factory){const{IN_STYLE_UPDATER,decorateAnimation}=jsThis._closure;{if(IN_STYLE_UPDATER){return starting;}const create=function(){'worklet';const animation=factory();decorateAnimation(animation);return animation;};if(_WORKLET){return create();}return create;}}",e.__workletHash=0xde62656a344,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (239:7)",e.__worklet=!0,e}(),ee=function(){var e=function(e){e.value=e.value};return e._closure={},e.asString="function cancelAnimation(sharedValue){sharedValue.value=sharedValue.value;}",e.__workletHash=0xdb1b4231136,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (260:7)",e.__worklet=!0,e}(),te=(function(){var e=function(e,t){return Z(e,function(){var r=function(){return P||"function"!=typeof t||(t=t()),t.current=e,t};return r._closure={animation:t,startValue:e},r.asString="function _f(){const{animation,startValue}=jsThis._closure;{if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;}}",r.__workletHash=5374403234008,r.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (272:37)",r.__worklet=!0,r}())};e._closure={defineAnimation:Z},e.asString="function withStartValue(startValue,animation){const{defineAnimation}=jsThis._closure;{return defineAnimation(startValue,function(){'worklet';if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;});}}",e.__workletHash=5100017907325,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (267:7)",e.__worklet=!0}(),function(){var e=function(e,t,r,n){var i=.1,a=function(){var e=function(e,t){return 1-3*t+3*e};return e._closure={},e.asString="function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}",e.__workletHash=7696928702327,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (25:2)",e.__worklet=!0,e}(),o=function(){var e=function(e,t){return 3*t-6*e};return e._closure={},e.asString="function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}",e.__workletHash=3169786778773,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (29:2)",e.__worklet=!0,e}(),s=function(){var e=function(e){return 3*e};return e._closure={},e.asString="function C(aA1){return 3.0*aA1;}",e.__workletHash=6399610653367,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (33:2)",e.__worklet=!0,e}(),c=function(){var e=function(e,t,r){return((a(t,r)*e+o(t,r))*e+s(t))*e};return e._closure={A:a,B:o,C:s},e.asString="function calcBezier(aT,aA1,aA2){const{A,B,C}=jsThis._closure;{return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}}",e.__workletHash=3153137150968,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (39:2)",e.__worklet=!0,e}(),l=function(){var e=function(e,t,r){return 3*a(t,r)*e*e+2*o(t,r)*e+s(t)};return e._closure={A:a,B:o,C:s},e.asString="function getSlope(aT,aA1,aA2){const{A,B,C}=jsThis._closure;{return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}}",e.__workletHash=0xf81d0c1f684,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (45:2)",e.__worklet=!0,e}(),u=function(){var e=function(e,t,r,n,i){var a,o,s=0;do{(a=c(o=t+(r-t)/2,n,i)-e)>0?r=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o};return e._closure={SUBDIVISION_PRECISION:1e-7,SUBDIVISION_MAX_ITERATIONS:10,calcBezier:c},e.asString="function binarySubdivide(aX,aA,aB,mX1,mX2){const{SUBDIVISION_PRECISION,SUBDIVISION_MAX_ITERATIONS,calcBezier}=jsThis._closure;{let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}}",e.__workletHash=7302972877011,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (50:2)",e.__worklet=!0,e}(),d=function(){var e=function(e,t,r,n){for(var i=0;i<4;++i){var a=l(t,r,n);if(0===a)return t;t-=(c(t,r,n)-e)/a}return t};return e._closure={NEWTON_ITERATIONS:4,getSlope:l,calcBezier:c},e.asString="function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){const{NEWTON_ITERATIONS,getSlope,calcBezier}=jsThis._closure;{for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}}",e.__workletHash=0x9706f38151c,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (76:2)",e.__worklet=!0,e}(),p=function(){var e=function(e){return e};return e._closure={},e.asString="function LinearEasing(x){return x;}",e.__workletHash=3962143445177,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (94:2)",e.__worklet=!0,e}();if(!(e>=0&&e<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===n)return p;for(var h=new Array(11),f=0;f<11;++f)h[f]=c(f*i,e,r);var g=function(){var t=function(t){for(var n=0,a=1;10!==a&&h[a]<=t;++a)n+=i;--a;var o=n+(t-h[a])/(h[a+1]-h[a])*i,s=l(o,e,r);return s>=.001?d(t,o,e,r):0===s?o:u(t,n,n+i,e,r)};return t._closure={kSplineTableSize:11,sampleValues:h,kSampleStepSize:i,getSlope:l,mX1:e,mX2:r,NEWTON_MIN_SLOPE:.001,newtonRaphsonIterate:d,binarySubdivide:u},t.asString="function getTForX(aX){const{kSplineTableSize,sampleValues,kSampleStepSize,getSlope,mX1,mX2,NEWTON_MIN_SLOPE,newtonRaphsonIterate,binarySubdivide}=jsThis._closure;{let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}}",t.__workletHash=3164695138880,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (121:2)",t.__worklet=!0,t}();return function(){var i=function(i){return e===t&&r===n?i:0===i?0:1===i?1:c(g(i),t,n)};return i._closure={mX1:e,mY1:t,mX2:r,mY2:n,calcBezier:c,getTForX:g},i.asString="function BezierEasing(x){const{mX1,mY1,mX2,mY2,calcBezier,getTForX}=jsThis._closure;{if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}return calcBezier(getTForX(x),mY1,mY2);}}",i.__workletHash=8676971518933,i.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (158:9)",i.__worklet=!0,i}()};return e._closure={},e.asString="function Bezier(mX1,mY1,mX2,mY2){const NEWTON_ITERATIONS=4;const NEWTON_MIN_SLOPE=0.001;const SUBDIVISION_PRECISION=0.0000001;const SUBDIVISION_MAX_ITERATIONS=10;const kSplineTableSize=11;const kSampleStepSize=1.0/(kSplineTableSize-1.0);function A(aA1,aA2){'worklet';return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){'worklet';return 3.0*aA2-6.0*aA1;}function C(aA1){'worklet';return 3.0*aA1;}function calcBezier(aT,aA1,aA2){'worklet';return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}function getSlope(aT,aA1,aA2){'worklet';return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){'worklet';let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){'worklet';for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}function LinearEasing(x){'worklet';return x;}if(!(mX1>=0&&mX1<=1&&mX2>=0&&mX2<=1)){throw new Error('bezier x values must be in [0, 1] range');}if(mX1===mY1&&mX2===mY2){return LinearEasing;}const sampleValues=new Array(kSplineTableSize);for(let i=0;i<kSplineTableSize;++i){sampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2);}function getTForX(aX){'worklet';let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}return function BezierEasing(x){'worklet';if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}return calcBezier(getTForX(x),mY1,mY2);};}",e.__workletHash=7389715548968,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (9:7)",e.__worklet=!0,e}()),re=function(){var e=function(e){return e};return e._closure={},e.asString="function linear(t){return t;}",e.__workletHash=7988822508142,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (65:0)",e.__worklet=!0,e}(),ne=function(){var e=function(e){return te(.42,0,1,1)(e)};return e._closure={Bezier:te},e.asString="function ease(t){const{Bezier}=jsThis._closure;{return Bezier(0.42,0,1,1)(t);}}",e.__workletHash=0xbdc195724f9,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (76:0)",e.__worklet=!0,e}(),ie=function(){var e=function(e){return e*e};return e._closure={},e.asString="function quad(t){return t*t;}",e.__workletHash=8628631460172,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (87:0)",e.__worklet=!0,e}(),ae=function(){var e=function(e){return e*e*e};return e._closure={},e.asString="function cubic(t){return t*t*t;}",e.__workletHash=9374441307661,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (98:0)",e.__worklet=!0,e}(),oe=function(){var e=function(e){return function(){var t=function(t){return Math.pow(t,e)};return t._closure={n:e},t.asString="function _f(t){const{n}=jsThis._closure;{return Math.pow(t,n);}}",t.__workletHash=1121339919789,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (111:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function poly(n){return function(t){'worklet';return Math.pow(t,n);};}",e.__workletHash=0xf0e21d4d631,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (109:0)",e.__worklet=!0,e}(),se=function(){var e=function(e){return 1-Math.cos(e*Math.PI/2)};return e._closure={},e.asString="function sin(t){return 1-Math.cos(t*Math.PI/2);}",e.__workletHash=8621899987563,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (122:0)",e.__worklet=!0,e}(),ce=function(){var e=function(e){return 1-Math.sqrt(1-e*e)};return e._closure={},e.asString="function circle(t){return 1-Math.sqrt(1-t*t);}",e.__workletHash=0xe74766c81e4,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (132:0)",e.__worklet=!0,e}(),le=function(){var e=function(e){return Math.pow(2,10*(e-1))};return e._closure={},e.asString="function exp(t){return Math.pow(2,10*(t-1));}",e.__workletHash=0xe77bf377b41,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (142:0)",e.__worklet=!0,e}(),ue=function(){var e=function(e=1){var t=e*Math.PI;return function(){var e=function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)};return e._closure={p:t},e.asString="function _f(t){const{p}=jsThis._closure;{return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);}}",e.__workletHash=8897284077766,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (160:9)",e.__worklet=!0,e}()};return e._closure={},e.asString="function elastic(bounciness=1){const p=bounciness*Math.PI;return function(t){'worklet';return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);};}",e.__workletHash=0xe75c59c1497,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (157:0)",e.__worklet=!0,e}(),de=function(){var e=function(e=1.70158){return function(t){return t*t*((e+1)*t-e)}};return e._closure={},e.asString="function back(s=1.70158){return function(t){return t*t*((s+1)*t-s);};}",e.__workletHash=0xffa86df3d1b,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (174:0)",e.__worklet=!0,e}(),pe=function(){var e=function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var r=e-2.25/2.75;return 7.5625*r*r+.9375}var n=e-2.625/2.75;return 7.5625*n*n+.984375};return e._closure={},e.asString="function bounce(t){if(t<1/2.75){return 7.5625*t*t;}if(t<2/2.75){const t2=t-1.5/2.75;return 7.5625*t2*t2+0.75;}if(t<2.5/2.75){const t2=t-2.25/2.75;return 7.5625*t2*t2+0.9375;}const t2=t-2.625/2.75;return 7.5625*t2*t2+0.984375;}",e.__workletHash=5721637210615,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (184:0)",e.__worklet=!0,e}(),he=function(){var e=function(e,t,r,n){var i=function(){var i=function(){return te(e,t,r,n)};return i._closure={Bezier:te,x1:e,y1:t,x2:r,y2:n},i.asString="function _f(){const{Bezier,x1,y1,x2,y2}=jsThis._closure;{return Bezier(x1,y1,x2,y2);}}",i.__workletHash=4879686787739,i.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (218:18)",i.__worklet=!0,i}();return{factory:i}};return e._closure={Bezier:te},e.asString="function bezier(x1,y1,x2,y2){const{Bezier}=jsThis._closure;{const factory=function(){'worklet';return Bezier(x1,y1,x2,y2);};return{factory:factory};}}",e.__workletHash=0xbfe6eb1e595,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (211:0)",e.__worklet=!0,e}(),fe=function(){var e=function(e){return e};return e._closure={},e.asString="function in_(easing){return easing;}",e.__workletHash=1837493474379,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (231:0)",e.__worklet=!0,e}(),ge=function(){var e=function(e){return function(){var t=function(t){return 1-e(1-t)};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{return 1-easing(1-t);}}",t.__workletHash=5726884014519,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (241:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function out(easing){return function(t){'worklet';return 1-easing(1-t);};}",e.__workletHash=7718549646703,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (239:0)",e.__worklet=!0,e}(),ve=function(){var e=function(e){return function(){var t=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;}}",t.__workletHash=2325007799982,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (254:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function inOut(easing){return function(t){'worklet';if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;};}",e.__workletHash=7048715165105,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (252:0)",e.__worklet=!0,e}(),me={linear:re,ease:ne,quad:ie,cubic:ae,poly:oe,sin:se,circle:ce,exp:le,elastic:ue,back:de,bounce:pe,bezier:he,in:fe,out:ge,inOut:ve},ye=function(){var e=function(e,t,r){return Z(e,function(){var n=function(){var n={duration:300,easing:me.inOut(me.quad)};return t&&Object.keys(t).forEach((function(e){return n[e]=t[e]})),{type:"timing",onFrame:function(e,t){var{toValue:r,startTime:i,startValue:a}=e,o=t-i;if(o>=n.duration)return e.startTime=0,e.current=r,!0;var s=e.easing(o/n.duration);return e.current=a+(r-a)*s,!1},onStart:function(t,r,i,a){a&&"timing"===a.type&&a.toValue===e&&a.startTime?(t.startTime=a.startTime,t.startValue=a.startValue):(t.startTime=i,t.startValue=r),t.current=r,"object"==typeof n.easing?t.easing=n.easing.factory():t.easing=n.easing},progress:0,toValue:e,startValue:0,startTime:0,easing:function(){return 0},current:e,callback:r}};return n._closure={Easing:{inOut:me.inOut,quad:me.quad},userConfig:t,toValue:e,callback:r},n.asString="function _f(){const{Easing,userConfig,toValue,callback}=jsThis._closure;{const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};}}",n.__workletHash=8710674338333,n.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/timing.ts (32:51)",n.__worklet=!0,n}())};return e._closure={defineAnimation:Z,Easing:{inOut:me.inOut,quad:me.quad}},e.asString="function timing(toValue,userConfig,callback){const{defineAnimation,Easing}=jsThis._closure;{return defineAnimation(toValue,function(){'worklet';const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};});}}",e.__workletHash=9069592953402,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/timing.ts (25:7)",e.__worklet=!0,e}(),be=function(){var e=function(e,t,r){return Z(e,function(){var n=function(){var n={damping:10,mass:1,stiffness:100,overshootClamping:!1,restDisplacementThreshold:.01,restSpeedThreshold:2,velocity:0};return t&&Object.keys(t).forEach((function(e){return n[e]=t[e]})),{onFrame:function(e,t){var{toValue:r,lastTimestamp:i,current:a,velocity:o}=e,s=Math.min(t-i,64);e.lastTimestamp=t;var c=n.damping,l=n.mass,u=n.stiffness,d=-o,p=r-a,h=c/(2*Math.sqrt(u*l)),f=Math.sqrt(u/l),g=f*Math.sqrt(1-h**2),v=s/1e3,m=Math.sin(g*v),y=Math.cos(g*v),b=Math.exp(-h*f*v),_=b*(m*((d+h*f*p)/g)+p*y),w=r-_,I=h*f*_-b*(y*(d+h*f*p)-g*p*m),S=Math.exp(-f*v),k=r-S*(p+(d+f*p)*v),C=S*(d*(v*f-1)+v*p*f*f),E=Math.abs(o)<n.restSpeedThreshold,A=0===n.stiffness||Math.abs(r-a)<n.restDisplacementThreshold;return h<1?(e.current=w,e.velocity=I):(e.current=k,e.velocity=C),!!(n.overshootClamping&&0!==n.stiffness&&(a<r?e.current>r:e.current<r)||E&&A)&&(0!==n.stiffness&&(e.velocity=0,e.current=r),e.lastTimestamp=0,!0)},onStart:function(e,t,r,n){e.current=t,n?(e.velocity=n.velocity||e.velocity||0,e.lastTimestamp=n.lastTimestamp||r):e.lastTimestamp=r},toValue:e,velocity:n.velocity||0,current:e,callback:r,lastTimestamp:0}};return n._closure={userConfig:t,toValue:e,callback:r},n.asString="function _f(){const{userConfig,toValue,callback}=jsThis._closure;{const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};}}",n.__workletHash=5222183752767,n.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/spring.ts (39:51)",n.__worklet=!0,n}())};return e._closure={defineAnimation:Z},e.asString="function spring(toValue,userConfig,callback){const{defineAnimation}=jsThis._closure;{return defineAnimation(toValue,function(){'worklet';const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};});}}",e.__workletHash=0xd3473843099,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/spring.ts (32:7)",e.__worklet=!0,e}(),_e=function(){var e=function(e,t){return Z(0,function(){var r=function(){var r,n={deceleration:.998,velocityFactor:1,velocity:0};e&&Object.keys(e).forEach((function(t){return n[t]=e[t]}));return{onFrame:function(e,t){var{lastTimestamp:r,startTimestamp:i,initialVelocity:a,current:o,velocity:s}=e,c=Math.min(t-r,64),l=s*Math.exp(-(1-n.deceleration)*(t-i)*.1);if(e.current=o+l*n.velocityFactor*c/1e3,e.velocity=l,e.lastTimestamp=t,n.clamp){if(a<0&&e.current<=n.clamp[0])return e.current=n.clamp[0],!0;if(a>0&&e.current>=n.clamp[1])return e.current=n.clamp[1],!0}return Math.abs(l)<1},onStart:function(e,t,r){e.current=t,e.lastTimestamp=r,e.startTimestamp=r,e.initialVelocity=n.velocity,function(){if(n.clamp){if(!Array.isArray(n.clamp))throw Error("config.clamp must be an array but is "+typeof n.clamp);if(2!==n.clamp.length)throw Error(`clamp array must contain 2 items but is given ${n.clamp.length}`)}if(n.velocityFactor<=0)throw Error(`config.velocityFactor must be greather then 0 but is ${n.velocityFactor}`)}()},callback:t,velocity:null!==(r=n.velocity)&&void 0!==r?r:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0}};return r._closure={userConfig:e,callback:t},r.asString='function _f(){const{userConfig,callback}=jsThis._closure;{var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error("config.clamp must be an array but is "+typeof config.clamp);}if(config.clamp.length!==2){throw Error("clamp array must contain 2 items but is given "+config.clamp.length);}}if(config.velocityFactor<=0){throw Error("config.velocityFactor must be greather then 0 but is "+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};}}',r.__workletHash=6565623785597,r.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/decay.ts (44:44)",r.__worklet=!0,r}())};return e._closure={defineAnimation:Z},e.asString='function decay(userConfig,callback){const{defineAnimation}=jsThis._closure;{return defineAnimation(0,function(){\'worklet\';var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error("config.clamp must be an array but is "+typeof config.clamp);}if(config.clamp.length!==2){throw Error("clamp array must contain 2 items but is given "+config.clamp.length);}}if(config.velocityFactor<=0){throw Error("config.velocityFactor must be greather then 0 but is "+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};});}}',e.__workletHash=0xce9fa2b6ff0,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/decay.ts (38:7)",e.__worklet=!0,e}(),we=function(){var e=function(e,t){return Z(t,function(){var r=function(){var r="function"==typeof t?t():t;return{isHigherOrder:!0,onFrame:function(t,n){var{startTime:i,started:a,previousAnimation:o}=t;if(n-i>e){a||(r.onStart(r,t.current,n,o),t.previousAnimation=null,t.started=!0);var s=r.onFrame(r,n);return t.current=r.current,s}if(o){var c=o.finished||o.onFrame(o,n);t.current=o.current,c&&(t.previousAnimation=null)}return!1},onStart:function(e,t,r,n){e.startTime=r,e.started=!1,e.current=t,e.previousAnimation=n===e?n.previousAnimation:n},current:r.current,callback:function(e){r.callback&&r.callback(e)},previousAnimation:null,startTime:0,started:!1}};return r._closure={_nextAnimation:t,delayMs:e},r.asString="function _f(){const{_nextAnimation,delayMs}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};}}",r.__workletHash=7471806601587,r.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/delay.ts (10:57)",r.__worklet=!0,r}())};return e._closure={defineAnimation:Z},e.asString="function delay(delayMs,_nextAnimation){const{defineAnimation}=jsThis._closure;{return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};});}}",e.__workletHash=1119387222703,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/delay.ts (5:7)",e.__worklet=!0,e}(),Ie=function(){var e=function(e,t=2,r=!1,n){return Z(e,function(){var i=function(){var i="function"==typeof e?e():e;return{isHigherOrder:!0,onFrame:function(e,n){var a=i.onFrame(i,n);if(e.current=i.current,a){if(e.reps+=1,i.callback&&i.callback(!0,e.current),t>0&&e.reps>=t)return!0;var o=r?i.current:e.startValue;return r&&(i.toValue=e.startValue,e.startValue=o),i.onStart(i,o,n,i.previousAnimation),!1}return!1},onStart:function(e,t,r,n){e.startValue=t,e.reps=0,i.onStart(i,t,r,n)},reps:0,current:i.current,callback:function(e){n&&n(e),!e&&i.callback&&i.callback(!1)},startValue:0}};return i._closure={_nextAnimation:e,numberOfReps:t,reverse:r,callback:n},i.asString="function _f(){const{_nextAnimation,numberOfReps,reverse,callback}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};}}",i.__workletHash=0xddd76efe2b9,i.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/repeat.ts (24:58)",i.__worklet=!0,i}())};return e._closure={defineAnimation:Z},e.asString="function repeat(_nextAnimation,numberOfReps=2,reverse=false,callback){const{defineAnimation}=jsThis._closure;{return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};});}}",e.__workletHash=497389031400,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/repeat.ts (16:7)",e.__worklet=!0,e}(),Se=function(){var e=function(...e){return Z(e[0],function(){var t=function(){var t=e.map((function(e){var t="function"==typeof e?e():e;return t.finished=!1,t})),r=t[0];return{isHigherOrder:!0,onFrame:function(e,r){var n=t[e.animationIndex],i=n.onFrame(n,r);if(e.current=n.current,i){if(n.callback&&n.callback(!0),n.finished=!0,e.animationIndex+=1,e.animationIndex<t.length){var a=t[e.animationIndex];return a.onStart(a,n.current,r,n),!1}return!0}return!1},onStart:function(e,n,i,a){if(1===t.length)throw Error("sequence() animation require more than one animation as argument");e.animationIndex=0,void 0===a&&(a=t[t.length-1]),r.onStart(r,n,i,a)},animationIndex:0,current:r.current,callback:function(e){e||t.forEach((function(t){"function"!=typeof t.callback||t.finished||t.callback(e)}))}}};return t._closure={_animations:e},t.asString="function _f(){const{_animations}=jsThis._closure;{const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};}}",t.__workletHash=7105701959684,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/sequence.ts (7:81)",t.__worklet=!0,t}())};return e._closure={defineAnimation:Z},e.asString="function sequence(..._animations){const{defineAnimation}=jsThis._closure;{return defineAnimation(_animations[0],function(){'worklet';const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};});}}",e.__workletHash=9934960399614,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/sequence.ts (5:7)",e.__worklet=!0,e}(),ke=function(){var e=function(e,t,r){var n,i=null!==(n=t())&&void 0!==n?n:{},o=r.last;r.isAnimationCancelled=!0,r.animations=[];var s=a(o,i);r.last=Object.assign({},o,i),s&&y(e,i)};return e._closure={styleDiff:a,updateProps:y},e.asString="function styleUpdater(shadowNode,updater,state){const{styleDiff,updateProps}=jsThis._closure;{var _updater;const newValues=(_updater=updater())!==null&&_updater!==void 0?_updater:{};const oldValues=state.last;state.isAnimationCancelled=true;state.animations=[];const diff=styleDiff(oldValues,newValues);state.last=Object.assign({},oldValues,newValues);if(diff){updateProps(shadowNode,newValues);}}}",e.__workletHash=4721322676104,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/animatedStyle.ts (19:0)",e.__worklet=!0,e}();function Ce(e,t){if("object"==typeof e&&void 0===e.value)for(var r of Object.keys(e))Ce(e[r],r);else if(void 0!==t&&"object"==typeof e&&void 0!==e.value)throw new Error(`invalid value passed to \`${t}\`, maybe you forgot to use \`.value\`?`)}function Ee(e,t){var r,n=Object.values(null!==(r=t._closure)&&void 0!==r?r:{}),i=J(t);o(i),Ce(i);var a=je({last:i}),s=function(){var e=function(e=0){ke(e,t,a)};return e._closure={styleUpdater:ke,updater:t,remoteState:a},e.asString="function _f(shadowNode=0){const{styleUpdater,updater,remoteState}=jsThis._closure;{styleUpdater(shadowNode,updater,remoteState);}}",e.__workletHash=0x92aff8ae710,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/animatedStyle.ts (56:14)",e.__worklet=!0,e}(),c=Ve(e,s,n,[]);return{initialStyle:l(i),mapperId:c}}function Ae(e){var t,r=Object.values(null!==(t=e._closure)&&void 0!==t?t:{}),n=We(J(e));return n.installGetter(e,r),n}!function(e){e[e.dismissed=0]="dismissed",e[e.forward=1]="forward",e[e.reverse=2]="reverse",e[e.completed=3]="completed"}(X||(X={}));var Te={};function Pe(){Te.userGestureInProgress=h(0)}var xe=function(e){var t=h(0),r=h(0),n=h(0),i=h(0),a=h(X.dismissed),o=h(X.dismissed),s=Te.userGestureInProgress,c=function(){var e=function(){s.value+=1,1===s.value&&workletUIModule.startUserGesture(t.value)};return e._closure={userGestureInProgress:s,skylineWindowId:t},e.asString="function startUserGesture(){const{userGestureInProgress,skylineWindowId}=jsThis._closure;{userGestureInProgress.value+=1;if(userGestureInProgress.value===1){workletUIModule.startUserGesture(skylineWindowId.value);}}}",e.__workletHash=0xff64b7948cd,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/route.ts (45:2)",e.__worklet=!0,e}(),l=function(){var e=function(){s.value<=0?console.warn("For developer: startUserGesture and stopUserGesture must be called in pairs"):(s.value-=1,0===s.value&&workletUIModule.stopUserGesture(t.value))};return e._closure={userGestureInProgress:s,skylineWindowId:t},e.asString="function stopUserGesture(){const{userGestureInProgress,skylineWindowId}=jsThis._closure;{if(userGestureInProgress.value<=0){console.warn('For developer: startUserGesture and stopUserGesture must be called in pairs');return;}userGestureInProgress.value-=1;if(userGestureInProgress.value===0){workletUIModule.stopUserGesture(skylineWindowId.value);}}}",e.__workletHash=2117886207043,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/route.ts (53:2)",e.__worklet=!0,e}(),u=function(){var e=function(){s.value>0&&console.warn("For developer: didPop should not be invoked after startUserGesture"),workletUIModule.navigatorPop(t.value,r.value)};return e._closure={userGestureInProgress:s,skylineWindowId:t,skylinePageId:r},e.asString="function didPop(){const{userGestureInProgress,skylineWindowId,skylinePageId}=jsThis._closure;{if(userGestureInProgress.value>0){console.warn('For developer: didPop should not be invoked after startUserGesture');}workletUIModule.navigatorPop(skylineWindowId.value,skylinePageId.value);}}",e.__workletHash=8424495118188,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/route.ts (65:2)",e.__worklet=!0,e}();return{routeType:e,primaryAnimation:n,primaryAnimationStatus:a,secondaryAnimation:i,secondaryAnimationStatus:o,skylineWindowId:t,skylinePageId:r,userGestureInProgress:s,startUserGesture:c,stopUserGesture:l,didPop:u}},Me=function(){var e=function(){};return e._closure={},e.asString="function _f(){}",e.__workletHash=0xee9333ba43b,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (26:48)",e.__worklet=!0,e}(),Re=function(e=!0){if(!Me.__workletHash){if(e)throw new Error("failed to create a worklet, maybe forgot to add babel plugin?");return!1}return!0},De=function(e=!1){return Re(e)&&void 0!==t.nativeModule},Oe=function(){if(!De(!0))throw new Error("worklet mechanism cannot be used, platform not support")};function Le(e){return Ne(e)}function Ne(e){return Oe(),t.makeShareable(e)}var Be=function(){var e=function(e,t){"number"==typeof t?workletUIModule.requestFrame(t,e):setTimeout((function(){e(s())}),16)};return e._closure={getTimestamp:s},e.asString="function requestFrame(cb,windowId){const{getTimestamp}=jsThis._closure;{if(typeof windowId==='number'){workletUIModule.requestFrame(windowId,cb);}else{setTimeout(function(){cb(getTimestamp());},16);}}}",e.__workletHash=0xd1a760d57d8,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (61:0)",e.__worklet=!0,e}(),Fe=function(){var e=function(e){var t=this,r=this._animation;if(r&&(r.cancelled=!0,this._animation=null),"function"==typeof e||null!==e&&"object"==typeof e&&void 0!==e.onFrame){var n,i="function"==typeof e?e():e;if(this._value===i.current&&!i.isHigherOrder)return void(null===(n=i.callback)||void 0===n||n.call(i,!0));var a=function(e){if(i.cancelled){var r;null===(r=i.callback)||void 0===r||r.call(i,!1)}else{var n=i.onFrame(i,e);i.finished=!0,i.timestamp=e,t._value=i.current,Be(n?function(){var e;null===(e=i.callback)||void 0===e||e.call(i,!0)}:a,t._windowId)}},o=function(e){i.onStart(i,t.value,e,r),a(e)};this._animation=i,_frameTimestamp?o(_frameTimestamp):Be(o,this._windowId)}else{if(this._value===e)return;this._value=e}};return e._closure={requestFrame:Be},e.asString="function workletValueSetter(value){const{requestFrame}=jsThis._closure;{var _this=this;const previousAnimation=this._animation;if(previousAnimation){previousAnimation.cancelled=true;this._animation=null;}if(typeof value==='function'||value!==null&&typeof value==='object'&&value.onFrame!==undefined){const animation=typeof value==='function'?value():value;if(this._value===animation.current&&!animation.isHigherOrder){var _animation$callback;(_animation$callback=animation.callback)===null||_animation$callback===void 0?void 0:_animation$callback.call(animation,true);return;}const step=function(timestamp){if(animation.cancelled){var _animation$callback2;(_animation$callback2=animation.callback)===null||_animation$callback2===void 0?void 0:_animation$callback2.call(animation,false);return;}const finished=animation.onFrame(animation,timestamp);animation.finished=true;animation.timestamp=timestamp;_this._value=animation.current;if(finished){requestFrame(function(){var _animation$callback3;(_animation$callback3=animation.callback)===null||_animation$callback3===void 0?void 0:_animation$callback3.call(animation,true);},_this._windowId);}else{requestFrame(step,_this._windowId);}};const initializeAnimation=function(timestamp){animation.onStart(animation,_this.value,timestamp,previousAnimation);step(timestamp);};this._animation=animation;if(_frameTimestamp){initializeAnimation(_frameTimestamp);}else{requestFrame(initializeAnimation,this._windowId);}}else{if(this._value===value){return;}this._value=value;}}}",e.__workletHash=9322906467051,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (72:0)",e.__worklet=!0,e}();function We(e){return Oe(),t.makeMutable(e)}function je(e={}){return Oe(),t.makeRemote(e)}function Ve(e,r,n=[],i=[]){return Oe(),t.startMapper(e,r,n,i)}function Ue(e,r){t.stopMapper(e,r)}function $e(e,r){t.stopMappers(e,r)}var ze=function(){var e=function(e){if(!P)return e;if(e.__callAsync)return e.__callAsync;throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren't marked as worklets")};return e._closure={},e.asString='function runOnJS(fun){if(!_WORKLET){return fun;}if(!fun.__callAsync){throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren\'t marked as worklets");}else{return fun.__callAsync;}}',e.__workletHash=0x92ee94d4226,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (169:7)",e.__worklet=!0,e}();function qe(){console.info("[skyline] WorkletModule initialize"),Oe(),t.installCoreFunctions(Fe),Pe();var e=console,r=u||function(){if(p&&"debug"in p&&void 0!==p.debug)return!!p.debug}();Le(function(){var t=function(){var t=["debug","log","warn","error","info"].reduce((function(t,n){var i;return t[n]=(i=n,function(...t){r&&ze(e[i])("[ui]",...t)}),t}),{});workletUIModule.setGlobalConsole(t)};return t._closure={printLog:r,runOnJS:ze,capturableConsole:e},t.asString="function _f(){const{printLog,runOnJS,capturableConsole}=jsThis._closure;{const methods=['debug','log','warn','error','info'];function _log(m){return function(...args){if(!printLog)return;runOnJS(capturableConsole[m])('[ui]',...args);};}const libConsole=methods.reduce(function(obj,prop){;obj[prop]=_log(prop);return obj;},{});workletUIModule.setGlobalConsole(libConsole);}}",t.__workletHash=0xbb38dbebc01,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (192:10)",t.__worklet=!0,t}())()}var He=new Map,Ge=new Map,Ke={isCustomRoute:!1,opaque:!0,maintainState:!0,transitionDuration:300,reverseTransitionDuration:300,barrierColor:"",barrierDismissible:!1,barrierLabel:"",canTransitionTo:!0,canTransitionFrom:!0};function Je(e,t){v.info(`[WABaseLib.Critical] add RouteBuilder routeType: ${e}`),He.set(e,t)}function Xe(e){v.info(`[WABaseLib.Critical] remove RouteBuilder routeType: ${e}`),He.delete(e)}function Ye(e){return He.get(e)}function Qe(e,t){var r=Ye(t);if("function"==typeof r&&"CupertinoPageRoute"!==t){v.info(`[WABaseLib.Critical] create RouteContext routeType: ${t} page: ${e}`);var n=xe(t),i=r(n),a={...Ke,...i,context:n};return a.isCustomRoute=!0,Ge.set(e,n),a}}function Ze(e){if(Ge.has(e))return Ge.get(e)}function et(e){v.info(`[WABaseLib.Critical] remove RouteContext page: ${e}`),Ge.delete(e)}})(),x=n})(),(()=>{var e={470:e=>{function t(e,t){for(var r=[],n=~~(t/8),i=t%8,a=0,o=e.length;a<o;a++)r[a]=(e[(a+n)%o]<<i&255)+(e[(a+n+1)%o]>>>8-i&255);return r}function r(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]^t[n]);return r}function n(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=e[n]&t[n]&255;return r}function i(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]|t[n]);return r}function a(e,t){for(var r=[],n=0,i=e.length-1;i>=0;i--){var a=e[i]+t[i]+n;a>255?(n=1,r[i]=255&a):(n=0,r[i]=255&a)}return r}function o(e){return r(r(e,t(e,9)),t(e,17))}function s(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(i(n(e,t),n(e,a)),n(t,a))}function c(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(n(e,t),n(function(e){for(var t=[],r=e.length-1;r>=0;r--)t[r]=255&~e[r];return t}(e),a))}function l(e,n){for(var i,l=[],u=[],d=0;d<16;d++){var p=4*d;l.push(n.slice(p,p+4))}for(var h=16;h<68;h++)l.push(r(r((i=r(r(l[h-16],l[h-9]),t(l[h-3],15)),r(r(i,t(i,15)),t(i,23))),t(l[h-13],7)),l[h-6]));for(var f=0;f<64;f++)u.push(r(l[f],l[f+4]));for(var g,v,m,y,b=[121,204,69,25],_=[122,135,157,138],w=e.slice(0,4),I=e.slice(4,8),S=e.slice(8,12),k=e.slice(12,16),C=e.slice(16,20),E=e.slice(20,24),A=e.slice(24,28),T=e.slice(28,32),P=0;P<64;P++){var x=P>=0&&P<=15?b:_;v=r(g=t(a(a(t(w,12),C),t(x,P)),7),t(w,12)),m=a(a(a(s(w,I,S,P),k),v),u[P]),y=a(a(a(c(C,E,A,P),T),g),l[P]),k=S,S=t(I,9),I=w,w=m,T=A,A=t(E,19),E=C,C=o(y)}return r([].concat(w,I,S,k,C,E,A,T),e)}function u(e){var t=8*e.length,r=t%512;r=r>=448?512-r%448-1:448-r-1;for(var n=new Array((r-7)/8),i=0,a=n.length;i<a;i++)n[i]=0;var o=[];t=t.toString(2);for(var s=7;s>=0;s--)if(t.length>8){var c=t.length-8;o[s]=parseInt(t.substr(c),2),t=t.substr(0,c)}else t.length>0?(o[s]=parseInt(t,2),t=""):o[s]=0;for(var u=[].concat(e,[128],n,o),d=u.length/64,p=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78],h=0;h<d;h++){var f=64*h;p=l(p,u.slice(f,f+64))}return p}for(var d=new Array(64),p=new Array(64),h=0;h<64;h++)d[h]=54,p[h]=92;e.exports={sm3:u,hmac:function(e,t){for(t.length>64&&(t=u(t));t.length<64;)t.push(0);var n=r(t,d).concat(e);return n=u(n),n=u(n=r(t,p).concat(n))}}},308:(e,t,r)=>{var{sm3:n,hmac:i}=r(470);function a(e){return e.map((e=>1===(e=e.toString(16)).length?"0"+e:e)).join("")}function o(e){var t,r,n=[],i=e.length;i%2!=0&&(r=i+1,e=(t=e).length>=r?t:new Array(r-t.length+1).join("0")+t),i=e.length;for(var a=0;a<i;a+=2)n.push(parseInt(e.substr(a,2),16));return n}e.exports=function(e,t){if(e="string"==typeof e?function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.codePointAt(r);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>>6),t.push(128|63&i);else if(i<=55295||i>=57344&&i<=65535)t.push(224|i>>>12),t.push(128|i>>>6&63),t.push(128|63&i);else{if(!(i>=65536&&i<=1114111))throw t.push(i),new Error("input is not supported");r++,t.push(240|i>>>18&28),t.push(128|i>>>12&63),t.push(128|i>>>6&63),t.push(128|63&i)}}return t}(e):Array.prototype.slice.call(e),t){if("hmac"!==(t.mode||"hmac"))throw new Error("invalid mode");var r=t.key;if(!r)throw new Error("invalid key");return r="string"==typeof r?o(r):Array.prototype.slice.call(r),a(i(e,r))}return a(n(e))}},525:(e,t,r)=>{var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r.g&&r.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,c=36,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,f=String.fromCharCode;function g(e){throw RangeError(p[e])}function v(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+v((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;n+=c)e=h(e/35);return h(n+36*e/(e+38))}function I(e){var t,r,n,i,a,o,l,u,d,p,f,v=[],m=e.length,y=0,_=128,I=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&g("not-basic"),v.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(a=y,o=1,l=c;i>=m&&g("invalid-input"),((u=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:c)>=c||u>h((s-y)/o))&&g("overflow"),y+=u*o,!(u<(d=l<=I?1:l>=I+26?26:l-I));l+=c)o>h(s/(p=c-d))&&g("overflow"),o*=p;I=w(y-a,t=v.length+1,0==a),h(y/t)>s-_&&g("overflow"),_+=h(y/t),y%=t,v.splice(y++,0,_)}return b(v)}function S(e){var t,r,n,i,a,o,l,u,d,p,v,m,b,I,S,k=[];for(m=(e=y(e)).length,t=128,r=0,a=72,o=0;o<m;++o)(v=e[o])<128&&k.push(f(v));for(n=i=k.length,i&&k.push("-");n<m;){for(l=s,o=0;o<m;++o)(v=e[o])>=t&&v<l&&(l=v);for(l-t>h((s-r)/(b=n+1))&&g("overflow"),r+=(l-t)*b,t=l,o=0;o<m;++o)if((v=e[o])<t&&++r>s&&g("overflow"),v==t){for(u=r,d=c;!(u<(p=d<=a?1:d>=a+26?26:d-a));d+=c)S=u-p,I=c-p,k.push(f(_(p+S%I,0))),u=h(S/I);k.push(f(_(u,0))),a=w(r,b,n==i),r=0,++n}++r,++t}return k.join("")}o={version:"1.3.2",ucs2:{decode:y,encode:b},decode:I,encode:S,toASCII:function(e){return m(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return m(e,(function(e){return l.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}(globalThis)},818:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var u,d,p,h,f=e[l].replace(o,"%20"),g=f.indexOf(n);g>=0?(u=f.substr(0,g),d=f.substr(g+1)):(u=f,d=""),p=decodeURIComponent(u),h=decodeURIComponent(d),t(a,p)?Array.isArray(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a}},571:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},284:(e,t,r)=>{"use strict";t.decode=t.parse=r(818),t.encode=t.stringify=r(571)},304:(e,t,r)=>{"use strict";var n=r(525),i=r(887);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(284);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}a.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var _=c.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var I=(w=w[0]).toLowerCase();this.protocol=I,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(S||w&&!m[w])){for(var k,C,E=-1,A=0;A<p.length;A++){-1!==(T=b.indexOf(p[A]))&&(-1===E||T<E)&&(E=T)}-1!==(C=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(k=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(k)),E=-1;for(A=0;A<d.length;A++){var T;-1!==(T=b.indexOf(d[A]))&&(-1===E||T<E)&&(E=T)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var x=this.hostname.split(/\./),M=(A=0,x.length);A<M;A++){var R=x[A];if(R&&!R.match(h)){for(var D="",O=0,L=R.length;O<L;O++)R.charCodeAt(O)>127?D+="x":D+=R[O];if(!D.match(h)){var N=x.slice(0,A),B=x.slice(A+1),F=R.match(f);F&&(N.push(F[1]),B.unshift(F[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var W=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+W,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[I])for(A=0,M=u.length;A<M;A++){var V=u[A];if(-1!==b.indexOf(V)){var U=encodeURIComponent(V);U===V&&(U=escape(V)),b=b.split(V).join(U)}}var $=b.indexOf("#");-1!==$&&(this.hash=b.substr($),b=b.slice(0,$));var z=b.indexOf("?");if(-1!==z?(this.search=b.substr(z),this.query=b.substr(z+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,z)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){W=this.pathname||"";var q=this.search||"";this.path=W+q}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(r[u]=e[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||r.host&&e.pathname,I=w,S=r.pathname&&r.pathname.split("/")||[],k=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===S[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(k)r.hostname=r.host=S.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=S.slice(-1)[0],E=(r.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,A=0,T=S.length;T>=0;T--)"."===(C=S[T])?S.splice(T,1):".."===C?(S.splice(T,1),A++):A&&(S.splice(T,1),A--);if(!w&&!I)for(;A--;A)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),E&&"/"!==S.join("/").substr(-1)&&S.push("");var P,x=""===S[0]||S[0]&&"/"===S[0].charAt(0);k&&(r.hostname=r.host=x?"":S.length?S.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift()));return(w=w||r.host&&S.length)&&!x&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},887:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},547:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:r()}}();function t(){if(i(/^<\?xml\s*/)){for(var e={attributes:{}};!a()&&!o("?>");){var t=n();if(!t)return e;e.attributes[t.name]=t.value}return i(/\?>\s*/),e}}function r(){var e=i(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(a()||o(">")||o("?>")||o("/>"));){var c=n();if(!c)return s;s.attributes[c.name]=c.value}if(i(/^\s*\/>\s*/))return s;for(i(/\??>\s*/),s.content=function(){var e=i(/^([^<]*)/);return e?e[1]:""}();t=r();)s.children.push(t);return i(/^<\/[\w-:.]+>\s*/),s}}function n(){var e,t=i(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function i(t){var r=e.match(t);if(r)return e=e.slice(r[0].length),r}function a(){return 0==e.length}function o(t){return 0==e.indexOf(t)}}},105:e=>{var t,r=void 0!==i?i:globalThis.Function;function n(){return t||(t=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./entry.js")}({"./entry.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers/index.js"),i=r("./node_modules/protocol-buffers-encodings/index.js"),a=r("./node_modules/varint/index.js"),o=function(e,t){var r=new Uint8Array(8),n=t,i=0,a=0,s=0;do{a|=(127&e[n])<<s,(s+=7)>=8&&(r[i]=255&a,a>>=8,s-=8,i++)}while(e[n++]>=128);return r[i]=255&a,o.bytes=n-t,r};function s(e,t){for(var r=0,n=t;n<e.length;n++){if(!(128&e[n]))return r+1;r++}return r}var c=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};i.uint64=function(){var e=function(t,r){var n=s(t,r);if(n>=7&&NativeGlobal.decodeUint64Array){t=o(t,r);var i=NativeGlobal.decodeUint64Array(t);e.bytes=n}else{i=a.decode(t,r);e.bytes=a.decode.bytes}return i},t=a.encode;return c(0,t,e,(function(e){return e<0?10:a.encodingLength(e)}))}(),i.int64=function(){var e=function(r,n){if(((l=a.decode(r,n))>Number.MAX_SAFE_INTEGER||l<Number.MIN_SAFE_INTEGER)&&NativeGlobal.decodeUint64Array){var i=s(r,n),c=10==i;c&&(r[9+n]=127&r[9+n]),r=o(r,n);var l=NativeGlobal.decodeUint64Array(r);return e.bytes=i,c?"-"+l:l}if(l>=Math.pow(2,63)){for(var u=9;255===r[n+u-1];)u--;var d=new t(u=u||9);r.copy(d,0,n,n+u),d[u-1]=127&d[u-1],l=-1*a.decode(d,0),e.bytes=10}else e.bytes=a.decode.bytes;return l},r=function(e,t,n){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw new Error("number too large, not supported yet");if(e<0){var i=n+9;for(a.encode(-1*e,t,n),t[n+=a.encode.bytes-1]=128|t[n];n<i-1;)t[++n]=255;t[i]=1,r.bytes=10}else a.encode(e,t,n),r.bytes=a.encode.bytes;return t};return c(0,r,e,(function(e){return e<0?10:a.encodingLength(e)}))}(),e.exports=function(e){var r=n(e);return Object.keys(r).forEach((function(e){var n;r[e].decode&&(r[e].decode=(n=r[e].decode,function e(r){"[object Uint8Array]"==Object.prototype.toString.call(r)&&r.__proto__!=t.__proto__&&(r.__proto__=t.prototype);var i=n.apply(this,arguments);return e.bytes=n.bytes,i}))})),r},e.exports.fixBuffer=function(e){return"[object Uint8Array]"==Object.prototype.toString.call(e)&&e.__proto__!=t.__proto__&&(e.__proto__=t.prototype),e}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/base64-js/index.js":function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),o=n[0],s=n[1],c=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),u=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[u++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,c=r-i;s<c;s+=o)a.push(u(e,s,s+o>c?c:s+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,r){"use strict";(function(e){var n=r("./node_modules/base64-js/index.js"),i=r("./node_modules/ieee754/index.js"),a=r("./node_modules/isarray/index.js");function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r);e=s(e,n);var i=e.write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return V(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return C(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var a,o=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+c>s&&(r=s-c),a=r;a>=0;a--){for(var d=!0,p=0;p<c;p++)if(l(e,a+p)!==l(t,p)){d=!1;break}if(d)return a}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function _(e,t,r,n){return $(V(t,e.length-r),e,r,n)}function w(e,t,r,n){return $(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return w(e,t,r,n)}function S(e,t,r,n){return $(U(t),e,r,n)}function k(e,t,r,n){return $(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function C(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=r)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(a=e[i+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(c=(15&l)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return l(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(n,i),u=e.slice(t,r),d=0;d<s;++d)if(l[d]!==u[d]){a=l[d],o=u[d];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return I(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=j(e[a]);return i}function M(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function N(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,a){return a||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,a){return a||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=c.isBuffer(e)?e:V(new c(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/generate-function/index.js":function(e,t,n){for(var i=n("./node_modules/util/util.js"),a=n("./node_modules/is-property/is-property.js"),o=/[\{\[]/,s=/[\}\]]/,c=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],l={},u=0;u<c.length;u++)l[c[u]]=!0;var d=function(e){return a(e)&&!l.hasOwnProperty(e)},p={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},h=function(){var e=[],t=0,n={},c=function(r){for(var n="";n.length<2*t;)n+="  ";e.push(n+r)},l=function(e){return s.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,c(e),void t++):o.test(e[e.length-1])?(c(e),void t++):s.test(e.trim()[0])?(t--,void c(e)):void c(e)},u=function(e){if(!e)return u;if(1===arguments.length&&e.indexOf("\n")>-1)for(var t=e.trim().split("\n"),r=0;r<t.length;r++)l(t[r].trim());else l(i.format.apply(i,arguments));return u};return u.scope={},u.formats=p,u.sym=function(e){return e&&d(e)||(e="tmp"),n[e]||(n[e]=0),e+(n[e]++||"")},u.property=function(e,t){return 1===arguments.length&&(t=e,e=""),a(t+="")?e?e+"."+t:t:e?e+"["+JSON.stringify(t)+"]":JSON.stringify(t)},u.toString=function(){return e.join("\n")},u.toFunction=function(t){t||(t={});var n="return ("+e.join("\n")+")";Object.keys(u.scope).forEach((function(e){t[e]||(t[e]=u.scope[e])}));var i=Object.keys(t).map((function(e){return e})),a=i.map((function(e){return t[e]}));return r.apply(null,i.concat(n)).apply(null,a)},arguments.length&&u.apply(null,arguments),u};h.formats=p,e.exports=h},"./node_modules/generate-object-property/index.js":function(e,t,r){var n=r("./node_modules/is-property/is-property.js"),i=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};i.valid=n,i.property=function(e){return n(e)?e:JSON.stringify(e)},e.exports=i},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-l;else{if(a===c)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=l}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+h]=255&o,h+=f,o/=256,l-=8);e[r+h-f]|=128*g}},"./node_modules/is-property/is-property.js":function(e,t,r){"use strict";e.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},"./node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"./node_modules/os-browserify/browser.js":function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},"./node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/protocol-buffers-encodings/index.js":function(e,t,r){(function(e){var n=r("./node_modules/varint/index.js"),i=r("./node_modules/signed-varint/index.js");function a(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}function o(t){return e.isBuffer(t)?t.length:e.byteLength(t)}t.make=a,t.name=function(e){for(var r=Object.keys(t),n=0;n<r.length;n++)if(t[r[n]]===e)return r[n];return null},t.skip=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)},t.bytes=a(2,(function t(r,i,a){var s=a,c=o(r);return n.encode(c,i,a),a+=n.encode.bytes,e.isBuffer(r)?r.copy(i,a):i.write(r,a,c),t.bytes=(a+=c)-s,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.slice(r,r+a);return r+=o.length,e.bytes=r-i,o}),(function(e){var t=o(e);return n.encodingLength(t)+t})),t.string=a(2,(function t(r,i,a){var o=a,s=e.byteLength(r);return n.encode(s,i,a,"utf-8"),a+=n.encode.bytes,i.write(r,a,s),t.bytes=(a+=s)-o,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.toString("utf-8",r,r+a);return e.bytes=(r+=a)-i,o}),(function(t){var r=e.byteLength(t);return n.encodingLength(r)+r})),t.bool=a(0,(function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r}),(function e(t,r){var n=t[r]>0;return e.bytes=1,n}),(function(){return 1})),t.int32=a(0,(function e(t,r,i){return n.encode(t<0?t+4294967296:t,r,i),e.bytes=n.encode.bytes,r}),(function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,i>2147483647?i-4294967296:i}),(function(e){return n.encodingLength(e<0?e+4294967296:e)})),t.int64=a(0,(function e(t,r,i){if(t<0){var a=i+9;for(n.encode(-1*t,r,i),r[i+=n.encode.bytes-1]=128|r[i];i<a-1;)r[++i]=255;r[a]=1,e.bytes=10}else n.encode(t,r,i),e.bytes=n.encode.bytes;return r}),(function t(r,i){var a=n.decode(r,i);if(a>=Math.pow(2,63)){for(var o=9;255===r[i+o-1];)o--;o=o||9;var s=e.allocUnsafe(o);r.copy(s,0,i,i+o),s[o-1]=127&s[o-1],a=-1*n.decode(s,0),t.bytes=10}else t.bytes=n.decode.bytes;return a}),(function(e){return e<0?10:n.encodingLength(e)})),t.sint32=t.sint64=a(0,i.encode,i.decode,i.encodingLength),t.uint32=t.uint64=t.enum=t.varint=a(0,n.encode,n.decode,n.encodingLength),t.fixed64=t.sfixed64=a(1,(function e(t,r,n){return t.copy(r,n),e.bytes=8,r}),(function e(t,r){var n=t.slice(r,r+8);return e.bytes=8,n}),(function(){return 8})),t.double=a(1,(function e(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r}),(function e(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n}),(function(){return 8})),t.fixed32=a(5,(function e(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.sfixed32=a(5,(function e(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.float=a(5,(function e(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readFloatLE(r);return e.bytes=4,n}),(function(){return 4}))}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers-schema/index.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/parse.js"),i=r("./node_modules/protocol-buffers-schema/stringify.js");e.exports=n,e.exports.parse=n,e.exports.stringify=i},"./node_modules/protocol-buffers-schema/parse.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/tokenize.js"),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],a=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=a(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},s=function(e){for(var t={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(f(e));break;case"message":t.messages.push(u(e));break;case"extensions":t.extensions=l(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=o(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(c(e));break;case";":e.shift();break;case"reserved":for(e.shift();";"!==e[0];)e.shift();break;case"option":var i=g(e);if(void 0!==t.options[i.name])throw new Error("Duplicate option "+i.name);t.options[i.name]=i.value;break;default:e.unshift("optional"),t.fields.push(o(e))}return t},c=function(e){return{name:e[1],message:u(e)}},l=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},u=function(e){e.shift();var t=1,r=[],n={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=s(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n.options=r.options,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},d=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=a(e)),e.shift(),{name:t,val:r}},f=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=h(e);r.values[n.name]=n.val}else t=g(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=v(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},v=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var i=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var a=null;switch(e[0]){case":":if(void 0!==r[i])throw new Error("Duplicate option map key "+i);e.shift(),"{"===(a=t(e.shift()))&&(a=v(e)),r[i]=a,";"===e[0]&&e.shift();break;case"{":if(e.shift(),a=v(e),void 0===r[i]&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(a);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},m=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},y=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(b(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},b=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var a;if(/^("|')([^'"]*)$/.test(t[r]))for(a=1===t[r].length?r+1:r;a<t.length;a++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[a])){t=t.slice(0,r).concat(t.slice(r,a+1).join("")).concat(t.slice(a+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;t.length;){switch(t[0]){case"package":o.package=d(t);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=p(t);break;case"message":o.messages.push(u(t));break;case"enum":o.enums.push(f(t));break;case"option":var l=g(t);if(o.options[l.name])throw new Error("Duplicate option "+l.name);o.options[l.name]=l.value;break;case"import":o.imports.push(m(t));break;case"extend":o.extends.push(c(t));break;case"service":o.services||(o.services=[]),o.services.push(y(t));break;default:throw new Error("Unexpected token: "+t[0])}s=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,a,s;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],a=r[1],o.messages.some((function(e){if(e.name===n)return s=e,e})),s&&s.enums&&s.enums.some((function(e){return e.name===a})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),o}},"./node_modules/protocol-buffers-schema/stringify.js":function(e,t){var r=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},n=function(e,t){t.push("message "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(i(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(n(e,[]))}));var a={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(a[e.oneof]||(a[e.oneof]=[]),a[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(a).forEach((function(e){a[e].unshift("oneof "+e+" {"),a[e].push("}"),t.push(a[e])})),t.push("}",""),t},i=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=o(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=a(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},a=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},o=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=s(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},s=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach((function(e){(e=s(e,[])).length&&t.push(r+" {",e,"}")})):(n=s(n,[])).length&&t.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),t.push(r+": "+n))})),t},c=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=o(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},l=function(e){return function(t){return Array.isArray(t)?t.map(l(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){i(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){n(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(c(e,[]))})),t.push("}","")}(e,t)})),t.map(l("")).join("\n")}},"./node_modules/protocol-buffers-schema/tokenize.js":function(e,t){e.exports=function(e){var t,r=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},"./node_modules/protocol-buffers/compile-to-js.js":function(e,t,r){var n=r("./node_modules/os-browserify/browser.js"),i={type:!0,message:!0,name:!0,buffer:!0,encode:!0,decode:!0,encodingLength:!0,dependencies:!0};function a(e){return"function"==typeof e.encode}e.exports=function(e){var t="";return t+="// This file is auto generated by the protocol-buffers compiler"+n.EOL,t+=n.EOL,t+="/* eslint-disable quotes */"+n.EOL,t+="/* eslint-disable indent */"+n.EOL,t+="/* eslint-disable no-redeclare */"+n.EOL,t+="/* eslint-disable camelcase */"+n.EOL,t+=n.EOL,t+="// Remember to `npm install --save protocol-buffers-encodings`"+n.EOL,t+="var encodings = require('protocol-buffers-encodings')"+n.EOL,t+="var varint = encodings.varint"+n.EOL,t+="var skip = encodings.skip"+n.EOL,t+=n.EOL,function e(r,s,c){var l=Object.keys(r).filter((function(e){return!i[e]&&a(r[e])})),u=Object.keys(r).filter((function(e){return!i[e]&&!a(r[e])}));u.forEach((function(e){t+=c+s+"."+e+" = "+function(e,t){var r=Object.keys(e);if(!r.every((function(t){return"number"==typeof e[t]&&/^[a-z][a-z0-9]+$/i.test(t)})))return JSON.stringify(e,null,2).replace(/\n/g,n.EOL)+n.EOL;var i="{"+n.EOL;return r.forEach((function(a,o){i+=t+"  "+a+": "+e[a]+(o<r.length-1?",":"")+n.EOL})),i+t+"}"+n.EOL}(r[e],c)+n.EOL})),l.forEach((function(e){t+=c+"var "+e+" = "+s+"."+e+" = {"+n.EOL,t+=c+"  buffer: true,"+n.EOL,t+=c+"  encodingLength: null,"+n.EOL,t+=c+"  encode: null,"+n.EOL,t+=c+"  decode: null"+n.EOL,t+=c+"}"+n.EOL,t+=n.EOL})),l.forEach((function(e){t+=c+"define"+e+"()"+n.EOL})),l.length&&(t+=n.EOL);l.forEach((function(i){t+=c+"function define"+i+" () {"+n.EOL,e(r[i],i,c+"  "),t+=c+"  "+i+".encodingLength = encodingLength"+n.EOL,t+=c+"  "+i+".encode = encode"+n.EOL,t+=c+"  "+i+".decode = decode"+n.EOL+n.EOL,t+=c+"  "+o(r[i].encodingLength,c+"  ")+n.EOL+n.EOL,t+=c+"  "+o(r[i].encode,c+"  ")+n.EOL+n.EOL,t+=c+"  "+o(r[i].decode,c+"  ")+n.EOL,t+=c+"}"+n.EOL+n.EOL}))}(e,"exports",""),t+=o(r("./node_modules/protocol-buffers/compile.js").defined,"")+n.EOL;function o(e,t){return e.toString().split("\n").map((function(e,r){return r?t+e:e.replace(/(function \w+)\(/,"$1 (")})).join("\n")}}},"./node_modules/protocol-buffers/compile.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-encodings/index.js"),i=r("./node_modules/varint/index.js"),a=r("./node_modules/generate-object-property/index.js"),o=r("./node_modules/generate-function/index.js"),s=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))},c=function(e,t){if(e.map)return"{}";if(e.repeated)return"[]";switch(e.type){case"string":return function(e){try{return!!e&&"string"==typeof JSON.parse(e)}catch(e){return!1}}(t)?t:'""';case"bool":return"true"===t?"true":"false";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return""+Number(t||0);default:return"null"}};e.exports=function(e,r,l){var u={},d={},p={},h=function(e,t){return l?function(e){var t=n.name(e);return t?"encodings."+t:e.name?e.name:"encodings.enum"}(t[e]):"enc["+e+"]"},f=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,d[e.id]=e,f(e,e.id)})),e.messages&&e.messages.forEach((function(r){r.id=t+(t?".":"")+r.name,u[r.id]=r,r.fields.forEach((function(r){if(r.map){var n="Map_"+r.map.from+"_"+r.map.to,i={name:n,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+n};u[i.id]||(u[i.id]=i,e.messages.push(i)),r.type=n,r.repeated=!0}})),f(r,r.id)}))};f(e,"");var g=function(r,l){r.messages.forEach((function(e){l[e.name]=v(e.name,r.id)})),r.enums.forEach((function(e){l[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),l.type=2,l.message=!0,l.name=r.name;var u={};r.fields.forEach((function(e){e.oneof&&(u[e.oneof]||(u[e.oneof]=[]),u[e.oneof].push(e.name))}));var d=r.fields.map((function(e){return v(e.type,r.id)})),p=d.filter((function(e,t){return d.indexOf(e)===t})),f=d.map((function(e){return p.indexOf(e)})),g=function(e){for(var t=0;t<d.length;t++)e(d[t],r.fields[t],a("obj",r.fields[t].name),t)},m=o()("function encodingLength (obj) {")("var length = 0");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");m("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){var a=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,o=i.encodingLength(t.tag<<3|e.type);t.required?m("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):m("if (defined(%s)) {",r),t.map&&(m()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),a?(m()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("var len = %s.encodingLength(%s)",h(f[n],p),r+"[i]")("packedLen += len"),e.message&&m("packedLen += varint.encodingLength(len)"),m("}")("if (packedLen) {")("length += %d + packedLen + varint.encodingLength(packedLen)",o)("}")):(t.repeated&&(m("for (var i = 0; i < %s.length; i++) {",r),m("if (!defined(%s)) continue",r+="[i]")),m("var len = %s.encodingLength(%s)",h(f[n],p),r),e.message&&m("length += varint.encodingLength(len)"),m("length += %d + len",o),t.repeated&&m("}")),t.required||m("}")})),m()("return length")("}"),m=m.toFunction({defined:s,varint:i,enc:p});var y=o()("function encode (obj, buf, offset) {")("if (!offset) offset = 0")("if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))")("var oldOffset = offset");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");y("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){t.required?y("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):y("if (defined(%s)) {",r);var a,o=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,s=i.encode(t.tag<<3|2),c=i.encode(t.tag<<3|e.type);if(t.map&&(y()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),o){for(y()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("packedLen += %s.encodingLength(%s)",h(f[n],p),r+"[i]")("}"),y("if (packedLen) {"),a=0;a<c.length;a++)y("buf[offset++] = %d",s[a]);y("varint.encode(packedLen, buf, offset)"),y("offset += varint.encode.bytes"),y("}")}if(t.repeated&&(y("for (var i = 0; i < %s.length; i++) {",r),y("if (!defined(%s)) continue",r+="[i]")),!o)for(a=0;a<c.length;a++)y("buf[offset++] = %d",c[a]);e.message&&(y("varint.encode(%s.encodingLength(%s), buf, offset)",h(f[n],p),r),y("offset += varint.encode.bytes")),y("%s.encode(%s, buf, offset)",h(f[n],p),r),y("offset += %s.encode.bytes",h(f[n],p)),t.repeated&&y("}"),t.required||y("}")})),y()("encode.bytes = offset - oldOffset")("return buf")("}"),y=y.toFunction({encodingLength:m,defined:s,varint:i,enc:p,Buffer:t});var b,_=r.fields.map((function(e,t){return e.required&&"!found"+t})).filter((function(e){return e})).join(" || "),w=o(),I=[];return g((function(e,t){var n=t.options&&t.options.default,i=v(t.type,r.id,!1),o=i&&i.values;o?t.repeated?I.push(a.property(t.name)+": []"):(n=n&&o[n]?o[n].value:o[Object.keys(o)[0]].value,I.push(a.property(t.name)+": "+parseInt(n||0,10))):I.push(a.property(t.name)+": "+c(t,n))})),I=I.filter((b={},function(e){return!b.hasOwnProperty(e)&&(b[e]=!0,!0)})),w()("function decode (buf, offset, end) {")("if (!offset) offset = 0")("if (!end) end = buf.length")('if (!(end <= buf.length && offset <= buf.length)) throw new Error("Decoded message is not valid")')("var oldOffset = offset")("var obj = {"),I.forEach((function(e,t){w(e+(t===I.length-1?"":","))})),w("}"),g((function(e,t,r,n){t.required&&w("var found%d = false",n)})),w("while (true) {")("if (end <= offset) {")(_&&'if (%s) throw new Error("Decoded message is not valid")',_)("decode.bytes = offset - oldOffset")("return obj")("}")("var prefix = varint.decode(buf, offset)")("offset += varint.decode.bytes")("var tag = prefix >> 3")("switch (tag) {"),g((function(t,n,i,o){var s=n.repeated&&(n.options&&n.options.packed&&"false"!==n.options.packed||!(n.options&&"false"==n.options.packed)&&3==e.syntax&&("float"===n.type||"double"===n.type||-1!=n.type.indexOf("int")));w("case %d:",n.tag),n.oneof&&r.fields.forEach((function(e){e.oneof===n.oneof&&n.name!==e.name&&w("delete %s",a("obj",e.name))})),s&&w()("var packedEnd = varint.decode(buf, offset)")("offset += varint.decode.bytes")("packedEnd += offset")("while (offset < packedEnd) {"),t.message?(w("var len = varint.decode(buf, offset)"),w("offset += varint.decode.bytes"),n.map?(w("var tmp = %s.decode(buf, offset, offset + len)",h(f[o],p)),w("%s[tmp.key] = tmp.value",i)):n.repeated?w("%s.push(%s.decode(buf, offset, offset + len))",i,h(f[o],p)):w("%s = %s.decode(buf, offset, offset + len)",i,h(f[o],p))):n.repeated?w("%s.push(%s.decode(buf, offset))",i,h(f[o],p)):w("%s = %s.decode(buf, offset)",i,h(f[o],p)),w("offset += %s.decode.bytes",h(f[o],p)),s&&w("}"),n.required&&w("found%d = true",o),w("break")})),w()("default:")("offset = skip(prefix & 7, buf, offset)")("}")("}")("}"),w=w.toFunction({varint:i,skip:n.skip,enc:p}),y.bytes=w.bytes=0,l.buffer=!0,l.encode=y,l.decode=w,l.encodingLength=m,l.dependencies=p,l},v=function(e,t,a){if(r&&r[e])return r[e];if(n[e])return n[e];var s=(t?t+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||u[t]||d[t]}),null);if(!1===a)return s;if(!s)throw new Error("Could not resolve "+e);return s.values?function(e){var t=Object.keys(e.values).map((function(t){return"val !== "+parseInt(e.values[t].value,10)})).join(" && ");t||(t="true");var r=o()("function encode (val, buf, offset) {")('if (%s) throw new Error("Invalid enum value: "+val)',t)("varint.encode(val, buf, offset)")("encode.bytes = varint.encode.bytes")("return buf")("}").toFunction({varint:i}),a=o()("function decode (buf, offset) {")("var val = varint.decode(buf, offset)")('if (%s) throw new Error("Invalid enum value: "+val)',t)("decode.bytes = varint.decode.bytes")("return val")("}").toFunction({varint:i});return n.make(0,r,a,i.encodingLength)}(s):p[s.id]?p[s.id]:(p[s.id]={},g(s,p[s.id]))};return(e.enums||[]).concat((e.messages||[]).map((function(e){return v(e.id)})))},e.exports.defined=s}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers/index.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-schema/index.js"),i=r("./node_modules/protocol-buffers/compile.js"),a=r("./node_modules/protocol-buffers/compile-to-js.js");e.exports=function(e,r){if(r||(r={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var a="object"!=typeof e||t.isBuffer(e)?n.parse(e):e,o=function(){var e=this;i(a,r.encodings||{},r.inlineEnc).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return o.prototype.toString=function(){return n.stringify(a)},o.prototype.toJSON=function(){return a},new o},e.exports.toJS=function(t){return a(e.exports(t,{inlineEnc:!0}))}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/signed-varint/index.js":function(e,t,r){var n=r("./node_modules/varint/index.js");t.encode=function e(t,r,i){t=t>=0?2*t:-2*t-1;var a=n.encode(t,r,i);return e.bytes=n.encode.bytes,a},t.decode=function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},t.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}},"./node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),c=n[r];r<a;c=n[++r])g(c)||!_(c)?o+=" "+c:o+=" "+s(c);return o},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var a,o={};function s(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),u(n,e,n.depth)}function c(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function l(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=u(e,i,n)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),I(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(r);if(0===o.length){if(S(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(I(r))return d(r)}var l,_="",k=!1,C=["{","}"];(h(r)&&(k=!0,C=["[","]"]),S(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(_=" "+RegExp.prototype.toString.call(r)),w(r)&&(_=" "+Date.prototype.toUTCString.call(r)),I(r)&&(_=" "+d(r)),0!==o.length||k&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=k?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)T(t,String(o))?a.push(p(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(p(e,t,r,n,i,!0))})),a}(e,r,n,s,o):o.map((function(t){return p(e,r,n,s,t,k)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(l,_,C)):C[0]+_+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),T(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=g(r)?u(e,c.value,null):u(e,c.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===k(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===k(e)}function I(e){return _(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(y(a)&&(a=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(a)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=I,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r("./node_modules/util/support/isBufferBrowser.js");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=r("./node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(x,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/varint/decode.js":function(e,t){e.exports=function e(t,r){var n,i=0,a=0,o=r=r||0,s=t.length;do{if(o>=s)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=a<28?(127&n)<<a:(127&n)*Math.pow(2,a),a+=7}while(n>=128);return e.bytes=o-r,i}},"./node_modules/varint/encode.js":function(e,t){e.exports=function e(t,n,i){n=n||[];var a=i=i||0;for(;t>=r;)n[i++]=255&t|128,t/=128;for(;-128&t;)n[i++]=255&t|128,t>>>=7;return n[i]=0|t,e.bytes=i-a+1,n};var r=Math.pow(2,31)},"./node_modules/varint/index.js":function(e,t,r){e.exports={encode:r("./node_modules/varint/encode.js"),decode:r("./node_modules/varint/decode.js"),encodingLength:r("./node_modules/varint/length.js")}},"./node_modules/varint/length.js":function(e,t){var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),a=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),c=Math.pow(2,49),l=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<r?1:e<n?2:e<i?3:e<a?4:e<o?5:e<s?6:e<c?7:e<l?8:e<u?9:10}},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=globalThis;try{n=n||new r("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}})),t}"undefined"==typeof __SDK_SUB_PACKAGE__&&(e.exports=n),globalThis.__protobufSDKGetter__={getProtobuf:()=>(...e)=>n()(...e)}},41:e=>{var t,r,n,i,a=a||function(e,t){var r={},n=r.lib={},i=function(){},a=n.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var i=0;i<e;i++)t[n+i>>>2]|=(r[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<r.length)for(i=0;i<e;i+=4)t[n+i>>>2]=r[i>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var i=t[n>>>2]>>>24-n%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,i=e.min(4*t,i),t){for(var c=0;c<t;c+=a)this._doProcessBlock(n,c);c=n.splice(0,t),r.sigBytes-=i}return new o.init(c,i)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=r.algo={};return r}(Math);!function(){var e=a,t=(i=e.lib).WordArray,r=i.Hasher,n=[],i=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,i=r[0],a=r[1],o=r[2],s=r[3],c=r[4],l=0;80>l;l++){if(16>l)n[l]=0|e[t+l];else{var u=n[l-3]^n[l-8]^n[l-14]^n[l-16];n[l]=u<<1|u>>>31}u=(i<<5|i>>>27)+c+n[l],u=20>l?u+(1518500249+(a&o|~a&s)):40>l?u+(1859775393+(a^o^s)):60>l?u+((a&o|a&s|o&s)-1894007588):u+((a^o^s)-899497514),c=s,s=o,o=a<<30|a>>>2,a=i,i=u}r[0]=r[0]+i|0,r[1]=r[1]+a|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(i),e.HmacSHA1=r._createHmacHelper(i)}(),r=(t=a).enc.Utf8,t.algo.HMAC=t.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,c=o.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),i=(n=a).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],a=0;a<r;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<r;s++)i.push(n.charAt(o>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,n=r.charAt(64);if(n){var a=e.indexOf(n);-1!=a&&(t=a)}for(var o=[],s=0,c=0;c<t;c++)if(c%4){var l=r.indexOf(e.charAt(c-1))<<c%4*2,u=r.indexOf(e.charAt(c))>>>6-c%4*2;o[s>>>2]|=(l|u)<<24-s%4*8,s++}return i.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=a}},n={};function l(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={id:t,loaded:!1,exports:{}};return e[t](i,i.exports,l),i.loaded=!0,i.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var u={};(()=>{"use strict";l.d(u,{default:()=>z2e});var e={};l.r(e),l.d(e,{_triggerBeforeShareAppMessage:()=>xI,_triggerBeforeUnloadPage:()=>PI,createRouter:()=>mI,navigateBack:()=>Pp,navigateTo:()=>pI,navigateToWithRelatedInfo:()=>hI,normalizeUrl:()=>Ip,onPageReload:()=>TI,reLaunch:()=>gI,redirectTo:()=>fI,switchTab:()=>vI});var n={};l.r(n),l.d(n,{Path2D:()=>vV,canvasGetImageData:()=>kj,canvasGetImageData4Plugin:()=>Cj,canvasPutImageData:()=>Pj,canvasPutImageData4Plugin:()=>xj,canvasToTempFilePath:()=>Hj,canvasToTempFilePath4Plugin:()=>Gj,createCanvasContext:()=>wV,createCanvasContext4Plugin:()=>IV,createContext:()=>bV,createOffscreenCanvas:()=>oV,drawCanvas:()=>Oj,drawCanvas4Plugin:()=>Lj,drawCanvasImpl:()=>Dj,getOrCreateCanvasInterface:()=>mV,isSkiaCanvasEnabled:()=>vj});var i={};l.r(i),l.d(i,{createAudioContext:()=>Kz,createCameraContext:()=>mF,createInnerAudioContext:()=>Uz,createLivePlayerContext:()=>WF,createLivePusherContext:()=>GV,createMapContext:()=>RL,createSQEditorContext:()=>iq,createSQLivePlayerContext:()=>jF,createSQMapContext:()=>DL,createSQVideoContext:()=>bB,createVideoContext:()=>yB});var g={};l.r(g),l.d(g,{ShareInfoStorage:()=>Ehe,_getCurrentNetworkType:()=>vg,_getRealRoute:()=>KI,_triggerBeforeShareAppMessage:()=>The,_triggerBeforeUnloadPage:()=>Ahe,addToFavorites:()=>nhe,checkAPIAvailable:()=>xu,checkHandoffEnabled:()=>phe,createPluginConsole:()=>jce,createPluginWX:()=>Wce,createPluginWXWebAssembly:()=>Vce,dispatchXrFrameEvent:()=>YL,emitIsloatedAppHide:()=>Yce,emitIsloatedAppShow:()=>lle,fontFaceRecords:()=>gY,getAppConfig:()=>Ype,getCachePermissionBytes:()=>jle,getCloudFileUrl:()=>QI,getInnerEnterOptionsSync:()=>dp,getLaunchOptionsSync:()=>WO,getLogManager:()=>$5,getNetworkType:()=>dg,getPreloadAdUnitIds:()=>Whe,getPreloadVideoAdUnitIds:()=>xH,getPublicLibVersion:()=>i5,getShareCookieString:()=>Wk,getStableSystemInfo:()=>Zy,getStaticSystemInfoSync:()=>by,getSystemInfoSync:()=>vy,invokeInnerShareCallbacks:()=>Ule,invokeWebviewMethod:()=>bp,isIsolatedSubpackage:()=>LX,onAddToFavorites:()=>the,onAppConfig:()=>Qpe,onAppEnterBackground:()=>qk,onAppEnterForeground:()=>zS,onAppHide:()=>mk,onAppRoute:()=>XS,onAppRouteDone:()=>qM,onAppShow:()=>ik,onAppUnhang:()=>Kce,onCallMethodFromWxs:()=>Fhe,onError:()=>ple,onExitMiniProgramSuccess:()=>Lq,onNavigationBarTitleUpdate:()=>She,onPageNotFound:()=>xle,onPageReload:()=>Phe,onPullDownRefresh:()=>Zpe,onRealtimeDataResponse:()=>TE,onShareAppMessage:()=>ehe,onShareTimeline:()=>_he,onStartHandoff:()=>rhe,onTabItemTap:()=>ihe,onThemeChange:()=>$D,onUnhandledRejection:()=>fle,onWebviewEvent:()=>xhe,operateRealtimeData:()=>AE,publishAnalyticsConfig:()=>ahe,publishFunctionalPage:()=>Mhe,publishPageScrollTo:()=>Rhe,publishTelecontrol:()=>Dhe,publishUpdateAppData:()=>Ohe,recordUnloadWebviewIdForUserBehaviorAnalytics:()=>Npe,reportActionTrace:()=>Bhe,reportNativeUiEvent:()=>jpe,reportPv:()=>Nhe,reportRealtimeAction:()=>ohe,reportRecycledAPI:()=>PP,route:()=>e,shareAppMessage:()=>she,shareAppMessageDirectly:()=>che,shareAppMessageForFakeNative:()=>uhe,shareAppMessageToSpecificContactDirectly:()=>lhe,shareAppMessageToSpecificContactForFakeNativeDirectly:()=>dhe,shareTimeline:()=>whe,showShareMenu:()=>khe,showShareTimelineMenu:()=>Ihe,showUpdatableMessageSubscribeButton:()=>bhe,startHandoff:()=>Uue,subscribeAnalyticsReport:()=>hhe,subscribeRecycleStatistics:()=>fhe,subscribeSavePageState:()=>ghe,subscribeSubjectInfo:()=>Lhe,subscribeTapHandoffButton:()=>mhe,subscribeTapShareButton:()=>vhe,subscribeTapShareTimeLineButton:()=>yhe,trackWeReportSession:()=>Kpe,uploadUserLogOnHide:()=>x4,userShareMenuState:()=>Che});var y={};l.r(y),l.d(y,{getSubpackagesConfig:()=>jhe,onSubPackageReady:()=>Nte});var A={};l.r(A),l.d(A,{_WebAssembly:()=>Rse,_downloadFileSkipCheckDomain:()=>bv,_requestSkipCheckDomain:()=>Xb,_socketSkipCheckDomainFactory:()=>D_,_uploadFileSkipCheckDomain:()=>i_,cacheManager:()=>Zfe,checkPermissionSync:()=>Ph,emitCustomAttrEvent:()=>Upe,invokeOperateWXData:()=>Xu,isUsedCache:()=>Uge,privateCacheManager:()=>ege,private_getBackgroundFetchData:()=>AZ,private_getUserAgent:()=>Gy,private_onBackgroundFetchData:()=>TZ,reportCallContainer:()=>$fe,request:()=>Jb,setupUserBehaviorAnalytics:()=>Dpe,startRecordingUserBehavior:()=>Ope,stopRecordingUserBehavior:()=>Lpe,uploadToCommonCDN:()=>N_});var P={};l.r(P),l.d(P,{appRouteInfo:()=>CAe,deviceInfo:()=>kAe,deviceInfoLoaded:()=>OAe,getDeviceOrientation:()=>AAe,getGameTouchStatus:()=>$Ae,getIndentityInfo:()=>EAe,loadDeviceInfoByManual:()=>LAe,proxyReady:()=>PAe,stopTouchHanlder:()=>HAe});var R=c.objectSpread2,O=l.n(R),L=c.initializerDefineProperty,N=l.n(L),B=c.applyDecoratedDescriptor,F=l.n(B),W=c.initializerWarningHelper,j=Object.create(null);function V(e,t){return j[e]instanceof Array?(j[e].push(t),null):(j[e]=null,b.on(e,t))}function U(e){return null===j[e]?(console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null):(j[e]=[],b.on(e,((...t)=>{var r=j[e];for(var n of r){if(!1===n(...t))break}})),t=>{j[e].unshift(t)})}var $=(()=>(p.onReady((()=>{$!==p&&void 0!==$&&Object.assign($,p)})),p))(),z=$,q="undefined"!=typeof __initHelper&&1===__initHelper,H,G=e=>H=e;q&&(globalThis.getCloudSDKGlobalVar=()=>({WeixinJSBridge:b,wxConsole:f,Reporter:E,console:console,__appServiceSDK__:H,__wxConfig:z,Foundation:h,IS_APP:!0}));var K={},J=["onViewDidResize","onAppRouteResized","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll","onThemeChange","onKeyboardHeightChange"],X;J.forEach((e=>{K[e]=U(e)}));var Y={get invoke(){return X},set invoke(e){X=e}},Q=Y,Z={openAddress:62,setNavigationBarRightButton:238,requestVirtualPayment:285,navigateToDevMiniProgram:351,insertLivePusher:360,updateLivePusher:361,removeLivePusher:362,operateLivePusher:363,insertLivePlayer:364,updateLivePlayer:365,removeLivePlayer:366,operateLivePlayer:367,openOfflinePayView:403,setCookies:502,getCookies:503,joinVoIPChat:516,exitVoIPChat:517,onVoIPChatMembersChanged:518,onVoIPChatSpeakersChanged:519,onVoIPChatInterrupted:520,updateVoIPChatMuteConfig:521,insertXWebLivePlayer:561,updateXWebLivePlayer:562,removeXWebLivePlayer:563,insertXWebLivePusher:564,updateXWebLivePusher:565,removeXWebLivePusher:566,operateXWebLivePlayer:567,operateXWebLivePusher:568,UDP:606,launchApplicationDirectly:620,insertVoIPView:623,updateVoIPView:624,removeVoIPView:625,chooseShareGroup:627,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,operateMediaContainer:686,operateMediaTrack:687,launchApp:692,sendBizRedPacketForOpen:694,openVideoEditor:705,operateMediaRecorder:712,onMediaRecorderStateChange:713,openWxappLimit5:720,shareCallback:740,operateCanvasPlayer:741,onCanvasPlayerStateChange:742,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,subscribeVoIPMembers:780,onVoIPVideoMembersChanged:781,requestSubscribeWhatsNew:782,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneCalendar:912,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,requestLivePlayerPictureInPicture:930,handoff:931,private_chooseInvoiceTitleDirectly:932,insertXWebVoIPView:934,updateXWebVoIPView:935,removeXWebVoIPView:936,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,WXA_JSAPI_INDEX_useOldCanvas:977,showShareImageMenu:978,openChannelsPostPage:984,openChannelsCreateContact:985,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,showSalesDrivingMenu:1003,onSalesDrivingMessage:1004,plugin_launchApplicationDirectly_operateDirectly:1009,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,reportRequestError:1069,traceUAReport:1079,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,setFileSpaceStatistics:1168,setFileSpaceStatisticsSwitch:1174,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,setupUserBehaviorAnalytics:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217},ee=null,te=[],re=e=>{null!==ee?e():te.push(e)},ne=e=>{ee=e.data.pluginPermissionBytes,te.forEach((e=>e())),te=[]};b.subscribe("batchGetPluginPermissionBytes",ne),h.onLibraryEnd((()=>{void 0!==D&&"function"==typeof D.onSubContextMessage&&D.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&ne(e)}))})),b.subscribe("getPluginPermissionBytesByJsApi",(e=>{se(e.data.pluginId,e.data.apiName,(t=>{b.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var ie=e=>e.split("/",1)[0],ae=(e,t)=>{var r,n,i=null===(r=ee)||void 0===r||null===(n=r[e])||void 0===n?void 0:n[t];return null==i?i=[0,0,0]:"object"!=typeof i&&(i=[i,i,i]),i};function oe(e,t,r){t=ie(t),delete r.permissionBytes;var n=ae(t,e);return r.permissionBytes=n,r}function se(e,t,r){e=ie(e),p.supportInvokeWithAppId?b.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[Z[t]]}]},(t=>{var n=t.pluginPermissionMap[e][0];r([n,n,n])})):re((()=>{var n=ae(e,t);r(n)}))}function ce(e,t,r,n){r=parseInt(r,10),se(e,t,(e=>{n(e[0]===r)}))}function le(e,t,r,n){r=parseInt(r,10),se(e,t,(e=>{n(e[0]!==r)}))}var ue=(()=>z.platform)(),de=(()=>"devtools"===ue)(),pe=(()=>"android"===ue)(),he=(()=>"ios"===ue)(),fe=(()=>"windows"===ue)(),ge=(()=>"mac"===ue)(),ve=(()=>"mina"===ue)(),me=(()=>fe||ge)();function ye(){if(z&&"debug"in z&&void 0!==z.debug)return!!z.debug}var be=(()=>{var e;return null===(e=z.host)||void 0===e?void 0:e.env})(),_e=(()=>"SDK"===be)(),we=(()=>"WMPF"===be)(),Ie=null,Se=(()=>{var e;return(null===(e=z.host)||void 0===e?void 0:e.forceUseNativeMap)||!1})(),ke=(()=>"object"==typeof window&&window&&window.__wkrenderer_h5)();function Ce(){return l.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function Ee(){var e=z.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function Ae(){var e=!0;return e}function Te(){return!1}function Pe(){return!0}var xe=(()=>!0)();function Me(){return 0===z.appType}function Re(){return[0,1,2,3,5,6,8,9,10,11,12,13].includes(z.appType)}function De(){return 7===z.appType}function Oe(){return 2===z.appType}function Le(){return 10===z.appType}var Ne=(()=>Object.prototype.toString)(),Be=a.prototype.call.bind(Ne);function Fe(e){return Be(e).slice(8,-1)}function We(e,t){return null!=e&&(e instanceof t||null!=e.constructor&&e.constructor.name===t.name)}var je=e=>"String"===Fe(e),Ve=e=>"Number"===Fe(e),Ue=e=>!0===e||!1===e||"Boolean"===Fe(e),$e=e=>void 0===e,ze=e=>null===e,qe=null,He=null,Ge=e=>Ve(e)&&Math.abs(e)===1/0,Ke=e=>He(e)&&Math.floor(e)===e,Je=e=>["string","number","boolean","undefined"].includes(typeof e),Xe=e=>"Object"===Fe(e),Ye=e=>Xe(e)&&!ze(e),Qe=e=>"Object"===Fe(e),Ze=(()=>Array.isArray||(e=>"Array"===Fe(e)))(),et=e=>"function"==typeof e,tt=e=>"Date"===Fe(e),rt=e=>"RegExp"===Fe(e),nt=e=>"Error"===Fe(e),it=e=>"Symbol"===Fe(e),at=e=>"Map"===Fe(e),ot=e=>"WeakMap"===Fe(e),st=e=>"Set"===Fe(e),ct=e=>"WeakSet"===Fe(e),lt=e=>"Promise"===Fe(e),ut=e=>{for(var t in e)return!1;return!0},dt=e=>"ArrayBuffer"===Fe(e),pt=e=>"DataView"===Fe(e),ht=e=>ArrayBuffer.isView(e)&&!pt(e),ft=e=>e&&"WxVirtualNode"===e.type,gt=e=>e&&"WxVirtualText"===e.type;function vt(e,t,r="parameter"){var n=Fe(t),i=Fe(e);if(i!==n)return`${r} should be ${n} instead of ${i};`;var a="";switch(n){case"Object":Object.keys(t).forEach((n=>{a+=vt(e[n],t[n],`${r}.${n}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var o=0;o<t.length;++o)a+=vt(e[o],t[o],`${r}[${o}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return a}function mt(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}function yt(){}var bt=(()=>Object.assign)();function _t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function wt(e,t,r){var n=At(r.value);return r.value=function(){return n.apply(this,arguments)},r}function It(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?E.thirdErrorReport({error:e,extend:t}):E.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function St(e){var t=Fe(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var kt=It(St,"anyTypeToString");function Ct(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var Et=It(Ct,"stringToAnyType");function At(e){return function(t={},...r){t=t||{};var{success:n,fail:i,complete:a}=t;return n||i||a?e.apply(this,[t].concat(r)):new Promise(((n,i)=>{var a=bt({success:n,fail:i},t);e.apply(this,[a].concat(r))}))}}function Tt(e,t){V(e,It(t,`at api ${e} callback function`))}function Pt(e,t){__safeway__.bridge.onThird(e,It(t,`at api ${e} callback function`))}var xt=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},Mt=20;function Rt(){this._events={},this._conf&&Dt.call(this,this._conf)}function Dt(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:Mt,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=Mt}function Ot(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function Lt(e){this._events={},this._newListener=!1,this._removeListener=!1,Dt.call(this,e)}Lt.prototype.delimiter=".",Lt.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},Lt.prototype.event="",Lt.prototype.once=function(e,t){return this._once(e,t,!1)},Lt.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},Lt.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},Lt.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},Lt.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},Lt.prototype._many=function(e,t,r,n){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),r.apply(this,arguments)}return a._origin=r,this._on(e,a,n),i},Lt.prototype.emit=function(){this._events||Rt.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,i,a,o=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),o>3)for(t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this,e);break;case 2:a[n].call(this,e,arguments[1]);break;case 3:a[n].call(this,e,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}}if("function"==typeof(a=this._events[e])){switch(this.event=e,o){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];a.apply(this,t)}return!0}if(a&&(a=a.slice()),a&&a.length){if(o>3)for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this);break;case 2:a[n].call(this,arguments[1]);break;case 3:a[n].call(this,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},Lt.prototype.emitAsync=function(){this._events||Rt.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,i,a,o=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),i=1;i<s;i++)t[i]=arguments[i];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,s){case 1:o.push(this._all[n].call(this,e));break;case 2:o.push(this._all[n].call(this,e,arguments[1]));break;case 3:o.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:o.push(this._all[n].apply(this,t))}}if("function"==typeof(a=this._events[e]))switch(this.event=e,s){case 1:o.push(a.call(this));break;case 2:o.push(a.call(this,arguments[1]));break;case 3:o.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,s){case 1:o.push(a[n].call(this));break;case 2:o.push(a[n].call(this,arguments[1]));break;case 3:o.push(a[n].call(this,arguments[1],arguments[2]));break;default:o.push(a[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},Lt.prototype.on=function(e,t){return this._on(e,t,!1)},Lt.prototype.prependListener=function(e,t){return this._on(e,t,!0)},Lt.prototype.onAny=function(e){return this._onAny(e,!1)},Lt.prototype.prependAny=function(e){return this._onAny(e,!0)},Lt.prototype.addListener=Lt.prototype.on,Lt.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},Lt.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||Rt.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,Ot.call(this,this._events[e].length,e))):this._events[e]=t,this},Lt.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r});for(var i=0;i<n.length;i++){if(r=n[i]._listeners,xt(r)){for(var o=-1,s=0,c=r.length;s<c;s++)if(r[s]===t||r[s].listener&&r[s].listener===t||r[s]._origin&&r[s]._origin===t){o=s;break}if(o<0)continue;return this._events[e].splice(o,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var n in r){var i=r[n],o=t[i];o instanceof a||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[i]),0===Object.keys(o).length&&delete t[i])}}}(this.listenerTree),this},Lt.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},Lt.prototype.removeListener=Lt.prototype.off,Lt.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||Rt.call(this),this):(this._events&&delete this._events[e],this)},Lt.prototype.listeners=function(e){return this._events||Rt.call(this),this._events[e]||(this._events[e]=[]),xt(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},Lt.prototype.eventNames=function(){return Object.keys(this._events)},Lt.prototype.listenerCount=function(e){return this.listeners(e).length},Lt.prototype.listenersAny=function(){return this._all?this._all:[]};var Nt=Lt,Bt=(()=>new Nt({maxListeners:20,newListener:!1}))(),Ft=(()=>new Nt({maxListeners:30,newListener:!1}))();function Wt(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):C.surroundThirdByTryCatch(t,`at api on${e} callback function`)}function jt(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}var Vt={};function Ut(e){if(e=e[0].toUpperCase()+e.slice(1),!Vt[e]){var t=new WeakMap;Vt[e]={getGlobalListeners:()=>Bt.listeners(e),getInternalListeners:()=>Ft.listeners(e),emit:(...t)=>{Ft.emit(e,...t),Bt.emit(e,...t)},emitGlobal:(...t)=>{Bt.emit(e,...t)},emitInternal:(...t)=>{Ft.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?Ft.prependOnceListener(e,t):Ft.prependListener(e,t):r.once?Ft.once(e,t):Ft.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&Ft.off(e,t)},onMethod:r=>{var n=Wt(e,r);if(n){if(t.has(r)){var i=t.get(r);i.push(n),t.set(r,i)}else t.set(r,[n]);Bt.on(e,n)}},offMethod:r=>{if(jt(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>Bt.off(e,t))),t.delete(r)}}else t=new WeakMap,Bt.removeAllListeners(e)}}}return Vt[e]}var $t={},zt=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE"],qt={},Ht=(e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!zt.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=M;r(e,...t)}},Gt=(e,...t)=>{getEventManager(`WeixinJSBridge-${e}`).emitInternal(...t)},Kt=(e,t)=>{var r=Ut(`WeixinJSBridge-${e}`);$t[e]||(Tt(e,((...t)=>{r.emit(...t),Ht(e,...t)})),$t[e]=!0),r.internalOnMethod(t)},Jt=(e,t)=>{var r=Ut(`WeixinJSBridge-Third-${e}`);qt[e]||(Pt(e,((...e)=>{r.emit(...e)})),qt[e]=!0),r.internalOnMethod(t)},Xt=(e,t)=>{getEventManager(`WeixinJSBridge-Third-${e}`).internalOffMethod(t)},Yt=(e,t)=>{Ut(`WeixinJSBridge-${e}`).internalOffMethod(t)},Qt;function Zt(e,t,r){return b.publish(e,t,r)}var er={},tr=!1,rr=()=>tr,nr=e=>er[e],ir=(e,t)=>{er[e]=t,tr=tr||"context"===t},ar=e=>{if(void 0===e||0===e.length)return{};if(1===e.length)return"webview"===er[e[0]]?{webview:e}:{context:e};var t={};return e.forEach((e=>{void 0!==t[er[e]]?t[er[e]].push(e):t[er[e]]=[e]})),t};null===(Qt=b.clientManager)||void 0===Qt||Qt.on("clientConnected",(e=>{ir(e,"webview")}));var or=(e,t={},r)=>{Array.isArray(r)?r.forEach((r=>{D.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):D.postMessageToSubContext({event:e,params:{params:t}},r)},sr=(e,t={},r)=>{Array.isArray(r)?r.forEach((r=>{D.postMessageToSubContextSync({event:e,params:{params:t,pageId:r}},r)})):D.postMessageToSubContextSync({event:e,params:{params:t}},r)};function cr(e,t,r){Zt(e,{data:t,options:{timestamp:Date.now()}},r)}var lr=xe?(e,t,r)=>{if(null==r)cr(e,t,r),rr()&&or(e,t,r);else{var n=ar(r);void 0!==n.webview&&cr(e,t,n.webview),void 0!==n.context&&or(e,t,n.context)}}:cr,ur=(e,t,r)=>{if(null==r)cr(e,t,r),rr()&&sr(e,t,r);else{var n=ar(r);void 0!==n.webview&&cr(e,t,n.webview),void 0!==n.context&&sr(e,t,n.context)}};function dr(e,t){b.subscribe(e,t)}function pr(e,t){dr(e,(({data:e,options:r},n,i={})=>{var a=r&&r.timestamp||0,o=Date.now();E.speedReport({key:"webview2AppService",data:e||{},timeMark:{startTime:a,endTime:o,nativeTime:i.nativeTime||0}}),"number"==typeof n&&void 0===nr(n)&&ir(n,"webview"),"function"==typeof t&&t(e,n)}))}var hr=(e,t)=>{fr.on(e,(e=>{void 0===nr(e.pageId)&&ir(e.pageId,"context"),t(e.params,e.pageId)}))},fr=xe?new h.EventEmitter:null;xe&&h.onLibraryEnd((()=>{D.onSubContextMessage((e=>{fr.emit(e.event,e.params)}))}));var gr=xe?(e,t)=>{pr(e,t),hr(e,t)}:pr,vr="",mr=(e={})=>{try{vr=e.transitExtraData.adUxInfo}catch(e){vr=""}};z.onReady((()=>{mr(z.appLaunchInfo)})),Kt("onAppEnterForeground",(e=>{mr(e)})),Kt("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(vr="")})),gr("getAdUxInfo",((e,t)=>{lr("adUxInfoGot",{adUxInfo:vr,callbackId:e.callbackId},[t])}));var yr=()=>vr;function br(){return 4===z.appType}function _r(e,t,r,n={}){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||yr());var i=n.appId;return"splashad"===h.env.workerType||z.supportInvokeWithAppId||void 0===i||br()?b.invoke(e,t,r,n):re((()=>{var a=oe(e,i,t);b.invoke(e,a,r,n)}))}function wr(e,t,r,n={}){if(pe)try{t=JSON.stringify(t)}catch(e){console.error("invokeThird unexpected arguments:",t)}return __safeway__.bridge.invokeThird(e,t,r,n)}var Ir={},Sr={},kr={},Cr=0,Er=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((n=>({func:r,result:e,errMsg:n,count:t[r][n]}))))),Ar=()=>{Ir={},Sr={},kr={}},Tr=()=>{var e=Er(1,Ir),t=Er(2,Sr),r=Er(3,kr),n=[].concat(e,t,r);0!==n.length&&gu("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:E.getAppType()})}),Ar()},Pr=(e,t,r,n,i)=>{var a;(a=t?Ir:r?Sr:kr)[e]=a[e]||{},a[e][i]=(a[e][i]||0)+1,Date.now()-Cr>=6e4&&(Cr=Date.now(),setTimeout(Tr,6e4))},xr=0,Mr=1,Rr=2,Dr=3,Or=4,Lr=5,Nr=6,Br=7,Fr=8,Wr=100,jr=101,Vr=102,Ur=103,$r=104,zr=105,qr=106,Hr=107,Gr=108,Kr=109,Jr=110,Xr=111,Yr=1e3,Qr=1001,Zr=1002,en=1003,tn=1004,rn=1005,nn=1006,an=1007,on=1008,sn=1009,cn=1010,ln=1011,un=1012,dn=1013,pn=1014,hn=1015,fn=1016,gn=1017,vn=1018,mn=1019,yn=1020,bn=1021,_n=1022,wn=1023,In=50001,Sn=100001,kn=102101,Cn=103101,En=103102,An=109001,Tn=2e5,Pn=201001,xn=201002,Mn=201003,Rn=301001,Dn=301002,On=301003,Ln=401101,Nn=401102,Bn=500001,Fn=502001,Wn=503101,jn=504101,Vn=505101,Un=510001,$n=510101,zn=6e5,qn=600001,Hn=600002,Gn=600003,Kn=600004,Jn=600005,Xn=600006,Yn=600007,Qn=600008,Zn=600009,ei=600010,ti=600011,ri=602e3,ni=602001,ii=602002,ai=602101,oi=602102,si=602103,ci=602104,li=602105,ui=602106,di=602107,pi=602108,hi=602120,fi=602300,gi=602301,vi=602302,mi=603101,yi=603102,bi=603103,_i=603104,wi=603105,Ii=603300,Si=603301,ki=603302,Ci=603303,Ei=605101,Ai=605102,Ti=606101,Pi=7e5,xi=700001,Mi=701e3,Ri=701001,Di=701002,Oi=701100,Li=701101,Ni=701102,Bi=701103,Fi=701104,Wi=701105,ji=701106,Vi=701107,Ui=701108,$i=701109,zi=701110,qi=701111,Hi=701112,Gi=701113,Ki=701114,Ji=701115,Xi=701116,Yi=701117,Qi=8e5,Zi=800001,ea=800002,ta=800003,ra=801001,na=802001,ia=901101,aa=901102,oa=901103,sa=1103002,ca=1103003,la=1103004,ua=1103005,da=1103006,pa=1103007,ha=1107001,fa=1107002,ga=1107003,va=1107004,ma=1107005,ya=1107006,ba=1107007,_a=1107008,wa=1107009,Ia=1107010,Sa=1107011,ka=1107012,Ca=1107013,Ea=12e5,Aa=1300001,Ta=1300002,Pa=1300005,xa=1300009,Ma=1300013,Ra=1300014,Da=1300020,Oa=1300021,La=1300022,Na=1300036,Ba=1300066,Fa=1300201,Wa=1300202,ja=1300203,Va=1300300,Ua=1300301,$a=1301e3,za=1301002,qa=1301003,Ha=1301004,Ga=1301005,Ka=1301006,Ja=1301007,Xa=1301008,Ya=1301009,Qa=1301100,Za=1301102,eo=1301103,to=1301104,ro=1301111,no=1301112,io=1302001,ao=1302002,oo=1302003,so=1302004,co=1302005,lo=1302100,uo=14e5,po=1400001,ho=1402101,fo=1404e3,go=1404100,vo=1404101,mo=1404102,yo=1404103,bo=1404104,_o=1412e3,wo=1412001,Io=1412002,So=1412003,ko=1412004,Co=1416100,Eo=1416101,Ao=1416102,To=1416103,Po=1416104,xo=1416105,Mo=1420103,Ro=1500101,Do=1500102,Oo=1500103,Lo=1500104,No=1500105,Bo=1502001,Fo=1502002,Wo=1502003,jo=1503e3,Vo=1504e3,Uo=1504001,$o=1504002,zo=1504003,qo=1504100,Ho=1504101,Go=1504200,Ko=1504201,Jo=1504202,Xo=1504203,Yo=1504204,Qo=1504205,Zo=1504206,es=1504207,ts=1504208,rs=1504209,ns=1504210,is=1505e3,as=1505001,os=1505002,ss=1505003,cs=1505004,ls=1505005,us=1505006,ds=1505020,ps=1505021,hs=1505022,fs=1505023,gs=1505024,vs=1505025,ms=1505026,ys=1505027,bs=1505028,_s=1505029,ws=1505030,Is=1505031,Ss=1505032,ks=1505040,Cs=1509e3,Es=1509001,As=1509002,Ts=1509003,Ps=1509004,xs=1509005,Ms=1509006,Rs=1509007,Ds=1509008,Os=1509009,Ls=1509010,Ns=151e4,Bs=1510101,Fs=1510102,Ws=1510103,js=1510104,Vs=1510105,Us=1510106,$s=1510107,zs=1510108,qs=1510109,Hs=1510110,Gs=1510111,Ks=1510112,Js=1510113,Xs=1510114,Ys=1512001,Qs=1512002,Zs=1517001,ec=1525001,tc=1525002,rc=1525003,nc=2e6,ic=2000001,ac=2000002,oc=2000003,sc=2000004,cc=2002e3,lc=2002001,uc=2002002,dc=2002003,pc=2002004,hc=2002005,fc=2003e3,gc=2003001,vc=2003002,mc=2004e3,yc=2004001,bc=2004002,_c=2004003,wc=2004004,Ic=2004005,Sc=2004006,kc=2004007,Cc=2004008,Ec=2004009,Ac=2004010,Tc=2004011,Pc=2004012;function xc(e,t,r){var n=vt(t,r);return!n||(Oc({name:e,args:t,errno:Qr,errMsg:`parameter error: ${n}`,success:!1}),!1)}function Mc(e,t){var r=vt(e,t);if(r)throw new Error(`parameter error: ${r}`)}function Rc(e,t={},r,n){var i=Ve(r);Oc({name:e,args:t,errno:i?r:void 0,errMsg:i?void 0:r,errCode:i?void 0:n,success:!1})}function Dc({name:e,args:t={},errMsg:r="",res:n={}}){t=t||{};var i=`${e}:${r}`,a=C.surroundThirdByTryCatch(t.complete||yt,`at api ${e} complete callback function`);n.errMsg=i,a(n)}function Oc({name:e,args:t={},success:r=!0,errno:n,errMsg:i="",errCode:a,res:o={}}){t=t||{};var s=C.surroundThirdByTryCatch((r?t.success:t.fail)||yt,`at api ${e} ${r?"success":"fail"} callback function`),c=C.surroundThirdByTryCatch(t.complete||yt,`at api ${e} complete callback function`);Ve(n)?(o.errno=n,o.errMsg=`${e}:fail${i&&":"!==i[0]?" ":""}${i||""}`):(o.errMsg=r?`${e}:ok`:`${e}:fail ${i}`,Ve(a)&&(o.errCode=a)),s(o),c(o)}var Lc=({success:e,fail:t,complete:r}={},n)=>{var i=e=>{"function"==typeof t&&(n?C.surroundThirdByTryCatch(t,`at api ${n} fail callback function`)(e):t(e)),"function"==typeof r&&(n?C.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&n&&(t.errMsg=`${n}:ok`),"function"==typeof e&&(n?C.surroundThirdByTryCatch(e,`at api ${n} success callback function`)(t):e(t)),"function"==typeof r&&(n?C.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(t):r(t))},fail:i,failWithMsg:({code:e,msg:t,errno:r,name:a}={})=>{var o={};"number"==typeof r&&r>0?(o.errno=r,o.errMsg=`${a||n}:fail`):(o.errMsg=`${a||n}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),i(o)}}},Nc=(()=>Object.assign)();function Bc(e,t,r){var n=r.value,i=surroundByPromiseFactory(Vc(t,n));return r.value=function(){return i.apply(this,arguments)},r}var Fc=Symbol("ErrorInfosSymbol"),Wc=(()=>class extends Error{constructor(e,t={}){super(e),this[Fc]=t}})(),jc=e=>(t={},...r)=>new Promise(((n,i)=>e(Nc({},t,{success:n,fail:e=>{var{errMsg:t}=e,r=Nc({},e);delete r.errMsg;var n=new Error(t.replace(/^\w+:fail ?/,""));Nc(n,r),n[Fc]=r,i(n)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),n=Nc({},e);delete n.errMsg,Nc(r,n),r[Fc]=n,r._complete_hook=!0,i(r)}}}),...r)));function Vc(e,t){return(r={},...n)=>{var i={success:r.success,fail:r.fail,complete:r.complete};delete(r=Nc({},r)).success,delete r.fail,delete r.complete,t(r,...n).then((t=>Oc({name:e,args:i,success:!0,res:t})),(t=>{t._complete_hook?Dc({name:e,args:i,errMsg:t.message,res:t[Fc]||{}}):Oc({name:e,args:i,success:!1,errMsg:t.message,res:t[Fc]||{}})}))}}var Uc=(e,t)=>At(Vc(e,t)),$c=1024,zc={FORE_GROUND:0,BACK_GROUND:1,LOCK:2},qc=null,Hc=null,Gc=new Nt,Kc,Jc=e=>{Kc=e,Gc.emit("__virtualDOM__")},Xc=Gc.on.bind(Gc,"__virtualDOM__"),Yc,Qc=e=>Yc=e,Zc,el=e=>{Zc=e,Gc.emit("__webnode__")},tl=Gc.on.bind(Gc,"__webnode__"),rl,nl=e=>rl=e,il,al=e=>il=e,ol=null,sl=void 0,cl=new Promise((e=>{ol=e})),ll={lastRoute:"",lastOpenType:"",query:{},runningStatus:"active",navigatorLock:!1,openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:zc.FORE_GROUND,navigationBarTitleMap:{},currentNetworkType:"",get currentWebviewId(){return sl},set currentWebviewId(e){sl=e,ol&&(ol(null),ol=null)},currentWebviewIdPromise:cl,getWebviewIds:()=>Yc.getGlobalWebviewIds()},ul=ll,dl={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},pl={OK:1,BLOCK:2,NO_BLOCK:3},hl={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},fl="该功能暂时无法使用",gl=v.createLogger("BanForPage"),vl=!1,ml=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),yl=[];function bl(e){if(!e)return-1;var t=-1;try{t=yl.findIndex((t=>je(t.path_rule)&&new RegExp(t.path_rule).test(e)))}catch(e){gl.log(`[getBanRuleIndexByPath] error: ${e.message}`)}return gl.log(`[getBanRuleIndexByPath] path="${e}", index=${t}`),t}function _l(e,t,r){for(var n=-1,i=0;i<yl.length;i++){var a=yl[i];if((!je(a.path_rule)||!a.path_rule||new RegExp(a.path_rule).test(t))&&(!je(a.title_rule)||!a.title_rule||new RegExp(a.title_rule).test(r))){n=i;break}}return gl.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}function wl(e,t){var r,n,i=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!i)return gl.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(gl.log("[checkAPIAvailableForPageByRule], found APIItem:",i),i.state===dl.OK)r=!1;else if(i.state===dl.BLOCK)r=!0;else if(i.state===dl.BLOCK_WITH_TOAST&&(r=!0,1===e.is_valid)){var a=i.toast_wording||fl;bu("showToast",{title:a,icon:"none"})}return n=r?e.is_valid?pl.BLOCK:pl.NO_BLOCK:pl.OK,kl(t,n,hl.API,t),1!==e.is_valid||!r}function Il(e,t,r){var n=_l(e,t,r);return-1===n?(kl(e,pl.OK,hl.API,e),!0):wl(yl[n],e)}function Sl(e){var t=Object.keys(ul.query).reduce(((e,t)=>[...e,`${t}=${ul.query[t]}`]),[]).join("&");return Il(e,ul.lastRoute+(t?`?${t}`:""),ul.navigationBarTitleMap[ul.lastRoute]||"")}function kl(e,t,r,n="",i=""){if(gl.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${n}, needReport=${vl}`),vl){var{appLaunchInfo:a}=z,o=Object.keys(ul.query).map((e=>`${e}=${ul.query[e]}`)).join("&"),s={session_id:a.sessionid||a.sessionId,cur_path:ul.lastRoute+(o?`?${o}`:""),title:ul.navigationBarTitleMap[ul.lastRoute],check_scene:r,block_status:t,extra_info:n,launch_scene:a.scene,launch_path:a.path,target_path:i};gl.log("[reportAPIBanForPage], reqData:",s),Xu({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){gl.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}z.onReady((()=>{if(!de)try{var{do_report:e,navigate_ban_rule_list:t}=z.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;yl=t,vl=1===e,ml=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),ml))}catch(e){gl.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var Cl=a.prototype.call.bind(Array.prototype.push),El=a.prototype.call.bind(Array.prototype.forEach),Al=["startPullDownRefresh"],Tl=[],Pl={appRoute:!1,appRouteDone:!1},xl=()=>{El(Tl,(e=>{var{name:t,args:r,option:n}=e;fu(t,r,n)})),Tl=[]},Ml=(e,t,r)=>{var{appRoute:n,appRouteDone:i}=Pl;!n&&i?fu(e,t,r):Cl(Tl,{name:e,args:t,option:r})},Rl=void 0!==r&&r?r.version:"unknown",Dl=void 0!==r&&r?r.updateTime:"unknown";"string"==typeof Rl&&(Rl=Rl.replace(" ","")),"string"==typeof Dl&&(Dl=Dl.replace(" ","-"));var Ol=()=>Rl,Ll=()=>Dl;function Nl(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}function Bl(e,t=!0){var r=Fe(e);switch(r){case"Number":case"Boolean":return e;case"String":return Nl(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${Bl(e.message)}|${Bl(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${Bl(t)}=${Bl(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;case"Array":var n=[];return t?(e.forEach((e=>n.push(Bl(e,"Array"!==Fe(e))))),n.join(";")):`[${r}]`;default:return`[${r}]`}}var Fl=(()=>{var e={};return z.onReady((()=>{Object.assign(e,z.appLaunchInfo),Kt("onAppEnterForeground",(t=>{Object.assign(e,t)}))})),e})();function Wl(){if(void 0===Yc)return"";var e=Yc.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}var jl=(()=>Array.prototype.map)(),Vl=a.prototype.call.bind(jl),Ul=(()=>Array.prototype.join)(),$l=a.prototype.call.bind(Ul);function zl(e,t,r){var n=t.url||"",i=$l(Vl([z.appType+1e3,e,Wl(),Fl.scene,encodeURIComponent(Fl.scene_note||Fl.sceneNote),Bl(t),r,0,Ol(),Ll(),Fl.sessionid||Fl.sessionId,n],Nl(1024)),",");E.reportKeyValue({key:"OpenUrl",value:i})}var ql=(()=>Object.create)(),Hl=(()=>Object.assign)(),Gl=(()=>Object.keys)(),Kl=(()=>Array.prototype.reduce)(),Jl=Array.prototype.includes.bind(Al),Xl=a.prototype.call.bind(Kl),Yl=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"],Ql=e=>ke||pe&&Yl.includes(e),Zl;function eu(e){void 0===Zl&&(Zl=e)}function tu(e,t,r,n,i){var a=function(){"function"==typeof e.success&&e.success(r),"function"==typeof n.afterSuccess&&n.afterSuccess(r)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(r,a):(n.beforeSuccess(r),a()):a(),"function"==typeof Zl&&Zl(t,i)}function ru(e,t,r,n){var i=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(i,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}function nu(e,t,r,n){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof n.fail&&n.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),et(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||E.reportIDKey({key:`${t}_fail`})}function iu(e,t){return Xl(Gl(e),((r,n)=>("function"==typeof e[n]&&(r[n]=C.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),r)),{})}function au(e,t){return Xl(Gl(e),((r,n)=>("function"==typeof e[n]&&(r[n]=It(e[n],`at api ${t} ${n} callback function`),r[n]._argumentsLength=e[n].length),r)),{})}function ou(e,t,r,n,i){e.errMsg=e.errMsg||`${t}:ok`;var a=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),a?tu(r,t,e,n,i):o?ru(e,t,r,n):s&&nu(n,t,e,r,t),"function"==typeof r.complete&&r.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),Pr(t,a,s,o,e.errMsg)}function su(e,t,r,n){var i;return i=r.isThird?iu(r,t):iu(e,t),e=>{ou(e,t,i,r,n)}}var cu=(()=>String.prototype.split)(),lu=(()=>String.prototype.startsWith)(),uu=a.prototype.call.bind(cu),du=e=>uu(e,"/",1)[0],pu=a.prototype.call.bind(lu);function hu(e){return(t,r={},n={},i="/")=>{Xe(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),"openUrl"!==t&&"private_openUrl"!==t||zl(t,r,Date.now()),n=au(n,t),Xe(r)&&(r=Hl(ql(null),r));var a=su(r,t,n,i);E.reportIDKey({key:t});var o={keepOriginalParams:Ql(t)};if(!e&&"splashad"!==h.env.workerType){if(Re()&&ml.has(t)&&!Sl(t))return void a({errMsg:`${t}:fail API has been banned`});if(Xe(r)&&(delete r.pluginId,delete r.permissionBytes),"string"==typeof i&&pu(i,"wx")){var s=du(i);o.appId=s}}_r(t,r,a,o)}}var fu=hu(!1),gu=(e,t,r)=>{Jl(e)?Ml(e,t,r):fu(e,t,r)},vu=(e,t,r)=>jc((t=>gu(e,t,r)))(t),mu=e=>e?(t,r,n)=>{fu(t,r,n,e)}:gu,yu=hu(!0),bu=(e,t,r)=>{yu(e,t,r)};Q.invoke=gu;var _u=.05;function wu({WXDataApiName:e,argument:t,isSuccess:r,invokeTime:n,costTime:i,result:a,errMsg:o,isConfirm:s,queueLength:c,wxdataQueueTimestamp:l,wxdataDequeueTimestamp:u,beginCGITimestamp:d,CGICallbackTimestamp:p,beginCGITimestampAfterConfirm:h,CGICallbackTimestampAfterConfirm:f,wxlibCallbackTimestamp:g,requestInQueue:v,requestingCount:m,cost1:y,cost2:b,cost3:_,cost4:w,cost5:I,cost6:S}){Math.random()<_u&&setTimeout((()=>{var k=ul.currentNetworkType,C=z.appType+1e3,A=z.appLaunchInfo&&void 0!==z.appLaunchInfo.scene?z.appLaunchInfo.scene:0,T=[e,Bl(JSON.stringify(t)),r?1:0,n,i,k,Bl(a),C,A,Ol(),Ll(),o&&Bl(o)||"",s?1:0,c,y,b,_,w,I,S,0,v?1:0,m,n,l,u,d,p,h,f,g].map(Nl(1024)).join(",");E.reportKeyValue({key:"WeAppOperateWXData",value:T})}),0)}var Iu=0,Su=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"],ku=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo","webapi_getuserprofile","webapi_getiapbuyinfo","jsapi_querysettlementmark","webapi_createiapbuygamecoinorder","wxaapi_midascouponsrollback","webapi_closeiapbuyorder","webapi_createiapbuygameitemorder","wxaapi_midasgetcoupons","webapi_queryiapcoupons"],Cu=["qbase_commapi","webapi_botdemo"],Eu=(e={},t={},...r)=>{var n=Object.assign({},e);n._isFromBaseOperateWXData=!0;var i=t.beforeAll,a=t.beforeSuccess,o=t.beforeFail,s=n.data&&n.data.api_name;Su.includes(s)?n.requestInQueue=!0:n.requestInQueue=!1,ku.includes(s)?n.isImportant=!0:n.isImportant=!1,Cu.includes(n.data&&n.data.api_name)&&(n.keepAlive=!0);var c={isSuccess:void 0,WXDataApiName:s,argument:n,invokeTime:Date.now(),requestInQueue:n.requestInQueue,requestingCount:++Iu};gu("operateWXData",n,{beforeAll(e){var r=Date.now();Iu--,c.costTime=r-c.invokeTime;try{if(e&&e.data&&e.data.data?c.result=JSON.stringify(e.data):c.result=e.data,e.clientInfo&&"object"==typeof e.clientInfo){var n=e.clientInfo;delete e.clientInfo,Object.keys(n).forEach((e=>{c[e]=n[e]})),c.cost1=n.wxdataQueueTimestamp-c.invokeTime,c.cost2=n.wxdataDequeueTimestamp-n.wxdataQueueTimestamp,c.cost3=n.beginCGITimestamp-n.wxdataDequeueTimestamp,c.cost4=n.CGICallbackTimestamp-n.beginCGITimestamp,c.cost5=n.wxlibCallbackTimestamp-n.CGICallbackTimestamp,c.cost6=r-n.wxlibCallbackTimestamp}}catch(e){v.error(e)}"function"==typeof i&&i.call(t,e)},beforeSuccess(e){c.isSuccess=!0,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=c),"function"==typeof a&&a.call(t,e),wu(c)},beforeFail(e){c.isSuccess=!1,c.errMsg=e.errMsg,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=c),"function"==typeof o&&o.call(t,e),wu(c)}},...r)};function Au(e,t,r){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?E.thirdErrorReport({error:e,extend:t}):E.errorReport({key:r,error:e,extend:t})}}}}function Tu(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var r;try{r=e[t]}catch(e){}"object"!=typeof r&&"function"!=typeof r||Object.isFrozen(r)||Tu(r)})),e}function Pu(e){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:0}function xu(e){var t="unknown";if(z.appContactInfo&&z.appContactInfo.operationInfo&&z.appContactInfo.operationInfo.jsonInfo&&z.appContactInfo.operationInfo.jsonInfo.apiAvailable){var{apiAvailable:r}=z.appContactInfo.operationInfo.jsonInfo;"number"==typeof r[e]&&(t=1===r[e])}return t}var Mu=(()=>Object.assign)();function Ru(e){return(t={})=>new Promise(((r,n)=>{e(Mu(t,{success:r,fail:n}))}))}var Du=/_+(\w)/g;function Ou(e){var t=e.replace(Du,(function(){return arguments[2]?arguments[1].toUpperCase():arguments[0]}));return t}var Lu=/(?=[A-Z])/;function Nu(e){return e.split(Lu).join("_").toLowerCase()}function Bu(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Fu(){return de?!z.urlCheck:!0===z.debug}function Wu(e,t){var r,n=String(e).split(".").map((e=>parseInt(e,10))),i=String(t).split(".").map((e=>parseInt(e,10))),a=Math.max(n.length,i.length);if(null!=e&&null!=t){if(0===e.length&&0===t.length)return 0;if(0===e.length)return-1;if(0===t.length)return 1;for(var o=0;o<a&&0===(r=s(n[o],i[o]));o++);return r}function s(e,t){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),e>t?1:e<t?-1:0}console.error("versionCompare()参数格式错误")}function ju(e){var t=!1;return function(...r){if(!t)return t=!0,e(...r)}}function Vu(e,t){return t.reduce(((t,r)=>($e(e[r])||(t[r]=e[r]),t)),{})}function Uu(){return z.appLaunchInfo&&"singlePage"===z.appLaunchInfo.mode}function $u(){var e;return 1==(1&((null===(e=z.appLaunchInfo)||void 0===e?void 0:e.secFlagForSinglePageMode)||0))}function zu(){var e,t=(null===(e=WXConfig.appLaunchInfo)||void 0===e?void 0:e.secFlagForSinglePageMode)||0;return 1==(1&t)&&!(2==(2&t))}var qu=function(){return z.isIsolateContext};function Hu(e){for(var t=e.length,r=0,n=0;n<t;++n)r=r<<8|e[n];return r}function Gu(e,t){var r=function(e){if("string"==typeof e){for(var t=e.split(".").map((e=>parseInt(e,10)));t.length<4;)t.push(0);return Hu(t.slice(0,4))}return"number"==typeof e?268435455&e:e};return(e=r(e))>(t=r(t))?1:e<t?-1:0}var Ku=(()=>JSON.parse)(),Ju=e=>({apiName:t,reqData:r,sdkApiName:n,pluginId:i,success:a,fail:o,complete:s,fromComponent:c=!1,withCredentials:l=!1,showConfirm:u=!1}={})=>{if(xc("operateWXData",{apiName:t,success:a,fail:o,complete:s},{apiName:""})){var d={success:a,fail:o,complete:s};n=n||"operateWXData";var p={api_name:t,data:r||{},operate_directly:e};"string"==typeof i&&(p.plugin_appid=i),!0===c&&(p.from_component=!0),!0===l&&(p.with_credentials=!0),!0===u&&(p.show_confirm=!0),Eu({data:p,success(t){if("string"==typeof t.data)try{t.data=Ku(t.data)}catch(e){return void Rc(n,d,`json parse error, json="${t.data}"`)}var{data:r}=t;delete t.data;var{data:i,encryptedData:o,iv:c,cloud_id:l,err_no:u,signature:p}=r;if(e)void 0!==i&&(t.rawData=i),t.respData=r;else if("string"==typeof i)try{t.data=Ku(i)}catch(e){return void Rc(n,d,`json parse error, json="${i}"`)}else t.data={};p&&(t.signature=p),o&&(t.encryptedData=o,t.iv=c,l&&(t.cloudID=l)),"number"==typeof u&&0!==u?Rc(n,d,u):("function"==typeof a&&a(t),"function"==typeof s&&s(t))},fail(e){"function"==typeof o&&o(e),"function"==typeof s&&s(e)}},{beforeAll(e){"operateWXData"!==n&&(e.errMsg=e.errMsg.replace("operateWXData",n))}})}},Xu=Ju(!1),Yu=Ru(Xu),Qu=Ju(!0),Zu=(()=>Object.assign)();function ed(e,t,r=(()=>{}),n=(()=>{})){return(i={})=>{var{success:a,fail:o}=Lc(i,e);Xu({apiName:t,reqData:r(i)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,Zu(e,e.rawDataObject),n(e),delete e.rawDataObject,a(e)},fail:o})}}var td={invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,isBluetoothDevicePaired:null,openBluetoothAdapter:null,openBluetoothAdapterBackground:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,startMonitoringBluetoothDevice:null,stopMonitoringBluetoothDevice:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,getMonitoredBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,setBluetoothBackgroundMode:null,getBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onMonitoredBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,onBLEMTUChange:null,offBLEMTUChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offMonitoredBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onWifiConnectedWithPartialInfo:null,offGetWifiList:null,offWifiConnected:null,offWifiConnectedWithPartialInfo:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,requestSubscribeDeviceMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null,publishWeChatState:null,chooseLicensePlate:null,openSystemBluetoothSetting:null,openAppAuthorizeSetting:null,getSystemSetting:null,getAppAuthorizeSetting:null,getDeviceInfo:null,getWindowInfo:null,getAppBaseInfo:null,openEmbeddedMiniProgram:null},rd=td,nd={invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onThemeChange:10,offThemeChange:10,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10,publishWeChatState:20,chooseLicensePlate:20,openSystemBluetoothSetting:30,openAppAuthorizeSetting:30,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,openEmbeddedMiniProgram:30},id=nd,ad={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,requestSubscribeDeviceMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,isBluetoothDevicePaired:1,openBluetoothAdapter:1,openBluetoothAdapterBackground:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,startMonitoringBluetoothDevice:1,stopMonitoringBluetoothDevice:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,getMonitoredBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,setBluetoothBackgroundMode:1,getBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onMonitoredBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,onBLEMTUChange:3,offBLEMTUChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offMonitoredBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onWifiConnectedWithPartialInfo:3,offGetWifiList:3,offWifiConnected:3,offWifiConnectedWithPartialInfo:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1,publishWeChatState:1,chooseLicensePlate:1,openSystemBluetoothSetting:1,openAppAuthorizeSetting:1,getSystemSetting:1,getAppAuthorizeSetting:1,getDeviceInfo:1,getWindowInfo:1,getAppBaseInfo:1,openEmbeddedMiniProgram:1},od=ad,sd={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,addToDesktop:50,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:40,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,isBluetoothDevicePaired:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,requestSubscribeDeviceMessage:40,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:30,openChannelsActivity:30,openChannelsUserProfile:30,openChannelsLiveCollection:30,openChannelsEvent:30,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40,publishWeChatState:40,openCustomerServiceChat:40,chooseLicensePlate:40,openSystemBluetoothSetting:40,openAppAuthorizeSetting:40,getSystemSetting:0,getAppAuthorizeSetting:0,getDeviceInfo:0,getWindowInfo:0,getAppBaseInfo:0,openEmbeddedMiniProgram:0},cd=sd,ld={invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:2,reLaunch:1,navigateTo:2,switchTab:2,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10},ud=ld,dd={invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10,quicklyAddBrandContact:1},pd=dd,hd={openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,onBluetoothDeviceFound:10,onBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBluetoothAdapterStateChange:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,getConnectedBluetoothDevices:10,getBluetoothDevices:10,getBluetoothAdapterState:10,writeBLECharacteristicValue:10,setBLEMTU:10,readBLECharacteristicValue:10,onBLEMTUChange:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBLEMTUChange:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,notifyBLECharacteristicValueChange:10,getBLEMTU:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,createBLEConnection:10,closeBLEConnection:10,setBluetoothBackgroundMode:10,getMonitoredBluetoothDevices:10,stopMonitoringBluetoothDevice:10,onMonitoredBluetoothDeviceFound:10,setStorageSync:10,setStorage:10,removeStorageSync:10,removeStorage:10,getStorageSync:10,getStorage:10,getStorageInfoSync:10,getStorageInfo:10,clearStorageSync:10,clearStorage:10,request:10,login:10,getSystemInfo:10,getSystemInfoSync:10,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,onAppShow:10,onAppHide:10},fd=Object.create(null);Object.assign(fd,hd);var gd=fd,vd=Object.create(null);Object.assign(vd,{sample:rd,ui:id,log:od,tap:cd,singlePage:ud,thirdApp:pd,background:gd});var md=(e,t)=>vd[t][e],yd=(e,t)=>{var r=vd[e],n=[];return Object.entries(r).forEach((([e,r])=>{r===t&&n.push(e)})),n},bd=!1;function _d(e){bd="tap"===e}function wd(){setTimeout((()=>{bd=!1}),0)}function Id(){return Te()?bd:bd||Kc.checkTapMark()}function Sd(e){var t=md(e,"thirdApp");return 0!==t&&1!==t||!Ee()||1===t&&Id()&&gu("showToast",{icon:"",title:"暂不支持当前功能",duration:2500}),!0}class kd extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class Cd extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}function Ed(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}function Ad(e,t){for(var r in t)e[r]=t[r];return e}var Td=Object.prototype.hasOwnProperty;function Pd(e,t){return Td.call(e,t)}function xd(e,t,r){!1!==Xe(e)&&t!==r&&Pd(e,t)&&(e[r]=e[t],delete e[t])}function Md(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}function Rd(e){if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t}function Dd(e){var t={protocol:/^(.+):\/\//,host:/:\/\/(.+?)[?#\s/]/,path:/\w(\/.*?)[?#\s]/,query:/\?(.+?)[#/\s]/,hash:/#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((r=>{var n=t[r];t[r]="query"===r?n.exec(e)&&n.exec(e)[1].split("&").reduce(((e,t)=>{var r=t.split("=");return e[r[0]]=r[1],e}),{}):n.exec(e)&&n.exec(e)[1]})),t}var Od=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function Ld(e,t=!1){if("object"!=typeof e)return e;var r=[];for(var n in e)if(Pd(e,n))if(t)try{r.push(`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`)}catch(t){r.push(`${n}=${e[n]}`)}else r.push(`${n}=${e[n]}`);return r.join("&")}function Nd(e){var t={};if(e.indexOf("?")>-1){var r=e.indexOf("?")+1,n=e.substring(r);if(n.indexOf("#")>-1&&(n=n.substring(0,n.indexOf("#"))),!n)return t;for(var i=n.split("&"),a=0;a<i.length;a++){var o=i[a].split("=");t[o[0]]=o[1]}}return t}function Bd(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&Object.keys(t).length>0){var r=e.split("?"),n=r[0],i=(r[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),a=Object.keys(t).reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{});return n+"?"+Ld(Ed(i,a))}return e}function Fd(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function Wd(e){if("string"==typeof e){var t=e.split("?"),r=t[0],n=(t[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),i=[];for(var a in n)Pd(n,a)&&i.push(`${a}=${encodeURIComponent(n[a])}`);return i.length>0?`${r}?${i.join("&")}`:e}return e}function jd(e){if(!de||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),r=t[1]||"",n=r.length>0?"&":"";e=`${t[0]}?${r}${n}devtools_ignore=true`}return e}var Vd=/^[-+a-zA-Z0-9]+:\/\//,Ud=/(^|\/)__[-+a-zA-Z0-9]+__\//;function $d(e,t){return C.wrapSystemFunction("appServiceSDKScriptError",t,e)}function zd(e,t,r=!0){if(v.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${r}`),r&&(t=Rd(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return zd(e,t.substr(2),!1);var n,i,a=t.split("/");for(n=0,i=a.length;n<i&&".."===a[n];n++);a.splice(0,n);var o=e.length>0?e.split("/"):[];o.splice(o.length-n-1,n+1);var s=o.concat(a).join("/");return v.info(`[getRealRoute] finalRoute=${s}`),s}function qd(e){var t=e.match(Vd);if(!t)return e;var r=t[0];if("plugin://"===r){var n=r.length,i=e.indexOf("/",n);if(i>=0){var a=e.slice(n,i),o=z.plugins&&z.plugins[a]?z.plugins[a].provider:a;e=e.slice(0,n)+o+e.slice(i)}var s=e.indexOf("?");s<0&&(s=e.length);var c=e.slice(0,s),l=rl.Component._list[c];if(!l)throw new kd(`Page "${c}" is not found`);e=l.is+e.slice(s)}else if("plugin-private://"===r){var u=e.indexOf("?");u<0&&(u=e.length);var d=e.slice(0,u);e="/"+Yc.convertComponentAliasToRoute(d)+e.slice(u)}else{if("wx://"!==r)throw new kd(`Unknown URL protocol "${r}"`);e="/__wx__/"+e.slice(5)}return e}function Hd(e,t=""){return t=t.replace(/^\//,""),Te()?`__plugin__/${e}/${t}`:qd(`plugin-private://${e}/${t}`)}function Gd(e,t,r=!0){for(;Vd.test(t);)t=qd(t);var n=zd(e,t,r);return v.info(`[getRealRouteWithProtocol] lastRoute=${e}, relativeRoute=${t}, ret=${n}`),n}function Kd(e){var t=e.match(Vd),r=e.match(Ud),n="";if(t){var i=t[0];if("plugin://"===i){var a=i.length,o=e.indexOf("/",a);if(o>=0){var s=e.slice(a,o);n=z.plugins&&z.plugins[s]?z.plugins[s].provider:s}}else if("plugin-private://"===i){var c=i.length,l=e.indexOf("/",c);if(l>=0)n=e.slice(c,l)}else"wx://"===i&&(n="//")}if(r){var u=r[0];if(u.endsWith("__plugin__/")){var d=e.indexOf(u)+u.length,p=e.indexOf("/",d);if(p>=0)n=e.slice(d,p)}else u.endsWith("__wx__/")&&(n="//")}return n}function Jd(e,t){var r=Kd(t);return!r||Kd(Kc.convertRouteToComponentAlias(e))===r}function Xd(e){var t=e.match(Vd);return t?t[0]:null}function Yd(e,t){var r=new FileReader;r.onload=function(){t(this.result)},r.readAsArrayBuffer(e)}function Qd(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function Zd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function ep(e={},t){"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}function tp(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.success&&e.success(r),"function"==typeof e.complete&&e.complete(r)}function rp(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}var np=null;function ip(){var e;return null===np?!(null===(e=z.appLaunchInfo)||void 0===e||!e.inBackground):np}function ap(e){np=e}function op(){return np}var sp=c.asyncToGenerator,cp=l.n(sp),lp={};function up(e){lp=e}function dp(){return lp}function pp(e,t){var r=dp(),n=[r.scene||0,r.scene_note||r.sceneNote||"",e||0,t||Date.now()].map(encodeURIComponent).join(",");E.reportKeyValue({key:"ClickWechatAppPreviewPage",value:n})}var hp=!1;function fp(e){Uu()&&(hp=e)}function gp(){Uu()&&(pp(1),E.submit())}function vp(){gr("onSinglePageTap",(e=>{if(Uu()){var t=e.toast||hp;hp=!1,pp(t?3:2,e.ts)}}))}var mp=0,yp=[],bp=(e,t={},r,n)=>{var i=mp++;yp[i]=n,lr("invokeWebviewMethod",{name:e,args:t,callbackId:i},void 0===r?[ul.currentWebviewId]:r)};gr("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=yp[t];delete yp[t],r&&r(e)}));var _p=(e,t={},r={})=>{Xe(t)||(t={});var n=su(t=Object.assign({},t),e,r);bp(e,t,void 0,n)};function wp(e,t,r){var n=t.replace(/\.html\?.*|\.html$/,"");return!!Yc.hasPageRoute(n)||(Rc(e,r,`page "${Md(t)}" is not found`),!1)}function Ip(e,t,r){var n=void 0===t._relativePath?ul.lastRoute:t._relativePath;v.info(`[normalizeUrl] APIName=${e}, url=${t.url}, _relativePath=${t._relativePath}, Global.lastRoute=${ul.lastRoute}`);try{return Gd(n,t.url,!r)}catch(i){if(!(i instanceof kd))throw i;if(!r){if(!Jd(n,t.url))return t.url;Rc(e,t,i.message)}}return""}var Sp=Ut("AppPerfRouteNavigation");function kp(e,t,r){return!Jd(void 0===r._relativePath?ul.lastRoute:r._relativePath,t)||/^__wx__\//.test(t)||wp(e,t,r)}function Cp(e,t){var r=Ip(e,t,!0);if(!r)return!0;var n=bl(r),i=hl[Nu(e).toUpperCase()],a=!0,o="",s=pl.OK;if(n>-1){var c=yl[n];(o=c.redirect_url)&&1===c.is_valid?(Rc(e,t,"url has been banned"),bp("openUrl",{url:o}),s=pl.BLOCK,a=!1):o&&1!==c.is_valid&&(s=pl.NO_BLOCK)}return kl(e,s,i,o,r),a}var Ep=!1;function Ap(e,t){return!Ep||(Rc(e,t,"current operation was banned."),!1)}function Tp(e=0){Ep=!0,setTimeout((()=>Ep=!1),e)}var Pp=(e={})=>{if(Ap("navigateBack",e=Object.assign({},e))){var t=e._webviewId;if(void 0!==t){e.delta=void 0;var r=Yc.getPageMetaByWebviewId(t);if(r){var n=r.framesetViewId;e.viewId=n}}if("number"!=typeof e.delta?e.delta=1:(e.delta=parseInt(e.delta,10),e.delta<1&&(e.delta=1)),"function"==typeof Yc.getCurrentPagesByDomain)if(Yc.getCurrentPagesByDomain("").length<=1)return void Rc("navigateBack",e,"cannot navigate back at first page.");e.singlePageData={},gu("navigateBack",e,{beforeSuccess(){T.traceRoute("navigateBack")},afterFail(){T.traceRoute("navigateBack")}}),Sp.emit({type:"navigateBack",start:Date.now()})}},xp={};class Mp{constructor(){this.listener={},this.emitCache={}}emit(e,...t){if(!this.listener[e])return this.emitCache[e]||(this.emitCache[e]=[]),void this.emitCache[e].push(t);(()=>{for(var r of this.listener[e])r.fn.call(r.fn,...t);this.listener[e]=this.listener[e].filter((e=>"once"!==e.type))}).call(this)}_clearCache(e){if(this.emitCache[e])for(;this.emitCache[e].length>0;)this.emit(e,...this.emitCache[e].shift())}on(e,t){var r=C.surroundThirdByTryCatch(t,`at on ${e} callback function`);this._addListener(e,"on",r),this._clearCache(e)}once(e,t){var r=C.surroundThirdByTryCatch(t,`at once ${e} callback function`);this._addListener(e,"once",r),this._clearCache(e)}off(e,t){if(this.listener[e])if(t){var r=t.toString();for(var n in this.listener[e])for(var i=0;!(i>=this.listener[e].length);)r===this.listener[e][i].fn.toString()&&(this.listener[e].splice(i,1),i--),i++}else this.listener[e]=[],delete this.listener[e]}_addListener(e,t,r){this.listener[e]||(this.listener[e]=[]),this.listener[e].push({fn:r,type:t})}}function Rp(){var e=xp;return xp={},e}function Dp(){var e=new Mp,t=new Mp,r={},n=["listener","emit","on","once","off","_addListener"];for(var i of n)"emit"===i?r[i]=t[i].bind(t):"function"==typeof e[i]?r[i]=e[i].bind(e):r[i]=e[i];for(var a of n)"emit"===a?xp[a]=e[a].bind(e):"function"==typeof t[a]?xp[a]=t[a].bind(t):xp[a]=t[a];return r}var Op=(e,t,...r)=>{if(void 0!==C)C.surroundThirdByTryCatch(e,t)(...r);else if(void 0!==D)D.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}};class Lp{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){et(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],n=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?Op(e,n,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}var Np=null,Bp=!1;function Fp(){if(!Bp)throw new Error("WeixinArrayBuffer not ready");return Np}h.onLoad((()=>{Np=l.g.WeixinArrayBuffer,Bp=!0}));var Wp=new Nt,jp={},Vp={emitter:Wp,puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:jp},Up=new WeakMap,$p=(e,t)=>Up.set(e,t),zp=e=>Up.get(e),qp=e=>Up.delete(e),Hp=e=>{for(var t in Vp.puidToPluginWX)if(Vp.puidToPluginWX[t]===e)return t},Gp=e=>{if(Te()){var t=zp(e);return t&&t.provider?t.provider:void 0}return Vp.pluginIDs[Hp(e)]},Kp=Object.keys,Jp=e=>{for(var t=Kp(Vp.pluginIDs),r=0;r<t.length;++r)if(Vp.pluginIDs[t[r]]===e)return Vp.puidToPluginWX[t[r]]},Xp=e=>Vp.pluginVersions[Hp(e)],Yp=e=>{var t=Gp(e);if(void 0!==t)return Vp.pluginInfos[t]},Qp=e=>{e.success(Vp.pluginInfos[e.pluginId])},Zp=e=>null==e?{}:{id:e.plugin_id,hostSign:{noncestr:e.noncestr||"",timestamp:e.timestamp||"",signature:e.host_sign||""},domains:{request:e.request_domain||[],uploadFile:e.upload_domain||[],downloadFile:e.download_domain||[]}},eh=(e,t,r)=>{var n=new RegExp(`^${t}:`),i={};return["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(i[t]=i=>{i.errMsg=i.errMsg.replace(n,r+":"),e[t](i)})})),Object.assign({},e,i)},th=e=>{var t=Number(e);return[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join(".")},rh=(e={})=>{xc("close",e,{fd:""})&&gu("close",e)},nh=({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if(gu("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},ih=32768,ah=16384,oh=61440;class sh{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=n}_checkModeProperty(e){return(this.mode&oh)===e}isDirectory(){return this._checkModeProperty(ah)}isFile(){return this._checkModeProperty(ih)}}var ch=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new sh(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new sh(e.stats[""]);else{var n=[],i=e.stats;pe&&(i=e,n.push({path:"/",stats:uh(t)})),Object.keys(i).forEach((e=>{if("errMsg"!==e){var t=i[e];""===e&&(e="/"),n.push({path:e,stats:new sh(t)}),delete i[e]}})),e.stats=n}},lh=(e={})=>{xc("stat",e,{path:""})&&gu("stat",e,{beforeSuccess:t=>{ch(t,e.path)}})},uh=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,n,i;if(gu("statSync",{path:e,recursive:t,success(t){ch(t,e),r=t.stats},fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}return r},dh=(e={})=>{xc("fstat",e,{fd:""})&&gu("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:n,lastModifiedTime:i}=e;n>1617e9&&(n=Math.floor(n/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),e.stats=new sh({mode:t,size:r,lastAccessedTime:n,lastModifiedTime:i}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},ph=({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,n;if(gu("fstatSync",{fd:e,fail(e){r=e.errMsg,n=e.errno},success(e){var{mode:r,size:n}=e,{lastAccessedTime:i,lastModifiedTime:a}=e;i>1617e9&&(i=Math.floor(i/1e3)),a>1617e9&&(a=Math.floor(a/1e3)),t=new sh({mode:r,size:n,lastAccessedTime:i,lastModifiedTime:a})}}),r){var i=new Error(r);throw i.errno=n,i}return t},hh=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],fh=(e={})=>{var t=Object.assign({},e);if(xc("write",t,{fd:""}))if(t.encoding&&-1===hh.indexOf(t.encoding))Rc("write",t,`invalid encoding "${t.encoding}"`);else{if(dt(t.data)){if(t.data.byteLength>10485760)return void Rc("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!je(t.data))return void Rc("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),gu("write",t)}},gh=({fd:e,data:t,offset:r,length:n,encoding:i,position:a}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(i&&-1===hh.indexOf(i))throw new Cd(`invalid encoding "${i}"`);if(dt(t)){if(t.byteLength>10485760)throw new Cd("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n<0)&&(n=t.byteLength-r)}else if(!je(t))throw new TypeError("data must be a string or ArrayBuffer");var o,s,c;if("number"!=typeof a&&(a=void 0),gu("writeSync",{fd:e,data:t,offset:r,length:n,encoding:i,position:a,fail(e){o=e.errMsg,c=e.errno},success(e){s={bytesWritten:e.bytesWritten}}}),o){var l=new Error(o);throw l.errno=c,l}return s},vh=(e={})=>{if(xc("read",e,{fd:""}))if(dt(e.arrayBuffer)){var t=Object.assign({},e),r=Fp();he&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),Ve(t.position)&&t.position<0?t.position=0:$e(t.position)||ze(t.position)?t.position=null:Ve(t.position)||(t.position=0);var n=Number(t.length);Number.isNaN(n)?t.length=0:t.length=n;var i=Number(t.offset);Number.isNaN(i)?t.offset=0:t.offset=i,gu("read",t,{beforeSuccess(t){t.arrayBuffer=e.arrayBuffer},afterAll(){he&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else Rc("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},mh=(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!dt(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var n=Object.assign({},e),i=Fp();he&&i&&i.trace&&(n.arrayBufferId=i.trace(n.arrayBuffer,"rw"),delete n.arrayBuffer),Ve(n.position)&&n.position<0?n.position=0:$e(n.position)||ze(n.position)?n.position=null:Ve(n.position)||(n.position=0);var a=Number(n.length);Number.isNaN(a)?n.length=0:n.length=a;var o,s,c,l=Number(n.offset);if(Number.isNaN(l)?n.offset=0:n.offset=l,gu("readSync",O()(O()({},n),{},{fail(e){s=e.errMsg,c=e.errno},success(e){o={bytesRead:e.bytesRead,arrayBuffer:r}}})),he&&i&&i.untrace&&i.untrace(n.arrayBufferId),s){var u=new Error(s);throw u.errno=c,u}return o},yh=(e={})=>{xc("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),gu("ftruncate",e))},bh=({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),gu("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},_h={close:rh,closeSync:nh,fstat:dh,fstatSync:ph,write:fh,writeSync:gh,read:vh,readSync:mh,ftruncate:yh,ftruncateSync:bh},wh=e=>{xc("saveFile",e,{tempFilePath:""})&&gu("saveFile",e)},Ih=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,n;if(gu("saveFileSync",{tempFilePath:e,filePath:t,success(e){n=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return n},Sh=e=>{xc("openDocument",e,{filePath:""})&&(e.showMenu=e.showMenu||!1,gu("openDocument",e))},kh=(e={})=>{gu("getSavedFileList",e)},Ch=(e={})=>{xc("getSavedFileInfo",e,{filePath:""})&&gu("getSavedFileInfo",e)},Eh=(e={})=>{xc("removeSavedFile",e,{filePath:""})&&gu("removeSavedFile",e)},Ah=(e={})=>{if(xc("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=vt(e,{digestAlgorithm:""});if(t)return void Rc("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void Rc("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}gu("getFileInfo",e,{})}},Th={};z.onReady((()=>{var e=Object.keys(Z).map((e=>Z[e]));gu("getPermissionBytes",{indexes:e,success(t){if(t.permissionBytes)for(var r=0;r<t.permissionBytes.length;r++){var n=e[r];Th[n]=1===t.permissionBytes[r]}},fail(e){}})}));var Ph=e=>{var t=Z[e];if("number"!=typeof t)return!1;if(!$e(Th[t]))return Th[t];var r=!1;return gu("getPermissionBytes",{indexes:[t],success(e){e.permissionBytes&&(r=1===e.permissionBytes[0],Th[t]=r)}}),r},xh=e=>{Oc({name:"checkPermission",args:e,success:!0,res:{hasPermission:Ph(e.apiName)}})},Mh=null,Rh=new Proxy({},{get(e,t,r){if(!Mh)throw new Error("NativeGlobal not ready");return Reflect.get(Mh,t,r)},set(e,t,r,n){if(!Mh)throw new Error("NativeGlobal not ready");return Reflect.set(Mh,t,r,n)}});function Dh(e){h.onLoad((()=>{e(Rh)}))}h.onLoad((()=>{Mh="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));var Oh=Rh,Lh=(e={})=>{if("[object Object]"===Object.prototype.toString.call(z.expt)){var t=z.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}gu("getABTestConfig",e)},Nh=(e={})=>{if(De()){if("[object Object]"===Object.prototype.toString.call(z.expt)){var t=z.expt[e.experimentId];if(void 0!==t&&"function"==typeof e.success)return void e.success({testConfig:t})}gu("getABTestConfig",e)}else Rc("getABTestConfig",e,"permission denied",1)},Bh=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","getBox2D","createSharedArrayBuffer","nv_constructor","nv_toString","createSelectorQuery"],Fh=[/^(get|set)Storage(Info)?(Sync)?$/,/^getFileSystemManager/,/^(get|set)ClipboardData$/,/^request$/,/^connectSocket/,/^connectWifi$/],Wh=[{match:/^connectSocket/,version:1},{match:/^request/,version:pe?3:1},{match:/^downloadFile/,version:pe?3:1}];function jh(e,t){Wh.push({match:e,version:t})}var Vh=e=>{var t=0;return Wh.forEach((({match:r,version:n})=>("string"==typeof r?e===r&&(t=n):r instanceof RegExp&&r.test(e)&&(t=n),!1))),t},Uh=!1;z.onReady((()=>{var e=Oh.fs;if(e&&e.FileReader){var t=!1,r=he?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";Lh({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(jh(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var n=Ph("bindingReadFile");Uh=t||n,v.info(`${Uh?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${n}`)}}));var $h=(e={})=>{if(xc("readFile",e,{filePath:""}))if($e(e.encoding)||je(e.encoding))if($e(e.position)||Ve(e.position))if($e(e.length)||Ve(e.length))if(Uh){var t,r=Oh.fs;e.workerId,(t=new r.FileReader).onerror=t=>Rc("readFile",e,t),t.onread=t=>Oc({name:"readFile",args:e,res:{data:t}});var n={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(n[t]=r)})),t.read(n)}else gu("readFile",e);else Rc("readFile",e,`invalid length: ${e.length}`);else Rc("readFile",e,`invalid position: ${e.position}`);else Rc("readFile",e,`invalid encoding: ${e.encoding}`)},zh=(e,t,r,n,i)=>{if(!e||!je(e))throw new Cd(`invalid filePath: ${e}`);if(!$e(t)&&!je(t))throw new Cd(`invalid encoding: ${t}`);if(!$e(r)&&!Ve(r))throw new Cd(`invalid position: ${r}`);if(!$e(n)&&!Ve(n))throw new Cd(`invalid length: ${n}`);if(Uh){var a=Oh.fs;try{return a.readFileSync(e,t)}catch(s){throw new Error(s)}}var o,s,c;if(gu("readFileSync",{filePath:e,encoding:t,position:r,length:n,success(e){o=e.data},fail(e){s=e.errMsg,c=e.errno}}),s){var l=new Error(s);throw l.errno=c,l}return o},qh=(e={})=>{xc("writeFile",e,{filePath:""})&&(e.encoding&&-1===hh.indexOf(e.encoding)?Rc("writeFile",e,`invalid encoding "${e.encoding}"`):gu("writeFile",e,{}))},Hh=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===hh.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,i;if(gu("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}},Gh=(e={})=>{xc("mkdir",e,{dirPath:""})&&gu("mkdir",e)},Kh=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,n;if(gu("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Jh=(e={})=>{xc("rmdir",e,{dirPath:""})&&gu("rmdir",e)},Xh=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,n;if(gu("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Yh=(e={})=>{(me||"wxfile://"!==e.dirPath)&&(!me||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?xc("readdir",e,{dirPath:""})&&gu("readdir",e):Rc("readdir",e,"path permission denied")},Qh=e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,n;if(gu("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}return t},Zh=(e={})=>{xc("access",e,{path:""})&&gu("access",e)},ef=e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if(gu("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},tf=(e={})=>{xc("unlink",e,{filePath:""})&&gu("unlink",e)},rf=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if(gu("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},nf=(e={})=>{xc("unzip",e,{zipFilePath:""})&&gu("unzip",Object.assign({},e,{targetDirectory:e.targetPath}))},af=(e={})=>{xc("copyFile",e,{srcPath:"",destPath:""})&&gu("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},of=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,n;if(gu("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},sf=(e={})=>{xc("rename",e,{oldPath:"",newPath:""})&&gu("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},cf=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,n;if(gu("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},lf=(e={})=>{xc("appendFile",e,{filePath:""})&&(e.encoding&&-1===hh.indexOf(e.encoding)?Rc("appendFile",e,`invalid encoding "${e.encoding}"`):gu("fs_appendFile",e,{}))},uf=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===hh.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,i;if(gu("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}},df="readZipEntry",pf=(e={})=>{xc(df,e,{filePath:""})&&($e(e.encoding)||-1!==hh.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?gu(df,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${df}:ok`:e.entries[t].errMsg=`${df}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):Rc(df,e,"invalid entries"):Rc(df,e,`invalid encoding "${e.encoding}"`))},hf=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],ff=(e={})=>{var t=Object.assign({},e);xc("open",e,{filePath:""})&&(void 0===e.flag||hf.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),gu("open",t)):Rc("open",e,`invalid flag "${e.flag}"`))},gf=(e={})=>{var t,r,n,{filePath:i}=e,{flag:a}=e;if(!i||"string"!=typeof i)throw new TypeError("filePath must be a string");if(void 0!==a&&!hf.includes(a))throw new Cd(`invalid flag: ${a}`);if(void 0===a&&(a="r"),gu("openSync",{filePath:i,flag:a,fail(e){r=e.errMsg,n=e.errno},success(e){t=e.fd}}),r){var o=new Error(r);throw o.errno=n,o}return t},vf=(e={})=>{xc("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),gu("truncate",e,{}))},mf=({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),gu("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},yf=!1,bf=(e={})=>{if(xc("readCompressedFile",e,{filePath:"",compressionAlgorithm:""}))if(yf){var t=new Oh.fs.FileReader;t.onerror=t=>Rc("readCompressedFile",e,t),t.onread=t=>Oc({name:"readCompressedFile",args:e,res:{data:t}}),t.readCompressedFile(e.filePath,e.compressionAlgorithm)}else gu("readCompressedFile",e)},_f=({filePath:e,compressionAlgorithm:t}={})=>{if(!je(e))throw new Cd(`invalid filePath: ${e}`);if(!je(t))throw new Cd(`invalid compressionAlgorithm: ${t}`);if(yf)try{return Oh.fs.readCompressedFileSync(e,t)}catch(n){throw new Error(n)}var r,n,i;if(gu("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}return r},wf={saveFile:wh,saveFileSync:Ih,getSavedFileList:kh,getSavedFileInfo:Ch,removeSavedFile:Eh,getFileInfo:Ah,readFile:$h,readFileSync:zh,writeFile:qh,writeFileSync:Hh,mkdir:Gh,mkdirSync:Kh,rmdir:Jh,rmdirSync:Xh,readdir:Yh,readdirSync:Qh,access:Zh,accessSync:ef,unlink:tf,unlinkSync:rf,stat:lh,statSync:uh,unzip:nf,copyFile:af,copyFileSync:of,rename:sf,renameSync:cf,appendFile:lf,appendFileSync:uf,readZipEntry:pf,open:ff,openSync:gf,truncate:vf,truncateSync:mf,readCompressedFile:bf,readCompressedFileSync:_f},If={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},Sf={openSync:!0,truncateSync:!0},kf="",Cf="",Ef="",Af="",Tf="",Pf="";z.onReady((()=>{try{kf=z.env.USER_DATA_PATH,Cf=z.env.OPEN_DATA_PATH,delete z.env.OPEN_DATA_PATH,Ef=kf+"/__plugins__",de?(Af="http://__wxprivate__",Tf="http://sdk",Pf="http://ad"):(Af="wxfile://__wxprivate__",Tf="wxfile://sdk",Pf="wxfile://ad")}catch(e){}}));var xf=()=>kf,Mf=()=>Cf,Rf=()=>Ef,Df=e=>`${Ef}/${e}`,Of=e=>`${Af}/${e}`,Lf=()=>Tf,Nf=()=>Pf,Bf=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),Ff=(e,t,r,n)=>{var i=xf(),a=Mf(),o=Rf();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||Uu()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!Bf.has(n)||(!e.startsWith(i)||e):"game"===t||"app"===t?!(e.startsWith(a)||e.startsWith(o)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(a)?e:!e.startsWith(i)||(!!e.startsWith(`${o}/${r}`)||e):e)},Wf=function(e,t,r,n){return(...i)=>{var a,o=t.endsWith("Sync"),s=!o||Sf[t]?i[0]:i,c=If[t].every((e=>{var i=Ff(s[e],r,n,t);return!0===i||(a=i,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||If[t].forEach((e=>{"string"!=typeof s[e]||s[e].match(/^[a-zA-Z0-9]+:\/\//)||(s[e]=Hd(n,s[e]))})),c)return e(...i);if(o){var l=new Error(`${t}:fail permission denied with path "${a}"`);throw l.errno=Ra,l}Oc({success:!1,name:t,args:s,errno:Ra,errMsg:`permission denied with path "${a}"`})}},jf=function(e,t,r,n){Object.keys(e).forEach((i=>{$e(If[i])||(ze(If[i])?t[i]=(...t)=>e[i](...t):t[i]=Wf(e[i],i,r,n))}))},Vf=function(e,t,r){Object.keys(e).forEach((n=>{var i=e[n];t[n]=(e={})=>{var{fd:t}=e;if(r.has(t))return i(Object.assign({},e,{fd:t}));if(n.endsWith("Sync"))throw new Error(`${n}:fail invalid fd`);Rc(n,e,"invalid fd")}}))},Uf=function(e,t){var r=e.open,n=e.openSync,i=e.close,a=e.closeSync;e.open=(e={})=>{var{success:n}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof n&&n(e)}}))},e.openSync=(e={})=>{var r=n(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:n}=e;i(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof n&&n(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;a({fd:r}),t.delete(r)}},$f=(e,t="")=>{var r={},n=new Set;return jf(wf,r,e,t),Vf(_h,r,n),Uf(r,n),r},zf=()=>$f("app"),qf=()=>$f("game"),Hf=()=>$f("opendata"),Gf=e=>$f("app-plugin",e),Kf=e=>$f("game-plugin",e),Jf=e=>$f("private-space-for-inner-plugin",e),Xf=new WeakMap,Yf=new WeakMap;class Qf{constructor(e={}){Yf.set(this,new Lp("AI",!0)),gu("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{Xf.set(this,e),Yf.get(this).emit("Load")},fail:e=>{setTimeout((()=>{Yf.get(this).emit("Error",e)}))}}))}onLoad(e){Yf.get(this).on("Load",e)}offLoad(e){Yf.get(this).off("Load",e)}onError(e){Yf.get(this).on("Error",e)}offError(e){Yf.get(this).off("Error",e)}run(e={}){var t=Fp(),r={input:{},sessionId:Xf.get(this)};for(var n in e){var i,a;null!==(i=e[n])&&void 0!==i&&i.data&&null!==(a=e[n])&&void 0!==a&&a.shape&&(r.input[n]={type:e[n].type,shape:e[n].shape,data:t.trace(e[n].data,"rw")})}return new Promise(((e,n)=>{gu("runInferenceSession",Object.assign(r,{success({output:r}){for(var n in r){var i;if("number"==typeof(null===(i=r[n])||void 0===i?void 0:i.data)){var a=r[n].data;r[n].data=t.getTraceBuffer(a),t.untrace(a)}}e(r)},fail:n}))}))}destroy(){gu("releaseInferenceSession",{sessionId:Xf.get(this)}),Yf.delete(this),Xf.delete(this)}}function Zf(e={}){return new Qf(e)}var eg=function(e={}){var t=Gp(this),{model:r}=e;if(r.startsWith(xf())){if(!r.startsWith(Df(t)))throw new Cd(`invalid model: ${r}`)}else r=Hd(t,r);return new Qf(Object.assign({},e,{model:r}))},tg=JSON.parse,rg=JSON.stringify,ng=!0,ig=(e,t,{timeout:r}={timeout:1e4})=>{if(!ng)return t;var n,i=null;return(a={})=>{var o,{success:s,fail:c}=Lc(a,e);null===i?(o=!1,i=new Promise(((n,i)=>{t(Object.assign({},a,{success:n,fail:i,complete:void 0})),setTimeout((()=>{i({errMsg:`${e}:fail time out`,errno:Lr})}),r)}))):o=!0,i.then((e=>{if(i=null,o){var t={};try{t=tg(n)}catch(e){v.error("constructCachedOptimizedApi parse error",e)}s(t)}else{try{n=rg(e)}catch(e){v.error("constructCachedOptimizedApi stringify error",e)}s(e)}})).catch((e=>{i=null,c(e)}))}},ag="",og=!1,sg=Ut("networkstatusChange"),cg=Ut("networkWeakChange"),lg=Ut("networkTypeReady"),ug=e=>{gu("getNetworkType",e)},dg=ug,pg=sg.onMethod,hg=sg.offMethod,fg=cg.onMethod,gg=cg.offMethod,vg=()=>ag,mg=lg.onMethod,yg=()=>og;"undefined"!=typeof IS_SDK_PACKAGE||(Tt("onNetworkStatusChange",((e={})=>{ag=e.networkType,ul.currentNetworkType=ag,sg.emit(e),lr("onNetworkStatusChange",e)})),Tt("onNetworkWeakChange",((e={})=>{cg.emit(e)}))),z.onReady((()=>{z.networkType&&(ag=z.networkType),dg({success(e){ag=e.networkType,ul.currentNetworkType=ag,og=e.hasSystemProxy,lg.emit(ag)}})}));var bg={query:{},scene:0,sceneNote:""},_g=0,wg=[],Ig=Math.random,Sg=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:wg,appType:E.getAppType()},null,2);gu("reportRealtimeAction",{actionData:e}),wg=[]},kg=e=>{var t="";return Object.keys(e).forEach(((r,n)=>{try{var i=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==n&&(t+="&"),t+=i}catch(e){}})),t},Cg=(e,t,r,n,i,a,o,s=0,c=0,l={},u=0,d={},p,h=!0,f)=>{t.length>1024&&(t=t.substring(0,1024));var g="",v="",m=0,y="";if(Te()?(v=kg(bg.query),m=bg.scene,y=bg.sceneNote):(m=ul.scene,y=ul.sceneNote),void 0!==Yc){var b=Yc.getCurrentPages();if(b&&b.length>0){var _=b[b.length-1];_&&(g=_.route,v=_.__displayReporter&&_.__displayReporter.showOptions&&_.__displayReporter.showOptions.query)}}!f&&i&&/超时|timeout/.test(i)&&(f=5);var w=JSON.stringify(d),I=[e,t,r,n,i,E.getAppType(),a,s,vg(),g,v,c,kg(l),m,y,p,f,u,w].map(encodeURIComponent).join(","),S=!1;if(n<5e3&&1==r?Ig()<.01&&(S=!0):S=!0,h||(S=!1),S){var k=[e,t,r,n,i,E.getAppType(),a,s,vg(),g,v,c,kg(l),m,y,f,u,w].map(encodeURIComponent).join(",");E.reportKeyValue({key:"NetworkAPI2",value:k})}E.reportKeyValue({key:"NetworkAPI",value:I}),E.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`}),wg.push([e,t,r,a||"",n,i,vg(),o?"1":"0",E.getAppType(),s].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),Date.now()-_g>=6e4&&(_g=Date.now(),setTimeout(Sg,6e4))};function Eg(e){return e?Array.isArray(e)?e:e.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]}class Ag{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new Ag((t=>t(e)))}static reject(e){return new Ag((()=>{throw e}))}}var Tg=e=>{if(ke)return!0;if(!pe)return!1;switch(e){case"Download":case"Request":return!0;default:return!1}};function Pg(){if(void 0===Yc)return"";var e=Yc.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function xg(){return 1e4*Date.now()+Math.round(9999*Math.random())}var Mg=Ru(lh),Rg=0,Dg=new WeakMap,Og=new WeakMap,Lg=new WeakMap,Ng=new WeakMap,Bg=new WeakMap,Fg=new WeakMap,Wg=new WeakMap,jg=new WeakMap,Vg=new WeakMap,Ug=new WeakMap,$g=new WeakMap,zg={},qg=new Lp("Network",!0),Hg=v.createLogger("NetworkTask"),Gg=new WeakMap;class Kg{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:n,beforeFail:i}){var a=Rg++;this.uniqueId=xg(),Dg.set(this,a),Lg.set(this,"waiting"),Ng.set(this,e),Bg.set(this,t),jg.set(this,r),Vg.set(this,n),et(i)&&Ug.set(this,i);var o,s,c=!1;(Tg(t)||(he||pe)&&e.forceCellularNetwork)&&(c=!0),$g.set(this,c);var l=new Ag(((e,t)=>{o=e,s=t}));Gg.set(this,{promise:l,resolve:o,reject:s});var u=()=>{tv.call(this)?(Wg.set(this,[Date.now()]),zg[t].taskQueue.push({id:a,item:this})):Xg.call(this)};et(e.customCheck)?e.customCheck(e,(r=>{r?Jg(t,e,r):u()})):u()}abort(){if(Hg.info(`[${Bg.get(this)}][${Dg.get(this)}]abort()`),"waiting"===Lg.get(this)){Hg.info(`[${Bg.get(this)}][${Dg.get(this)}] waiting=true`);var e=zg[Bg.get(this)].taskQueue.findIndex((e=>e.id===Dg.get(this)));e>-1&&(zg[Bg.get(this)].taskQueue.splice(e,1),Rc(zg[Bg.get(this)].functionName,Ng.get(this),"abort")),Lg.set(this,"done")}else{Gg.get(this).promise.then((()=>{gu(`operate${Bg.get(this)}Task`,{[`${Bg.get(this).toLowerCase()}TaskId`]:Og.get(this),operationType:"abort"})}))}}onProgressUpdate(e){Gg.get(this).promise.then((()=>{qg.on(`${Bg.get(this)}${Og.get(this)}progressUpdate`,e)}))}offProgressUpdate(e){Gg.get(this).promise.then((()=>{qg.off(`${Bg.get(this)}${Og.get(this)}progressUpdate`,e)}))}onHeadersReceived(e){Gg.get(this).promise.then((()=>{qg.on(`${Bg.get(this)}${Og.get(this)}headersReceived`,e)}))}offHeadersReceived(e){Gg.get(this).promise.then((()=>{qg.off(`${Bg.get(this)}${Og.get(this)}headersReceived`,e)}))}onChunkReceived(e){Gg.get(this).promise.then((()=>{qg.on(`${Bg.get(this)}${Og.get(this)}chunked`,e)}))}offChunkReceived(e){Gg.get(this).promise.then((()=>{qg.off(`${Bg.get(this)}${Og.get(this)}chunked`,e)}))}}function Jg(e,t,r){Oc({name:zg[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r})}function Xg(){var e=Ng.get(this),t=Bg.get(this),r=$g.get(this);Lg.set(this,"sending"),Fg.set(this,Date.now());var n=Yg.call(this);if(r){var i=Gg.get(this).promise;return Cg(zg[t].functionName,e.url,null,0,null,null,e.__skipDomainCheck__,null,null,{},null,{},this.uniqueId,!1),void i.then((()=>{Qg.call(this)})).catch((r=>{Jg(t,e,r)}))}n?Jg(t,e,n):Og.get(this)?Qg.call(this):Gg.get(this).promise.then((()=>{Qg.call(this)}));Cg(zg[t].functionName,e.url,null,0,null,null,e.__skipDomainCheck__,null,null,{},null,{},this.uniqueId,!1)}function Yg(){var e=Bg.get(this),t=Ng.get(this);zg[e].currentTaskCount++;var r,n=t.url,i=t.host,a=t.port;if(!!t.ip){var o,s=n;s.startsWith("http://")?(s=s.slice(7),o="http://"):s.startsWith("https://")&&(s=s.slice(8),o="https://");var c=s.indexOf(":");if(-1!==c){i=s.slice(0,c);var l=s.indexOf("/");-1===l?a=s.slice(c+1):(a=s.slice(c+1,l),n=o+(n=s.slice(0,c)+s.slice(l))),a=Number(a)}}var u={data:t.data,url:n,header:t.header,method:t.method,timeout:Ve(t.timeout)?t.timeout:0,enableHttp2:!!Ue(t.enableHttp2)&&t.enableHttp2,enableQuic:!!Ue(t.enableQuic)&&t.enableQuic,enableCache:!!Ue(t.enableCache)&&t.enableCache,enableProfile:!Ue(t.enableProfile)||t.enableProfile,ip:t.ip,port:a,forbidReuse:!!Ue(t.forbidReuse)&&t.forbidReuse,host:i,enableChunked:t.enableChunked,__skipDomainCheck__:t.__skipDomainCheck__,forceCellular:t.forceCellularNetwork,success:t=>{var r=t[`${e.toLowerCase()}TaskId`];Og.set(this,r),zg[e].taskIdMap[r]=this,(0,Gg.get(this).resolve)()},fail:n=>{zg[e].currentTaskCount--;var i=n[`${e.toLowerCase()}TaskId`];r=n.errMsg,Zg.call(this,{taskType:e,options:t,errMsg:r,success:!1}),(0,Gg.get(this).reject)(r),Hg.error(`[${e}][createTask][Fail] taskId=${i}`)},complete:()=>{Lg.set(this,"done")}},d=$g.get(this),p=`create${e}Task${d?"Async":""}`;return(he||pe)&&t.forceCellularNetwork&&(p="createCellularNetworkRequestTaskAsync"),gu(p,jg.get(this)(u)),r}function Qg(){var e=Og.get(this),t=Ng.get(this),r=Bg.get(this),n=zg[r].functionName;qg.on(`${r}${e}success`,(e=>{Vg.get(this).call(this,e),Oc({name:n,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),qg.on(`${r}${e}fail`,(e=>{var r=Ug.get(this),i=r&&r.call(this,e);if(i&&i.__retry__)v.info(`httpDns we retry url: ${t.url}`);else{i&&i.__changeError__&&(e=i.__changeError__);var a={name:n,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(a.errno=e.errno),Oc(a)}}))}function Zg({taskType:e,options:t,errMsg:r,success:n=!0,dataLength:i=0,statusCode:a="",responseDataLength:o=0,profile:s={},queueTime:c,uniqueId:l,errno:u}){var d=t.url,p=n?1:2,h=Date.now()-Fg.get(this),f=t.__skipDomainCheck__;h>=6e4&&Hg.error(`reportTask costTime too long: ${h}ms, taskId=${Og.get(this)}`),Cg(zg[e].functionName,d,p,h,r,a,f,i,o,s,c,{},l,!0,u)}function ev(e,t){var r=`${t.toLowerCase()}TaskId`,n=e[r],{state:i,header:a}=e;if(delete e.state,delete e[r],"chunked"!==i&&(e.cookies=a?Eg(a["Set-Cookie"]||a["set-cookie"]):[]),qg.emit(`${t}${n}${i}`,e),"success"===i||"fail"===i){var o=zg[t].taskIdMap[n],s=Ng.get(o);if(!o)return;if(zg[t].currentTaskCount-=1,zg[t].taskQueue.length>0){var c=zg[t].taskQueue.shift().item,l=Wg.get(c);if(l&&l[0]){var u=l[0];if(u>0){var d=Date.now()-u;Wg.set(c,[u,d])}}Xg.call(c)}var p=Promise.resolve(Pu(s.data));if("Upload"===t){var h=0;"object"==typeof s.formData&&null!==s.formData&&(h=JSON.stringify(s.formData).length),p=Mg({path:s.filePath}).then((e=>h+e.stats.size)).catch((()=>h))}var f=Promise.resolve(Pu(e.data));if("Download"===t){var g=e.dataLength;f="number"==typeof g?Promise.resolve(g):Mg({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([p,f]).then((([r,n])=>{var a=Wg.get(o);Zg.call(o,{taskType:t,options:s,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===i,dataLength:r,responseDataLength:n,profile:e.profile,queueTime:a&&a[1],uniqueId:o.uniqueId,errno:e.errno}),Wg.delete(o)})),rv.call(o)}}function tv(){var e=Bg.get(this);return zg[e].currentTaskCount>=zg[e].maxTaskCount}function rv(){var e=Bg.get(this),t=Og.get(this);delete zg[e].taskIdMap[t],qg.removeAllListeners(`${e}${t}success`),qg.removeAllListeners(`${e}${t}fail`),qg.removeAllListeners(`${e}${t}complete`)}function nv(e,t){var r=zg[e]?zg[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};Tt(`on${e}TaskStateChange`,(t=>{ev.call(this,t,e)})),zg[e]=Object.assign(r,t)}nv("Download",{maxTaskCount:10,functionName:"downloadFile"}),z.onReady((()=>{try{"number"==typeof z.wxAppInfo.maxDownloadConcurrent&&nv("Download",{maxTaskCount:z.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class iv extends Kg{constructor(e){super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>(delete e.timeInterval,e)})}}var av=iv,ov=({api:e,url:t})=>Fu()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((r,n)=>{gu("checkNetworkAPIURL",{api:e,url:t,success:r,fail:n})})),sv=new WeakMap,cv=new WeakMap,lv=new WeakMap,uv=[],dv=0,pv=10;function hv(e=!1){for(e&&(sv.delete(e),cv.delete(e),lv.delete(e),dv--);uv.length>0&&dv<pv;){var t=uv.shift(),r=sv.get(t),n=cv.get(t);r&&n&&(r.start(n),dv++)}}z.onReady((()=>{z.wxAppInfo&&z.wxAppInfo.maxDownloadConcurrent&&(pv=z.wxAppInfo.maxDownloadConcurrent)}));class fv{constructor(e){var t=Oh.Download,r=e.workerId?new t(e.workerId):new t;delete e.workerId;var n=new Nt;sv.set(this,r),lv.set(this,n),cv.set(this,Vu(e,["url","header","filePath","enableProfile","timeout"])),r.onfail=t=>{Rc("downloadFile",e,t),hv(!0)},r.onsuccess=t=>{Oc({name:"downloadFile",args:e,res:t}),hv(!0)},r.onheader=e=>n.emit("header",{header:e}),r.onprogress=(e,t,r)=>n.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:r}),ov({api:"downloadFile",url:e.url}).then((t=>{e.__skipDomainCheck__||t.isInDomainList||t.isInLAN&&!t.isLocalHost?(uv.push(this),hv()):Rc("downloadFile",e,"invalid url")})).catch((()=>{Rc("downloadFile",e,"url validate error")}))}abort(){var e=sv.get(this);e&&e.abort()}onHeadersReceived(e){var t=lv.get(this);t&&t.on("header",e)}onProgressUpdate(e){var t=lv.get(this);t&&t.on("progress",e)}offHeadersReceived(e){var t=lv.get(this);t&&t.off("header",e)}offProgressUpdate(e){var t=lv.get(this);t&&t.off("progress",e)}}var gv=!1;function vv(e){return gv?new fv(e):new av(e)}l.g.__isAppServiceRemoteDebugMode__||Dh((e=>{e.Download&&z.onReady((()=>{var e=!1,t=he?"clicfg_appbrand_ios_native_download_new":"clicfg_appbrand_native_download";Lh({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0,jh(/^downloadFile/,2))},fail(e){}});var r=Ph("bindingDownload");gv=e||r,v.info(`${gv?"binding":"jsapi"} download, abtest: ${e}, permission: ${r}`)}))}));var mv=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(xc("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new vv(t)}catch(e){return void Rc("downloadFile",t,e.message)}}}),yv=mv(),bv=mv({__skipDomainCheck__:!0}),_v=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith(Mf()))return yv(e);Rc("downloadFile",e,"permission denied")},wv="wxfile://sdk",Iv=`${wv}/we_model/`,Sv=`${Iv}meta.json`,kv=`${Iv}vocab_meta.json`,Cv=3,Ev=10,Av=e=>Iv+e+".onnx",Tv=Ru($h),Pv=Ru(wh),xv=Ru(qh),Mv=Ru(Zh),Rv=Ru(tf),Dv=Ru(Gh),Ov=Ru(bv),Lv=function(){var e=cp()((function*(e=1){try{yield Mv({path:Iv})}catch(e){yield Dv({recursive:!0,dirPath:`${wv}/we_model`})}try{var{data:t}=yield Tv({filePath:1===e?Sv:kv,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),Nv=!0,Bv=function(){var e=cp()((function*(e,t,r=1,n=!1){if(!Nv){var{tempFilePath:i}=yield Ov({url:e,timeout:1e4});return(yield Pv({tempFilePath:i,filePath:1===r?"wxfile://usr/__WeSafeModel__.onnx":"wxfile://usr/__WeSafeModelVocab__.txt"})).savedFilePath}var a={};if(!n)if(a=yield Lv(r)){if(a[t]&&a[t].src===e)try{return Av(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else a={};var o=yield Ov({url:e,timeout:1e4}),s=yield Pv({tempFilePath:o.tempFilePath,filePath:Av(t)});a[t]={src:e,update:Date.now()};var c=Date.now(),l=-1;if(Object.keys(a).length>(1===r?Cv:Ev))for(var u of Object.keys(a)){var d=a[u];d.update<c&&(c=d.update,l=u)}if(-1!==l)try{yield Rv({filePath:Av(l)}),delete a[l]}catch(e){v.error("contentCheck LRU unlink model error: ",e)}return yield xv({filePath:1===r?Sv:kv,data:JSON.stringify(a),encoding:"utf8"}),s.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}(),Fv,Wv=e=>{Fv=e},jv=function(){var e=cp()((function*(e){var t;if(!Array.isArray(Fv)||-1===(t=Fv.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:n,update:i}=Fv[t];return yield Bv(r,n,2,i)}));return function(t){return e.apply(this,arguments)}}(),Vv,Uv=Ru($h),$v=function(){var e=cp()((function*(e){if(Vv)return Vv;var t=yield jv(e),r=yield Uv({filePath:t,encoding:"utf-8"});return Vv=(Vv=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{}),Vv}));return function(t){return e.apply(this,arguments)}}(),zv=.002;function qv(e){return t=>je(t)&&t.length>e?t.substr(0,e):t}function Hv({isSuccess:e,invokeTime:t,costTime:r,wxdataQueueTimestamp:n,wxdataDequeueTimestamp:i,beginCGITimestamp:a,CGICallbackTimestamp:o,wxlibCallbackTimestamp:s,requestingCount:c,cost1:l,cost2:u,cost3:d,cost4:p,cost5:h,cost6:f,JSApiType:g}){Math.random()<zv&&setTimeout((()=>{var v=ul.currentNetworkType,m=z.appType+1e3,y=z.appLaunchInfo&&void 0!==z.appLaunchInfo.scene?z.appLaunchInfo.scene:0,b=["","",e?1:0,t,r,v,"",m,y,Ol(),Ll(),"",0,0,l,u,d,p,h,f,0,0,c,t,n,i,a,o,0,0,s,g].map(qv(1024)).join(",");E.reportKeyValue({key:"WeAppOperateWXData",value:b})}),0)}var Gv=({url:e,result:t,cost:r,pointCacheType:n,errMsg:i,errno:a,host:o,fullCost:s})=>{var c=[e,t,r,n,i?encodeURIComponent(i):i,a,o,s].join(",");E.reportKeyValue({key:"WeFreeHttpDns",value:c})},Kv=null;h.onLoad((()=>{h.globalShare.reusableWorkerId&&Jv(h.globalShare.reusableWorkerId)}));var Jv=e=>{Kv=e},Xv=()=>Kv,Yv=e=>e.workerId,Qv;function Zv(){w.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(Yv(t))return;var{cmd:r,callbackId:n,data:i}=t.data;if("callback"===r){var{result:a,errMsg:o}=i;this.emitter.emit(n,a,o)}}}))}class em{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new Nt,Zv.call(this)}constructor(){if(Xv())this.init(Xv());else{var{workerId:e}=w.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,n)=>{var i=String(this.generateCallbackId());this.emitter.once(i,((e,t)=>{t?n(new Error(t)):r(e)}));var a={cmd:e,callbackId:i,data:t};a={data:a,__inner_postmsg_flag__:!0},w.postMsgToWorker(this.workerId,a)}))}}var tm=()=>Qv||(Qv=new em),rm=()=>!!Qv,nm,im=()=>nm,am,om=!1,sm,cm=new Promise((e=>sm=e)),lm=function(){var e=cp()((function*(){if(!am&&!om){om=!0;try{var e=yield Hw();if(!Array.isArray(e))return sm(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:n,domTextPreset:i,regCheckCfg:a,modelName:o,taskId:s,debug:c,key:l,cliParamList:u,isScreenshot:d}=e,{after_load_interval:p,after_load_maxcnt:h,at_redirect:f,most_cnt:g}=null!=n?n:{};return(am={}).mostCnt=g,am.currentCnt=0,am.afterLoadInterval=p,am.afterLoadMaxCnt=h,am.atRedirect=f,am.modelUrl=t,am.cfg=r,am.domTextPreset=i,am.regCheckCfg=a,am.modelName=o,am.taskId=s,am.debug=c,am.key=l,am.cliParamList=u,am.isScreenshot=d,nm=s,am})),sm(e)}catch(e){sm(null)}}}));return function(){return e.apply(this,arguments)}}(),um=function(){var e=cp()((function*(e,t=!1){lm();var r=yield cm;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}(),dm,pm,hm=new Promise((e=>{pm=e})),fm;z.onReady((()=>{fm=Ph("reportRequestErrorByAI")}));var gm=e=>{dm=e,pm(e)},vm=()=>dm,mm=e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null},ym=function(){var e=cp()((function*(e){if(dm&&fm){var t=yield um(dm);if(t){var{modelUrl:r,modelName:n,cfg:i}=t,a=(yield sI(r,n,i,void 0,e)).xnetRes;return!!(a=mm(a))&&a[0]-a[1]}}}));return function(t){return e.apply(this,arguments)}}(),bm=(e,t={})=>{if(Array.isArray(e))return e.reduce(((e,t,r)=>(e[r]=bm(t),e)),[]);if(!Xe(e))return e;for(var r of Object.getOwnPropertyNames(e)){var n=e[r];t[r]=bm(n)}return t};function _m(e){var t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)||""}catch(r){t=Fe(e)}return t.replace(/,/g,";").substr(0,1024)}var wm={pay:"WePayVIPAppRequestError",goverment:"WeAppRequestError",interactiveApiPay:"WePayVIPAppInteractiveApiError",interactiveApiGoverment:"WeAppInteractiveApiError"};function Im(e,t,{point:r,schemaVersion:n,key:i,kvResult:a,routePath:o,networkType:s,nlpRet:c,aiConsistent:l,reportType:u}={}){var d=t.errno,p=wm[u];E.reportKeyValue({key:p,value:[s,e.url,t.errMsg,t.statusCode,_m(e.header),_m(e.data),_m(t.header),_m(t.data),e.method,Tm.scene,encodeURIComponent(Tm.scene_note||Tm.sceneNote),km,d,n,encodeURIComponent(i),encodeURIComponent(r),encodeURIComponent(a),o,void 0===c?-2:c,l].join(",")})}var Sm=Math.random,km=void 0!==r&&r?r.version:"unknown",Cm=!1,Em=!1,Am=0,Tm={},Pm="";z.onReady((()=>{Object.assign(Tm,z.appLaunchInfo),Pm=z.appLaunchInfo.sessionid||z.appLaunchInfo.sessionId,Kt("onAppEnterForeground",(e=>{Object.assign(Tm,e),e&&(e.sessionid||e.sessionId)&&(Pm=e.sessionid||e.sessionId)}))}));var xm=e=>{var t=z.appLaunchInfo&&z.appLaunchInfo.scene;if(e&&"object"==typeof e){var r,n=e[t]||e.all,i=e.nlpKey;if(n)if(Em=Ph("reportPayVIPQuality"),Cm=Em||Ph("reportRequestError2"),Am=null!==(r=n.ratio)&&void 0!==r?r:1,T.allowReportLoadingTime(),Cm)return gm(i),!0;return Ph("reportRequestError3")?(Cm=!0,Am=1,T.allowReportLoadingTime(),gm(i),!0):void 0}},Mm=!1,Rm=()=>Mm=!0;function Dm(e){try{e.data=JSON.parse(e.data)}catch(e){}}function Om(e,t,{uuid:r,invokeTime:n,dataType:i,networkType:a,routePath:o}={}){var s=T.shouldStartReport();if(Cm&&Sm()<Am||s||Mm){var c=T.getCurrentRoutePath(),l=Date.now()-n;e=bm(e);var u=(t=bm(t)).data,d=Promise.resolve().then(cp()((function*(){if("string"!=typeof u)return-3;try{JSON.parse(u)}catch(e){return-3}return yield ym(u)}))).catch((()=>-3));tm().runTask("checkRequest",{response:t,requestData:e,checkResponse:!0,delay:!0}).then((e=>d.then((t=>(e.nlpRet=t,e))))).then((n=>{try{"json"===i&&Dm(t);var{isImportantRequest:u,nlpRet:d}=n;if((n.hasError||d>0)&&Cm){var{point:p,reportBody:h,reportArgs:f,schemaVersion:g,key:m,kvResult:y}=n;e.data&&(e.data=f),t.data&&(t.data=h),Im(e,t,{point:p,schemaVersion:g,key:m,kvResult:y,networkType:a,routePath:o,nlpRet:d,aiConsistent:d>0&&n.hasError?1:2,reportType:Em?"pay":"goverment"})}if(s){var b={isimportant:u,errMsg:t.errMsg,errno:t.errno},_=n.hasError;_&&(b.errinfo=t.errMsg||n.point,b.noFilterRes=!0),T.traceApi("request",e,t,_,r,l,!0,b)}if(Mm&&u){var{sensitiveRequestPoint:w,sensitveResponsePoint:I}=n;[w,I].forEach(((t,r)=>{null!=t&&t.length&&E.reportKeyValue({key:"WeAppSensitiveRequest",value:[0===r?0:1,Od(e.url),e.method,null,c,t.join(",")].map(encodeURIComponent).join(",")})}))}}catch(e){v.error("resolve 24247 worker error:",e)}})).catch((e=>{v.error("report 24247 error:",e)}))}}var Lm=(e,t)=>`0,0,${e?2:t?3:0}, ${e||t?2:0}`,Nm=(e={})=>{if(Cm){var{apiName:t,content:r="",routePath:n,networkType:i,title:a=""}=e,o=Em?"interactiveApiPay":"interactiveApiGoverment";o=wm[o];var s=a+","+r;"showModal"!==t&&"showToast"!==t||tm().runTask("resolveInteractiveApiContent",{apiName:t,content:s}).then((e=>{if(e.result){var r;r="showModal"===t?1:"showToast"===t?2:3;var a=[t,encodeURIComponent(s),n,Pm,r,i,encodeURIComponent(Lm(e.hitUserLowPriortyCustom,e.hitUserHighPriorityCustom))].join(",");E.reportKeyValue({key:o,value:a})}})).catch((e=>{v.error("resolveInteractiveApiContent:",e)}))}},Bm={},Fm={},Wm={},jm=(e,t,r)=>{if(Wm[e])return Wm[e];var n,i=e&&e.indexOf(":");n=(n=-1!==i?e.slice(0,i):e).toLowerCase();var a=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:n}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:n,service_id:t}};return Wm[e]=Yu(a).then((t=>{delete Wm[e];var{wxa_state:n,ip:i,ttl:a,hit_cache:o}=t.data;if(0===n)return Bm[e]={ip:i,expireTime:1e3*a+Date.now()},r?O()(O()({},Bm[e]),{},{hitCache:o}):Bm[e];throw new Error(n)})).catch((t=>{throw delete Wm[e],t})),Wm[e]},Vm=e=>{var t=Bm[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null},Um=(e,t)=>{var r=Fm[e];return t?(!r||r!==t)&&(delete Fm[e],!0):(delete Fm[e],!1)},$m=(e,t)=>{Fm[e]=t};pg((()=>{Bm={},Fm={},Wm={}}));var zm=new RegExp("name_not_resolved","i"),qm=e=>zm.test(e.errMsg),Hm=(e,t,r)=>!yg()&&(!(!Ph("useFreeHttpDns")||!qm(e))&&(Qb(t,r),!0)),Gm={uninjected:0,injected:1},Km={minigamelive:Gm.uninjected,ad:Gm.uninjected,cloud:Gm.uninjected,protobuf:Gm.uninjected,ga:Gm.uninjected,kanata:Gm.uninjected,midas:Gm.uninjected,pixi:Gm.uninjected,sclengine:Gm.uninjected},Jm=(e,t)=>{Km[e]=t},Xm=e=>Km[e],Ym={},Qm=e=>{if(!Ym[e]){var t={},r={},n={},i={on:(r,i)=>{t[r]&&console.warn(`基础库分包 ${e} on event: ${r} has subscribe listener`),t[r]=i,n[r]&&(n[r].forEach((e=>{i(e)})),delete n[r])},subscribe:(i,a)=>{t[i]&&console.warn(`基础库分包 ${e} subscribe event: ${i} has on listener`),r[i]||(r[i]=[]),r[i].push(a),n[i]&&(n[i].forEach((e=>{a(e)})),delete n[i])},publish:(e,n)=>{var i,a;return(i=t[e])?(i(n),!0):!!(a=r[e])&&(a.forEach((e=>e(n))),!0)},advancePublish:(e,t)=>{Zm(e,t)||n[e]||(n[e]=[]),n[e].push(t)}};return Ym[e]=i,i}console.warn(`已经存在分包EM ${e}`)},Zm=(e,t,r,n)=>{var i=Ym[e];i&&(n?i.advancePublish(t,r):i.publish(t,r))},ey=Qm("sclEngine"),ty=!1,ry=()=>{ty||(ty=!0,Xm("sclengine")===Gm.injected?ey.publish("initReady"):ey.advancePublish("initReady"))},ny=Ut("tapAnyWhere");gr("tapAnyWhere",ny.emitInternal);var iy=ny.internalOnMethod,ay=ny.internalOffMethod,oy=!1;iy((()=>{ry(),oy||(oy=!0,sy.forEach((e=>e())),sy=[])}));var sy=[],cy=e=>{oy?e():sy.push(e)},ly=JSON.parse,uy=JSON.stringify,dy=!0,py=(e,t)=>{if(!dy)return t;var r;return(n={})=>{var{success:i,fail:a}=Lc(n,e);if(r){var o={};try{o=ly(r)}catch(e){v.error("constructCachedOptimizedSyncApi parse error",e.message)}i(o)}else t(Object.assign({},n,{success(e){try{r=uy(e)}catch(e){v.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{r=void 0})),i(e)},fail(e){r=void 0,a(e)},complete:void 0}))}},hy=z.SDKVersion,fy=e=>{var t=ue;he&&(e.brand="iPhone"),de&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=hy,e.enableDebug=Boolean(z.debug),z.devicePixelRatio&&(e.devicePixelRatio=z.devicePixelRatio),z.theme&&(e.theme=z.theme),z.host&&(e.host=z.host),z.appLaunchInfo&&z.appLaunchInfo.mode&&(e.mode=z.appLaunchInfo.mode),pe&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),Uu()&&!Te()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),ke&&(e.renderer="h5")},gy=()=>{z.isReady||(new Error).stack},vy=()=>{var e={};return Iy({success(t){delete t.errMsg,e=t}}),e},my=()=>{var e={};return _getSystemInfo({success(t){delete t.errMsg,e=t}}),e},yy,by=()=>yy||(yy=Object.assign({},vy())),_y=e=>{delete(yy=Object.assign({},e)).errMsg},wy=e=>{gy();gu("getSystemInfo",e,{beforeSuccess:e=>{fy(e),_y(e)}})},Iy=py("getSystemInfo",wy),Sy=e=>{z.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),gy());var t=z.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";gu(t,e,{beforeSuccess:e=>{fy(e),_y(e)}})},ky=ig("getSystemInfoAsync",Sy),Cy=e=>{gu("openSystemSetting",O()(O()({},e),{},{type:"systemBluetooth"}))},Ey=e=>{gu("openSystemSetting",O()(O()({},e),{},{type:"appAuthorize"}))},Ay=Object.defineProperty,Ty=(e,t)=>{Ay(e,t,{get:()=>{var e;return gu("getSystemInfo",{type:t,success:r=>{e=r[t]}}),e},enumerable:!0})},Py=()=>{var e={};return Ty(e,"bluetoothEnabled"),Ty(e,"deviceOrientation"),Ty(e,"locationEnabled"),Ty(e,"wifiEnabled"),e},xy=()=>{var e={};return Ty(e,"albumAuthorized"),Ty(e,"bluetoothAuthorized"),Ty(e,"cameraAuthorized"),Ty(e,"locationAuthorized"),Ty(e,"locationReducedAccuracy"),Ty(e,"microphoneAuthorized"),Ty(e,"notificationAlertAuthorized"),Ty(e,"notificationAuthorized"),Ty(e,"notificationBadgeAuthorized"),Ty(e,"notificationSoundAuthorized"),Ty(e,"phoneCalendarAuthorized"),e},My=JSON.parse,Ry=JSON.stringify,Dy=!0,Oy=e=>{if(!Dy)return e;var t;return(r={})=>{if(t){var n={};try{n=My(t)}catch(e){v.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return n}var i=e(r);try{t=Ry(i)}catch(e){v.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{t=void 0})),i}},Ly={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},Ny=e=>{var t,r=null!==(t=e.match(/unknown<(.*?)>/))&&void 0!==t?t:[];return r&&Ly[r[1]]||e},By=()=>{var e;gu("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t=ue;return he&&(e.brand="iPhone",e.model=Ny(e.model)),de&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e},Fy=Oy(By),Wy=()=>{var e;return gu("getSystemInfo",{type:"windowInfo",success(t){delete(e=t).errMsg}}),e},jy=Oy(Wy),Vy=()=>{var e;return gu("getSystemInfo",{type:"appBaseInfo",success(t){delete(e=t).errMsg}}),e.SDKVersion=hy,e.enableDebug=Boolean(z.debug),z.theme&&(e.theme=z.theme),z.host&&(e.host=z.host),z.appLaunchInfo&&z.appLaunchInfo.mode&&(e.mode=z.appLaunchInfo.mode),pe&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),Uu()&&!Te()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),ke&&(e.renderer="h5"),e},Uy=Oy(Vy),$y,zy=!!b.clientManager,qy,Hy=new Set;null===($y=b.clientManager)||void 0===$y||$y.once("clientConnected",((e,{ua:t}={})=>{qy=t,Hy.forEach((e=>{try{e(t)}catch(e){}})),Hy.clear()}));var Gy=e=>{zy?qy?e(qy):Hy.add(e):e("")},Ky=()=>new Promise((e=>Gy(e))),Jy=null,Xy=0,Yy=0,Qy=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];z.onReady((()=>{Jy={};for(var e=0;e<Qy.length;e++){if(!(Qy[e]in z)){Qy[e],Jy=by();break}Jy[Qy[e]]=z[Qy[e]]}if(z.screenHeight&&z.screenWidth)Xy=z.screenWidth,Yy=z.screenHeight;else{var t=by();Xy=t.screenWidth,Yy=t.screenHeight}}));var Zy=()=>z.isReady?Object.assign({},Jy):((new Error).stack,{}),eb=()=>z.isReady?{screenWidth:Xy,screenHeight:Yy,deviceOrientation:Xy>Yy?"landscape":"portrait"}:((new Error).stack,{}),tb=(()=>{var e;return(...t)=>{if(e)return e;if(!0===t[0]){if(Jy)return Jy;e=vy()}else e=vy();return e}})(),rb=e=>({2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[e]),nb=(e={})=>{gu("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var n=e.subscriptionsSetting.templatesInfo;r.itemSettings=n.reduce(((e,t)=>{var r=rb(t.tid),n={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=n[t.status]:(e[t.templateId]=n[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})},ib=(e={})=>{nb(e)},ab=!1,ob=void 0,sb=void 0,cb=void 0,lb=()=>ob,ub=!1,db="group_forcecelluarnetwork",pb="forceCellularNetwork",hb=e=>ob=e,fb=()=>!ab&&(ab=!0,!0),gb,vb=()=>{ob&&!gb&&(gb=!0,mb())},mb=()=>{var e,{language:t}=tb();switch(t){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}fb()&&cy((()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{ib({success:e=>{!1===e.authSetting["scope."+pb]&&hb(!1)}})}))}))}))},yb=function(){var e=cp()((function*(){var e;if(void 0!==ob)return ob;try{sb||(sb=Yu({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[db]}})),e=yield sb}catch(t){if(!ub)return!1;e={data:{auth_item_list:[{scope:db,state:0}]}}}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===db)))){var n=r[t];if(0===n.state){yield(cb||(cb=Yu({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:db,state:1}]}})),cb).then((e=>{hb(!0)})).catch((e=>{}))}else 2===n.state?hb(!1):1===n.state&&hb(!0)}return ob}));return function(){return e.apply(this,arguments)}}(),bb=0;nv("Request",{maxTaskCount:10,functionName:"request"}),z.onReady((()=>{try{"number"==typeof z.wxAppInfo.maxRequestConcurrent&&nv("Request",{maxTaskCount:z.wxAppInfo.maxRequestConcurrent})}catch(e){}}));class _b extends Kg{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,r=null==e?void 0:e.__wx_inner_invokeTime__,n=null==e?void 0:e.__wx_inner_request_network_type__,i=null==e?void 0:e.__wx_request_route_path__;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var a={JSApiType:1,invokeTime:Date.now(),requestingCount:++bb};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:o=>{vb(),e.host&&e.ip&&$m(e.host,e.ip),a.isSuccess=!0,Ib(o),kb(o),Cb(o);try{Om(e,o,{uuid:t,invokeTime:r,dataType:e.dataType,networkType:n,routePath:i})}catch(e){v.error("checkAndReportError error:",e)}if("json"===e.dataType&&Sb(o,e._jsonParse),e.__retryHttpDNS__){var s=o.profile.domainLookUpStart-o.profile.fetchStart;o.profile.domainLookUpStart=e.lastRequestStartTime,o.profile.fetchStart=e.lastRequestStartTime-s,Gv({url:e.lastUrl,result:0,fullCost:Date.now()-r,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}return wb(o,a,e),o},beforeFail(o){var s,c=!1;if(a.isSuccess=!1,wb(o,a,e),e.__retryHttpDNS__)Gv({url:e.lastUrl,result:1,fullCost:Date.now()-r,pointCacheType:e.hitCache,errMsg:o.errMsg,errno:o.errno,host:e.lastHost,cost:null!==(s=e.weHttpDNSCoast)&&void 0!==s?s:-1}),c=e.lastErrorResponse;else if(Hm(o,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:o,lastUrl:e.url,lastHost:e.host}))return{__retry__:!0};try{Om(e,o,{uuid:t,invokeTime:r,networkType:n,routePath:i})}catch(e){v.error("checkAndReportError error:",e)}return c?{__changeError__:c}:o}})}}function wb(e,t,r){var n=Date.now();if(bb--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var i=e.clientInfo;t.wxdataQueueTimestamp=i.invokeTime,t.wxdataDequeueTimestamp=i.invokeTime,t.beginCGITimestamp=i.beginCGITimestamp,t.CGICallbackTimestamp=i.CGICallbackTimestamp,t.wxlibCallbackTimestamp=i.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo,Hv(t)}}function Ib(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}function Sb(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}function kb(e){e.statusCode=parseInt(e.statusCode,10)}function Cb(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}var Eb=_b,Ab=new WeakMap;class Tb{constructor(){var e,t=new Promise((t=>{e=t}));Ab.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=Ab.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=Ab.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=Ab.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=Ab.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=Ab.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=Ab.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=Ab.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}var Pb=(e,t)=>{var{resolve:r}=Ab.get(e);r(t)};function xb({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:n,lastUrl:i,lastHost:a,lastErrorResponse:o}={}}){var s=Fe(e.header);e.header=e.header||{},e.header=Qd(e.header),"Undefined"!==s&&"Object"!==s&&(console.warn("wx.request: header must be an object"),e.header={}),e.header=Object.keys(e.header).reduce(((t,r)=>("content-type"===r.toLowerCase()?t[r.toLowerCase()]=e.header[r]:t[r]=e.header[r],t)),{});var c="text";e.responseType&&(c=e.responseType.toLowerCase());var l,u=e.header||{},d="GET";return"string"==typeof e.method&&(d=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(u["content-type"]=u["content-type"]||"application/json"),l=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==Fe(e.data)?u["content-type"].indexOf("application/x-www-form-urlencoded")>-1?Ld(e.data,!0):u["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):l.toString():e.data,"GET"===d&&(e.url=Bd(e.url,e.data)),{header:u,method:d,responseType:c,dataStr:l,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:n,lastHost:a,lastUrl:i,__retryHttpDNS__:t,lastErrorResponse:o}}var Mb=Symbol("skipDNS");function Rb({args:e={},host:t,skipDNS:r,banHttpDNS:n}){if(r===Mb||n)return{};var i,{enableHttpDNS:a,httpDNSServiceId:o}=e;if(yg())return{};if(!0===a&&je(o)){var s=Vm(t);return s&&!1===s.expired?(i=s.ip,{host:t,ip:i}):jm(t,o).then((e=>(i=e.ip,{host:t,ip:i})))}return!0===a?Promise.reject(new Error("invalid httpDNSServiceId")):{}}function Db({host:e,ip:t}){return{forbidReuse:Um(e,t)}}function Ob({args:e}){var{host:t,protocol:r}=Dd(e.url);return{host:t,protocol:r}}function Lb({protocol:e}){return{port:"http"===e?80:"https"===e?443:0}}var Nb={},Bb={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188},Fb=e=>{if(Nb[e])return Nb[e];var t={},r=Object.values(Bb);return gu("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(n){var i=n.pluginPermissionMap;if(i&&i[e]){for(var a=0;a<i[e].length;a++){var o=r[a];t[o]=1===i[e][a]}Nb[e]=t}},fail(e){}}),t},Wb=(e,t)=>{var r=Bb[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):Nb[e]?Nb[e][r]:(Fb(e),Nb[e]&&Nb[e][r])},jb=function({args:e={}}){var{ip:t}=e;if(!t)return{};var r=Gp(this);return r&&Wb(r,"skipDNSRequest")?{skipDNS:Mb,ip:e.ip}:{}},Vb={},Ub=3e4,$b=!1;function zb({args:{url:e,__wx_inner_invokeTime__:t},host:r,options:{__retryHttpDNS__:n,lastErrorResponse:i}}){var a;if(!n)return{};if(!((null===(a=Vb[e])||void 0===a?void 0:a.count)>=4)){var o;if(yg())return{};if($b){var s=Vm(r);if(s&&!1===s.expired)return o=s.ip,{host:r,ip:o,hitCache:1}}var c=Date.now();return jm(r,void 0,!0).then((e=>{o=e.ip;var t=e.hitCache?2:0,n=Date.now()-c;return{host:r,ip:o,banHttpDNS:!0,weHttpDNSCoast:n,hitCache:t}})).catch((n=>{Vb[e]?Vb[e].count++:Vb[e]={count:1};var a=setTimeout((()=>{delete Vb[e]}),Ub);throw Vb[e].cf&&clearTimeout(Vb[e].cf),Vb[e].cf=a,Gv({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:n.errMsg||n.message||n.msg,errno:n.errno,host:r}),i}))}Gv({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r})}z.onReady((()=>{Lh({experimentId:he?"clicfg_appbrand_ios_free_httpdns_sdk_cache":"clicfg_appbrand_android_free_httpdns_sdk_cache",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&($b=!0)}})}));var qb=function(){var e=cp()((function*({args:e}){return e.forceCellularNetwork&&(yield yb())?{forceCellularNetwork:!0}:{}}));return function(t){return e.apply(this,arguments)}}();class Hb{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){var t=e(this.innerParams,this.asyncTasks);if(t instanceof Promise){var r=t.then((e=>{Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this}catch(e){return this.catchFn=e,this}execute(){if(this.asyncTasks.length>0){var e=new Tb;return Promise.all(this.asyncTasks).then((()=>{var t=this.createRequestTask();Pb(e,t)})).catch((e=>{this.catchFn&&this.catchFn(e),delete this.catchFn})),e}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:n,method:i,port:a,responseType:o,dataStr:s,options:c,forbidReuse:l,currentRequestStartTime:u,lastRequestStartTime:d,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m}=this.innerParams;try{return new Eb(Object.assign({},e,{header:n,method:i,responseType:o,data:s,ip:r,host:t,port:a,forbidReuse:l,currentRequestStartTime:u,lastRequestStartTime:d,originArgs:O()({},e),weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,url:e.url,__skipDomainCheck__:c.__skipDomainCheck__}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var Gb=(e={})=>(t={},r={})=>Kb(O()(O()({},e),r))(t),Kb=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1},e),function(t={}){if(xc("request",t,{url:""}))if(!1!==Fd(t.url)){try{JSON.stringify(t.data)}catch(e){return void Oc({name:"request",args:t,errno:ei,errMsg:"fail to stringify data",success:!1})}if("function"!=typeof t.data){var r=new Hb({args:t,options:e});return r.catch((e=>{Rc("request",t,e.message||e.errMsg,e.errno)})).use(xb).use(Ob).use(Lb).use(jb.bind(this)).use(zb).use(Rb).use(qb).useAfterAsyncTasks(Db),r.execute()}Oc({name:"request",args:t,errno:ei,errMsg:"data should not be Function",success:!1})}else Oc({name:"request",args:t,errno:Zn,errMsg:`invalid url "${t.url}"`,success:!1})}),Jb=Kb({__skipDomainCheck__:!1}),Xb=Kb({__skipDomainCheck__:!0}),Yb=Kb({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),Qb=Gb({__retryHttpDNS__:!0}),Zb=function(e={}){var t=getPluginId(this);if(checkPluginPermissionSync(t,"useRequest"))return Xb.call(this,e);beforeInvokeFail("request",e,"no permission")};nv("Upload",{maxTaskCount:10,functionName:"uploadFile"}),z.onReady((()=>{try{"number"==typeof z.wxAppInfo.maxUploadConcurrent&&nv("Upload",{maxTaskCount:z.wxAppInfo.maxUploadConcurrent})}catch(e){}}));class e_ extends Kg{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>e})}}var t_=e_,r_=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(xc("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},n={};t.header&&(r=Qd(t.header)),t.formData&&(n=Qd(t.formData));try{return new t_(Object.assign({},t,{header:r,formData:n,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(e){return void Rc("uploadFile",t,e.message)}}}),n_=r_(),i_=r_({__skipDomainCheck__:!0}),a_,o_=0,s_=new WeakMap,c_=new WeakMap,l_=new WeakMap,u_=new WeakMap,d_={},p_=new Lp;Tt("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,n=d_[r];if(n){var i=s_.get(n);if(delete e.state,delete e.socketTaskId,n){if("open"===t){vb(),n.readyState=n.OPEN;var a=l_.get(n).url,o=Date.now()-u_.get(n),s=e.statusCode,c=l_.get(n).__skipDomainCheck__,l=e.profile;Cg("connectSocket",a,1,o,"",s,c,0,0,l,0)}else"close"!==t&&"error"!==t||(n.readyState=n.CLOSED);p_.emit(`${i}${t}`,e),p_.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,n),"close"===t&&(delete d_[r],p_.removeAllListeners(`${i}open`),p_.removeAllListeners(`${i}close`),p_.removeAllListeners(`${i}error`),p_.removeAllListeners(`${i}message`))}}}));var h_=function(e,t){p_.on(`${s_.get(this)}${e}`,C.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},f_=(a_=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0});var n,i=o_++;s_.set(this,i),l_.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=C.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),u_.set(this,Date.now()),Ve(t.timeout)||(t.timeout=0);var a=t.forceCellularNetwork,o=()=>{var e=O()(O()({},t),{},{forceCellular:a});gu("createSocketTask",e,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{c_.set(this,e.socketTaskId),d_[e.socketTaskId]=this},beforeFail:e=>{var r=t.url,i=Date.now()-u_.get(this),a=t.__skipDomainCheck__;n=e.errMsg,Cg("connectSocket",r,2,i,n,"",a,0,0,{},0,{},void 0,!0,e.errno)}}),n&&(this.readyState=this.CLOSED,setTimeout((()=>{p_.emit(`${i}error`,{errMsg:n})}),0))},s=()=>{et(t.customCheck)?t.customCheck(t,(e=>{e?(Rc("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{p_.emit(`${i}error`,{errMsg:e})}),0)):o()})):o()};a?"boolean"!=typeof a?(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof a),a=!1,s()):yb().then((e=>{e||(a=!1),s()})):s()}send(e){if(this.readyState===this.OPEN){var t=Date.now();gu("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:c_.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var n=l_.get(this).url,i=r.errMsg.indexOf("ok")>-1?1:2,a=Date.now()-t,o=r.errMsg,s=l_.get(this).__skipDomainCheck__,c=Pu(e.data);Cg("sendSocketMessage",n,i,a,o,"",s,c)}}})}else Rc("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){gu("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:c_.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){h_.call(this,"open",e)}onClose(e){h_.call(this,"close",e)}onMessage(e){h_.call(this,"message",e)}onError(e){h_.call(this,"error",e)}},F()(a_.prototype,"send",[wt],Object.getOwnPropertyDescriptor(a_.prototype,"send"),a_.prototype),F()(a_.prototype,"close",[wt],Object.getOwnPropertyDescriptor(a_.prototype,"close"),a_.prototype),a_),g_=5;z.onReady((()=>{z.wxAppInfo&&z.wxAppInfo.maxWebsocketConnect&&(g_=z.wxAppInfo.maxWebsocketConnect)}));var v_=new WeakMap,m_=new WeakMap,y_=new WeakMap,b_={},__=new Lp,w_=0,I_=0;function S_(e,t,r){t.errMsg=t.errMsg||"ok",Oc({name:e,args:r,success:"ok"===t.errMsg,errMsg:t.errMsg})}class k_{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var n=Oh.WSS,i=w_++,a=t.workerId?new n(t.workerId):new n;delete t.workerId,v_.set(this,t),m_.set(this,a),y_.set(this,i);var o=Date.now();a.onopen=(e,r)=>{this.readyState!==this.CLOSED&&(vb(),I_++,this.readyState=this.OPEN,__.emit(`${i}open`,{header:e,profile:r}),__.emit("onSocketOpen",{header:e,profile:r},this),Cg("connectSocket",t.url,1,Date.now()-o,"","",t.__skipDomainCheck__,0,0,r,0))},a.onclose=(e,t)=>{I_--,this.readyState=this.CLOSED,__.emit(`${i}close`,{code:e,reason:t}),__.emit("onSocketClose",{code:e,reason:t},this)},a.onmessage=e=>{this.readyState!==this.CLOSED&&(dt(e)&&(e.__proto__=ArrayBuffer.prototype),__.emit(`${i}message`,{data:e}),__.emit("onSocketMessage",{data:e},this))},a.onerror=(e,t)=>{I_--,this.readyState=this.CLOSED,setTimeout((()=>{__.emit(`${i}error`,{errCode:e,errMsg:t}),__.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)};var s=()=>{var e={errMsg:""};if(I_>=g_)this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${g_}`;else{var r=Vu(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile","forceCellularNetwork"]);r.forceCellularNetwork&&"boolean"==typeof r.forceCellularNetwork?yb().then((n=>{n&&(r.forceCellular=!0),r.forceCellularNetwork=void 0,e.errMsg=a.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(b_[i]=this),S_("connectSocket",e,t)})):(r.forceCellularNetwork&&"boolean"!=typeof r.forceCellularNetwork&&(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=void 0),e.errMsg=a.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(b_[i]=this),S_("connectSocket",e,t))}};et(t.customCheck)?t.customCheck(t,(e=>{e?S_("connectSocket",{errMsg:e},t):s()})):(s(),ov({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;__.emit(`${i}error`,{errMsg:t}),__.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:m_.get(this).send(e.data)};(e.success||e.fail||e.complete)&&S_("sendSocketMessage",t,e)}close(e={}){this.readyState,S_("closeSocket",{errMsg:m_.get(this).close(Ve(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){__.on(`${y_.get(this)}open`,C.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){__.on(`${y_.get(this)}close`,C.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){__.on(`${y_.get(this)}message`,C.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){__.on(`${y_.get(this)}error`,C.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var C_=f_,E_=d_;l.g.__isAppServiceRemoteDebugMode__||Dh((e=>{e.WSS&&z.onReady((()=>{var t=!1,r=he?"clicfg_appbrand_ios_native_socket_wcwss_new":1;1===r?t=!0:Lh({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(t=!0)}});var n=Ph("bindingWebSocket");t||n||e.WSS.force?(C_=k_,E_=b_,jh(/^connectSocket/,2),v.info(`binding socket, abtest: ${t}, permission: ${n}`)):v.info(`jsapi socket, abtest: ${t}, permission: ${n}`)}))}));var A_=new WeakMap,T_={};function P_(e,t){return T_[t]||(T_[t]=new WeakMap,p_.on(`onSocket${t}`,x_(t)),__.on(`onSocket${t}`,x_(t))),function(r){xc(`onSocket${t}`,r,yt)&&T_[t].set(e,r)}}function x_(e){return function(t,r){var n=r.__socketInstance__,i=T_[e].get(n),a=A_.get(n);i&&r===a&&C.surroundThirdByTryCatch(i,`at onSocket${e} callback function`)(t)}}var M_=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){var{workerId:n}=r;if(delete r.workerId,xc("connectSocket",r,{url:""}))if(!1!==Fd(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var i={};r.header&&(i=Qd(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__;try{var a=A_.get(t),o=new C_(t,Object.assign({},r,O()({header:i},n?{workerId:n}:{})));return a&&a.readyState!==a.CLOSED?a.readyState:A_.set(t,o),o}catch(e){return e.message,void Rc("connectSocket",r,e.message)}}else Rc("connectSocket",r,`invalid url "${r.url}"`)},closeSocket(e){var r=A_.get(t);for(var n in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):Rc("closeSocket",e,"WebSocket is not connected"),E_){var i=E_[n];i.__socketInstance__===t&&(i.readyState=i.CLOSED,i!==r&&i.close())}},sendSocketMessage(e){var r=A_.get(t);r&&r.readyState===r.OPEN?r.send(e):Rc("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:P_(t,"Open"),onSocketClose:P_(t,"Close"),onSocketMessage:P_(t,"Message"),onSocketError:P_(t,"Error")}},R_=M_(),D_=()=>M_({__skipDomainCheck__:!0}),O_=(e={})=>{gu("uploadEncryptedFileToCDN",e,{})},L_=e=>{Tt("onUploadEncryptedFileToCDNProgress",e)},N_=(e={})=>{gu("uploadToCommonCDN",e,{})},B_=(e={})=>{if(Ph("uploadToCommonCDN"))gu("uploadToCommonCDN",e,{});else{var t="uploadToCommonCDN:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},F_=(e={})=>{he?Rc("addNativeDownloadTask",e,"iOS not supported"):gu("addNativeDownloadTask",e,{})},W_=new WeakMap,j_=new WeakMap,V_=new Nt;function U_(e){var{success:t,fail:r,complete:n}=e;gu("addDownloadTaskForNative",Object.assign(e,{success:e=>{delete e.errMsg,this.taskId=e.downloadId,V_.on(`${this.taskId}:success`,(e=>{e.errMsg="downloadApp:ok","function"==typeof t&&t(e),"function"==typeof n&&n(e)})),V_.on(`${this.taskId}:fail`,(e=>{e.errMsg=`downloadFile:fail ${e.errMsg}`,"function"==typeof r&&r(e),"function"==typeof n&&n(e)}));var i=j_.get(this)||[];W_.set(this,"ready"),i.forEach((e=>{$_.call(this,e[0],...e[1])})),V_.emit(`${this.taskId}:created`,e)},fail:e=>{"function"==typeof r&&r(e),"function"==typeof n&&n(e)},complete:()=>{j_.set(this,[])}}),{beforeAll(e){e.errMsg=e.errMsg.replace("addDownloadTaskForNative","downloadApp")}})}function $_(e,...t){if("ready"!==W_.get(this)){var r=j_.get(this)||[];return r.push([e,t]),void j_.set(this,r)}switch(e){case"cancel":gu("cancelDownloadTaskForNative",{downloadIdArray:[this.taskId]});break;case"onProgressUpdate":V_.on(`${this.taskId}:progressUpdate`,(e=>{"function"==typeof t[0]&&C.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onProgressUpdate callback function")(e)}));break;case"onCreated":V_.on(`${this.taskId}:created`,(e=>{"function"==typeof t[0]&&C.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onCreated callback function")(e)}));break;default:gu(`${e}DownloadTaskForNative`,{downloadId:this.taskId})}}Tt("onDownloadAppStateChangeForNative",(e=>{var{state:t,downloadId:r}=e;switch(delete e.state,delete e.downloadId,delete e.appId,t){case"download_succ":V_.emit(`${r}:progressUpdate`,e),V_.emit(`${r}:success`,e);break;case"download_failed":V_.emit(`${r}:fail`,e);break;case"download_progress_changed":V_.emit(`${r}:progressUpdate`,e)}"download_succ"!==t&&"download_failed"!==t||(V_.removeAllListeners(`${r}:success`),V_.removeAllListeners(`${r}:fail`),V_.removeAllListeners(`${r}:progressUpdate`))}));class z_{constructor(e){this.taskId=null,["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=C.surroundThirdByTryCatch(e[t],`at api downloadApp ${t} callback function`))})),U_.call(this,e)}pause(){$_.call(this,"pause")}resume(){$_.call(this,"resume")}cancel(){$_.call(this,"cancel")}install(){$_.call(this,"install")}onCreated(e){$_.call(this,"onCreated",e)}onProgressUpdate(e){$_.call(this,"onProgressUpdate",e)}}var q_=z_,H_=(e={})=>{if(he)Rc("downloadApp",e,"iOS not supported");else{if(!xc("downloadApp",e,{taskName:"",taskUrl:"",fileMd5:""}))return null;e.fileType=e.fileType||1;try{return new q_(e)}catch(t){return Rc("downloadApp",e,t.message),null}}},G_=(e={})=>{he?Rc("getAppInstallState",e,"iOS not supported"):e.packageName||e.packageNameArray?gu("getInstallStateForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getInstallStateForNative","getAppInstallState")}}):Rc("getAppInstallState",e,"parameter error: require packageName or packageNameArray")},K_=(e={})=>{he?Rc("queryDownloadAppTask",e,"iOS not supported"):e.downloadId||e.downloadIdArray||e.appIdArray?gu("queryDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("queryDownloadTaskForNative","queryDownloadAppTask"),"download_succ"===e.state&&(e.progress=100),(e.result||[]).forEach((e=>{"download_succ"===e.state&&(e.progress=100)}))}}):Rc("queryDownloadAppTask",e,"parameter error: require downloadId or downloadIdArray or appIdArray")},J_=(e={})=>{he?Rc("cancelDownloadAppTask",e,"iOS not supported"):xc("cancelDownloadAppTask",e,{downloadIdArray:[]})&&gu("cancelDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("cancelDownloadTaskForNative","cancelDownloadAppTask")}})},X_=(e={})=>{he?Rc("installDownloadApp",e,"iOS not supported"):xc("installDownloadApp",e,{downloadId:""})&&gu("installDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("installDownloadTaskForNative","installDownloadApp")}})},Y_=(e={})=>{he?Rc("pauseDownloadAppTask",e,"iOS not supported"):xc("pauseDownloadAppTask",e,{downloadId:""})&&gu("pauseDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("pauseDownloadTaskForNative","pauseDownloadAppTask")}})},Q_=(e={})=>{he?Rc("resumeDownloadAppTask",e,"iOS not supported"):xc("resumeDownloadAppTask",e,{downloadId:""})&&gu("resumeDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("resumeDownloadTaskForNative","resumeDownloadAppTask")}})},Z_=e=>{Tt("onDownloadAppStateChangeForNative",((t={})=>{C.surroundThirdByTryCatch(e,"at onDownloadAppStateChange callback function")(t)}))},ew=(e={})=>{if(!pe)return xc("downloadAppForIOS",e,{appUrl:""})?(gu("downloadAppInternalForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("downloadAppInternalForNative","downloadAppForIOS")}}),null):null;Rc("downloadAppForIOS",e,"android not supported")},tw=(e={})=>{xc("calRqt",e,{rqt:""})&&gu("calRqt",e)},rw=e=>{gu("secureTunnel",e)},nw,iw,aw=e=>{nw=e},ow=e=>{iw=e},sw=()=>iw,cw=()=>nw,lw=2.074,uw;h.onLoad((()=>{uw=Ru(Jb)}));var dw=function(){var e=cp()((function*(e,t){if(!t){var r=cw();t=[r*lw,r]}var n=e;"string"==typeof e&&(n=(yield uw({url:e,responseType:"arraybuffer"})).data);for(var i=Array.prototype.slice.call(new Uint8Array(n)),a=t[0],o=t[1],s=Array(a).fill(0).map((e=>[])),c=function*(e){for(var t=function*(t){var[r,n,a]=Array(3).fill(0).map(((r,n)=>i[e*o*3+3*t+n]));s[e].push([r,n,a])},r=0;r<o;r++)yield*t(r)},l=0;l<a;l++)yield*c(l);return s}));return function(t,r){return e.apply(this,arguments)}}();function pw(e,t,r){return hw.apply(this,arguments)}function hw(){return hw=cp()((function*(e,t,r){try{var n=e,i="";t.forEach((e=>{"dictName"===e.key&&(i=e.value),"testRet"===e.key&&(n=e.value.replaceAll("'",'"'))}));var a=yield $v(i),o=r[r.length-1],s=[],c=JSON.parse(n),l=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{l(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{l(e,t)}));else if(s.length<o){var r=e;""!==r&&" "!==r||(r="empty");var n=(t+":"+r).toLowerCase();if(a[n]>=0)s.push(a[n]);else{var i=0;if((n=(r+="").toLowerCase()).length<=20)for(var c=0;c<n.length;c++)for(var u=1;u<5;u++)if(a[n.substr(c,u)]>=0){s.push(a[n.substr(c,u)]),i=1;break}0==i&&(n=(t+":other").toLowerCase(),a[n]>=0&&s.push(a[n]))}}};for(l(c);s.length<o;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}})),hw.apply(this,arguments)}function fw(e,t,r){return gw.apply(this,arguments)}function gw(){return gw=cp()((function*(e,t,r){try{var n,i,a=e,o=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"minSeqLength"===e.key&&(i=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var s=r.reduce(((e,t)=>e*t),1);a=a.slice(a.length*n,a.length*n+s);for(var c=yield $v(o?"minivocab":"alberttiny489kvocab"),l=r[0],u=r[r.length-1],d=[],p=[],h=0;h<a.length+1;h++)if("\n"===a[h]||h===a.length){if(p.length>=i){var f=u-(o?0:2);if(p.length>f&&(p=p.slice(0,f)),o||(p.unshift(101),p.push(102)),p.length<u)for(;p.length<u;)p.push(0);d.push(p)}if(p=[],d.length>=l)break}else p.push(c[a[h]]||(o?1:100));for(;d.length<l;)d.push(new Array(u).fill(0));return new Int32Array(...d).buffer}catch(e){v.warn("reshape occur error:",e)}})),gw.apply(this,arguments)}function vw(e,t,r){return mw.apply(this,arguments)}function mw(){return mw=_asyncToGenerator((function*(e,t,r){try{var n=e,i=.5,a=.5,o="NCHW";t.forEach((e=>{"mean"===e.key&&(i=e.value),"std"===e.key&&(a=e.value),"inputType"===e.key&&(o=e.value),"resizeType"===e.key&&e.value}));var s=yield transformRGB(n,r),c=0,l=s.length/s[0].length,u=s[0].length;s.length<s[0].length&&(c=1,l=s[0].length/s.length,u=s.length);var d=[];if("NCHW"===o)for(var p=0;p<3;p++)for(var h=0;h<u;h++)for(var f=0;f<u;f++){var g=h,v=f;0===c?g=Math.floor(h*l):v=Math.floor(h*l),d.push((s[g][v][p]/255-i)/a)}else for(var m=0;m<u;m++)for(var y=0;y<u;y++){var b=m,_=y;0===c?b=Math.floor(m*l):_=Math.floor(y*l);for(var w=0;w<3;w++)d.push((s[b][_][w]/255-i)/a)}return new Float32Array(d).buffer}catch(e){throw e}})),mw.apply(this,arguments)}function yw(e,t,r){return bw.apply(this,arguments)}function bw(){return bw=cp()((function*(e,t,r){try{var n=.5,i=.5,a="NCHW",o=e;t.forEach((e=>{"mean"===e.key&&(n=e.value),"std"===e.key&&(i=e.value),"inputType"===e.key&&(a=e.value),"resizeType"===e.key&&e.value}));var s=yield dw(o,r),c=0,l=s.length/s[0].length,u=s[0].length,d=s.length;s.length<s[0].length&&(c=1,l=s[0].length/s.length,u=s.length,d=s[0].length);var p=Math.ceil(l),h=Math.floor(p/2),f=[];if("NCHW"===a)for(var g=0;g<3;g++)for(var v=0;v<u;v++)for(var m=0;m<u;m++){var y=0,b=0,_=0;_=0===c?Math.floor(v*l):Math.floor(m*l);for(var w=0;w<p;w++){var I=_-h+w;I>=0&&I<d&&(y+=1,b+=0===c?s[I][m][g]:s[v][I][g])}y>0?f.push((b/y/255-n)/i):f.push(0)}else for(var S=0;S<u;S++)for(var k=0;k<u;k++){var C=0;C=0===c?Math.floor(S*l):Math.floor(k*l);for(var E=0;E<3;E++){for(var A=0,T=0,P=0;P<p;P++){var x=C-h+P;x>=0&&x<d&&(A+=1,T+=0===c?s[x][k][E]:s[S][x][E])}A>0?f.push((T/A/255-n)/i):f.push(0)}}return new Float32Array(f).buffer}catch(e){throw e}})),bw.apply(this,arguments)}var _w={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5},ww=e=>e.reduce(((e,t)=>e*t),1),Iw=e=>_w[e],Sw=function(){var e=cp()((function*(e,t,r,n=!1){var i,a,o,s;if(t.forEach((e=>{"startPct"===e.key&&(i=e.value),"maxSize"===e.key&&(a=e.value-(n?0:2)),"dictName"===e.key&&(o=e.value)})),a<0){var c=e.length*i+a;c<0&&(c=0),e=e.slice(c,e.length*i)}else e=e.slice(e.length*i,e.length*i+a);o||(o=n?"minivocab":"alberttiny489kvocab");try{s=yield $v(o)}catch(e){}for(var l=[],u=0;u<e.length;u++){var d;l.push(null!==(d=s[e[u]])&&void 0!==d?d:n?1:100)}var p=ww(r)-(n?0:2);if(l.length>p&&(l=l.slice(0,p)),n||(l.unshift(101),l.push(102)),l.length<p)for(;l.length<p;)l.push(0);return new Int32Array(l).buffer}));return function(t,r,n){return e.apply(this,arguments)}}();function kw(e,t,r){return Cw.apply(this,arguments)}function Cw(){return Cw=cp()((function*(e,t,r){try{var n=0,i=512,a=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"maxSeqLength"===e.key&&(i=e.value),"dictType"===e.key&&"bert"===e.value&&(a=!1)}));var o,s=e.slice(Math.floor(e.length*n),e.length);try{o=yield r.readWordDict(a?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var c=[],l=0;l<s.length;l++){var u=s[l];o[u]&&o[u]>60&&o[u]<2900&&c.push(o[u])}var d=[],p=i-(a?0:2);if(c.length>p){for(var h=0;h<c.length;h++){var f=c[h];f>270&&f<570||f>580&&f<660||f>790&&f<990||f>1100&&f<1200||f>1300&&f<1900||f>2e3&&f<2800||d.push(f)}d.length>p&&(d=d.slice(0,p))}else d=c;for(a||(d.unshift(101),d.push(102));d.length<i;)d.push(0);return new Int32Array(d).buffer}catch(e){throw e}})),Cw.apply(this,arguments)}var Ew=l.g.eval,Aw={GetTextIdsVec:Sw,GetTextIdsSimple:(e,t,r)=>Sw(e,t,r,!0),GetTextIdsMultiDimension:fw,GetTrimTextProcrss:kw,exceptionRetProcess:pw,resizeScreenshotRect:yw},Tw=function(){var e=cp()((function*(e,t,r,n,i,a){var o=void 0!==a?a:e[t],s=Aw[r];if(s)try{return yield s(o,n,i)}catch(e){return null}return o}));return function(t,r,n,i,a,o){return e.apply(this,arguments)}}(),Pw=function(){var e=cp()((function*(e,t,r,n){return new Promise(((i,a)=>{var o=i,s=a;try{xw(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:o,safeEvalExecCallbackReject:s,env:{readWordDict:$v,shape:n,transformRGB:dw}})}catch(e){a(e)}}))}));return function(t,r,n,i){return e.apply(this,arguments)}}(),xw=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");Ew(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)},Mw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Rw(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,n=String(e),i="",a=0,o=Mw;n.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new kd("btoa failed");t=t<<8|r}return i}function Dw(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new kd(`atob failed: invalid string length ${t.length}`);for(var n,i,a=0,o=0;i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)i=Mw.indexOf(i);return r}function Ow(e){for(var t,r="",n=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,i=0;i<n;i++)r+=String.fromCharCode(t[i]);return Rw(r)}function Lw(e){for(var t=Dw(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer}var Nw=JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}'),Bw=null,Fw=void 0!==r&&r?r.version:"unknown";function Ww(){var e=-1;return Iy({success(t){e=t.benchmarkLevel}}),Bw||(Bw=new Promise(((t,r)=>{var n,i=vm();Xu({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:O()({client_version:z.clientVersion,pub_version:Fw,performance:e,instance_id:z.appLaunchInfo.sessionid||z.appLaunchInfo.sessionId},i?{xnet_conf_list:[i]}:{}),success:(n=cp()((function*(e){t(e)})),function(e){return n.apply(this,arguments)}),fail:r,complete:void 0})})),Bw)}var jw=function(){var e=cp()((function*(){return yield hm,Ww()}));return function(){return e.apply(this,arguments)}}(),Vw=!1,Uw=()=>Vw=!0,$w=({taskId:e,xnetResList:t,regResList:r,curPath:n,runScene:i,runTime:a,costTime:o,errMsg:s,debug:c,domTextPresetData:l,blockTime:u,logicCostList:d,specialCase:p,contentId:h})=>{var f=[];Array.isArray(t)&&t.forEach((e=>{var t=e.xnet_res;if(t){var r=[];for(var n of Object.keys(t)){var i=t[n];r.push({key:n,type:i.type,shape_list:i.shape,base64_data:Ow(i.data)})}e.xnet_res=r,f.push(e)}else f.push(e)}));var g={task_id:e,xnet_res_list:f,reg_res_list:r,cur_path:n,run_scene:i,run_time:a,cost_time:o,errmsg:s,block_time:u,logic_cost_time_list:d,special_case:p,content_type:h};if(2===h)g.debug_data={preset_data_list:[{key:"screenshot",value:c}]};else if(Array.isArray(c)){var v=[];l&&c.forEach((e=>{v.push({key:e,value:l[Iw(e)]})})),g.debug_data={preset_data_list:v}}Xu({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:g})},zw=(e,t={})=>{if(Vw){var r=O()({task_id:im(),xnet_moment:e},t);Xu({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:r})}},qw=!1,Hw=()=>new Promise(((e,t)=>{var r,n,i,a;if(!qw&&null!==(r=z.appContactInfo)&&void 0!==r&&null!==(n=r.operationInfo)&&void 0!==n&&null!==(i=n.jsonInfo)&&void 0!==i&&null!==(a=i.op_info)&&void 0!==a&&a.skip_async_secinfo)return e({close:!0});if(qw){var o=function(){var e=cp()((function*(){var e={data:Nw};e.data.wxa_client_check.gray_pub_mode&&Uw(),e.data.wxa_client_check.check_logic&&e.data.wxa_client_check.check_logic.xnet&&Wv(e.data.wxa_client_check.check_logic.vocab_list);var t=[];for(var r of e.data.wxa_client_check.check_logic.xnet_list){var n=yield Gw({xnet:r,reg_list:e.data.wxa_client_check.check_logic.reg_list},e.data.wxa_client_check.debug_data,e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_code:null);n.taskId=e.data.wxa_client_check.task_id,n.checkConfig=e.data.wxa_client_check.timing,n.debug=1===e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_data:null,n.debug_codes=n.debug?e.data.wxa_client_check.debug_code:null,t.push(n)}if(!t.length&&e.data.wxa_client_check.check_logic.reg_list){var i=[];if(e.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{i.push(Iw(e))})),i.length){var a={regCheckCfg:e.data.wxa_client_check.check_logic.reg_list,domTextPreset:i};a.taskId=e.data.wxa_client_check.task_id,a.checkConfig=e.data.wxa_client_check.timing,a.debug=1===e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_data:null,t.push(a)}}return 1===e.data.wxa_client_check.timing.at_redirect&&(Jw=1),t}));return function(){return e.apply(this,arguments)}}();o().then(e).catch((e=>{t(e)}))}else jw().then(function(){var r=cp()((function*(r){try{var n,i;if(null===(n=r.data)||void 0===n||null===(i=n.wxa_client_check)||void 0===i||!i.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&Wv(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&Uw();var a=[];for(var o of r.data.wxa_client_check.check_logic.xnet_list){var s=yield Gw({xnet:o,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);s.taskId=r.data.wxa_client_check.task_id,s.checkConfig=r.data.wxa_client_check.timing,s.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,s.debug_codes=s.debug?r.data.wxa_client_check.debug_code:null,a.push(s)}if(!a.length&&r.data.wxa_client_check.check_logic.reg_list){var c=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{c.push(Iw(e))})),c.length){var l={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:c};l.taskId=r.data.wxa_client_check.task_id,l.checkConfig=r.data.wxa_client_check.timing,l.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,a.push(l)}}1===r.data.wxa_client_check.timing.at_redirect&&(Jw=1),e(a)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),Gw=function(){var e=cp()((function*(e,t,r){var n,i={},{model_url:a,model_name:o,cli_param_list:s=[],svr_param_list:c=[],conf_name:l}=e.xnet||{},u=null!==(n=e.reg_list)&&void 0!==n?n:[],d=[],p=!1;if([...u,...s,...(t||[]).map((e=>({preset_data:e})))].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(p=!0),!d.includes(t)&&t&&d.push(Iw(t))})),a){var h=function*(e){var t,{preset_data:n,pre_proc:a}=null!=e?e:{},{proc_name:o,param:s}=null!=a?a:{};i[e.key]={type:e.type||"int32",shape:e.shape_list,getData:(t=cp()((function*(t,i,{customShape:a}={}){var c;if(r&&-1!==(c=r.findIndex((e=>e.func_name===o)))){var l,u=r[c].code;try{l=yield Pw(u,void 0!==i?i:t[Iw(n)],s,null!=a?a:e.shape_list)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return l}return yield Tw(t,Iw(n),o,s,null!=a?a:e.shape_list,i)})),function(e,r){return t.apply(this,arguments)})}};for(var f of s)yield*h(f);c.forEach((e=>{i[e.key]={type:e.type,shape:e.shape_list,data:Lw(e.base64_data)}}))}return{modelName:o,model:a,config:i,domTextPreset:d,regCheckCfg:u,key:l,cliParamList:s,isScreenshot:p}}));return function(t,r,n){return e.apply(this,arguments)}}(),Kw=function(){var e=cp()((function*(e,t,r,{customShape:n}={}){for(var i of Object.values(e))"function"==typeof i.getData&&(i.data=yield i.getData(t,r,{customShape:n}));return e}));return function(t,r,n){return e.apply(this,arguments)}}(),Jw,Xw=()=>{var e,t;return null!==(e=T)&&void 0!==e&&null!==(t=e.getCurrentRouteStartTime)&&void 0!==t&&t.call(e)?Date.now()-T.getCurrentRouteStartTime()>2e3?Jw:void 0:-1},Yw=(e,t)=>t.map((t=>{var r=e[Iw(t.preset_data)],n=new RegExp(t.reg_exp);return{id:t.id,match:n.test(r)}})),Qw=function(){var e=cp()((function*(e,t){return Bv(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),Zw=null,eI,tI=(e={})=>{var t=Date.now();return new Promise(((r,n)=>{invokeWebviewMethod("getDOMContent",{type:e.type},void 0,(e=>{null!=e&&e.errMsg?n(e.errMsg):r({res:e,cost:Date.now()-t})}))}))},rI=(e={})=>{var t=Date.now();return new Promise(((r,n)=>{bp("getMultiDOMContent",{types:e.types},void 0,(e=>{null!=e&&e.errMsg?n(e.errMsg):r({res:e,cost:Date.now()-t})}))}))},nI=(e,t)=>{var r,n=null===(r=z.appLaunchInfo)||void 0===r?void 0:r.openId;return new Promise(((r,i)=>{Xb({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&openid=${n}&buf_type=rgb&height=${t[1]}&width=${t[0]}`,method:"POST",data:e,success(e){r(e.data.media_id_str)},fail(e){i(e)}})}))},iI,aI=(e,t)=>new Promise(((r,n)=>{if(iI)return r(iI);Qw(e,t).then((e=>{var t=Zf({model:e});t.onLoad((()=>{iI=t,r(t)})),t.onError((e=>{iI||n(e)}))})).catch((e=>{n(e)}))})),oI=(e,t)=>{void 0===e&&(e=[]);try{var r,n=Date.now();return e.length&&(r=Yw(t,e)),{regRes:r,errMsg:null,cost:Date.now()-n}}catch(e){return{errMsg:e.message,cost:-1}}},sI=function(){var e=cp()((function*(e,t,r,n,i,{customShape:a}={}){void 0===n&&(n={});var o,s=[];if(!e)return{xnetRes:null,errMsg:null,logicCost:s};try{var c=Date.now();zw(2),o=yield aI(e,t),zw(3);var l=Date.now()-c;s.push({logic_type:2,time_cost:l})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:s}}try{var u,d,p,h=Date.now();zw(4),yield Kw(r,n,i,{customShape:a}),zw(5,{xnet_res:[{base64_data:Ow(null===(u=r.input_ids)||void 0===u?void 0:u.data),type:null===(d=r.input_ids)||void 0===d?void 0:d.type,shape_list:null===(p=r.input_ids)||void 0===p?void 0:p.shape}]});var f=Date.now()-h;s.push({logic_type:3,time_cost:f});var g=Date.now(),v=yield o.run(r),m=Date.now()-g;return s.push({logic_type:4,time_cost:m}),zw(6),{xnetRes:v,logicCost:s}}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:s}}}));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),cI=function(){var e=cp()((function*(){var e=yield um();if(e){var{domTextPreset:t}=e;return yield rI({types:t})}}));return function(){return e.apply(this,arguments)}}(),lI=!0,uI=function(){var e=cp()((function*(e,t){var r=yield um(void 0,!0);if(r&&r.length){lI&&(lI=!1,zw(1));var n,i=[],{domTextPreset:a,regCheckCfg:o,taskId:s,debug:c}=r[0],l=c?T.getCurrentFullyRoutePath():T.getCurrentRoutePath(),u=Date.now(),d=t||(t=yield rI({types:a})),{res:p,cost:h}=d,f=oI(o,p);f.errMsg&&(n=f.errMsg),i.push({logic_type:1,time_cost:f.cost});var g=[],v=r.map(function(){var e=cp()((function*(e){if(!e.isScreenshot){var{modelUrl:t,cfg:r,modelName:i,key:a}=e,{xnetRes:o,errMsg:s,logicCost:l}=yield sI(t,i,r,p,void 0),u={conf_name:a,xnet_res:o,errmsg:s,logic_cost_time_list:l};if(c){var d=[];for(var h of Object.keys(r)){var f,v=r[h],m=Ow(v.data);(null===(f=m)||void 0===f?void 0:f.length)>2e4&&(m=m.slice(0,2e4)+":size over max"),d.push({key:h,type:v.type,shape_list:v.shape,base64_data:m})}u.debug_data={xnet_param:d}}g.push(u),s&&(n=s)}}));return function(t){return e.apply(this,arguments)}}());if(yield Promise.all(v),g.length||f.regRes||n){var m=Date.now()-u;i.push({logic_type:5,time_cost:h}),$w({taskId:s,xnetResList:g,regResList:f.regRes,curPath:l,runScene:e,runTime:Date.now(),costTime:m,errMsg:n,debug:c,domTextPresetData:p,blockTime:-1,logicCostList:i,contentId:1})}}}));return function(t,r){return e.apply(this,arguments)}}(),dI=function(){var e=cp()((function*(e,t,r,n){var{taskId:i,debug:a}=e[0];if(t){var o;a&&(o=nI(t,[r[1],r[0]]));var s,c,l=Date.now(),u=e.map(function(){var e=cp()((function*(e){if(e.isScreenshot){var{modelUrl:n,cfg:i,modelName:o,key:c}=e,{xnetRes:l,errMsg:u,logicCost:d}=yield sI(n,o,i,null,t,{customShape:r});u&&(s=u);var p={conf_name:c,xnet_res:l,errmsg:u,logic_cost_time_list:d};return a&&(p.debugCfg=e.cfg),p}}));return function(t){return e.apply(this,arguments)}}()),d=yield Promise.all(u),p=Date.now()-l;if(o)try{c=yield o}catch(n){}c&&d.forEach((e=>{var t=[];for(var r of Object.keys(e.debugCfg))t.push({key:r,type:"screenshot",shape_list:null,base64_data:c});delete e.debugCfg,e.debug_data={xnet_param:t}})),$w({taskId:i,xnetResList:d,regResList:null,curPath:a?T.getCurrentFullyRoutePath():T.getCurrentRoutePath(),runScene:11,runTime:Date.now(),costTime:p,errMsg:s,debug:c,domTextPresetData:null,blockTime:-1,logicCostList:[],contentId:2})}else $w({taskId:i,xnetResList:null,regResList:null,curPath:a?T.getCurrentFullyRoutePath():T.getCurrentRoutePath(),runScene:11,runTime:Date.now(),costTime:-1,errMsg:n,debug:a,domTextPresetData:null,blockTime:-1,logicCostList:[],specialCase:[{key:"support_screenshot",value:"false"}],contentId:2})}));return function(t,r,n,i){return e.apply(this,arguments)}}(),pI=e=>{if(xc("navigateTo",e,{url:""})&&Cp("navigateTo",e)&&Ap("navigateTo",e)){var t=Ip("navigateTo",e,!1);if(t&&(e.url=t,e.url=Wd(e.url),e.singlePageData={routeType:e.routeType},kp("navigateTo",e.url,e))){var r=Dp();if(e.events)for(var n of Object.keys(e.events))r.on(n,e.events[n]);ul.navigatorLock=!0,1!==Xw()?(gu("navigateTo",e,{afterFail(){ul.navigatorLock=!1,T.traceRoute("navigateTo",e.url,!1)},beforeSuccess(t){T.traceRoute("navigateTo",e.url),t.eventChannel=r}}),Sp.emit({type:"navigateTo",start:Date.now()})):cI().then((e=>{uI(1,e)})).finally((()=>{Sp.emit({type:"navigateTo",start:Date.now()}),gu("navigateTo",e,{afterFail(){ul.navigatorLock=!1,T.traceRoute("navigateTo",e.url,!1)},beforeSuccess(t){T.traceRoute("navigateTo",e.url),t.eventChannel=r}})}))}}},hI=e=>{Yc.DisplayReporter.setEventRelatedInfo(e._relatedInfo),pI(e)},fI=e=>{if(xc("redirectTo",e,{url:""})&&Cp("redirectTo",e)&&Ap("redirectTo",e)){var t=Ip("redirectTo",e,!1);t&&(e.url=t,e.url=Wd(e.url),kp("redirectTo",e.url,e)&&(e.singlePageData={},ul.navigatorLock=!0,1!==Xw()?(gu("redirectTo",e,{afterFail(){ul.navigatorLock=!1,T.traceRoute("redirectTo",e.url,!1)},beforeSuccess(){T.traceRoute("redirectTo",e.url)}}),Sp.emit({type:"redirectTo",start:Date.now()})):cI().then((e=>{uI(3,e)})).finally((()=>{gu("redirectTo",e,{afterFail(){ul.navigatorLock=!1,T.traceRoute("redirectTo",e.url,!1)},beforeSuccess(){T.traceRoute("redirectTo",e.url)}})}))))}},gI=e=>{if("active"===ul.runningStatus||"ios"!==ue){if(xc("reLaunch",e,{url:""})&&Cp("reLaunch",e)&&Ap("reLaunch",e)){var t=Ip("reLaunch",e,!1);t&&(e.url=t,e.url=Wd(e.url),kp("reLaunch",e.url,e)&&(ul.navigatorLock=!0,gu("reLaunch",e,{afterFail(){ul.navigatorLock=!1,T.traceRoute("reLaunch",e.url,!1)},beforeSuccess(){T.traceRoute("reLaunch",e.url)}}),Sp.emit({type:"reLaunch",start:Date.now()})))}}else Rc("reLaunch",e,"can not invoke reLaunch in background")},vI=(e={})=>{if(xc("switchTab",e,{url:""})&&(/\?.*$/.test(e.url)&&(console.warn("wx.switchTab: url 不支持 queryString"),e.url=e.url.replace(/\?.*$/,"")),Cp("switchTab",e)&&Ap("switchTab",e))){var t=Ip("switchTab",e,!1);t&&(e.url=t,e.url=Wd(e.url),kp("switchTab",e.url,e)&&(ul.navigatorLock=!0,1!==Xw()?(gu("switchTab",e,{afterFail(){ul.navigatorLock=!1,T.traceRoute("switchTo",e.url,!1)},beforeSuccess(){T.traceRoute("switchTo",e.url)}}),Sp.emit({type:"switchTab",start:Date.now()})):cI().then((e=>{uI(2,e)})).finally((()=>{gu("switchTab",e,{afterFail(){ul.navigatorLock=!1,T.traceRoute("switchTo",e.url,!1)},beforeSuccess(){T.traceRoute("switchTo",e.url)}})}))))}},mI=(e,t)=>{var r={_relativePath:e,_webviewId:t};return{navigateTo(e){pI(Object.assign({},e,r))},redirectTo(e){fI(Object.assign({},e,r))},switchTab(e){vI(Object.assign({},e,r))},navigateBack(e){Pp(Object.assign({},e,r))},reLaunch(e){gI(Object.assign({},e,r))}}},yI=new Nt;Tt("onPageReload",((e={},t=0)=>{e.webviewId=t,yI.emit("onPageReload",e)}));var bI=function(e){yI.on("onPageReload",(t=>{t.path&&(t.path=Md(t.path)),"function"==typeof e&&e(t)}))},_I=function(e){yI.emit(`onBeforeUnloadPage_${e}`,e),yI.removeAllListeners(`onBeforeShareAppMessage_${e}`),SI(e)},wI={},II=(e,t)=>(wI[e]=wI[e]||{},!!wI[e][t]||(wI[e][t]=!0,!1)),SI=e=>{delete wI[e]},kI=0,CI=function(e,t,r){var n=r;n||(n=kI++),II(e,n)||yI.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},EI=function(e){yI.emit(`onBeforeShareAppMessage_${e}`,e)},AI=function(e,t){yI.on(`onBeforeShareAppMessage_${e}`,(e=>{"function"==typeof t&&t(e)}))},TI=bI,PI=_I,xI=EI,MI=jc(pI),RI=jc(fI),DI=jc(vI),OI=void 0,LI=e=>{JSON.stringify(e),OI=e},NI=function(){var e=cp()((function*(e){try{lr("syncHighlightBottomBanner",{highlighted:!0}),yield BI({navigateInfo:e})}catch(e){}}));return function(t){return e.apply(this,arguments)}}(),BI=function(){var e=cp()((function*(e={}){try{yield vu("highlightBottomBanner",{shouldHighlight:!0}),LI(e.navigateInfo)}catch(e){gu("showToast",{icon:"",title:"请前往小程序使用完整服务",duration:2500}),fp(!0)}}));return function(){return e.apply(this,arguments)}}();gr("highlightBottomBanner",function(){var e=cp()((function*(e){try{yield BI(e)}catch(e){}}));return function(t){return e.apply(this,arguments)}}()),gr("cancelHighlightBottomBanner",(()=>{LI(null),gu("highlightBottomBanner",{shouldHighlight:!1})})),Tt("onBottomBannerButtonClicked",((e={})=>{gp(),gu("restart",{url:e.currentPath,scene:1155,privateExtraData:{singlePageNavigationInfo:OI},fail(e){v.error("restart fail",e)}})}));var FI=e=>new Promise((t=>setTimeout(t,e)));z.onReady(cp()((function*(){try{var e,t,r,n=null==z||null===(e=z.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t||null===(r=t.privateExtraData)||void 0===r?void 0:r.singlePageNavigationInfo;if(!n)return;yield FI(500);var{type:i,url:a,_relativePath:o}=n;switch(i){case"navigate":case"navigateTo":yield MI({url:a,_relativePath:o});break;case"redirect":case"redirectTo":yield RI({url:a,_relativePath:o});break;case"switchTab":yield DI({url:a,_relativePath:o})}}catch(e){}})));var WI=!1;function jI(e){WI=!!e.state,e.success&&e.success({state:WI})}function VI(e,t,r){Sd(e);var n=md(e,"ui");if(n>0&&WI)return!1;if(n>=20)if(void 0===Yc){if(t)return!1}else{var i=Kd(Yc.getCurrentRoute()||"");if("//"===i)return!1;if(i!==t&&n>=30)return!1}var a=md(e,"singlePage")||0;if(10!==a&&Uu())switch(a){default:case 0:return!1;case 1:case 2:return!!Id()&&($u()?gu("highlightTitleForSinglePage"):NI(2===a?{type:e,url:null==r?void 0:r.url,_relativePath:void 0===(null==r?void 0:r._relativePath)?ul.lastRoute:null==r?void 0:r._relativePath}:void 0),!1)}return 10===md(e,"background")||!h.isStarted||!ip()}function UI(){}var $I=null,zI=[],qI=new Map;gr("onInputComponentData",(e=>{var t,r=null!==(t=e.inputId)&&void 0!==t?t:e.viewId;r&&($I=e,qI.set(r,e),zI.forEach((e=>{HI(e,e.webviewId)})),zI=[])}));var HI=(e,t=0)=>{if($I){var r=$I.data;if(r&&"function"==typeof ul.webviewEventCallback){var n=JSON.parse(r);if(n.bindkeyboardheightchange)try{ul.webviewEventCallback({data:{type:"keyboardheightchange",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{duration:e.duration||0,height:e.height||0}},eventName:n.bindkeyboardheightchange,webviewId:t||ul.currentWebviewId,nodeId:n.nodeId})}catch(e){throw new kd("bind key input error")}}}};function GI(e,t){var r=e.value,n=e.cursor,i=JSON.parse(e.data);if(i.modelValueName&&Kc.setModelValueData(e.value,i.modelValueName,t,i.nodeId),"function"==typeof ul.webviewEventCallback&&i.bindinput){var a;try{a=ul.webviewEventCallback({data:{type:"input",target:i.target,currentTarget:i.target,timeStamp:Date.now(),touches:[],detail:{value:r,cursor:n,keyCode:e.keyCode}},eventName:i.bindinput,webviewId:t,nodeId:i.nodeId})}catch(e){throw new kd("bind key input error")}if(i.setKeyboardValue)if(null==a||!1===a);else{if("Object"===Fe(a)){var o={inputId:e.inputId};return r!==a.value&&(o.value=a.value+""),Number.isNaN(parseInt(a.cursor,10))||(o.cursor=parseInt(a.cursor,10),void 0===o.value&&(o.value=r),o.cursor>o.value.length&&(o.cursor=-1)),o}if(r!==a)return{value:a+"",cursor:-1,inputId:e.inputId}}}}gr("removeInputComponent",(e=>{var t,r=null!==(t=e.inputId)&&void 0!==t?t:e.viewId;r&&qI.delete(r),!$I||$I.inputId!==e.inputId&&$I.viewId!==e.viewId||($I=null)})),Kt("onKeyboardHeightChange",((e,t=0)=>{$I?HI(e,t):zI.push({inputId:e.inputId,viewId:e.viewId,height:e.height,duration:e.duration,webviewId:t})})),Kt("onKeyboardValueChange",((e,t=0)=>{var r=e.value,n=e.cursor;if(lr("setKeyboardValue",{value:r,cursor:n,inputId:e.inputId},[t]),e.data){var i,a=qI.get(null!==(i=e.inputId)&&void 0!==i?i:e.viewId);if(null!=a&&a.ignoreInput)return;var o=GI(e,t);o&&gu("setKeyboardValue",o)}})),gr("onKeyboardValueChange",((e,t=0)=>{var r=GI(e,t);r&&lr(`setKeyboardValue_${e.viewId}`,r,[t])}));var KI=(e,t=!0)=>zd(ul.lastRoute,e,t),JI=function(e,t){return ed(e,t,(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e}))},XI=JI("getCloudFileUrl","qbase_commapi");function YI(e,t){for(var r=[],n=Math.ceil(e.length/t),i=0;i<n;i++)r.push(e.slice(i*t,(i+1)*t));return r}var QI=function(e,t,r){eS({fileIds:e,type:t,success:r})},ZI=new Map,eS=function(e){var{fileIds:t,type:r,success:n}=e,i=new Map,a=[],o=!1;if(t.forEach((e=>{var t=ZI.get(e);if(t){if(Date.now()<t.expireTime)return void(i.has(e)||(i.set(e,t.data),o||(o=!0)));ZI.delete(e)}/^(cloud):\/\//.test(e)&&a.push(e)})),0!==a.length){var s=0,c=YI(t,50);Promise.all(c.map((e=>new Promise((t=>{XI({data:{fileid_list:e,type:r},requestInQueue:!1,success(r){var n=r;if(n.baseresponse&&0===n.baseresponse.errcode?n.download_list.forEach((e=>{i.set(e.fileid,e),!ZI.has(e.fileid)&&e.max_age&&ZI.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):n.baseresponse?e.forEach((e=>{i.set(e,{download_url:e,service_errcode:n.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+n.baseresponse.errcode}),ZI.has(e)&&ZI.delete(e)})):e.forEach((e=>{i.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),ZI.has(e)&&ZI.delete(e)})),n.baseresponse&&n.baseresponse.stat&&n.baseresponse.stat.qbase_cost_time){var a=n.baseresponse.stat.qbase_cost_time;a>s&&(s=a)}t()},fail(){t()},complete(e){}})}))))).then((()=>{tS(t,i,s,n)})).catch((e=>{"function"==typeof n&&n({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else o?tS(t,i,0,n):"function"==typeof n&&n({data:t.map((e=>({url:e})))})};function tS(e,t,r,n){var i=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?i.push({url:r.download_url}):i.push({url:e,code:r.service_errcode,msg:r.errmsg}):i.push({url:e,code:-1,msg:"NO_RESULT"})}else i.push({url:e})})),"function"==typeof n&&n({data:i,cost:r})}var rS=e=>{gu("bindPaymentCard",e)},nS=e=>{gu("loadPaySpeechDialectConfig",e)},iS=(e={})=>{pe&&Gu(z.clientVersion,"7.0.15")>=0||he&&Gu(z.clientVersion,"7.0.13")>=0?gu("phoneBindCardVerifySms",e):Rc("phoneBindCardVerifySms",e,"not yet supported")},aS=e=>{gu("requestMallPayment",e)},oS=e=>{gu("requestVerifyUserIdentity",e)},sS=e=>{gu("getWCPayOverseaPrepayRequest",e)},cS=e=>{gu("openOfflinePayView",e)},lS=(e={})=>{gu("requestEntrustAuthorization",e)},uS=c.objectWithoutProperties,dS=l.n(uS),pS={},hS={lastShareTicket:null,get:e=>pS[e],set(e,t){var r=Zd();return pS[r]={shareKey:e,shareName:t},r}},fS=hS,gS=new Nt,vS={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:fS,emitter:gS},mS=vS;function yS(e){var t,r=!1;return function(){return r||(t=e(),r=!0),t}}var bS=yS((()=>{var e=!1;return(he||pe&&z.clientVersion>=637865520)&&(e=!0),e})),_S=yS((()=>{var e=!1;return he&&z.clientVersion>=385877248&&(e=!0),e})),wS=yS((()=>{var e=!1;return he&&z.clientVersion>=385878314&&(e=!0),e})),IS=yS((()=>{var e=!1;return he&&z.clientVersion>=402655232&&z.clientVersion<=402655487&&(e=!0),e})),SS=e=>{var t,r,n=e.api.find((e=>"request"===e.name));if(n){var i=null===(t=n.req)||void 0===t?void 0:t.interpreterRules,a=null===(r=n.resp)||void 0===r?void 0:r.interpreterRules;tm().runTask("createWeAppRequestInterpreter",{rules:{req:i,res:a,exclusive:!0},appid:z.accountInfo.appId}).catch((e=>{v.error("createWeAppRequestInterpreter error:",e)}))}},kS=[],CS=e=>{kS.push(e)},ES=()=>kS,AS=()=>kS[kS.length-1],TS=e=>{switch(e){case 1001:case 1003:case 1023:case 1038:case 1041:case 1056:case 1080:case 1083:case 1089:case 1090:case 1103:case 1104:case 1131:case 1019:case 1112:case 1127:case 1134:case 1187:return!0;default:return!1}},PS=()=>{var e=kS.filter((e=>!TS(e)));return e[e.length-1]},xS=()=>{var e=kS.filter((e=>![1038].includes(e)));return e[e.length-1]},MS;function RS(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:ul.query)||{},e.path=Md(t?e.path:ul.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?ul.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:ul.lastShareInfo=void 0),mS.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(mS.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){var{shareInfo:r}=e;r.shareKey&&r.shareName&&(gu("showUpdatableMessageSubscribeButton",{shareKey:r.shareKey}),e.shareTicket=mS.ShareInfoStorage.set(r.shareKey,r.shareName),mS.ShareInfoStorage.lastShareTicket=e.shareTicket),delete e.shareInfo}return e}function DS(e={},t){0===(e=Object.assign({},e)).scene?e.scene=MS:MS=e.scene;var r=e.scene;1003===r?r=1089:1131===r||1158!==r&&1159!==r&&1160!==r||!Ph("getGroupToolbarInfo")&&(r=1008),[1106,1005,1006,1027,1042].indexOf(r)>-1&&(e.referrerInfo.appId=null);var n=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{};(1092===r&&n.extraData&&n.extraData.csSessionId&&n.extraData._reportInfo&&(void 0===T||T.shouldStartReport()&&!T.shouldUpdateReportInfo(n.extraData.csSessionId)||(v.info("ca report startegy:",n.extraData._reportInfo),T.convertReportInfo2Strategys(n.extraData._reportInfo),T.startActionChainReport(),T.setSessionId(n.extraData.csSessionId),T.setEventJoinInterval(n.extraData._reportInfo.eventJoinInterval),T.setAsyncCallbackJoinEventInterval(n.extraData._reportInfo.asyncCallbackJoinEventInterval),T.setReportSetting({reportCache:n.extraData._reportInfo.reportCache,reportInterval:n.extraData._reportInfo.reportInterval}),T.protectActionReporter(),SS(n.extraData._reportInfo))),e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId)&&(e.referrerInfo.appId&&(n.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId,0===Object.keys(e.referrerInfo.privateExtraData).length&&delete e.referrerInfo.privateExtraData);var i={path:e.path,query:e.query,scene:r,shareTicket:e.shareTicket,referrerInfo:n};e.chatroomUsername&&1156===r&&(i.chatroomUsername=e.chatroomUsername),e.chatType&&(i.chatType=e.chatType);var a,o,s=e.nativeExtraData||{};(s.location&&(i.locationInfo=s.location),De()||Le())&&(e.nativeExtraData&&(i.nativeExtraData=e.nativeExtraData),null!==(a=e)&&void 0!==a&&null!==(o=a.referrerInfo)&&void 0!==o&&o.privateExtraData&&(i.privateExtraData=e.referrerInfo.privateExtraData),i.sessionId=e.sessionid||e.sessionId,i.isLaunch=e.isLaunch,e.isLaunch&&(i.prerender=!!z.prerender),i.clickTimestamp=e.clickTimestamp,i.preloadType=t);return De()&&(e.isLaunch?i.userConfig=z.userConfig:i.userConfig=e.userConfig),e.mode&&(i.mode=e.mode),e.apiCategory&&(i.apiCategory=e.apiCategory),1173===r&&(s.mimeType?i.forwardMaterials=[{type:s.mimeType,path:s.materialPath,name:s.materialName,size:s.materialSize}]:Array.isArray(s.materials)&&(i.forwardMaterials=s.materials)),1226===r&&s.iot&&(i.iot=s.iot),e.isTransparentBackgroundSupport&&(i.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),i}function OS(e,t){e.apiCategory=(e=>{if([1200,1201,1228].includes(xS()))return"default";switch(e.mode){case"default":case"halfPage":return"nativeFunctionalized"===e.appearance?"nativeFunctionalized":"default";case"singlePage":return"browseOnly";case"embedded":return"embedded";default:return"default"}})(e),void 0===e.isTransparentBackgroundSupport&&(e.isTransparentBackgroundSupport=z.isTransparentBackgroundSupport)}function LS(e,t=""){if(Kd(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),Le()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}function NS(e){try{Yc.setPrivateExtraData(e.privateExtraData),e.success()}catch(t){e.fail(t)}}var BS={};function FS(e){BS=e}function WS(){var e=Gp(this)||"";return LS(BS,e)}gr("getEnterAppInfo",(({callbackId:e},t)=>{lr("appEnterInfoGot",{res:dp(),callbackId:e},[t])}));class jS{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}var VS=(()=>new jS)(),US=VS;z.onReady((()=>{ul.scene=z.appLaunchInfo.scene,ul.sceneNote=z.appLaunchInfo.scene_note}));var $S=Ut("AppEnterForeground"),zS=$S.internalOnMethod,qS=Date.now(),HS="";function GS(e){var t=!1;return pe&&z.clientVersion>=671090944&&z.clientVersion<=671091003&&1038===e.scene&&e.sessionId===HS&&Date.now()-qS<250&&ul.lastEmitIsEnterForeground&&(t=!0),ul.lastEmitIsEnterForeground=!0,qS=Date.now(),HS=e.sessionId,t}function KS(e){if(!Te()){if(GS(e=RS(e,!1)))return;qS=Date.now(),up(e);var t=DS(e);e.__public=LS(t,""),v.info("[EnterOptions] set enterOptions by onAppEnterForeground"),FS(t),US.set("api_call_from_hot_boot_time",Date.now(),!0),$S.emit(e),ul.scene=e.scene,ul.sceneNote=e.scene_note}}h.onLoad((()=>{qS=Date.now()})),Kt("onAppEnterForeground",((e={})=>{var t=e.debugLaunchInfo||{};Object.assign(e,t),delete e.debugLaunchInfo;var r=!bS(),n=1===e.reLaunch||!0===e.reLaunch;if(v.info(`[onAppEnterForeground] needAppEnterForegroundPatch=${r}, isReLaunch=${n}`),CS(e.scene),OS(e,!1),r||!n)KS(e);else{var i=t=>{v.info(`[onAppEnterForeground] get onAppRoute [${t}], prerender=${z.prerender}`),"appLaunch"!==t.openType||!0!==z.prerender?(v.info("[onAppEnterForeground] emit enterForeground"),KS(e)):mS.emitter.once("onAppRoute",i)};mS.emitter.once("onAppRoute",i)}lr("onAppEnterForeground",e)}));var JS=Ut("lifeCycle:AppRoute"),XS=JS.internalOnMethod,YS=JS.internalOffMethod,QS=JS.emit.bind(JS),ZS=Ut("LifeCycle:Show"),ek=ZS.emitInternal.bind(ZS),tk=ZS.emitGlobal.bind(ZS),rk=ZS.onMethod,nk=ZS.offMethod,ik=ZS.internalOnMethod,ak=ZS.internalOffMethod,ok=Ut("LifeCycle:beforeHide"),sk=Ut("LifeCycle:Hide"),ck=Ut("LifeCycle:afterHide"),lk=sk.emitInternal.bind(sk),uk=sk.emitGlobal.bind(sk),dk=ok.emitInternal.bind(ok),pk=ck.emitInternal.bind(ck),hk=sk.onMethod,fk=sk.offMethod,gk=ok.internalOnMethod,vk=ok.internalOffMethod,mk=sk.internalOnMethod,yk=sk.internalOffMethod,bk=ck.internalOnMethod,_k=ck.internalOffMethod,wk=[],Ik=[],Sk=["expires","domain","path","busid","indate","receivetime","spread","extra"],kk=502,Ck=503,Ek={scene:-1,sceneNote:"",sessionId:""};function Ak(e){var t=z.accountInfo&&z.accountInfo.appId||"noAppId";bp("getCookiesFromGlobalStorage",{appId:t},void 0,e)}function Tk(e,t){var r=z.accountInfo&&z.accountInfo.appId||"noAppId";e&&e.trim()&&bp("setCookiesToGlobalStorage",{cookies:e,appId:r},void 0,t)}function Pk(e){return de||Ph(e)}function xk(e){Ak((t=>{t&&Dk(t,!1,wk),e&&e()}))}function Mk(){var e=Date.now(),t=[];wk.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;if(n&&1e3*n>e){var i=[];for(var a in r)Sk.indexOf(a)>=0&&i.push(`${encodeURIComponent(a)}=${encodeURIComponent(r[a])}`);i.push(`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value)}`),t.push(i.join("; "))}}));var r=t.join(";; ");r.length>=4096||Tk(r,(()=>{}))}function Rk(e,t){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(e.busid===i.busid&&e.key===i.key)return!0}return!1}function Dk(e,t,r){if("string"==typeof e){var n=Date.now();e.split(";;").forEach((e=>{var i,a=!1;if(e.split(";").forEach((e=>{i=i||{};var t=(e=e.split("="))[0].trim(),r=e[1]&&e[1].trim();if("expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),t&&void 0!==r){var n=decodeURIComponent(t);Sk.indexOf(t)>=0&&!Pd(i,n)?i[n]=decodeURIComponent(r):(a=!0,i.key=n,i.value=decodeURIComponent(r))}})),i){a||(i.key="extra",i.value=i.extra,delete i.extra),t&&(i.receivetime=~~(n/1e3)),void 0===i.expires&&void 0!==i.indate&&i.receivetime&&(i.__wxprivate_calc_expires__=+i.receivetime+ +i.indate);var o=i.expires||i.__wxprivate_calc_expires__;o&&!(1e3*o>n)||Rk(i,r)||r.push(i),z.accountInfo&&z.accountInfo.appId&&i.spread&&(i.spread="*"===i.spread?"":i.spread+":",i.spread+=z.accountInfo.appId)}}))}}ik(((e={})=>{Ek.scene=e.scene,Ek.sceneNote=e.scene_note,Ek.sessionId=e.sessionid})),mk(((e={})=>{if(3===e.targetAction)for(var t=wk.length-1;t>=0;t--){var r=wk[t].extra;r&&"del_on_exit"===r&&wk.splice(t,1)}}));var Ok=()=>{XS((()=>{var e=z.appLaunchInfo||{},t=+e.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;"string"==typeof i&&Dk(i,1037!==t,wk),xk(Mk)})),zS(((e={})=>{var t=+e.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;(1037===t||i&&"string"==typeof i||1===e.reLaunch||!0===e.reLaunch)&&(wk=[],Ik=[]),"string"==typeof i&&Dk(i,1037!==t,wk),xk(Mk)}))};function Lk(e){var t=[];for(var r in e)Sk.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}function Nk(e){var t=[];return e.forEach((e=>{t.push(Lk(e))})),t.join(";; ")}var Bk=e=>{var t=Date.now(),r=[];wk.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!n||1e3*n>t)&&r.push(Lk(e))}));var n=r.join(";; ");return e&&e.success&&e.success({cookies:n}),n},Fk=e=>{var t=Date.now(),r=[];wk.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;(!n||1e3*n>t)&&r.push(e)}));var n=z&&z.accountInfo&&z.accountInfo.appId||"",i=Ek.scene||"",a=Ek.sceneNote||"",o=Ek.sessionId||"";r.push({key:"appid",value:n,busid:"wxapp"},{key:"sessionid",value:o,busid:"wxapp"},{key:"scene",value:i,busid:"wxapp"},{key:"scene_note",value:a,busid:"wxapp"});var{hostAppId:s,pluginAppId:c}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==s&&void 0!==c){var l=r.find((e=>"appid"===e.key));l&&(l.value=s),r.push({key:"plugin_appid",value:c,busid:"wxapp"})}var u=z.host||{};"SDK"===u.env&&r.push({key:"sdk_host_appid",value:u.appId,busid:"wxapp"});var d=r.map(Lk).join(";; ");return e&&e.success&&e.success({cookies:d}),d},Wk=()=>{var e=Date.now(),t=[];return Ik.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;(!n||1e3*n>e)&&t.push(Lk(r))})),t.join(";; ")},jk=e=>{var t=Date.now(),r=e.cookies||[],n=e.isTemporary;if(r instanceof Array){var i=n?Ik:wk,a=[],o={},s={},c=z.accountInfo&&z.accountInfo.appId||"";if(r.forEach((e=>{if(e.key&&"string"==typeof e.key){var r=+e.expires;if(!e.value||r&&1e3*r<t)o[e.key]={key:e.key,busid:e.busid};else{var i={key:e.key,value:e.value};Sk.forEach((t=>{var r=e[t];"expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),"spread"===t&&r&&!n&&c&&(i.spread="*"===r?"":r+":",i.spread+=c),"receivetime"!==t&&"spread"!==t&&void 0!==r&&(i[t]=r)})),s[e.key]=i,a.push(i)}}})),i.forEach((e=>{var r=o[e.key];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var n=s[e.key];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var i=e.expires||e.__wxprivate_calc_expires__;i&&1e3*i<t||a.push(e)}}})),Nk(a).length>=4096)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";n?Ik=a:(wk=a,Mk())}},Vk=e=>{var t=Date.now(),r=e.keys||[],n=e.busid,i=e.isTemporary;if(r instanceof Array){var a=[];return(i?Ik:wk).forEach((e=>{var i=e.expires||e.__wxprivate_calc_expires__;if((!i||1e3*i>t)&&r.indexOf(e.key)>=0&&(!n||n&&n===e.busid)){var o={[e.key]:e.value};Object.keys(e).forEach((t=>{Sk.indexOf(t)>=0&&(o[t]=e[t]),"indate"!==t&&"expires"!==t||(o[t]=+o[t])})),a.push(o)}})),a}},Uk=e=>{var t="setCookies:ok";if(Pk("setCookies")){var r=jk(e);r?(t=r,"function"==typeof e.fail&&e.fail({errMsg:t})):"function"==typeof e.success&&e.success({errMsg:t})}else t="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},$k=e=>{var t="getCookies:ok";if(Pk("getCookies")){var r=Vk(e);"function"==typeof e.success&&e.success({errMsg:t,cookies:r})}else t="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},zk=Ut("AppEnterBackground"),qk=zk.internalOnMethod;Kt("onAppEnterBackground",((e={})=>{zk.emit(e),lr("onAppEnterBackground",e),ul.lastEmitIsEnterForeground=!1}));var Hk=!1,Gk=0;iy((e=>{Gk=e.timeStamp,Hk=!0})),qk((()=>{Gk=0,Hk=!1}));var Kk=()=>Hk,Jk=()=>{Gk=Date.now(),Hk=!0},Xk=e=>{Jk(),"function"==typeof e.success&&e.success()},Yk=()=>Hk,Qk=()=>Gk;function Zk(e){var t=z.accountInfo&&z.accountInfo.appId||"noAppId";bp("getRiskWarningFromGlobalStorage",{appId:t},void 0,e)}function eC(e,t){var r=z.accountInfo&&z.accountInfo.appId||"noAppId";e&&bp("setRiskWarningToGlobalStorage",{riskWarning:e,appId:r},void 0,t)}function tC(e){var t=z.accountInfo&&z.accountInfo.appId||"noAppId";bp("getRequestPaymentFromGlobalStorage",{appId:t},void 0,e)}function rC(e,t){var r=z.accountInfo&&z.accountInfo.appId||"noAppId";e&&bp("setRequestPaymentToGlobalStorage",{requestPayment:e,appId:r},void 0,t)}var nC=null,iC=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],aC=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],oC=()=>({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0}),sC=(e,t,r)=>Math.min(Math.max(t,e),r),cC=({outer:e={width:0,height:0},inner:t={width:0,height:0},maxScale:r=1e3,minScale:n=0,side:i})=>{var a=e.width/e.height,o=t.width/t.height,s=e.width/t.width,c=e.height/t.height,l=a>o?c:s;return"width"===i?l=s:"height"===i&&(l=c),l=sC(l,n,r),t.width*=l,t.height*=l,e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height),{scale:l,outer:e,inner:t}},lC=(e=0)=>new Promise((t=>{setTimeout(t,e)})),uC=()=>{},dC=()=>{},pC=(e,t)=>{for(var r="",n=0,i=0;i<e.length;i++){if((n+=/[\u4e00-\u9fa5]/.test(e[i])?2:1)>t){r+="...";break}r+=e[i]}return r},hC=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),fC=Object.assign,gC=e=>(t={})=>new Promise(((r,n)=>{e(fC(t,{success:r,fail:n}))})),vC=e=>Object.keys(e).reduce(((t,r)=>{var n=e[r],i=typeof n;return"object"===i&&null!==n?t[r]=vC(n):"undefined"!==i&&(t[r]=e[r]),t}),{}),mC=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e},yC=function(e,t,r){var n,i,a,o=null,s=0;r||(r={});var c=function(){s=!1===r.leading?0:Date.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var l=Date.now();s||!1!==r.leading||(s=l);var u=t-(l-s);return n=this,i=arguments,u<=0||u>t?(clearTimeout(o),o=null,s=l,a=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(c,u)),a}},bC=(e,t,r)=>{r&&Kt(e,t)},_C=(e,t)=>{bC(e,t,"undefined"==typeof IS_SDK_PACKAGE)},wC={uuid:32768,increase(){return this.uuid++}},IC=new Nt({maxListeners:2e5}),SC="portrait",kC="";z.onReady((()=>{SC=z.deviceOrientation||SC,kC=Zy().model||""}));var CC=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class EC{constructor({parentId:e=0,id:t=wC.increase(),style:r={},props:n={},name:i=""}={}){var a=z.platform;this.parentId=e,this.dest=0,this.id=t,this.name=i,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.readyResult=new Promise((e=>{this.on("ready",e)})),r=Object.assign(oC(),r),Object.assign(r,r[SC]);var o=/iphone x/.test(kC.toLowerCase())?"iphone x":a;Object.assign(r,r[o]),Object.assign(r,r[`${o}-${SC}`]),this.style={},this.computedStyle=Object.assign({},r),this.lastComputedStyle=Object.assign({},r),this.layoutBox=null,Object.keys(r).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{if(t!==r[e]&&void 0!==t){if(r[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==iC.indexOf(e)&&this.style.scale){var n=t*this.style.scale;this.computedStyle[e]=n,this.lastComputedStyle[e]=n}"scale"===e&&iC.forEach((e=>{r[e]&&(this.computedStyle[e]=r[e]*t,this.lastComputedStyle[e]=r[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?(dC(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),aC.forEach((e=>{this.computedStyle[e]=0}))):(dC(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),aC.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),iC.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),r.hidden&&aC.forEach((e=>{this.computedStyle[e]=0})),Object.keys(n).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>n[e],set:t=>{t!==n[e]&&(n[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var r=0,n=0;try{r=this.layoutBox.left,n=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var i=Object.assign({},t);i.x+=r,i.y+=n,this.parent.emit(e,i)}else{var a=t.map((e=>({x:e.x+r,y:e.y+n})));this.parent.emit(e,a)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:r}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:r+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){IC.emit(CC(e,this.id),t)}on(e,t){IC.on(CC(e,this.id),t)}once(e,t){IC.once(CC(e,this.id),t)}off(e,t){IC.off(CC(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=CC(e,this.id);IC.removeAllListeners(t)}))}}var AC=e=>{var{id:t}=JSON.parse(e.data);IC.emit(CC("click",t))};_C("onTextViewClick",AC),_C("onImageViewClick",AC),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();_C(e,(e=>{try{if(e.data){var{id:r}=JSON.parse(e.data);IC.emit(CC(t,r),e.touch||e.touches)}else IC.emit(CC(t,e.viewId),e.touch||e.touches)}catch(e){}}))}));var TC=["game.weixin.qq.com"],PC=new Map,xC=new WeakMap,MC=e=>e?"insertGameHTMLWebView":"insertHTMLWebView",RC=e=>e?"updateGameHTMLWebView":"updateHTMLWebView",DC=e=>e?"removeGameHTMLWebView":"removeHTMLWebView",OC=(e,t)=>e&&t?mu(t):gu;function LC(){return new Promise(((e,t)=>{var r=xC.get(this),{style:n,__skipDomainCheck__:i,src:a,zIndex:o,isGameWebview:s,pluginId:c}=r,l=MC(s);OC(s,c)(l,{htmlId:this.id,position:n,src:a,zIndex:o,backgroundColor:n.backgroundColor,__skipDomainCheck__:i,success:e,fail:t})}))}class NC extends EC{constructor({src:e,zIndex:t,style:r={},__skipDomainCheck__:n=!1,isGameWebview:i=!1},a){super({style:r}),PC.set(this.id,this);var o={};try{o=Dd(e)}catch(e){console.error(e)}xC.set(this,{src:e,zIndex:t,style:r,urlObj:o,isGameWebview:i,__skipDomainCheck__:n,pluginId:a}),LC.call(this),this.isInserted=!0}get src(){var e;return null===(e=xC.get(this))||void 0===e?void 0:e.src}set src(e){var t=xC.get(this);if(t){t.src=e;var r=RC(t.isGameWebview);try{var n=Dd(e);t.urlObj=n}catch(e){console.error(e)}OC(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,src:e})}}get style(){var e;return null===(e=xC.get(this))||void 0===e?void 0:e.style}set style(e){var t=xC.get(this);if(t&&t.style){var r=t.style;Object.assign(r,e);var n=RC(t.isGameWebview),i=OC(t.isGameWebview,t.pluginId);this.isInserted&&i(n,{htmlId:this.id,position:r,backgroundColor:r.backgroundColor})}else t?t.style=e:xC.set(this,{style:e})}get zIndex(){var e;return null===(e=xC.get(this))||void 0===e?void 0:e.zIndex}set zIndex(e){var t=xC.get(this);if(t){t.zIndex=e;var r=RC(t.isGameWebview);OC(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,zIndex:e})}}postMessage(e){var t=xC.get(this);return this.isInserted?t&&t.isGameWebview?new Promise(((r,n)=>{var i=RC(t.isGameWebview);OC(t.isGameWebview,t.pluginId)(i,{htmlId:this.id,evaluateJavascript:"window.onMessage("+JSON.stringify(e)+")",success:r,fail:n})})):t&&!t.isGameWebview?Promise.reject({errMsg:"not support"}):Promise.reject({errMsg:"webview has been destroyed"}):Promise.reject({errMsg:"not inserted"})}destroy(){var e=xC.get(this);if(e){var t=DC(e.isGameWebview);PC.delete(this.id),xC.delete(this),OC(e.isGameWebview,e.pluginId)(t,{htmlId:this.id})}}}function BC(){return[...PC.keys()]}function FC({htmlId:e}){var t=PC.get(e);t&&t.onload&&setTimeout(t.onload)}function WC({name:e,arg:t,htmlId:r}){"postMessage"===e?PC.forEach((({onmessage:e},n)=>{r&&r!==n||e&&setTimeout((()=>e(t)))})):0!==e.indexOf("XLogManager.")&&"reportKeyValue"!==e&&"getSDKVersion"!==e||PC.forEach(((n,i)=>{var a;if(!r||r===i){var o=PC.get(i),s=null===(a=xC.get(o))||void 0===a?void 0:a.urlObj;if(s&&TC.includes(s.host))if(0===e.indexOf("XLogManager.")){var c=e.split(".")[1];v[c](t)}else"reportKeyValue"===e&&E.reportKeyValue(t)}}))}z.onReady((()=>{Te()&&(Kt("onWebviewFinishLoad",FC),Kt("onWebInvokeAppService",WC),Kt("WEB_INVOKE_APPSERVICE",WC))}));var jC={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},VC={sampleEventList:[]},UC=new Map;function $C(){var e=VC.sampleEventList.find((e=>e.event===jC.EVENT_CANVAS_SAMPLE_BY_TIME));if(e){var t=6e3,r=6,n=0;isNumber(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),isNumber(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{GC(jC.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{GC(jC.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),500)}),t)}}function zC(){var e=VC.sampleEventList.find((e=>e.event===jC.EVENT_CANVAS_WEBVIEW_TIMING));if(e){var t=6e3,r=6,n=0;isNumber(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),isNumber(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{getWebViewIdList().forEach((e=>{GC(jC.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{getWebViewIdList().forEach((e=>{GC(jC.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),500)}),t)}}function qC(){onMethod("onCanvasReportEventSampleConfigReceived",(e=>{var t=JSON.parse(e.keyEventSampleConfig);Array.isArray(t.sample_event_list)&&(VC.sampleEventList=t.sample_event_list,VC.sampleEventList.forEach((e=>{UC.set(e,0)})),$C(),zC())})),onMethod("onStartReportCanvasData",(({event:e})=>{e===jC.EVENT_CANVAS_WEBVIEW_BEFORE_JUMP?getWebViewIdList().forEach((t=>{GC(e,t)})):GC(e)}))}function HC(e){return VC.sampleEventList.find((t=>e===t.event))}function GC(e,t){var r=HC(e);if(r){var n=Date.now(),i=UC.get(r);if(r.sample_interval_seconds,(n-i)/1e3<r.sample_interval_seconds)return;gu("reportCanvasData",{eventInfo:JSON.stringify(r),viewId:t>0?t:0,success(){UC.set(r,n)},fail({errMsg:e}){}})}}var KC=!1,JC=[];function XC(e){JC.push(e)}function YC(e,t){try{JC.forEach((r=>r(e,t)))}catch(e){}}var QC=(e={})=>{var t={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==p.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==p.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:""};if(xc("showModal",t=Ad(t,e),{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var r=!1;if(e.__sdk_inner_allowShowMoreLength__&&(r=!0),!r&&t.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)Rc("showModal",e,"confirmText length should not larger than 4 Chinese characters");else if(t.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)Rc("showModal",e,"cancelText length should not larger than 4 Chinese characters");else{var n=T.getCurrentRoutePath(),i=vg();YC("showModal",t),gu("showModal",t,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),e.cancel=he?!e.confirm:!e.confirm&&Boolean(e.cancel),YC("closeModal",e),Jk()},beforeAll(){KC=!0},afterAll(){KC=!1,Nm({apiName:"showModal",content:t.content,title:t.title,routePath:n,networkType:i})}})}}},ZC=(e={})=>{e.__sdk_inner_allowShowMoreLength__&&delete e.__sdk_inner_allowShowMoreLength__,QC(e),Te()&&GC(jC.EVENT_CANVAS_AFTER_MODAL)},eE=1,tE=!1,rE=(e={})=>{var t={duration:1500,title:"",icon:"success",mask:!1};t=Ad(t,e),e.image&&(t.image=zd(ul.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(t.icon)<0&&(t.icon="success"),"none"===t.icon&&(t.icon=""),xc("showToast",t,{duration:1,title:"",icon:""})&&(tE=eE++,setTimeout((()=>{tE=!1}),t.duration),t.maskAll=!1,YC("showToast",t),gu("showToast",t),"success"!==t.icon&&setTimeout((()=>{Nm({apiName:"showToast",title:t.title,networkType:vg(),routePath:T.getCurrentRoutePath()})})))},nE=(e={})=>{if((de||e.noConflict)&&iE&&(!tE||tE<iE))return tE=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideToast:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");tE=!1,YC("hideToast",e),gu("hideToast",e)},iE=!1,aE=(e={})=>{var t={title:"",icon:"loading",mask:!1,duration:1e8};(t=Ad(t,e)).icon="loading",delete t.image,xc("showLoading",t,{duration:1,title:""})&&(iE=eE++,t.maskAll=!1,T.startLoading(),YC("showToast",t),gu("showToast",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("showToast","showLoading")}}))},oE=(e={})=>{if((de||e.noConflict)&&tE&&(!iE||iE<tE))return iE=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideLoading:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");iE=!1,T.endLoading(vg()),YC("hideToast",e),gu("hideToast",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})},sE=(e={})=>{var t={itemList:[],itemColor:"#000000",itemColorDark:void 0!==p.theme&&e.itemColor?e.itemColor:"#FFFFFFCC"};delete(t=Ad(t,e)).cancelText,delete t.cancelColor,xc("showActionSheet",t,{itemList:["1"],itemColor:""})&&(e.itemList.length>6?Rc("showActionSheet",e,"parameter error: itemList should not be large than 6"):(YC("showActionSheet",t),gu("showActionSheet",t,{beforeAll:e=>{(e.errMsg.indexOf(":ok")>-1||e.errMsg.indexOf(":cancel")>-1)&&Jk(),YC("closeActionSheet",e),KC=!0},afterAll:()=>{KC=!1}})))},cE=(e={})=>{gu("showShareActionSheet",e)},lE=()=>KC,uE=[],dE=null;function pE(){var e=uE;uE=[],dE=null;for(var t=0,r=e.length;t<r;t++){var n=e[t];n&&(n=C.surroundThirdByTryCatch(n,"at api nextTick callback function")),n&&n()}}var hE=e=>{e&&"function"==typeof e&&(uE.push(e),dE||(dE=setTimeout(pE,0)))},fE=new Lp("openApiRedirectingPage",!1),gE={lifetimes:{detached(){var e=this.options;null!=e&&e.pageType&&hE((()=>{fE.emit(`${e.pageType}-unload`,e)}))},ready(){var e=this.options;null!=e&&e.pageType&&hE((()=>{fE.emit(`${e.pageType}-load`,e)}))}},pageLifetimes:{hide(){}}};Xc((()=>{var e="wx://open-api-redirecting-page",t={[`${e}.json`]:{usingComponents:{}}};Kc.Component(gE,"//",t,`${e}.js`)}));var vE=(e,t)=>{fE.on(`${e}-load`,t)},mE=(e,t)=>{fE.off(`${e}-load`,t)},yE=(e,t)=>{fE.on(`${e}-unload`,t)},bE=(e,t)=>{fE.off(`${e}-unload`,t)},_E=200,wE=[],IE=[],SE=~~(Date.now()/1e3),kE=0;function CE(e,t,r,n){gu("operateRealtimeData",{type:t,content:r,priority:"string"==typeof n?n:n?"high":"low",id:e},{beforeSuccess(){},beforeFail(e){IE.forEach((t=>t(e)))}})}function EE(){var e=wE.shift();"function"==typeof e&&(e(),kE=+new Date),wE.length&&setTimeout(EE,_E)}h.onLoad((()=>{SE=~~(Date.now()/1e3)}));var AE=(e,t,r)=>{if(1005===e||!de){var n=+new Date,i=SE++;return n-kE>=_E&&!wE.length?(CE(i,e,t,r),kE=n):(wE.push((()=>{CE(i,e,t,r)})),setTimeout(EE,_E)),i}},TE=e=>{de||"function"==typeof e&&IE.push(It(e))};Tt("onRealtimeDataResponse",(e=>{IE.forEach((t=>t(e)))}));var PE=Ut("UpdateWXConfig"),xE=PE.onMethod,ME=PE.offMethod;Tt("onUpdateWXConfig",(e=>{v.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{z[t]=e[t]})),PE.emit(e)}));var RE=function(){return{miniProgram:{appId:z.accountInfo&&z.accountInfo.appId||"",envVersion:z.envVersion||"release",version:z.appContactInfo&&z.appContactInfo.user_version||""}}},DE,OE,LE=!1,NE={},BE=JSON.parse;function FE(){if("string"==typeof z.opConfig){var e;try{e=BE(z.opConfig)}catch(e){}return e&&e.expt_info}return z.opConfig&&z.opConfig.expt_info}function WE(){var e,t=FE();return t&&LE?(e=1,DE=t,E.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,DE=t,E.reportIDKey({key:"useLaunchExptInfo"}),E.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,E.reportIDKey({key:"useContactExptInfo"})),{exptInfo:DE,jsDataType:e}}function jE(){if(void 0===Yc)return"";var e=Yc.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function VE(e,t,r){E.reportKeyValue({key:"ExptHit",value:[Ol(),Ll(),e,encodeURIComponent(JSON.stringify(t)),0,"",r].join(",")})}function UE(e,t,r,n,i){var a=["","","getExptInfo",void 0!==T?T.getCurrentRoutePath():"",null,JSON.stringify({groupId:e,exptId:t,paramName:r,paramValue:n,jsDataType:i})].map(encodeURIComponent).join(",");E.reportKeyValue({key:"SdkInnerApiInvoke",value:a})}Kt("onAppEnterForeground",(e=>{Object.assign(NE,e),OE=NE.sessionid||NE.sessionId})),xE((e=>{FE(e)&&(LE=!0)})),z.onReady((()=>{Object.assign(NE,z.appLaunchInfo);var e=FE();e?DE=e:z.appContactInfo&&z.appContactInfo.passThroughInfo&&(DE=z.appContactInfo.passThroughInfo.expt_info)}));var $E=ed("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));function zE(e){var t={},{exptInfo:r,jsDataType:n}=WE();return r&&Array.isArray(r.expt_param_list)&&(Array.isArray(e)||(e=r.expt_param_list.map((e=>e.param_name))),r.expt_param_list.forEach((r=>{-1!==e.indexOf(r.param_name)&&(t[r.param_name]=r.param_value,r.expt_id&&VE(r.expt_group_id,r,n),void 0!==r.expt_id&&UE(r.expt_group_id,r.expt_id,r.param_name,r.param_value,n))}))),t}function qE(e,t,r="immediate"){var n=2,{accountInfo:i,envVersion:a}=z||{},o=i?i.appId:"";"release"===a?n=1:"trial"===a&&(n=3);var s=tb(!0),c=NE.sessionid||NE.sessionId,l=NE.usedstate||NE.usedState;AE(1005,JSON.stringify({appid:o,app_state:n,appversion:RE().miniProgram.version,enter_scene:NE.scene,scene_note:NE.scene_note||NE.sceneNote,prescene:NE.prescene,prescene_note:NE.prescene_note||NE.presceneNote,sessionid:c,add_state:l,page_path:jE()||NE.path,page_query:JSON.stringify(NE.query||{}),referpagepath:NE.referpagepath,isentrance:OE||OE===c?0:1,event_time:Date.now(),sdk_version:hy,devicemodel:s.model,devicebrand:s.brand,os_name:s.platform,os_version:s.system,language_version:s.language,networktype:vg(),event_name:e,event_value:JSON.stringify(t),unique_id:String(Date.now()+Math.random()),screen_width:z.screenWidth,screen_height:z.screenHeight,open_source:z.host&&z.host.appId?2:1,host_appid:z.host?z.host.appId:""}),r)}function HE(e,t={}){setTimeout((()=>qE(e,t))),E.reportIDKey({key:"reportEventInvoke"})}function GE(e,t={}){setTimeout((()=>qE(e,t,"high"))),E.reportIDKey({key:"reportEventInvoke"})}var KE="payCompletedPage",JE=0,XE=()=>""+ ++JE,YE=(e,t)=>{var r=n=>{JSON.parse(n.payCompletedPageArgs).payCompletedPageId===e&&("function"==typeof t&&C.surroundThirdByTryCatch(t,"at on payCompletedPage.onLoad callback function")(),mE(KE,r))};vE(KE,r)},QE=(e,t)=>{var r=n=>{JSON.parse(n.payCompletedPageArgs).payCompletedPageId===e&&("function"==typeof t&&C.surroundThirdByTryCatch(t,"at on payCompletedPage.onUnload callback function")(),bE(KE,r))};yE(KE,r)},ZE={};vE(KE,(e=>{var t=JSON.parse(e.payCompletedPageArgs).payCompletedPageId;ZE[t]={startTime:Date.now()},lA("exposePaymentCompletedPage","")})),yE(KE,(e=>{var t=JSON.parse(e.payCompletedPageArgs).payCompletedPageId;if(ZE[t]){var r=ZE[t].startTime,n=Date.now()-r;lA("stayDuration",n),delete ZE[t]}lA("exitPage","")}));var eA=new Map,tA=new Map,rA=(e,t)=>{eA.get(e)?(t(eA.get(e)),eA.delete(e)):tA.set(e,t)},nA=(e,t={})=>{var r,n;lA("fetchPaymentCompletedPageInfo","");var i={pay_key_list:(null===(r=t.templateData)||void 0===r?void 0:r.infos)||[],pay_title:null===(n=t.templateData)||void 0===n?void 0:n.title,template_id:t.templateId};Xu({apiName:"webapi_getpaycallbackappconf",sdkApiName:"preFetchPaymentCompletedPageInfo",reqData:i,fail(){lA("fetchPaymentCompletedPageInfoFail","")},success(){lA("fetchPaymentCompletedPageInfoSuccess","")},complete(t){v.info("webapi_getpaycallbackappconf 回调",t),tA.get(e)?(tA.get(e)(t),tA.delete(e)):eA.set(e,t)}})},iA=e=>{var{method:t,payCompletedPageId:r,success:n,fail:i}=e;if("getPaymentCompletedPageInfo"===t)rA(r,(e=>{e.errMsg.indexOf(":fail")>=0?i(e):n(e)}))},aA,oA=e=>{aA=e},sA=e=>"function"==typeof aA&&aA(e),cA=(e={})=>{gu("navigateTo",{url:`__wx__/open-api-redirecting-page.html?pageType=payCompletedPage&payCompletedPageArgs=${encodeURIComponent(JSON.stringify(e))}`})},lA=(e,t)=>{var r=(null==Yc?void 0:Yc.getCurrentRoute())||"";E.reportKeyValue({key:"PayCompletedPage",value:[0,r,e,t].join(",")})},uA=()=>{var e=dA(),t=Ph("openPaymentCompletedPage"),r=Ph("openPaymentCompletedPageFull");if(v.info("支付回调页 hasPaymentCompletedPage=",e),v.info("支付回调页 mainControl=",t),v.info("支付回调页 hasFull=",r),t&&e){if(r)return!0;var n="wx_wxapp_expt_payad";return"1"===zE([n])[n]?(v.info("支付回调页 expt=",!0),!0):(v.info("支付回调页 expt=",!1),!1)}return!1},dA=()=>{var e;return!(null==z||!z.pages||null==z||null===(e=z.pages)||void 0===e||!e.includes("__wx__/open-api-redirecting-page"))},pA=()=>Ph("paymentCompletedPageCoupon"),hA=!1,fA=500,gA=!1,vA=500,mA={UNCHECK:0,CHECK_FAIL:1,CHECK_TIMEOUT:2,SUCCESS:3,REJECT:4},yA=()=>{var e,t,r;return{shouldCheck:null!==(e=hA)&&void 0!==e&&e,timeout:null!==(t=fA)&&void 0!==t?t:vA,deprecated:null!==(r=gA)&&void 0!==r&&r}},bA=function(){var e=cp()((function*(e){try{var t=Fk(),{data:r}=yield EA({apiName:"webapi_openproduct_bizaccount",reqData:{path:e.path,query:JSON.stringify(e.query||{}),cookie:t}});if(void 0!==r.openproduct_checkticket&&(hA=!!r.openproduct_checkticket),void 0!==r.openproduct_checktickettimeout&&(fA=parseInt(r.openproduct_checktickettimeout,10)),void 0!==r.openproduct_checkticket_deprecated&&(gA=!!r.openproduct_checkticket_deprecated),void 0!==r.openleague_cookie){var n=[];Dk(r.openleague_cookie||"",!1,n);var i=jk({cookies:n});i&&v.error("[set openleague_cookie]",i)}if(void 0!==r.share_cookie){var a=[];Dk(r.share_cookie||"",!1,a);var o=jk({cookies:a,isTemporary:!0});o&&v.error("[set share_cookie]",o)}}catch(e){}}));return function(t){return e.apply(this,arguments)}}();z.onReady((()=>{setTimeout((()=>bA(z.appLaunchInfo||{})),1e3)})),zS((e=>{(e.reLaunch||e.isLaunch)&&bA(e)}));var _A=(()=>{var e,t,r,n;return zS((i=>{e=+i.scene||0,t=i.scene_note||i.sceneNote||"",r=+i.prescene||0,n=i.prescene_note||i.presceneNote||""})),z.onReady((()=>{(()=>{var i=z.appLaunchInfo||{};e=i.scene||0,t=i.scene_note||i.sceneNote||"",r=i.prescene||0,n=i.prescene_note||i.presceneNote||""})()})),()=>({scene:e,scene_note:t,prescene:r,prescene_note:n})})(),wA=Vc("requestPayment",function(){var e=cp()((function*(e){var t=vt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);e=Object.assign({},e);var r,n,{deprecated:i,shouldCheck:a}=yA(),o=a||!1,s=uA(),c=pA();if(v.info("是否开了支付回调页功能",s),v.info("是否配了商家优惠券",c),s&&(he||pe)&&(r=XE(),nA(r,e.payCompletedPageOptions),n=sA({withCoupon:c})),o){if(i)throw new Error("wx.reqeustPayment is disabed");var l=mA.UNCHECK,u=e.ticket||"";try{var d=yA().timeout||vA;try{var{is_authorized:p}=yield Promise.race([AA(O()(O()({ticket:u,prepay_id:e.package.replace("prepay_id=","")},_A()),{},{cookie:Fk(),sdk_version:z.SDKVersion||""})),TA("timeout",d)]);l=p?mA.SUCCESS:mA.REJECT}catch(e){v.error("[paymentCheckTicket] fail",e),l=e&&"timeout"===e.message?mA.CHECK_TIMEOUT:mA.CHECK_FAIL}if(l===mA.REJECT)throw new Error("wx.reqeustPyament is disabled in the current context")}finally{PA({ticket:u,checkTicketStatus:l})}}var h,f=DA.NONE;try{var g=yield RA(e,{payCompletedPageId:r,checkHaveAdPromise:n,withCoupon:c});return f=DA.SUCCESS,g}catch(e){throw f=DA.FAILED,h=e.message,e}finally{o&&OA({prepayId:(e.package||"").replace("prepay_id=",""),requestPaymentStatus:f,requestPaymentErrmsg:h})}}));return function(t){return e.apply(this,arguments)}}()),IA=e=>{var t=Object.keys(ul.query).map((e=>`${e}=${ul.query[e]}`)).join("&"),r=[`${ul.lastRoute}?${t}`,e].join(",");E.reportKeyValue({key:"RequestPaymentRiskConfirm",value:r})},SA={NONE:0,CONFIRM:1,CANCEL:2},kA=function(){var e=cp()((function*(){var{time:e,isRiskWarning:t,wording:r}=yield new Promise((e=>{tC((t=>{var r,n,i,a,o=!1,s="";((null==z||null===(r=z.appContactInfo)||void 0===r||null===(n=r.operationInfo)||void 0===n||null===(i=n.jsonInfo)||void 0===i||null===(a=i.warning_info)||void 0===a?void 0:a.jsapi_alter)||[]).forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(o=!0,s=e.wording)})),e({time:t,isRiskWarning:o,wording:s})}))})),n=(+new Date-(e||0))/1e3/60;if(t&&!(n<30)){var i=SA.NONE;try{yield new Promise(((e,t)=>{QC({content:r,confirmText:"继续支付",cancelText:"取消",success(r){r.confirm?(i=SA.CONFIRM,e()):(i=SA.CANCEL,t(new Error("cancel")))}})})),rC(+new Date)}finally{IA(i)}}}));return function(){return e.apply(this,arguments)}}(),CA=jc(gu.bind(null,"requestPayment")),EA=jc(Xu),AA=function(){var e=cp()((function*(e={}){var{data:t}=yield EA({apiName:"webapi_openproductcheckticket",reqData:O()({},e)});return t}));return function(){return e.apply(this,arguments)}}(),TA=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),PA=({ticket:e,checkTicketStatus:t})=>{var r=z.appLaunchInfo||{},n=_A(),i=[r.sessionid||r.sessionId||"",n.scene,n.scene_note,n.prescene,n.prescene_note,t||0,e||""].join(",");E.reportKeyValue({key:"RequestPaymentCheckTicket",value:i})},xA=!1,MA=()=>xA,RA=function(){var e=cp()((function*(e,{payCompletedPageId:t,checkHaveAdPromise:r,withCoupon:n}={}){var i,a,o,s;yield kA();var c=Fk();e.passCookies&&"string"==typeof e.passCookies?e.cookie=c?e.passCookies+";; "+c:e.passCookies:c?e.cookie=c:delete e.cookie,delete e.passCookies,e.cookie;var l=yr(),u=null===(i=z.appContactInfo)||void 0===i||null===(a=i.operationInfo)||void 0===a||null===(o=a.jsonInfo)||void 0===o||null===(s=o.op_info)||void 0===s?void 0:s.jump_homepage_after_pay,d=()=>xA=!0,p={afterSuccess:d,beforeSuccess:e=>{if(u){var i=z.entryPagePath;i&&("/"!==i[0]&&(i="/"+i),i=i.replace(".html",""),gI({url:i}),Tp(100))}else t&&(e.payCompletedPage={onLoad(e){YE(t,e)},onUnload(e){QE(t,e)}},lt(r)&&Promise.race([new Promise((e=>{setTimeout((()=>{e(void 0)}),1e3)})),r]).then((e=>{v.info("是否有广告配置",e),"boolean"==typeof e&&e&&cA({payCompletedPageId:t,withCoupon:n})})))}};de&&(p.afterAll=d);var h=yield CA(O()(O()({adUxInfo:l},e),{},{grantMessageQuota:!0}),p);return Xu({apiName:"webapi_reportpayrecord",reqData:{prepay_id:e.package.replace("prepay_id=","")}}),bp("reportPaymentFormId",{packageStr:e.package}),Jk(),h}));return function(t){return e.apply(this,arguments)}}(),DA={NONE:0,SUCCESS:1,FAILED:2},OA=function(){var e=cp()((function*({extUserUin:e,addOrderStatus:t,requestPaymentStatus:r,requestPaymentErrmsg:n,prepayId:i,payInfo:a,outOrderId:o}){var s=tb(!0),c=z.appLaunchInfo||{},{data:l}=yield Yu({apiName:"webapi_openproductreportorder",reqData:{ext_info:O()(O()({ext_useruin:e,ext_appid:z.host&&z.host.appId,session_id:c.sessionid||c.sessionId||""},_A()),{},{add_order_status:t,request_payment_status:r,request_payment_errmsg:n,model:s.model,brand:s.brand,version:s.version,system:s.system,platform:s.platform,sdk_version:s.SDKVersion}),prepay_id:i,pay_info:a,order_info:{out_order_id:o}}});return l}));return function(t){return e.apply(this,arguments)}}();function LA(e){return parseInt(e)===e}function NA(e){if(!LA(e.length))return!1;for(var t=0;t<e.length;t++)if(!LA(e[t])||e[t]<0||e[t]>255)return!1;return!0}function BA(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!NA(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(LA(e.length)&&NA(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function FA(e){return new Uint8Array(e)}function WA(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var jA={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return BA(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},VA=(UA="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(UA[(240&n)>>4]+UA[15&n])}return t.join("")}}),UA,$A={16:10,24:12,32:14},zA=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],qA=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],HA=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],GA=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],KA=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],JA=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],XA=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],YA=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],QA=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],ZA=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],eT=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],tT=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],rT=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],nT=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],iT=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function aT(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var oT=function(e){if(!(this instanceof oT))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:BA(e,!0)}),this._prepare()};oT.prototype._prepare=function(){var e=$A[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,a=aT(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=a[t],this._Kd[e-r][t%4]=a[t];for(var o,s=0,c=i;c<n;){if(o=a[i-1],a[0]^=qA[o>>16&255]<<24^qA[o>>8&255]<<16^qA[255&o]<<8^qA[o>>24&255]^zA[s]<<24,s+=1,8!=i)for(t=1;t<i;t++)a[t]^=a[t-1];else{for(t=1;t<i/2;t++)a[t]^=a[t-1];o=a[i/2-1],a[i/2]^=qA[255&o]^qA[o>>8&255]<<8^qA[o>>16&255]<<16^qA[o>>24&255]<<24;for(t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(t=0;t<i&&c<n;)l=c>>2,u=c%4,this._Ke[l][u]=a[t],this._Kd[e-l][u]=a[t++],c++}for(var l=1;l<e;l++)for(var u=0;u<4;u++)o=this._Kd[l][u],this._Kd[l][u]=tT[o>>24&255]^rT[o>>16&255]^nT[o>>8&255]^iT[255&o]},oT.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=aT(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)r[i]=GA[n[i]>>24&255]^KA[n[(i+1)%4]>>16&255]^JA[n[(i+2)%4]>>8&255]^XA[255&n[(i+3)%4]]^this._Ke[a][i];n=r.slice()}var o,s=FA(16);for(i=0;i<4;i++)o=this._Ke[t][i],s[4*i]=255&(qA[n[i]>>24&255]^o>>24),s[4*i+1]=255&(qA[n[(i+1)%4]>>16&255]^o>>16),s[4*i+2]=255&(qA[n[(i+2)%4]>>8&255]^o>>8),s[4*i+3]=255&(qA[255&n[(i+3)%4]]^o);return s},oT.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=aT(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)r[i]=YA[n[i]>>24&255]^QA[n[(i+3)%4]>>16&255]^ZA[n[(i+2)%4]>>8&255]^eT[255&n[(i+1)%4]]^this._Kd[a][i];n=r.slice()}var o,s=FA(16);for(i=0;i<4;i++)o=this._Kd[t][i],s[4*i]=255&(HA[n[i]>>24&255]^o>>24),s[4*i+1]=255&(HA[n[(i+3)%4]>>16&255]^o>>16),s[4*i+2]=255&(HA[n[(i+2)%4]>>8&255]^o>>8),s[4*i+3]=255&(HA[255&n[(i+1)%4]]^o);return s};var sT=function(e){if(!(this instanceof sT))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new oT(e)};sT.prototype.encrypt=function(e){if((e=BA(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=FA(e.length),r=FA(16),n=0;n<e.length;n+=16)WA(e,r,0,n,n+16),WA(r=this._aes.encrypt(r),t,n);return t},sT.prototype.decrypt=function(e){if((e=BA(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=FA(e.length),r=FA(16),n=0;n<e.length;n+=16)WA(e,r,0,n,n+16),WA(r=this._aes.decrypt(r),t,n);return t};var cT=function(e,t){if(!(this instanceof cT))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=FA(16);this._lastCipherblock=BA(t,!0),this._aes=new oT(e)};cT.prototype.encrypt=function(e){if((e=BA(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=FA(e.length),r=FA(16),n=0;n<e.length;n+=16){WA(e,r,0,n,n+16);for(var i=0;i<16;i++)r[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(r),WA(this._lastCipherblock,t,n)}return t},cT.prototype.decrypt=function(e){if((e=BA(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=FA(e.length),r=FA(16),n=0;n<e.length;n+=16){WA(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var i=0;i<16;i++)t[n+i]=r[i]^this._lastCipherblock[i];WA(e,this._lastCipherblock,0,n,n+16)}return t};var lT=function(e,t,r){if(!(this instanceof lT))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=FA(16);r||(r=1),this.segmentSize=r,this._shiftRegister=BA(t,!0),this._aes=new oT(e)};lT.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=BA(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];WA(this._shiftRegister,this._shiftRegister,0,this.segmentSize),WA(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},lT.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=BA(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];WA(this._shiftRegister,this._shiftRegister,0,this.segmentSize),WA(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var uT=function(e,t){if(!(this instanceof uT))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=FA(16);this._lastPrecipher=BA(t,!0),this._lastPrecipherIndex=16,this._aes=new oT(e)};uT.prototype.encrypt=function(e){for(var t=BA(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},uT.prototype.decrypt=uT.prototype.encrypt;var dT=function(e){if(!(this instanceof dT))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=FA(16),this.setValue(e)):this.setBytes(e)};dT.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},dT.prototype.setBytes=function(e){if(16!=(e=BA(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},dT.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var pT=function(e,t){if(!(this instanceof pT))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof dT||(t=new dT(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new oT(e)};function hT(e){var t=16-(e=BA(e,!0)).length%16,r=FA(e.length+t);WA(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r}function fT(e){if((e=BA(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var i=FA(r);return WA(e,i,0,0,r),i}pT.prototype.encrypt=function(e){for(var t=BA(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},pT.prototype.decrypt=pT.prototype.encrypt;var gT={AES:oT,Counter:dT,ModeOfOperation:{ecb:sT,cbc:cT,cfb:lT,ofb:uT,ctr:pT},utils:{hex:VA,utf8:jA},padding:{pkcs7:{pad:hT,strip:fT}},_arrayTest:{coerceArray:BA,createArray:FA,copyArray:WA}},vT=gT,mT={request:Xb,showLoading:aE,hideLoading:oE,requestPayment:wA,getSystemInfoSync:vy,getNetworkType:dg,onNetworkStatusChange:pg,aesjs:vT,OpenMidasConfig:{webDomain:"tke.midas.qq.com/h5",sandboxWebDomain:"dev.tke.midas.qq.com/h5",cgiDomain:{release:"tke.midas.qq.com/api",test:"sandbox.tke.midas.qq.com/api",dev:"dev.tke.midas.qq.com/api"},apiCommonConf:{version:"tke_saas"}}},yT;function bT(){return yT||(yT=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,r){var n=e.exports;n.fn={safeJsonStringify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";try{t=JSON.stringify(e)}catch(e){}return t},safeJsonParse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return JSON.parse(e)}catch(e){}return{}},getParams:function(e){if(!e)return{};var t=e.replace(/.+?\?/,"").replace(/#.*/,"").split("&"),r={};for(var n in t){var i=t[n].split("=");2===i.length&&(r[i[0]]=i[1])}return r},getParam:function(e,t){var r=t||window.location.href;if(e&&r){var n=new RegExp("(\\?|#|&|^)"+e+"=([^&^#]*)(#|&|$)"),i=r.match(n);return i?i[2]:""}return""},delParam:function(e,t){return e instanceof Array||(e=[e]),n.fn.each(e,(function(e){t=(t=t.replace(new RegExp("(?:&"+e+"=[^&]*)","g"),"")).replace(new RegExp("(?:\\?"+e+"=[^&]*&?)","g"),"?")})),t},addParam:function(e,t){var r=[];n.fn.each(e,(function(e,t){r.push(t)})),t=n.fn.delParam(r,t);var i=n.req.serializeParam(e);return t+(/(\?|&)$/.test(t)?""+i:/\?/.test(t)?"&"+i:"?"+i)},each:function(e,t){var r,i=0,a=e.length;if(void 0===a&&n.lang.isObject(e)){for(var o in e)if(!1===t.call(e[o],e[o],o,e))break}else for(r=e[0];i<a&&!1!==t.call(r,r,i,e);r=e[++i]);return e},extend:function(e){for(var t=1;t<=arguments.length;t++)for(var r in arguments[t])e[r]=arguments[t][r];return e},formatFloat:function(e,t,r,n){return n=~~n?~~n:t+1,intNumber=Math.round(e*Math.pow(10,n)),Math[r](intNumber/Math.pow(10,n-t))/Math.pow(10,t)},uuid:function(e,t){var r,n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(t=t||i.length,e)for(r=0;r<e;r++)a[r]=i[0|Math.random()*t];else for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",r=0;r<36;r++)a[r]||(n=0|16*Math.random(),a[r]=i[19==r?3&n|8:n]);return a.join("")},emptyFun:function(){}},n.lang={is:function(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&r===e},isNumber:function(e){return this.is("Number",e)},isString:function(e){return this.is("String",e)},isFunction:function(e){return this.is("Function",e)},isObject:function(e){return this.is("Object",e)},isDocument:function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE},isWindow:function(e){return null!=e&&e==e.window},isPlainObject:function(e){return n.lang.isObject(e)&&!n.lang.isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype},isArray:function(e){return this.is("Array",e)}},n.req={serializeParam:function(e){if(!e)return"";var t=[];for(var r in e)void 0===e[r]&&null==e[r]||t.push(r+"="+e[r]);return t.join("&")}},n.string={escHTML:function(e,t){var r=["&","&amp;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;","\\r","<br>","\\n","<br>"];t&&r.reverse();for(var n=0,i=e;n<r.length;n+=2)i=i.replace(new RegExp(r[n],"g"),r[1+n]);return i},tmpl:function(e,t){return"string"==typeof e?e.replace(/\$([a-zA-Z0-9_\.]*)\$/g,(function(e,r){if(-1!==r.indexOf(".")){r=r.split(/\./g);var i=t;return n.fn.each(r,(function(e){i=i[e]})),i||""}return void 0!==t[r]?t[r]:""})):e}},n.tmpl=n.string.tmpl,n.getVersion=function(){var e="midaswxapp_openmidas.web.wechatapp_";if(n.lang.isObject(mT.OpenMidasConfig)){var t=mT.OpenMidasConfig.apiCommonConf;t.version&&(e+=t.version)}else e+="openmidas";return e},n.compareWechatVersion=function(e,t){e=e.split("."),t=t.split(".");for(var r=Math.max(e.length,t.length);e.length<r;)e.push("0");for(;t.length<r;)t.push("0");for(var n=0;n<r;n++){var i=parseInt(e[n]),a=parseInt(t[n]);if(i>a)return 1;if(i<a)return-1}return 0},n.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e._super=t},n.scene=function(){var e={isWxPlugin:!1,isComponent:!1};try{e.isWxPlugin=WECHATAPP_PLUGIN}catch(e){}try{e.isComponent=STANDALONE_COMPONENT}catch(e){}return e}()},function(e,t,r){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.params=e.params||{},this.opt=e,this.report=e.report||a.fn.emptyFun,this.callback=t,this.buy(this.params)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=(Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}})),r(0)),o=r(4),s=r(2),c=r(5),l=function(e,t){return"wx."+t+"接口不存在"};a.fn.extend(n.prototype,{buy:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={wx_direct_pay:0,wx_publice_pay:1,pay_method:"wechat:2",biz_appid:"1"};t=a.fn.extend({},r,t),a.lang.isFunction(this.opt.onBuy)&&this.opt.onBuy(t,(function(t){return e.handlerBuy(t)}))},getChannelName:function(){return"wechat"},constructWxPaymentArgs:function(e){return{timeStamp:e.time,nonceStr:e.nonce,package:e.package,signType:e.sign_type,paySign:e.sign}},getWxPaymentMethod:function(){return"requestPayment"},handlerBuy:function(e){var t=this,r=e,u=this.getWxPaymentMethod();if(!~~e.ret){var d=e.channel_info,p=!1;this.report(c.LAUNCH_WECHAT_START,{resultinfo:{payMethodName:u}});var h=this.constructWxPaymentArgs(d);if(n.returnWxInfo)return this.report(c.TRIGGER_WECHAT_INFO,{resultinfo:h}),this.opt.getApp().eventEmitter.emit("wx_payment_info",h||{}),this.callback({resultCode:s.PAYRESULT_SUCC},r),!0;if("function"!=typeof mT[u])return this.callback({resultCode:s.PAYRESULT_ERROR,innerCode:"",resultMsg:l(0,u)},r),!0;var f=(new Date).getTime();return mT[u](i({},h,{complete:function(e){e.errMsg=e.errMsg||"";var n=a.fn.safeJsonStringify(e);t.report(c.LAUNCH_WECHAT_COMPLETE,{resultinfo:{payMethodName:u,msg:e.errMsg,wxCbRes:n,times:(new Date).getTime()-f}});var i=e.errMsg.indexOf("cancel")>-1,l=s.PAYRESULT_SUCC,d="支付成功",h="";if(p)t.report(c.LAUNCH_WECHAT_SUCC);else if(i)l=s.PAYRESULT_CANCEL,h="",d="支付取消",t.report(c.LAUNCH_WECHAT_CANCEL,{resultcode:l,resultinfo:{msg:e.errMsg,wxCbRes:n}});else{l=s.PAYRESULT_ERROR;var g=o.thirdPartySdk(-1,e.errMsg);h=g.ret,d=g.msg,t.report(c.LAUNCH_WECHAT_FAIL,{resultcode:-1,resultinfo:{msg:d,wxCbRes:n}})}t.callback({resultCode:l,innerCode:h,resultMsg:d},r)},success:function(e){p=!0},fail:function(e){p=!1}})),!0}}}),n.returnWxInfo=!1,e.exports=n},function(e,t,r){var n=r(0),i=r(3);e.exports=n.fn.extend({},i,{SIGN_LAUNCH_MINIPROGRAME_FAIL:i.SIGN_RESULT_BASE-4,NO_CGI_MODE:-5})},function(e,t,r){function n(e){for(var t=1;t<=arguments.length;t++)for(var r in arguments[t])e[r]=arguments[t][r];return e}var i=e.exports={PAYRESULT_SUCC:0,PAYRESULT_ERROR:-1,PAYRESULT_CANCEL:-2,PAYRESULT_PARAMERROR:-3,PAYRESULT_UNKNOWN:-4,PAYRESULT_CHANNEL_PARAMS_ERROR:-5};n(i,{SIGN_RESULT_BASE:-100,SIGN_DUPLICATE:-101,SIGN_NETWORK:-102,SIGN_BACKEND:-103}),n(i,{FACE_RESULTCODE_BASE:-300,FACE_REIGSTER_NETWORKFAIL:-301,FACE_REGISTER_BACKEND:-302})},function(e,t,r){var n=e.exports={cgi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ret:0,err_code:"",msg:""};if([-9997,-9998,-9999].indexOf(e.ret)>-1)return n.network(e.err_code||e.ret,e.msg);var t="400-",r="";return e.err_code?r="系统繁忙，请稍后再试。\n（"+(t+=e.err_code)+"）":(t+="1-1-"+e.ret||0,r=e.msg?e.msg:"系统繁忙，请稍后再试。\n（"+t+"）"),{ret:t,msg:r||""}},sdk:function(e,t){var r="401-"+e;return{ret:r,msg:(t||"")+"\n（"+r+"）"}},SDK_PREDEFIN_ERR:{paramsErr:{code:"1-1-1",msg:""},payInfoErr:{code:"1-1-2",msg:"payinfo 解析失败"},directChannelErr:{code:"1-1-3",msg:"指定渠道非法"},wxH5PayUrlErr:{code:"1-1-4"}},thirdPartySdk:function(e,t){var r="402-"+function(e){e=e||"",e+="";var t=[],r="";try{for(var n=0,i=e.length;n<i;++n){var a=e[n];"-"!=a?r+=a:(""!=r&&t.push(r),r="",(0==n||e[n+1]&&"-"!=e[n+1]&&"-"==e[n-1])&&(r+=a))}if(""!=r&&t.push(r),!t.length)return"1-1-1";if((i=t.length)<3)for(n=i;n<3;++n)t.push("1");else t.splice(3);return t.join("-")}catch(e){}return e}(e);return{ret:r,msg:(t||"")+"\n（"+r+"）"}},network:function(e,t){var r="403-"+e;return{ret:r,msg:(t||"网络问题，请稍后再试。")+"\n（"+r+"）"}}}},function(e,t,r){var n=r(0);e.exports=n.fn.extend({LAUNCH_WECHAT_START:"wechatpay.begin",LAUNCH_WECHAT_SUCC:"wechatpay.success",LAUNCH_WECHAT_FAIL:"wechatpay.fail",LAUNCH_WECHAT_COMPLETE:"wechatpay.complete",LAUNCH_WECHAT_CANCEL:"wechatpay.cancel",TRIGGER_WECHAT_INFO:"wechatpay.payinfo",GET_DIRECT_SAVE_RESULT:"get.saveresult.inpayinfo"},r(11))},function(e,t,r){var n,i,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(i=n=function(){function e(t,r,n,i,a){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.resultCode=t,this.innerCode=r||"",this.resultMsg=n||"",this.appMetadata=i||"",this.payMethod=a||""}return a(e,[{key:"setExtra",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.extraData=e}},{key:"toResult",value:function(){var t=this;return e.Field.filter((function(e){return t.hasOwnProperty(e)})).map((function(e){return t[e]}))}},{key:"toResultObj",value:function(){var t=this,r={};return e.Field.forEach((function(e){t.hasOwnProperty(e)&&(r[e]=t[e])})),r}}]),e}(),n.Field=["resultCode","innerCode","resultMsg","appMetadata","payMethod","extraData"],i);e.exports=o},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(2),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"save",value:function(e,t){"function"==typeof t&&t({ret:i.NO_CGI_MODE,msg:"pay_info缺少渠道信息"})}}]),e}();e.exports=a},function(e,t,r){e.exports={wechat:function(e,t){new(r(1))(e,t)},os_wechat:function(e,t){new(r(14))(e,t)},wechat_ecommerce:function(e,t){new(r(15))(e,t)},icbc_jft_wechat:function(e,t){new(0,r(16).ICBCJftWechat)(e,t)}}},function(e,t,r){function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},l=r(17),u=r(20),d=r(8),p=r(0),h=r(6),f=r(2),g=r(4),v=r(23),m=r(5),y=function(e){function t(){var e;i(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];var c=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a)));return c.onBuy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r={};p.fn.extend(r,c.payMod.getSavePublicParams(),e),v.loading.show("支付中..."),c.report(m.SAVE_START);var n=(new Date).getTime();c.payMod.save(r,(function(e){v.loading.hide();var r=(new Date).getTime()-n;if(~~e.ret||c.report(m.SAVE_SUCC,{resultinfo:{duration:r}}),!t(e)&&~~e.ret){c.report(m.SAVE_FAIL,{resultcode:e.ret,resultinfo:{duration:r,httpCode:e.httpCode||0}});var i=g.cgi(e),a=function(){var t=f.PAYRESULT_ERROR;-9996==e.ret&&(t=f.PAYRESULT_CANCEL),c.handlePayResult(new h(t,i.ret,i.msg,c.params.appMetadata,"wechat"))};[1138,1139,1140,1141].indexOf(~~e.ret)>-1?mT.showModal({title:"提示",showCancel:!1,confirmText:"确定",content:i.msg,success:a,fail:a}):a()}}))},c.handlePayResult=function(e){c.callback.apply(c,n(e.toResult())),c.callback=null},c.clientLog("calling goods app construrctor",14,"src/app/goodsApp.js"),c.payMod=new u(c.params,c.report.bind(c)),c.buy(),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"report",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=this.params.type+"."+e,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"report",this).call(this,e,r)}},{key:"buy",value:function(){var e=this;this.clientLog("before go into channel handler",24,"src/app/goodsApp.js"),this.report("payment.calling.buy");var t=this.payMod.getDirectChannel();d[t]||(t="wechat"),d[t]({onBuy:this.onBuy,report:this.report.bind(this),getApp:function(){return e}},(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.report("payment.result",{resultcode:t.resultCode,resultinfo:{resultCode:t.resultCode,innerCode:t.innerCode,resultMsg:t.resultMsg}});var n=function(){e.handlePayResult(new h(t.resultCode,t.innerCode,t.resultMsg,e.params.appMetadata,"wechat"))};try{if("1"==r.use_coupons&&t.resultCode!=f.PAYRESULT_SUCC)return e.payMod&&e.payMod.rollbackCoupons("wechat",r,(function(){n()}))}catch(e){}n()}))}},{key:"destroy",value:function(){this.cancel(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"cancel",value:function(){this.payMod&&this.payMod.destroyNetwork()}}]),t}(l);e.exports=y},function(e,t,r){function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=r(7),c=r(1),l=r(12),u=r(0),d=e.exports={_env:"",_dlg:null,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"release",t=void 0,r={};"object"===(void 0===e?"undefined":o(e))?(t=e.env,r=["backendBaseUri","pageBaseUri"].reduce((function(t,r){return"string"==typeof e[r]&&e[r]?a({},t,i({},r,e[r])):t}),{})):"string"==typeof e&&(t=e);var n=Object.keys(l.ENV_MAP);if(!n.some((function(e){return e===t})))throw new Error(".init call env error, `"+t+"` is not valid, candidate is "+n.join(","));d._env=t;var s=l.defaultConfig;u.lang.isObject(mT.OpenMidasConfig)&&(s=mT.OpenMidasConfig),s.cgiDomain&&(l.cgiDomain=s.cgiDomain),r.backendBaseUri&&(l.cgiDomain=i({},t,r.backendBaseUri))},version:"1.7.3"},p={};["payment","signContract","faceRegister"].forEach((function(e){p[e]=0})),d.isLaunchLimit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!p.hasOwnProperty(e))return!1;var t=p[e],r=(new Date).getTime();return!(r-t>1e3&&(p[e]=r,1))},d._wrap=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!d.isLaunchLimit(t)||!e._dlg){var a=e._dlg=new l(d._env);return a[r].apply(a,n(i)),a}},d.pay=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=d._wrap(d,"payment","launch",t);return n?(n.once("destroy",(function(){n==d._dlg&&(d._dlg=null),n=null})),n):d._dlg},d.directWxPay=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=d._wrap(d,"payment","callDirectPay",t);return n?(n.once("destroy",(function(){n==d._dlg&&(d._dlg=null),n=null})),n):d._dlg},d.config={disableTimeout:function(){s.allowTimeout=!1},enableTimeout:function(){s.allowTimeout=!0},channel:{wechat:{setReturnWxInfo:function(e){c.returnWxInfo=!!e}}}},r(26)(d,l)},function(e,t,r){e.exports={PAYINFO_ILLEGAL:"getpayinfo.illegal",PAYINFO_FAIL:"getpayinfo.fail",PV:"pv",PAGE_INFO_START:"pageinfo.begin",PAGE_INFO_SUCC:"pageinfo.success",PAGE_INFO_FAIL:"pageinfo.fail",USE_DIRECTCHANNEL:"directChannel",DIRECTCHANNEL_CONFIRM:"directChannel.confirm",DIRECTCHANNEL_ILLEGAL:"directChannel.illegal",CHANNEL_SHOW:"channel.show",CHANNEL_CLICK:"channel.click",SAVE_START:"save.begin",SAVE_SUCC:"save.success",SAVE_FAIL:"save.fail",GET_RESULT_START:"getresult.begin",GET_RESULT_SUCC:"getresult.success",GET_RESULT_FAIL:"getresult.fail",RESULT_PV:"resultPage.pv",RESULT_CANCEL:"payment.cancel",RESULT_SUCC:"payment.success",RESULT_FAIL:"payment.fail",RESULT_UNKNOWN:"payment.unknow",CLIENT_LOG:"client.log"}},function(e,t,r){function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if("string"==typeof t){var r=s.fn.getParam("data",t);r&&(e=JSON.parse(decodeURIComponent(r)))}}catch(e){}return e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"release";u.call(this),this.env=e}var o=function(e){return e&&e.__esModule?e:{default:e}}(r(13)),s=r(0),c=r(4),l=r(3),u=r(24),d=void 0;d=r(9);var p={release:0,test:1,dev:2,autotest:3};a.ENV_MAP=p,a.defaultConfig=r(25),a.cgiDomain=a.defaultConfig.cgiDomain,s.inherits(a,u),s.fn.extend(a.prototype,{_wrapCallback:function(){for(var e=this,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];setTimeout((function(){try{s.lang.isFunction(e.callback)&&e.callback.apply(e,n(r)),e.app&&e.app.report&&e.app.report("result.callback",{resultinfo:{args:JSON.stringify(r)}})}catch(t){try{e.app.clientLog("callback to caller exception: "+t.message+" stack: "+t.stack)}catch(e){}}e.destroy()}),0)},destroy:function(){this.isOpen=!1;try{this.app&&this.app.report("destroy")}catch(e){}try{this.app&&this.app.destroy(),this.app=null}catch(e){}this.callback=null,this.emit("destroy")},cancel:function(){try{this.app&&s.lang.isFunction(this.app.cancel)&&this.app.cancel()}catch(e){}},constructAppParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{originPayInfo:"",parsedPayInfo:{}},t=e.parsedPayInfo,r={};return s.fn.extend(r,{env:p[this.env],type:t.type||"goods",payInfo:t,sign:s.fn.getParam("sign",e.originPayInfo||""),transactionid:t.out_trade_no,backapi:a.cgiDomain[this.env]||""}),r}}),a.prototype.launch=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!this.isOpen){if(arguments.length<2)throw new Error("pay params is illegal");if(!s.lang.isFunction(t))throw new Error("callback must be provided");var n;try{if("string"==typeof e){var i=s.fn.getParam("data",e);i&&(n=JSON.parse(decodeURIComponent(i)))}}catch(e){}if(this.callback=t,!n||~~n){var a=c.sdk(c.SDK_PREDEFIN_ERR.payInfoErr.code),o=c.SDK_PREDEFIN_ERR.payInfoErr.msg;return void this._wrapCallback(l.PAYRESULT_PARAMERROR,a.ret,o)}var u=this.constructAppParams({originPayInfo:e,parsedPayInfo:n});switch(s.fn.extend(u,{appMetadata:r||""}),this.app=null,this.isOpen=!0,u.type){case"save":case"bg":case"goods":this.app=new d({params:u,callback:this._wrapCallback.bind(this),appMetadata:r,eventEmitter:this});break;default:this._wrapCallback(l.PAYRESULT_PARAMERROR,c.sdk(c.SDK_PREDEFIN_ERR.payInfoErr.code).ret,"payinfo参数错误（type="+u.type+"）"),this.isOpen=!1}this.app&&this.app.report(u.type+".api.init",{appid:n.appid,openid:n.user_id,transactionid:n.out_trade_no})}},a.prototype.callDirectPay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{payInfo:"",channelPayInfo:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if("function"!=typeof t)throw new Error("callback must be function");var r=i(e.payInfo||"");if(this.callback=t,r){var n=this.constructAppParams({originPayInfo:e.payInfo,parsedPayInfo:r});s.fn.extend(n,{channelPayInfo:e.channelPayInfo||{}}),"string"==typeof e.wxPaymentMethod&&(n.wxPaymentMethod=e.wxPaymentMethod),this.app=new o.default({params:n,callback:this._wrapCallback.bind(this),eventEmitter:this}),this.app.directPay(),this.app&&this.app.report("api.init",{appid:r.appid,openid:r.user_id,transactionid:r.out_trade_no})}else{var a=c.sdk(c.SDK_PREDEFIN_ERR.payInfoErr.code),u=c.SDK_PREDEFIN_ERR.payInfoErr.msg;this._wrapCallback(l.PAYRESULT_PARAMERROR,a.ret,u)}},e.exports=a},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},d=n(r(6)),p=n(r(8)),h=n(r(1)),f=n(r(9)),g=n(r(3)),v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return s(t,e),l(t,[{key:"constructWxPaymentArgs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c({},u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"constructWxPaymentArgs",this).call(this,e),this.opt.extendWxParams)}},{key:"getWxPaymentMethod",value:function(){return"string"==typeof this.opt.wxPaymentMethod&&this.opt.wxPaymentMethod?this.opt.wxPaymentMethod:u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getWxPaymentMethod",this).call(this)}}]),t}(h.default),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(v),y=function(e){function t(){var e;i(this,t);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return s.clientLog("calling goods app construrctor",31,"src/app/directPayApp.js"),s.channelPayInfo=s.params.channelPayInfo,s.handler=c({},p.default,{wechat:function(e,t){new v(e,t)},wechat_ecommerce:function(e,t){new m(e,t)}}),s}return s(t,e),l(t,[{key:"report",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e="directpay."+e,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"report",this).call(this,e,r)}},{key:"buy",value:function(){}},{key:"directPay",value:function(){var e=this,t=this.payMod.getDirectChannel(),r={},n=this.payMod.getSaveChannelInfo();if(!n)return this.handlePayResult(new d.default(g.default.PAYRESULT_PARAMERROR,"","saveResultEmpty","",t));this.handler[t]||(t="wechat"),"wechat"!==t&&"wechat_ecommerce"!==t||(r=c({},r,this.channelPayInfo)),this.handler[t]({onBuy:function(e,t){t(n)},report:this.report.bind(this),extendWxParams:r,wxPaymentMethod:this.params.wxPaymentMethod||"",getApp:function(){return e}},(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.report("payment.result",{resultcode:r.resultCode,resultinfo:{resultCode:r.resultCode,innerCode:r.innerCode,resultMsg:r.resultMsg}}),e.handlePayResult(new d.default(r.resultCode,r.innerCode,r.resultMsg,e.params.appMetadata||"",t))}))}}]),t}(f.default);t.default=y},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buy",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buy",this).call(this,{pay_method:"os_wechat:2"})}},{key:"getChannelName",value:function(){return"os_wechat"}}]),t}(r(1));e.exports=c},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buy",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buy",this).call(this,{pay_method:this.getChannelName()+":2"})}},{key:"getChannelName",value:function(){return"wechat_ecommerce"}}]),t}(r(1));e.exports=c},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buy",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buy",this).call(this,{pay_method:this.getChannelName()+":2"})}},{key:"getChannelName",value:function(){return"icbc_jft_wechat"}}]),t}(r(1));t.ICBCJftWechat=c},function(e,t,r){function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(18),s=r(0),c=r(6),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.params,n=t.callback,a=t.appMetadata,c=t.eventEmitter;i(this,e),this.params=r||{},this.callback=n||s.fn.emptyFun,this.appMetadata=a,this.eventEmitter=c,this.reportObj=o.create(),this.report("params",{resultinfo:{params:s.fn.safeJsonStringify(this.params)}}),this.payMod=null}return a(e,[{key:"destroy",value:function(){}},{key:"cancel",value:function(){}},{key:"report",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.reportObj.send(e,s.fn.extend({transactionid:this.params.payInfo.out_trade_no,openid:this.params.payInfo.user_id,appid:this.params.payInfo.appid},t))}},{key:"clientLog",value:function(e,t,r){this.report("client.log",{resultinfo:{msg:e,line:t,file:r}})}},{key:"resultCallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new c;e.appMetadata=this.appMetadata,this.callback.apply(this,n(e.toResult()))}}]),e}();e.exports=l},function(e,t,r){function n(){this.pid=0,this.iformatPrefix="openmidas.wechatapp",this.reportQueue=[],this.errorQueue=[],this.handleReportComplete=this.handleReportComplete.bind(this),this.handleReportFail=this.handleReportFail.bind(this),this.handleReportSuccess=this.handleReportSuccess.bind(this)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(19),s=r(0);s.fn.extend(n.prototype,{constructParams:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};t.resultinfo=t.resultinfo||{},t.resultinfo=s.fn.extend({},t.resultinfo,{networkType:o.networkType,systemInfo:s.req.serializeParam(o.systemInfo)}),s.fn.extend(r,{6:10,7:t.resultcode||0,3:t.openid||"",8:t.resultinfo?s.req.serializeParam(t.resultinfo):"",13:this.pid++,24:t.appid||"",21:[this.iformatPrefix,e].join("."),31:s.getVersion()+"_1.7.3",29:t.transactionid,38:(new Date).getTime()});var n=[];return s.fn.each(r,(function(e,t){n.push(t+"="+encodeURIComponent(e))})),n.join("|")},_deQueue:function(){var e=this,t=this.reportQueue.splice(0,5),r=t.reduce((function(e,t,r){return e["record"+r]=t,e}),{}),n=t.length;this.doSend({data:r,num:n},{onSuccess:this.handleReportSuccess,onComplete:this.handleReportComplete,onFail:function(){e.errorQueue.push(function(e){return{retryTimes:0,num:e.num,data:e.data}}({data:r,num:n}))}})},_deQueueError:function(){var e=this,t=this.errorQueue.splice(0,1),r=a(t,1)[0];this.doSend({data:r.data,num:r.num},{onSuccess:this.handleReportSuccess,onComplete:this.handleReportComplete,onFail:function(){++r.retryTimes<3&&e.errorQueue.push(r)}})},doSend:function(e){var t=e.data,r=void 0===t?{}:t,n=e.num,a=void 0===n?0:n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onSuccess:function(){},onComplete:function(){},onFail:function(){}};mT.request({url:"https://api.unipay.qq.com/v1/900/15499/log_data",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:i({num:a},r,{rr:Math.random()}),success:function(e){e.statusCode>=200&&e.statusCode<300?o.onSuccess():o.onFail()},fail:o.onFail,complete:o.onComplete})},handleReportSuccess:function(){},handleReportFail:function(){},handleReportComplete:function(){this.reportQueue.length>0?this._deQueue():this.errorQueue.length>0&&this._deQueueError()},send:function(e,t){var r=this,n=this.constructParams(e,t),i=0===this.reportQueue.length;this.reportQueue.push(n),i&&setTimeout((function(){r._deQueue()}),0)},destroy:function(){},setIformatPrefix:function(e){this.iformatPrefix=e}}),t.create=function(){return new n}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=mT.getSystemInfoSync(),i={brand:n.brand,model:n.model,version:n.version,system:n.system,platform:n.platform,SDKVersion:n.SDKVersion},a="init";mT.getNetworkType({success:function(e){t.networkType=a=e.networkType}}),mT.onNetworkStatusChange((function(e){t.networkType=a=e.networkType})),t.systemInfo=i,t.networkType=a},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(r(5)),s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"save",value:function(e,t){var r=this.getSaveChannelInfo();if(r)return"function"==typeof t&&t(r),void this.report(o.default.GET_DIRECT_SAVE_RESULT,{resultinfo:{saveResult:r}});this.cgi.save(e,t,{timeout:7e3})}}]),t}(r(21));e.exports=s},function(e,t,r){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.params=e,this.payInfo=this.params.payInfo,this.session=new a({userId:this.payInfo.user_id}),this.report=t,this.cgi=new o({appid:this.payInfo.appid,version:s.getVersion()+"_1.7.3",sessionObj:this.session,pf:this.payInfo.pf,sandbox:~~this.params.env,report:t,cgiDomain:this.params.backapi,sessionToken:this.params.transactionid||""})}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(22),o=r(7),s=r(0);s.fn.extend(n.prototype,{rollbackCoupons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.fn.emptyFun;if(t.hasOwnProperty("ret")&&!~~t.ret&&"1"==t.use_coupons){var n=t.channel_info;if(!s.lang.isObject(n))return r();var i=n.serialno,a={pay_method:e,channel_orderid:i,out_trade_no:this.payInfo.out_trade_no};return this.cgi.rollbackCoupons(a,(function(e){r()}),{timeout:3e3})}return r()},getSaveChannelInfo:function(){if(this.payInfo.save_result&&s.lang.isNumber(this.payInfo.save_result.ret)&&0===this.payInfo.save_result.ret){var e=this.payInfo.save_result,t="decrypt_channel_info";if(!e[t])return null;if("string"==typeof e[t])return null;var r=e[t],n=i({},e,r);return delete n[t],n}return null},getDirectChannel:function(){return this.payInfo.pay_method||""},getPayParams:function(){return this.params},getInfoPublicParams:function(){},getSavePublicParams:function(){return{out_trade_no:this.payInfo.out_trade_no}},getDefaultBizAppid:function(){return""},save:function(e,t){},destroyNetwork:function(){this.cgi&&this.cgi.clearNetworkTask()}}),e.exports=n},function(e,t,r){function n(e){this.userId=e.userId,this.sessionToken=this.openid+(new Date).getTime()}var i=r(0);i.fn.extend(n.prototype,{getSessionParam:function(){return{openid:this.userId}},addSessionParam:function(e){return i.fn.addParam({openid:encodeURIComponent(this.userId)},e)}}),e.exports=n},function(e,t,r){e.exports={loading:{show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";mT.showLoading({title:e,mask:!0})},hide:function(){mT.hideLoading()}}}},function(e,t,r){function n(){this._handlers={},this._cacheEvents={}}var i=Object.prototype.toString;n.prototype={constructor:n,on:function(e,t){if(this._handlers[e]||(this._handlers[e]=[]),this._handlers[e].push(t),this._cacheEvents[e]){var r=this._cacheEvents[e];delete this._cacheEvents[e],this.trigger.apply(this,[e].concat(r))}},once:function(e,t){function r(){t.apply(n,arguments),t=null}var n=this;r._once=!0,this.on(e,r)},trigger:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);if(t._handlers[e]){for(var n=[],i=0,a=t._handlers[e].length;i<a;i++)if(t._handlers[e]&&t._handlers[e][i]){var o=t._handlers[e][i];o.apply(t,r),o._once&&n.push(o)}for(i=0,a=n.length;i<a;++i)this.off(e,n[i]);return t}this._cacheEvents[e]=r},emit:function(){return this.trigger.apply(this,arguments)},off:function(e,t){if(e)if(t){if("[object Array]"==i.call(this._handlers[e]))for(var r=0,n=this._handlers[e].length;r<n;++r)if(this._handlers[e][r]==t){this._handlers[e].splice(r,1);break}}else this._handlers[e]=[];else this._handlers={}}},e.exports=n},function(e,t,r){e.exports={webDomain:"h5.openmidas.com",sandboxWebDomain:"sandbox.h5.openmidas.com",cgiDomain:{release:"api.openmidas.com",test:"sandbox.api.openmidas.com",dev:"dev.openmidas.com/api"},apiCommonConf:{version:"openmidas"}}},function(e,t,r){e.exports=function(e,t){}}])),yT}var _T=bT,wT=Ut("navigateBackIntercept"),IT={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},ST=[IT.SlideBack,IT.BottomBackButton,IT.NavigationBarBack,IT.NavigateBackCall],kT=[],CT=0,ET;Tt("onNavigateBackIntercept",((e={})=>{var{id:t}=ET||{};wT.emit(O()(O()({},e),{},{id:t})),lr("onNavigateBackIntercept",O()(O()({},e),{},{id:t}))}));var AT=Object.create(null);XS((e=>{var t=e.webviewId;AT[t]||(CI(t,(()=>{if(delete AT[t],kT.length)for(var e,r=0;r<kT.length;)(e=kT[r]).options.webviewId&&e.options.webviewId===t?kT.splice(r,1):r+=1}),"setNavigateBackInterception"),AT[t]=!0),kT.length&&TT()}));var TT=function(){var e=cp()((function*(){var e;ET=void 0;for(var t=kT.length-1;t>=0;--t)if(void 0===(e=kT[t]).options.webviewId||e.options.webviewId===ul.currentWebviewId){ET=e;break}var r=ET?ET.options.scopes:[],n=new Set(r||[]);return vu("setNavigateBackInterception",{scopes:ST.map((e=>({type:e,interception:n.has(e)})))})}));return function(){return e.apply(this,arguments)}}(),PT=function(){var e=cp()((function*(e={}){var t;e=O()(O()({},e),{},{scopes:null!==(t=e.scopes)&&void 0!==t?t:ST});var r=++CT;return kT.push({id:r,options:e}),yield TT(),{id:r}}));return function(){return e.apply(this,arguments)}}(),xT=Vc("setNavigateBackInterceptionById",PT),MT=function(){var e=cp()((function*({id:e}={}){var t=kT.findIndex((t=>t.id===e));t<0||(kT.splice(t,1),yield TT())}));return function(){return e.apply(this,arguments)}}(),RT=Vc("stopNavigateBackInterceptionById",MT),DT=wT.internalOnMethod,OT=wT.internalOffMethod,LT=function(){var e=cp()((function*(e,t=ST){var{id:r}=yield PT({scopes:t}),n=t=>{t.id===r&&e(t)};return DT(n),{id:r,handler:n}}));return function(t){return e.apply(this,arguments)}}(),NT=function(){var e=cp()((function*(e){var{id:t,handler:r}=(yield e)||{};yield MT({id:t}),OT(r)}));return function(t){return e.apply(this,arguments)}}();function BT(e){var t,r,n=Dd(e),i=null==z||null===(t=z.appContactInfo)||void 0===t||null===(r=t.stablePassThroughInfo)||void 0===r?void 0:r.wxa_open_url_domain_list;return!!(i&&n&&n.host&&i.includes(n.host)||De())}var FT=e=>(t={})=>{if(!0!==ul.openUrlLock){var r=t.url,n=Object.assign({},t,{url:r});if(n.url=n.url||"",!Fd(n.url)){console.error("invalid url",n.url);var i={errMsg:`${e}: invalid url "${n.url}"`};return"function"==typeof n.fail&&n.fail(i),void("function"==typeof n.complete&&n.complete(i))}"openUrl"!==e||BT(r)?("openUrl"===e&&void 0!==T&&T.traceEvent("onH5Open",!1,{id:r},r,null,null),ul.openUrlLock=!0,gu(e,n,{afterAll(){ul.openUrlLock=!1}})):Oc({name:e,args:n,errMsg:r+" is not in allowed domains",success:!1})}},WT=FT("openUrl"),jT=FT("private_openUrl"),VT=["orderInfo","extUserUin"],UT=jc(Xu),$T=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),zT={NONE:0,SUCCESS:1,FAILED:2,TIMEOUT:3,REJECTED:4},qT={NONE:0,SUCCESS:1,FAILED:2},HT=function(){var e=cp()((function*({extUserUin:e,prepayId:t,payInfo:r,orderInfo:n}={}){var i=z.appLaunchInfo||{},a=z.host&&z.host.appId,o=i.sessionid||i.sessionId||"",s=Fk(),c=z.SDKVersion||"",l=_A(),u=Date.now(),{data:d}=yield UT({apiName:"webapi_openproductaddorder",reqData:{ext_info:O()({ext_useruin:e,ext_appid:a,session_id:o,cookie:s,sdk_version:c},l),prepay_id:t,pay_info:r,order_info:n,check_agreement:!0}}),p=Date.now(),h=[e,a,o,s,c,l.scene||"",l.scene_note||"",l.prescene||"",l.prescene_note||"",t,r,p-u,p].join(",");return E.reportKeyValue({key:"PaymentAddOrderCall",value:h}),d}));return function(){return e.apply(this,arguments)}}(),GT=e=>{var t;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}else t=e;return new Promise((e=>{if(!t)return e(!0);__sclEngine__.initScl((r=>{var n=r.mainRoot.append("request-order-payment",O()({},t));n.addListener("confirm",(()=>e(!0))),n.addListener("cancel",(()=>e(!1)));var i=LT((()=>{n.handleCancel(),NT(i)}))}))}))},KT=(e,t,r="")=>new Promise(((n,i)=>{nE(),QC({title:e,confirmText:t,cancelText:r,showCancel:!!r,success({confirm:e}){n(!!e)},fail:i})})),JT=function(){var e=cp()((function*(){var{data:e}=yield UT({apiName:"webapi_openproductacceptagreement",reqData:{}});return e}));return function(){return e.apply(this,arguments)}}(),XT=Vc("requestOrderPayment",cp()((function*(e={}){var t=e.package,r="",n="";if("string"==typeof t&&0===t.indexOf("pay_info=")){var i=vt(e,{package:""});if(i)throw new Error(`parameter error: ${i}`);n=t.replace("pay_info=","")}else{var a=vt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(a)throw new Error(`parameter error: ${a}`);r=(t||"").replace("prepay_id=","")}var o,s,c,{orderInfo:l={},extUserUin:u}=e,d=dS()(e,VT),p=yA().timeout,h=(e.orderInfo||{}).out_order_id,f=zT.NONE,g=qT.NONE;try{try{var m=yield Promise.race([HT({extUserUin:u,prepayId:r,payInfo:n,orderInfo:l}),$T("timeout",p)]),{errcode:y,errmsg:b}=m,{cookie:_,pay_info:w,agreement_info:I,risk_info:S}=m;if(S&&S.decision){var{decision:k,action:C,wording:E,block_page_info:A}=S;if(1===k){if(1===C)yield KT(E,A.alternative_btn_wording);else if(2===C){var T=yield KT(E,A.btn_wording,A.alternative_btn_wording);T&&A.btn_direct_url?jT({url:A.btn_direct_url}):!T&&A.alternative_btn_wording_direct_url&&jT({url:A.alternative_btn_wording_direct_url})}}else if(2===k&&50===C){(yield KT(E,A.btn_wording,A.alternative_btn_wording))||(y=1010067,b="user cancel")}}if(1040046===y){var P=I.agreement_content;(yield GT(P))?(y=0,b="",JT()):b=b||"user rejected"}if(f=0===y?zT.SUCCESS:zT.REJECTED,s=b,o=y,n&&w&&(n=w),0===y&&void 0!==_){var x=[];Dk(_||"",!1,x);var M=jk({cookies:x});M&&v.error("[set openleague_cookie]",M)}}catch(e){f=e&&"timeout"===e.message?zT.TIMEOUT:zT.FAILED}if(f===zT.REJECTED)throw new Wc(s||"addOrder failed",{addOrderErrCode:o});if(n)try{var R=_T(),D=e.midasEnv||"release";yield new Promise(((e,t)=>{R.init(D),R.pay(n,(r=>{0===r?e():t(-2===r?new Error("cancel"):-3===r?new Error("parameter error"):new Error(`支付失败，errCode: ${r}`))}))})),g=qT.SUCCESS}catch(e){throw c=e.message||"unknown",g=qT.FAILED,e}else try{var O=Lk({key:"prepay_id",value:r,busid:"mmbiz_wxa_related_order"});d.passCookies&&"string"==typeof d.passCookies?d.passCookies=O+";;"+d.passCookies:d.passCookies=O,yield RA(d),g=qT.SUCCESS}catch(e){throw c=e.message||"unknown",g=qT.FAILED,e}}finally{OA({extUserUin:u,addOrderStatus:f,requestPaymentStatus:g,requestPaymentErrmsg:c,prepayId:r,payInfo:n,outOrderId:h})}}))),YT=(e={})=>{var{success:t,fail:r,complete:n}=e;Xu({sdkApiName:"checkBeforeAddOrder",apiName:"webapi_openproductcheckscene",reqData:{scene:_A().scene,cookie:Fk()},success(e){"function"==typeof t&&t(e),"function"==typeof n&&n(e)},fail(e){"function"==typeof r&&r(e),"function"==typeof n&&n(e)}})},QT=e=>{gu("requestVirtualPayment",e)},ZT=e=>{gu("handleWCPayOverseaWalletBuffer",e)},eP=(e={})=>{gu("openSelectPayment",e)},tP=(e={})=>{gu("requestFacetoFacePayment",e)},rP=e=>{gu("setCurrentPaySpeech",e)},nP=e=>{gu("openWCPayCardList",e)},iP=e=>{gu("requestH5Transaction",e)},aP=e=>{gu("requestPaymentToBank",e)},oP=e=>{gu("verifyPaymentPassword",e)},sP=(e={})=>{xc("requestQueryCashier",e,{timeStamp:0,nonceStr:"",package:"",signType:"",paySign:""})&&gu("requestQueryCashier",e)},cP=e=>{gu("openWCPayOverseaPaymentReceive",e)},lP=e=>{gu("requestJointPayment",e)},uP=e=>{var t=mu(e);return(e={})=>{t("requestPersonalPay",e)}},dP=uP(),pP=e=>{xc("notifyWCPayResult",e,{appId:"",timeStamp:"",bizEventKey:""})&&gu("notifyWCPayResult",e)},hP=function(e,t,r){setTimeout((()=>{lr("callbackMiniProgramFunction",{callbackId:t,argArr:r},[e])}),0)},fP=e=>{var t=null;"object"!=typeof e&&(e=[e]);for(var r=0;r<e.length;r++){var n=e[r];".js"!==n.slice(-3)&&(n+=".js");try{t=Zc.require(n)}catch(e){}if(t)return t}return t},gP=({callbackId:e,paths:t,funcName:r,argArr:n},i)=>{var a=fP(t);if(a)if("function"!=typeof a[r]){hP(i,e,[{errMsg:"callMiniProgramFunction:fail Function not found"}])}else n.push(((...t)=>{hP(i,e,t)})),a[r].apply({},n);else{hP(i,e,[{errMsg:"callMiniProgramFunction:fail File not found"}])}};gr("callMiniProgramFunction",gP);var vP=(e,t,r,n)=>{var i=fP(e);if(i)if("function"!=typeof i[t]){n({errMsg:"callMiniProgramFunction:fail Function not found"})}else r.push(((...e)=>{n(...e)})),i[t].apply({},r);else{n({errMsg:"callMiniProgramFunction:fail File not found"})}},{pluginInfos:mP}=Vp,yP,bP=[],_P=yS((()=>{var e=!1;return z.clientVersion>=369431584&&z.clientVersion<=369432575&&(e=!0),z.clientVersion>=637867008&&z.clientVersion<=637868031&&(e=!0),e})),wP=e=>{var t=String(e).split(".",3);return t.length<3?-1:Number(1e3*t[0]*1e3+1e3*t[1]+1*t[2])},IP,SP=e=>{if(e){void 0===yP&&(yP=[]);for(var t=0;t<e.length;t++){var r=e[t];yP.push(r);var n=r.appId;if(void 0!==r.appId&&void 0!==r.plugin_list&&(r.plugin_list[0]&&mP[n])){var i=r.plugin_list[0].PluginNetWork||{},a=r.plugin_list[0].last_version||{};mP[n].domains={request:i.RequestDomain||[],uploadFile:i.UploadDomain||[],downloadFile:i.DownloadDomain||[],connectSocket:i.WsRequestDomain||[],tcp:i.TCPDomain||[]},mP[n].latestCustomVersion=wP(a.custom_version)}}}};function kP(){void 0!==IP&&IP(),bP.forEach((e=>{e(yP)}))}function CP(e){void 0===yP?bP.push(e.success):e.success(yP)}var EP=e=>{for(var t=0;t<e.length;t++){var r=e[t],n=r.plugin_id,i=mP[n];if(!i)return;i.banning=r.banning,i.runningFlag=r.running_flag_info,i.hostSign={noncestr:r.noncestr||"",timestamp:r.timestamp||"",signature:r.host_sign||""},_P()&&(i.domains={request:r.request_domain||[],uploadFile:r.upload_domain||[],downloadFile:r.download_domain||[],connectSocket:r.wsrequest_domain||[]})}AP(e),IP&&IP()},AP=e=>{"android"===z.platform&&(IP=()=>{for(var t=function(){var t=e[r],n=t.plugin_id,i=mP[n];if(!i)return{v:void 0};var a=(e,r)=>{var n=new Set(i.domains[e]);t[r].forEach((e=>{n.add(e)})),i.domains[e]=Array.from(n)};a("request","request_domain"),a("uploadFile","upload_domain"),a("downloadFile","download_domain"),a("connectSocket","wsrequest_domain")},r=0;r<e.length;r++){var n=t();if("object"==typeof n)return n.v}v.info("[Plugin] (5072) doCombineDomainsFromVerifyPlugin -> ",Object.keys(mP).map((e=>[e,mP[e].domains])))})},TP=({version:e,customVersion:t})=>({customVersion:t,version:e,domains:{},hostSign:{}}),PP=({name:e,scene:t,strategy:r,timeDiffToLastTap:n=0})=>{var i;void 0!==Yc&&(i=Yc.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===ul.currentWebviewId))||{});var a=[e,t,E.getAppType(),i?i.route:"",r||0,n].map(encodeURIComponent).join(",");E.reportKeyValue({key:"RecycledAPI",value:a})},xP={constant:{modalCancel:"取消"}},MP=["modalConfirm1","modalMessage1","modalSkipLink1","modalConfirm2","modalMessage2","modalSkipLink2","attemptSkipMaxThreshold","attemptSkipMinTime","currentAttemptSkipCount","shouldExecuteFirstSkipLimitStrategy","shouldExecuteSkipMaxLimitStrategy","expId1","expId2","startLimitCount","uneffectFirstSkipLimit"];xP.attemptSkipMaxThreshold=5,xP.currentAttemptSkipCount=0,xP.currentUserFirstUseThisGame=!1,xP.currentUserUseThisGameTime=0,xP.currentUserUseThisGameTimer=null,xP.isPause=null,xP.limitStrategy=null;var RP=e=>1===e?3303:3304,DP={count:0,uuid:null,navigateCount:0,bannedCount:0},OP=()=>{DP.uuid||(DP.uuid=_t())},LP=(e,t,r)=>{OP(),DP.count,DP.uuid,DP.bannedCount,DP.navigateCount,parseInt(Date.now()/100,10),E.reportKeyValue({key:"WeAppNavBan",value:[z.appType+1e3,z.appLaunchInfo.scene,33,RP(e),0,1,"","",vg(),encodeURIComponent(JSON.stringify({content:t,expid:r,uuid:DP.uuid,bannedCount:DP.bannedCount,navigateCount:DP.navigateCount,count:DP.count,timestamp:parseInt(Date.now()/100,10)}))].join(",")})},NP=(e,t,r)=>{E.reportKeyValue({key:"WeAppNavBan",value:[z.appType+1e3,z.appLaunchInfo.scene,33,RP(e),1,2,"","",vg(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})},BP=(e,t,r)=>{E.reportKeyValue({key:"WeAppNavBan",value:[z.appType+1e3,z.appLaunchInfo.scene,33,RP(e),2,2,"","",vg(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})};Object.defineProperties(xP,O()(O()({allowSkip:{get(){return this.shouldExecuteSkipMaxLimitStrategy&&(this.startLimitCount&&this.currentAttemptSkipCount++,this.currentAttemptSkipCount>this.attemptSkipMaxThreshold)?(this.limitStrategy=1,LP(1,this.modalMessage,this.expId1),1):this.shouldExecuteFirstSkipLimitStrategy&&this.currentUserUseThisGameTime<=this.attemptSkipMinTime?(this.limitStrategy=2,LP(2,this.modalMessage,this.expId2),2):3},configurable:!1},needLimit:{get(){return this.shouldExecuteFirstSkipLimitStrategy||this.shouldExecuteSkipMaxLimitStrategy},configurable:!1}},MP.reduce(((e,t)=>(e["set"+t.slice(0,1).toUpperCase()+t.slice(1)]={get:()=>e=>{xP[t]=e},configurable:!1},e)),{})),{},{modalMessage:{get(){return this["modalMessage"+this.limitStrategy]},configurable:!1},modalConfirm:{get(){return this["modalConfirm"+this.limitStrategy]},configurable:!1},modalSkipLink:{get(){return this["modalSkipLink"+this.limitStrategy]},configurable:!1},reportModalConfirm:{get(){return()=>{NP(this.limitStrategy,this.modalMessage,this["expId"+this.limitStrategy])}},configurable:!1},reportModalCancel:{get(){return()=>{BP(this.limitStrategy,this.modalMessage,this["expId"+this.limitStrategy])}},configurable:!1}})),xP.resumeLimitTimer=function(e){this.isPause=!1,e&&clearTimeout(this.currentUserUseThisGameTimer),this.currentUserUseThisGameTimer=setTimeout((()=>{this.currentUserUseThisGameTime++,this.isPause||(this.currentUserUseThisGameTime<=this.attemptSkipMinTime?this.resumeLimitTimer():this.uneffectFirstSkipLimit||(this.setUneffectFirstSkipLimit(!0),this.setCurrentAttemptSkipCount(0)))}),1e3)},xP.pauseLimitTimer=function(){this.isPause=!0},xP.allowStartLimitCount=function(){this.setStartLimitCount(!0)};var FP=(e={})=>{gu("openWeAppSearch",e)},WP=(e={})=>{gu("openWeAppHistoryList",e)},jP=(e={})=>{gu("openWeAppStarList",e)},VP=(e={})=>{gu("openWeAppAuthManageList",e)},UP=(e={})=>{if(Ph("batchGetContactDirectly"))gu("batchGetContact",e,{beforeAll(e){e.errMsg=e.errMsg.replace("batchGetContact","batchGetContactDirectly")}});else{var t="batchGetContactDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},$P=(e={})=>{if(he||pe){var{type:t}=e,r="app";if("game"===(r=t||r)&&he)return gu("predownloadMiniProgramPackage",{appId:e.appId,path:e.path,scene:1,success:t=>{e.success&&e.success(t)},fail:t=>{v.warn("navigateToMiniprogram load miniProgramPackage fail:",t),e.fail&&e.fail(t)}}),void v.warn("ios not support create game env");Promise.all([new Promise(((e,t)=>{gu("preloadMiniProgramEnv",{type:r,fail:e=>{t(e),v.warn("navigateToMiniprogram create preload env fail:",e)},success(t){e(t)}})})),new Promise(((t,r)=>{gu("predownloadMiniProgramPackage",{appId:e.appId,path:e.path,scene:1,success:e=>{t(e)},fail:e=>{v.warn("navigateToMiniprogram load miniProgramPackage fail:",e),r(e)}})}))]).then((t=>{e.success&&e.success(t)})).catch((t=>{e.fail&&e.fail(t)}))}},zP=(e={})=>{if(Ph("preloadMiniProgramEnvDirectly"))gu("preloadMiniProgramEnv",e,{beforeAll(e){e.errMsg=e.errMsg.replace("preloadMiniProgramEnv","preloadMiniProgramEnvDirectly")}});else{var t="preloadMiniProgramEnvDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},qP=(e={})=>{if(Ph("predownloadMiniProgramPackageDirectly"))gu("predownloadMiniProgramPackage",e,{beforeAll(e){e.errMsg=e.errMsg.replace("predownloadMiniProgramPackage","predownloadMiniProgramPackageDirectly")}});else{var t="predownloadMiniProgramPackageDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},HP=jc(Xu),GP=function(){var e=cp()((function*(e={},t={},r={}){v.info(`[__doNavigateToMiniProgram], args=${JSON.stringify(e)}, privateArgs=${JSON.stringify(t)}, ext=${JSON.stringify(r)}`);var n=Object.assign({},e);delete n.sourcetype,delete n.preScene,delete n.preSceneNote,delete n.mode,De()||(delete n.scene,delete n.sceneNote);var i=Bk();i?(n.privateExtraData=n.privateExtraData||{},n.privateExtraData.cookies=i):n.privateExtraData&&delete n.privateExtraData.cookies;var a=Object.assign({},n,t);return"string"==typeof a.path&&a.path.trim().length>0?a.path=Rd(a.path).trim():a.path=void 0,a.halfPage=Object.assign({},a.halfPage||{}),a.halfPage.hideCapsuleMenu=!1,a.halfPage.capsuleMenuType="singleClose",v.info(`[__doNavigateToMiniProgram], finalArgs=${JSON.stringify(a)}`),a.needTransferToWeChat&&Ee()?(yield vu("sdk_navigateToMiniProgram",a,r),{}):vu("navigateToMiniProgram",a,r)}));return function(){return e.apply(this,arguments)}}(),KP=Vc("doNavigateToMiniProgram",GP),JP=(e,t,r,n,i)=>{var a=[e,t,z.appType+1e3,r+1e3,n,Bl(i)].join(",");E.reportKeyValue({key:"NavigateToMiniProgramAlert",value:a})},XP=()=>(YP||(YP=new Promise((e=>{__sclEngine__.initScl((t=>e(t.mainRoot)))}))),YP),YP,QP=function(){var e=cp()((function*(e){var t,r=yield XP();switch(ex){case ZP.HALF_SCREEN_DIALOG_WITHOUT_LOGO:t=r.append("navigateToMp",{title:e.oldWording,logo:"",name:"",type:ZP.HALF_SCREEN_DIALOG});break;case ZP.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:ZP.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({used_friend_cnt_sub_desc:e})=>{t.setData({desc:e||""})}));break;case ZP.HALF_SCREEN_DIALOG_WITH_SCORE:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:ZP.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({score_sub_desc:e})=>{t.setData({desc:e||""})}));break;default:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:ex})}var n=LT((e=>{[IT.BottomBackButton,IT.NavigationBackInterceptionType,IT.NavigateBackCall].includes(e.type)&&t.handleCancel()})),i=yield new Promise((e=>{t.addListener("confirm",(()=>{e({confirm:!0})})),t.addListener("cancel",(()=>{e({confirm:!1})}))}));return NT(n),i}));return function(t){return e.apply(this,arguments)}}(),ZP={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},ex=ZP.DEFAULT,tx=()=>ex!==ZP.DEFAULT&&"undefined"!=typeof __sclEngine__&&(de||he||pe);z.onReady((()=>{Lh({experimentId:"clicfg_navigation_use_scl_alert_v5",experimentType:"Expt",success:e=>{JSON.stringify(e),e&&void 0!==e.testConfig&&(ex=Number(e.testConfig)||ZP.DEFAULT,Object.values(ZP).includes(ex)||(ex=ZP.DEFAULT))}})}));var rx=function(){var e=cp()((function*(e,t,r,n,i,a,o){var s,c=tx()&&i,l=c?ex:ZP.DEFAULT,u=dp(),d=u.apiCategory||z.appLaunchInfo.appearance;if(1!==t&&["nativeFunctionalized"].includes(d)){if(7!==n)throw rE({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${d} apiCategory.`);JP(4,r,n,l,o)}if(1!==t){var p=u.scene,h=null===(s=u.referrerInfo)||void 0===s?void 0:s.appId;if(1037!==p||h!==r){var f;try{var g;if(c)f=yield QP(O()(O()({},i),{},{oldWording:e,expensiveWording:a}));else try{f=yield Promise.race([new Promise((e=>{var t=()=>e({confirm:!1});XS(t),g=()=>YS(t)})),vu("showModal",{title:e,content:"",confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"})])}finally{g()}}catch(e){throw JP(3,r,n,l,o),e}var{confirm:v}=f;if(!v)throw JP(2,r,n,l,o),new Error("cancel");xP.shouldExecuteSkipMaxLimitStrategy&&xP.setCurrentAttemptSkipCount(0),JP(1,r,n,l,o)}else JP(5,r,n,l,o)}else JP(4,r,n,l,o)}));return function(t,r,n,i,a,o,s){return e.apply(this,arguments)}}(),nx=function(){var e=cp()((function*({appId:e,path:t,shortLink:r,verifyUnionProduct:n}){var i;v.info(`[_getNavigateWxAppInfo] appId=${e} shortLink=${r} verifyUnionProduct=${n}`);var a=new Promise((e=>{i=e}));e&&!r&&i(e);var o=a.then((e=>ax({appId:e}))),s=0,c=1;try{var l=yield HP({apiName:n?"webapi_getembeddedunionproductinfo":"webapi_getnavigatewxaappinfo",reqData:{req_type:r?c:s,target_appid:e,target_short_link:r,target_path:t}});v.info(`[operateWXData][webapi_getnavigatewxaappinfo][success] data=${JSON.stringify(l.data)}`);var u=l.data,d=u.action_code,p=u.skip_local_check,h=Boolean(u.runtime_sdk_whitelist),f=u.target_short_link_info,g=u.allow_embedded_mode;return f&&(e=f.wxa_appid,t=(f.wxa_path||"").replace(/\.html(\?|$)/,"$1"),i(e)),{appId:e,path:t,actionCode:d,skipLocalCheck:p,reason:u.reason,wording:u.wording,appType:u.apptype,newWording:u.new_wording,popupInfo:u.pop_up_info,needTransferToWeChat:h,shortLinkInfo:f,allowEmbeddedMode:g,expensiveInfo:o}}catch(e){throw v.error(`[operateWXData][webapi_getnavigatewxaappinfo][fail], errMsg=${e.message||e.errMsg}`),e}}));return function(t){return e.apply(this,arguments)}}(),ix={score_sub_desc:1,used_friend_cnt_sub_desc:2},ax=function(){var e=cp()((function*(e){var t=[];switch(ex){case ZP.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t.push(ix.used_friend_cnt_sub_desc);break;case ZP.HALF_SCREEN_DIALOG_WITH_SCORE:t.push(ix.score_sub_desc)}if(!t.length)return{};v.info(`[_getNavigateWxAppDescInfo] appId=${e.appId}`);try{var{data:r}=yield HP({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:e.appId,desc_type_list:t}});return r}catch(e){return e.message,{}}}));return function(t){return e.apply(this,arguments)}}(),ox=(sx=[],z.onReady((()=>{Array.isArray(z.navigateToMiniProgramAppIdList)&&(sx=z.navigateToMiniProgramAppIdList,Ph("openWxappLimit5")&&sx.splice(5))})),(e,t)=>new Promise(((r,n)=>{var i=xu("navigateToMiniProgramConfig");!1===i||de?t?r():sx.indexOf(e)>-1?r({sourcetype:4}):n({errMsg:`appId "${e}" is not in navigateToMiniProgramAppIdList`}):!0===i?r():"unknown"===i?r({sourcetype:4}):n({errMsg:"unknown available"})}))),sx,cx=!1,lx=function(){var e=cp()((function*({appId:e,path:t,shortLink:r,extraData:n},i){if(v.info(`[__checkBeforeNavigateToMiniProgram] appId=${e} path=${t} shortLink=${r} isNavigating=${cx}`),cx)throw new Error("another navigation is in progress");cx=!0;try{ex!==ZP.DEFAULT&&XP();try{i||(i=yield Promise.race([nx({appId:e,path:t,shortLink:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("getNavigateWxAppInfo timeout"))),1e4)))]))}catch(r){return v.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),{appId:e,path:t}}var{actionCode:a,skipLocalCheck:o,reason:s,wording:c,appType:l,newWording:u,popupInfo:d,needTransferToWeChat:p,expensiveInfo:h}=i;if(e=i.appId,t=i.path,v.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${a}, skipLocalCheck=${o}, reason=${s}, wording=${c}, appType=${l}, needTransferToWeChat=${p}`),1!==a&&2!==a)throw d?(E.reportKeyValue({key:"WeAppNavBan",value:[z.appType+1e3,z.appLaunchInfo.scene,33,3302,0,1,s,"跳转跳出",vg()].join(",")}),gu("showModal",{showCancel:!0,content:d.desc,confirmText:d.confirm_wording,cancelText:d.cancel_wording,success({confirm:e}){var t=d.confirm_url;e&&jT({url:t}),E.reportKeyValue({key:"WeAppNavBan",value:[z.appType+1e3,z.appLaunchInfo.scene,33,3302,e?1:2,2,s,"跳转跳出",vg()].join(",")})}})):c&&gu("showModal",{content:c,showCancel:!1}),new Error(s);try{var f=yield ox(e,o);return $P({appId:e,path:t}),yield rx(c,a,e,l,u,h,n),O()(O()({},f),{},{appId:e,path:t,needTransferToWeChat:p})}catch(e){var g=e.errMsg||e.message;throw new Error(g)}}finally{cx=!1}}));return function(t,r){return e.apply(this,arguments)}}(),ux=Vc("checkBeforeNavigateToMiniProgram",lx),dx=function(){var e=cp()((function*(e={}){if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&Mc(e,{appId:""}),e.shortLink&&xc(e,{shortLink:""}),v.info(`[_navigateToMiniProgram] appId=${e.appId} path=${e.path} shortLink=${e.shortLink}`);try{var t=yield lx({appId:e.appId,path:e.path,shortLink:e.shortLink,extraData:e.extraData});return v.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(t)}`),yield GP(e,{appId:t.appId,path:t.path,sourcetype:t.sourcetype,needTransferToWeChat:t.needTransferToWeChat})}catch(e){var r=e.errMsg||e.message;throw v.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${r}`),["cancel","another navigation is in progress"].includes(r)||E.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(r)}}));return function(){return e.apply(this,arguments)}}(),px=Vc("navigateToMiniProgramWithoutTapCheck",dx),hx=function(){var e=cp()((function*(e){var t=z.accountInfo.appId;if(!Me()||"wx308bd2aeb83d3345"===t||"wxc98889eca359c1e5"===t)return dx(e);if(!Yk())throw new Error("can only be invoked by user TAP gesture.");var r=Qk();return PP({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===r?-2:Date.now()-r}),dx(e)}));return function(t){return e.apply(this,arguments)}}(),fx=Vc("navigateToMiniProgram",hx),gx=function(){var e=cp()((function*(e){if(!Ph("navigateToMiniProgramDirectly"))throw new Error("no permission");return GP(e,e)}));return function(t){return e.apply(this,arguments)}}(),vx=Vc("navigateToMiniProgramDirectly",gx),mx=()=>function(e){KP(e,e,{beforeAll(e){e.errMsg=e.errMsg.replace("navigateToMiniProgram","navigateToMiniProgramDirectly")}})},yx=(e,t)=>{var r;if(!e&&(null!=t&&null!==(r=t.banning)&&void 0!==r&&r.pay_banned)){var n='functional page of type "request-payment" is banned for this plugin.';return console.error(n),bx("fail",{errMsg:n}),!0}return!1},bx,_x=e=>{bx=(t,r={},n={})=>{"string"==typeof n&&(n={detail:n}),r.errMsg&&"string"==typeof r.errMsg?n.reason=r.errMsg:r.errMsg="";var i="requestPluginPayment";"success"===t?Oc({name:i,args:e,success:!0,res:r,errno:null,errCode:null}):"fail"===t&&Oc({name:i,args:e,success:!1,res:r,errno:null,errCode:null,errMsg:r.errMsg})}},wx={_listener:{},MAX_LISTENER_LIMIT:10,emit:e=>{wx._listener[e.callbackId]&&wx._listener[e.callbackId](e)},on:(e,t)=>{Object.keys(wx._listener).length>wx.MAX_LISTENER_LIMIT&&(wx._listener={}),wx._listener[e]=t},off:e=>{delete wx._listener[e]}},Ix=wx,Sx=(e,t)=>{var r="RPP."+String(Date.now())+"."+String(Math.floor(2147483647*Math.random()));wx.on(r,(e=>{Xk({success:()=>{"success"===e.ret?bx("success",e.detail):"fail"===e.ret?bx("fail",e.detail||{}):"cancel"===e.ret&&bx("fail",Object.assign({},e.detail,{errMsg:"payment cancel"})),wx.off(r)}})})),CP({success:n=>{var{pluginId:i,hostAppId:a,isSelfFunctionalPage:o}=e,s=n.find((e=>e.appId===i));if(!(s&&Array.isArray(s.plugin_list)&&s.plugin_list.length>0)){throw new Error("wx.requestPluginPayment: Invalid plugin info.")}var{version:c}=t,l=z.appLaunchInfo.sessionid,u=E.getAppType(),d=s.plugin_list[0],p=Xp(z.appContactInfo.call_plugin_info),h={functionalPage:{callbackId:r,name:"requestPayment",originAccountInfo:z.accountInfo,pluginVersion:p,pluginInfo:{nickname:d.nickname,icon:d.headimgurl+"/0"},args:t}},f="/__wx__/functional-page?name=requestPayment&";if(o)NS({privateExtraData:h,success:()=>{pI({url:f})},fail:e=>{bx("fail",e)}});else{var g={__noCheckBeforeNavigateToMiniProgram:!0,appId:i,agentId:i,sourceAppId:a,sourcetype:2,path:f,envVersion:c,scene:1099,sceneNote:[a,l,u,p].join(":"),privateExtraData:h,success:()=>{},fail:e=>{bx("fail",e)}};mx()(g)}}})},kx=(e={})=>{vP(["__wx__/functional-pages/request-payment.js","functional-pages/request-payment.js"],"beforeRequestPayment",[e],((e,t)=>{if(e)bx("fail",e);else{var r=String(t.package);wA({timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:e=>{e.extraData=t.extraData,bx("success",e,r)},fail:e=>{bx("fail",e,r)}})}}))},Cx=e=>{Xu(O()({apiName:"webapi_checkappplugincontractorinfo",sdkApiName:"requestPluginPayment",reqData:{},complete:()=>{}},e))},Ex=function(){var e=cp()((function*(e){var t=vt(e,{fee:0,version:""});if(t)throw new Error(`parameter error: ${t}`);e=Object.assign({},{fee:e.fee,version:e.version,paymentArgs:e.paymentArgs,currencyType:e.currencyType,success:e.success,fail:e.fail}),_x(e);var r=Yp(this),n=Gp(this),i=z.accountInfo.appId,a=n===i;a||!de?yx(a,r)||Cx({pluginId:n,success(t){var r,o;null!==(r=t.data)&&void 0!==r&&r.is_associated&&n===i?kx(e.paymentArgs):(null!==(o=t.data)&&void 0!==o&&o.is_associated&&n!==i&&(e.quickPay=!0),Sx({pluginId:n,isSelfFunctionalPage:a,hostAppId:i},e))},fail(t){Sx({pluginId:n,isSelfFunctionalPage:a,hostAppId:i},e)}}):console.warn("For developer:开发者工具上暂不支持调试插件功能页，请在真机上测试。")}));return function(t){return e.apply(this,arguments)}}(),Ax="getShareInfo",Tx=(e={})=>{var t=fS.get(e.shareTicket),{success:r,fail:n,failWithMsg:i}=Lc(e,Ax);t?Xu({sdkApiName:Ax,apiName:"webapi_getshareinfo",reqData:{share_key:t.shareKey,share_name:t.shareName},success(e){var{data:t}=e;t.roomTopic&&(e.roomTopic=t.roomTopic),delete e.data,r(e)},fail:n}):i({msg:"invalid shareTicket"})},Px={showShareAppMessageMenu:!1,showShareTimelineMenu:!1,withShareTicket:!1,isPrivateMessage:!1},xx=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage"],r=[];if(t.includes("shareAppMessage")){Px.showShareAppMessageMenu=!0;var n=new Promise(((t,r)=>{!0===e.withShareTicket?(Px.withShareTicket=!0,gu("showShareMenuWithShareTicket",{withShareTicket:!0,success:t,fail:r,beforeAll(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail(e){e.errMsg+=", with arg withShareTicket: true"}})):(Px.withShareTicket=!1,gu("showShareMenu",{success:t,fail:r}))}));r.push(n)}if(t.includes("shareAppMessage")&&t.includes("shareTimeline")){Px.showShareTimelineMenu=!0;var i=new Promise(((e,t)=>{gu("showShareTimelineMenu",{success:e,fail:t})}));r.push(i)}Promise.all(r).then((()=>{Oc({name:"showShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("showShareMenu:fail","").replace("showShareTimelineMenu:fail","");Rc("showShareMenu",e,r,t.errCode)}))},Mx=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage","shareTimeline"],r=[];function n(){return new Promise(((e,t)=>{gu("hideShareTimelineMenu",{success:e,fail:t})}))}if(t.includes("shareTimeline")&&(Px.showShareTimelineMenu=!1,r.push(n())),t.includes("shareAppMessage")){Px.showShareAppMessageMenu=!1,0===r.length&&r.push(n());var i=new Promise(((e,t)=>{gu("hideShareMenu",{success:e,fail:t})}));r.push(i)}Promise.all(r).then((()=>{Oc({name:"hideShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("hideShareMenu:fail","").replace("hideShareTimelineMenu:fail","");Rc("hideShareMenu",e,r,t.errCode)}))};function Rx(e){return new Promise(((t,r)=>{"boolean"==typeof e.withShareTicket?gu("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:r},{beforeAll(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}))}function Dx(e){return new Promise(((t,r)=>{if("boolean"==typeof e.isUpdatableMessage||"boolean"==typeof e.isPrivateMessage){var n=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo&&e.templateInfo.templateId,parameter_list:e.templateInfo&&e.templateInfo.parameterList});gu("updateShareMenuUpdatable",{isPrivateMessage:e.isPrivateMessage,updatable:e.isUpdatableMessage,templateId:n,success:t,fail:r}),!0===e.isPrivateMessage?Px.isPrivateMessage=!0:!1===e.isPrivateMessage&&(Px.isPrivateMessage=!1)}else t({errMsg:"updateShareMenu:ok"})}))}function Ox(e){return new Promise(((t,r)=>{"string"==typeof e.toDoActivityId?(gu("updateShareMenuUpdatable",{updatable:!0}),gu("updateShareMenuShareTicket",{withShareTicket:!0}),gu("updateShareMenuToDo",{toDoActivityId:e.toDoActivityId,isToDoMessage:"boolean"!=typeof e.isToDoMessage||e.isToDoMessage,success:e=>{t(e)},fail:e=>{r(e)}})):t({errMsg:"updateShareMenu:ok"})}))}var Lx=(e={})=>{Promise.all([Rx(e),Dx(e),Ox(e)]).then((t=>{"function"==typeof e.success&&C.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&C.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])})).catch((t=>{void 0===t.errMsg&&(t.errMsg="updateShareMenu:fail "+t.message),"function"==typeof e.fail&&C.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&C.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},Nx=e=>{if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t},Bx=(e={})=>{if(xc("shareAppMessageForFakeNative",e,{title:"",bizType:0})){var t=Object.assign({useDefaultSnapshot:!0,disableForward:!1},e);if(e.path&&"string"==typeof e.path)t.path=Nx(Yc.convertComponentAliasToRoute(e.path));else{var r=Object.keys(ul.query).map((e=>`${e}=${ul.query[e]}`)).join("&"),n=`${ul.lastRoute}?${r}`;t.path=Nx(Yc.convertComponentAliasToRoute(n))}e.imageUrl&&"string"==typeof e.imageUrl&&(/^(http|https|wxfile):\/\//.test(e.imageUrl)?t.imageUrl=e.imageUrl:t.imageUrl=KI(e.imageUrl,!1)),"wx60422b707e49ff2e"!==z.accountInfo.appId&&(delete t.bizSourceName,delete t.bizSourceIconUrl),gu("shareAppMessageForFakeNative",t)}},Fx=e=>{if(e&&"string"==typeof e)if(/^\w+:\/\//.test(e)){if(!/^wxfile:\/\//.test(e)&&!/^http:\/\/tmp\//.test(e))throw new Error("invalid path")}else if(e)return KI(e,!1);return e},Wx=Vc("shareFileMessage",cp()((function*(e={}){Mc(e,{filePath:""});var t=Fx(e.filePath);try{yield vu("shareFileMessage",O()(O()({},e),{},{filePath:t}))}catch(e){if("cancel"!==e.message)throw e}}))),jx=Vc("shareVideoMessage",cp()((function*(e={}){Mc(e,{videoPath:""});var t=Fx(e.videoPath),r=Fx(e.thumbPath);try{yield vu("shareVideoMessage",O()(O()({},e),{},{videoPath:t,thumbPath:r}))}catch(e){if("cancel"!==e.message)throw e}}))),Vx="authPrivateMessage";function Ux(e={}){var{success:t,fail:r,failWithMsg:n}=Lc(e,Vx),i=fS.get(e.shareTicket);i&&i.shareKey?Ph("authShareRelationship")?Xu({sdkApiName:Vx,apiName:"webapi_authmgr",reqData:{share_key:i.shareKey},success(e){var{iv:r,encrypt_activity_id:n,res:i}=e.data;t({iv:r,encryptedData:n,valid:1===i})},fail:r}):n({msg:"no permission"}):n({msg:"invalid shareTicket"})}var $x=new Nt,zx={map:{},set(e){var t=_t();return this.map[t]=e,t},get(e){return e?this.map[e]:Object.keys(this.map).map((e=>this.map[e]))}},qx=e=>/wxfile:\/\//.test(e)||/http:\/\//.test(e)?e:zx.get(e),Hx=0,Gx={};z.onReady((()=>{Hx=z.appType,Gx=z.appLaunchInfo}));var Kx=(e,t)=>{var r=[];return t.forEach((t=>{var n=e[t];"boolean"==typeof n&&(n=n?1:0),r.push(`${t}:${n}`)})),r.join("|")},Jx=null,Xx=({name:e,data:t})=>{var r=void 0!==Yc?Yc.getCurrentPagesByDomain(""):[],n=r.length>0&&r[r.length-1].__route__||"",i=vg(),a=z.SDKVersion||"",o="";switch(e){case"loadFontFace":o=Kx(t,["family","source","global","scopes"]);break;case"requestSubscribeMessage":o=Kx(t,["templateCount","templateType","operationType"]);break;case"openCustomerServiceChat":o=Kx(t,["extInfo","corpId"])}var s=[Math.round(Date.now()/1e3),Gx.scene,Gx.sessionid||Gx.sessionId,n,i,a,e,o,Hx,1,""].join(",");E.reportKeyValue({key:"APIUse",value:s})},Yx={},Qx,Zx,eM,tM,rM;function nM(e){var t=ul.currentWebviewId;Yx[t]=Yx[t]||{},Yx[t][e]=!0}function iM(e,t={},r=!1,n=!1){r=r||Id(),E.reportKeyValue({key:"MiniprogramDoEvilIdentification",value:[e,encodeURIComponent(JSON.stringify(t)),r?1:0,Date.now(),n?1:0].join(",")})}mk((()=>{var e=!1;Object.keys(Yx).forEach((t=>{var r=Yx[t];r.cameraFrame&&r.webgl&&(e=!0)})),e&&Xx({name:"suspectAR",data:{}}),Yx={}})),function(e){e[e.DisableAsyncReport=0]="DisableAsyncReport",e[e.ReportAction=1]="ReportAction",e[e.ReportContent=2]="ReportContent",e[e.ReportContentWithImg=3]="ReportContentWithImg"}(Qx||(Qx={})),function(e){e[e.DisableSyncCheck=4]="DisableSyncCheck",e[e.EasyMode=5]="EasyMode",e[e.StrictMode=6]="StrictMode"}(Zx||(Zx={})),function(e){e[e.Blur=0]="Blur",e[e.Upload=1]="Upload"}(eM||(eM={})),function(e){e[e.Success=0]="Success",e[e.Fail=1]="Fail"}(tM||(tM={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES"}(rM||(rM={}));var aM={textInput:0,input_text:0,nicknameInput:1,input_nickname:1,textarea:2,editor:3,chooseImage:4,chooseMedia:5,chooseAvatar:6},oM=null,sM=jc(Xb),cM=jc($h),lM=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),uM=null,dM=[],pM=function(){var e=cp()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function hM(e){return fM.apply(this,arguments)}function fM(){return(fM=cp()((function*(e){oM||(oM=jc(OM));var{tempFilePath:t}=yield oM({src:e,quality:60,compressedWidth:224,compressHeight:224}),{data:r}=yield cM({filePath:t});return yield pM(cp()((function*(){var e,t=null===(e=z.appLaunchInfo)||void 0===e?void 0:e.openId,n=yield Promise.race([lM(4e3,"upload timeout"),sM({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&sn=${uM.uploadimg_sn||""}&openid=${t||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:r})]);if(200!==n.statusCode)throw new Error(`upload fail, ${n.data.retcode}`);return n.data.media_id_str})),2)}))).apply(this,arguments)}function gM(){z.onReady((()=>{jw().then((e=>{var t;uM=null==e||null===(t=e.data)||void 0===t?void 0:t.wxa_input_auth,dM.length&&(dM.forEach((e=>{lr("onReceiveUGCConfig",{ugcConfig:uM},[e])})),dM.length=0)}))})),b.clientManager.on("clientConnected",(e=>{uM?lr("onReceiveUGCConfig",{ugcConfig:uM},[e]):dM.push(e)}))}function vM(e,t){return mM.apply(this,arguments)}function mM(){return mM=cp()((function*(e,t,r=""){if(uM&&Array.isArray(t)){var n=uM.async_report_mode;if(uM.sync_check_mode===Zx.DisableSyncCheck&&n!==Qx.DisableAsyncReport&&"number"==typeof aM[e]){var i={async_report_mode:n,query_path:Pg(),component_type:aM[e],report_time:Date.now(),content_length:t.length,action_type:eM.Upload,plugin_app_id:r};if(n===Qx.ReportContentWithImg){var a=[];for(var o of t)a.push(yield hM(o));i.content=a.join(",")}Xu({apiName:"webapi_wxaasyncinputreport",reqData:i,pluginId:r,success:e=>{},fail:e=>{}})}}})),mM.apply(this,arguments)}function yM(e,t){return bM.apply(this,arguments)}function bM(){return(bM=_asyncToGenerator((function*(e,t,r=""){}))).apply(this,arguments)}function _M(e){if(uM){var t=uM[`${e}_auth`]===rM.YES;return t&&rE({icon:"none",title:"小程序涉嫌违规该功能暂不可用"}),t}}var wM={previewImage:31,previewMedia:788,onLivePlayerFullScreenChange:372,onVideoFullScreenChange:131},IM=new Map,SM=new Map,kM=!1,CM=function(){var e=cp()((function*(e){var t;if(!kM){var{data:r={}}=yield jw(),{api_cooltime_list:n=[]}=r;for(var{api:i,cooltime:a}of n)SM.set(i,a);kM=!0}return null!==(t=SM.get(e))&&void 0!==t?t:0}));return function(t){return e.apply(this,arguments)}}(),EM=function(){var e=cp()((function*(e){var t=yield CM(e);if(t<=0)return!1;IM.has(e)||IM.set(e,0);var r=IM.get(e),n=Date.now(),i=!0;if(n-r>=t)i=!1;else{var a=Qk();i=a<r||a>n}return i||IM.set(e,n),i}));return function(t){return e.apply(this,arguments)}}(),AM=function(){var e=cp()((function*(e,t,r){Rc(t,r,`can't be invoked in ${yield CM(e)}ms until user taps`)}));return function(t,r,n){return e.apply(this,arguments)}}(),TM=function(e={}){if(_M("choose_image"))Rc("chooseImage",e,"This api is temporarily unavailable");else{var t=Gp(this);mu(t)("chooseImage",Ed({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},e),{beforeSuccess(e){var r;e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter((e=>e)).map(((t,r)=>({path:t,size:e.tempFileSizes[r]}))):e.tempFiles=(e.tempFiles||[]).filter((e=>e.path&&"number"==typeof e.size)),delete e.tempFileSizes,null!==(r=e.tempFiles)&&void 0!==r&&r.length&&vM("chooseImage",e.tempFiles.map((e=>e.path)),t)}})}},PM="previewImage",xM=function(){var e=cp()((function*(e={}){if(xc(PM,e,{urls:[""]})){var t=yield EM(wM.previewImage),r=z.version,n=z.system,i="7.0.12"===r&&n.indexOf("iOS 13.4")>=0;for(var a of e.urls)if(/^\s*data:image\//.test(a)&&i)return void Rc(PM,e,"url can not be base64 on iOS 13.4");var o=Object.assign({},e);o.urls=o.urls.slice(),o.referrerPolicy=o.referrerPolicy||"origin",QI(o.urls,"image",(r=>{var n=o.urls;if(o.urls=[...r.data.map((e=>e.url))],o.current){var i=n.indexOf(o.current);i>=0&&(o.current=o.urls[i])}o.urls&&(o.urls=o.urls.map((e=>zx.get(e)||e))),t?AM(wM.previewImage,PM,e):gu(PM,o),iM(PM,{urls:o.urls||[]},!1,t)}))}}));return function(){return e.apply(this,arguments)}}(),MM=e=>{var t=Object.assign({},e),r=[t.src];QI(r,"image",(e=>(t.src=e.data[0].url,RM(t,_v))))},RM=(e,t)=>{xc("getImageInfo",e,{src:""})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/tmp\//.test(e.src)?gu("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}}):/^(http|https):\/\//.test(e.src)?t({url:e.src,success(t){404!==t.statusCode?(e.src=t.tempFilePath,gu("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})):Rc("getImageInfo",e,"image not found (404)")},fail(t){Rc("getImageInfo",e,"download image fail. reason: "+t.errMsg)}}):(e.src=zd(ul.lastRoute,e.src,!1),gu("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})))},DM=function(e={}){e.filePath=zx.get(e.filePath)||e.filePath,mu(Gp(this))("saveImageToPhotosAlbum",e,{})},OM=(e={})=>{var t={src:"",quality:80};xc("compressImage",t=Ad(t,e),{src:" ",quality:80})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)||(t.src=zd(ul.lastRoute,t.src,!1)),gu("compressImage",t))},LM=(e={})=>{if(xc("editImage",e,{src:" "})){var t=e.fail,r={beforeAll(e){"editImage:Parse imageUrl fail, maybe imageUrl is illegal?"===e.errMsg&&(e.errMsg="editImage:fail Parse imageUrl fail, maybe imageUrl is illegal?","function"==typeof t&&t(e))}};/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)||(e.src=zd(ul.lastRoute,e.src,!1)),gu("editImage",e,r)}},NM=["16:9","9:16","4:3","3:4","5:4","4:5","1:1"],BM=(e={})=>{if(xc("cropImage",e,{src:" "})){var t=(e.cropScale||"1:1").trim();if(-1!==NM.indexOf(t)){var r=t.split(":"),n=parseInt(r[0],10),i=parseInt(r[1],10),a=Ad({},e);a.width=Number.isNaN(n)?1:n,a.height=Number.isNaN(i)?1:i,/^wxfile:\/\//.test(a.src)||/^http:\/\/(tmp|store|usr)\//.test(a.src)||(a.src=zd(ul.lastRoute,a.src,!1)),gu("cropImage",a)}else Rc("cropImage",e,"invalid cropScale")}},FM=()=>new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),WM=jc(MM),jM={SHOW_MENU:1,SHARE:2,SHARE_SUCCESS:3,SHARE_FAIL:4,ADD_TO_FAVORITES:5,SAVE_TO_ALBUM:6,CANCEL:7},VM=({action:e})=>{var t=z.appLaunchInfo||{},r=[z.appType+1e3,e,t.sessionid||t.sessionId||""].join(",");E.reportKeyValue({key:"ShareImageMenu",value:r})},UM=function(){var e=cp()((function*(e){var t=(yield FM()).append("share-image",{imgPath:e.imgPath,height:e.height,width:e.width,actions:JSON.stringify([{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg",imageDarkSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg"},{action:"addToFavorites",text:"收藏",imageSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng",imageDarkSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/BgIIq_VgA_b30mPKYKb4CmnQemMBJMujsqfe6REw4MSf3i_ql8KU-FywDJLSRGRnxQOWW5VphGdXW0Yr2-Z-0g",imageDarkSrc:"https://res.wx.qq.com/op_res/G0_niEOxSlL24rHxfWQRrYEhHlR548A2lETw0Se_jFtJt3ZpHTIaPZPeINUGM3--cFoO5adG9q8jjhNfUzKUxA"}])}),r=LT((e=>{[IT.BottomBackButton,IT.NavigationBackInterceptionType,IT.NavigateBackCall].includes(e.type)&&t.handleClose()})),{action:n}=yield new Promise((e=>{["shareToFriend","addToFavorites","saveToAlbum","cancel"].forEach((r=>{t.addListener(r,(()=>e({action:r})))}))}));return NT(r),{action:n}}));return function(t){return e.apply(this,arguments)}}(),$M=Vc("showShareImageMenu",cp()((function*(e={}){if(!Ph("showShareImageMenu"))throw new Error("no permission");Mc(e,{path:""});var t=e.path;if(/^\w+:\/\//.test(t)){if(!/^wxfile:\/\//.test(t)&&!/^http:\/\/tmp\//.test(t))throw new Error("invalid path")}else t="/"+KI(t,!1);var{height:r,width:n}=yield WM({src:t}),{action:i}=yield UM({imgPath:t,height:r,width:n});switch(VM({action:jM.SHOW_MENU}),i){case"shareToFriend":try{yield vu("shareImageMessage",{imagePath:t}),VM({action:jM.SHARE_SUCCESS})}catch(e){if("cancel"===e.message)return void VM({action:jM.SHARE_FAIL});throw e}return;case"addToFavorites":return VM({action:jM.ADD_TO_FAVORITES}),void(yield vu("addImageToFavorites",{url:t}));case"saveToAlbum":return VM({action:jM.SAVE_TO_ALBUM}),yield vu("saveImageToPhotosAlbum",{filePath:t}),void(he&&rE({icon:"success",title:"已保存"}));default:throw VM({action:jM.CANCEL}),new Error("cancel")}}))),zM=Ut("lifeCycle:AppRouteDone"),qM=zM.internalOnMethod,HM=zM.internalOffMethod,GM=zM.emit.bind(zM),KM=!1,JM=null,XM=null;XS((()=>{KM=!0})),qM((()=>{KM=!1,JM&&(YM(JM),JM=null),XM&&(QM(XM),XM=null)}));var YM=e=>{xc("addCard",e,{cardList:[]})&&(KM?JM=e:gu("addCard",e))},QM=e=>{xc("openCard",e,{cardList:[]})&&(KM?XM=e:gu("openCard",e))},ZM=(e={})=>{gu("checkIsSupportSoterAuthentication",e,{})},eR=(e={})=>{if(xc("startSoterAuthentication",e,{challenge:""})){var t=e.success;gu("startSoterAuthentication",Object.assign({},e,{success(r){0!==r.errCode?"function"==typeof e.fail&&C.surroundThirdByTryCatch(e.fail,"at api startSoterAuthentication fail callback function")(r):"function"==typeof t&&C.surroundThirdByTryCatch(t,"at api startSoterAuthentication success callback function")(r)}}),{beforeSuccess(e){"number"==typeof e.errCode&&0!==e.errCode&&(e.errMsg="startSoterAuthentication:fail")}})}},tR=(e={})=>{xc("checkIsSoterEnrolledInDevice",e,{checkAuthMode:""})&&gu("checkIsSoterEnrolledInDevice",e,{})},rR=(e={})=>{gu("openGoldenRedPacketDetail",e,{})},nR=(e={})=>{gu("sendGoldenRedPacket",e,{})},iR=(e={})=>{if(Ph("sendBizRedPacketForOpen")){var t=WS().scene;if(1047!==t&&1124!==t&&1011!==t&&1025!==t){var r=`sendBizRedPacket:fail scene ${t} not support.`;return e.fail&&e.fail({errMsg:r}),void(e.complete&&e.complete({errMsg:r}))}}gu("sendBizRedPacket",e,{})},aR=(e={})=>{invokeMethod("openRedPacket",e,{})},oR=Object.assign,sR=Object.create,cR=a.prototype.call.bind(String.prototype.toString),lR=a.prototype.call.bind(String.prototype.indexOf),uR="https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket",dR=(e={})=>{if(xc("showRedPackage",e,{url:""}))if(Ph("showRedPackage")){var t=sR(null);oR(t,e),t.url=cR(t.url),t.isNativeStyle=!0,0===lR(t.url,uR)?gu("private_openUrl",t,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","showRedPackage")}}):Rc("showRedPackage",t,"url is invalid")}else Rc("showRedPackage",e,"no permission")},pR=(e={})=>{gu("jumpRedPacketEnvelopePreview",e,{})},hR=(e={})=>{gu("quickSendRedPacket",e,{})},fR=(e={})=>{gu("sendRedCoverAppMsg",e,{})},gR=(e={})=>{gu("checkIsSupportFacialRecognition",e,{})},vR=e=>JSON.stringify({name:e.name,id_card_number:e.idCardNumber,mobile:e.mobile,outer_verify_id:e.outerVerifyId,user_id_key:e.userIdKey}),mR=(e={})=>{var t=vR(e);gu("startFacialRecognitionVerify",Ed(e,{requestVerifyPreInfo:t}),{})},yR=(e={})=>{var t=vR(e);gu("startCustomFacialRecognitionVerify",Ed(e,{requestVerifyPreInfo:t}),{})},bR=(e={})=>{var t=vR(e);gu("startFacialRecognitionVerifyAndUploadVideo",Ed(e,{requestVerifyPreInfo:t}),{})},_R=(e={})=>{var t=vR(e);gu("startCustomFacialRecognitionVerifyAndUploadVideo",Ed(e,{requestVerifyPreInfo:t}),{})},wR=(e={})=>{pe&&Gu(z.clientVersion,"7.0.18")>=0?gu("checkTrafficCardConditions",e):Rc("checkTrafficCardConditions",e,"not yet supported")},IR=(e={})=>{pe&&Gu(z.clientVersion,"7.0.18")>=0?gu("queryTrafficCardInfo",e):Rc("queryTrafficCardInfo",e,"not yet supported")},SR=(e={})=>{pe&&Gu(z.clientVersion,"7.0.18")>=0?gu("issueTrafficCard",e):Rc("issueTrafficCard",e,"not yet supported")},kR=(e={})=>{pe&&Gu(z.clientVersion,"7.0.18")>=0?gu("rechargeTrafficCard",e):Rc("rechargeTrafficCard",e,"not yet supported")},CR=(e={})=>{pe&&Gu(z.clientVersion,"7.0.18")>=0?gu("setDefaultTrafficCard",e):Rc("setDefaultTrafficCard",e,"not yet supported")},ER=(e={})=>{pe?gu("deleteTrafficCard",e):Rc("deleteTrafficCard",e,"not yet supported")},AR=(e={})=>{if(xc("addFileToFavorites",e,{filePath:""})){var t=Fx(e.filePath);gu("addFileToFavorites",O()(O()({},e),{},{filePath:t}))}},TR=(e={})=>{if(xc("addVideoToFavorites",e,{videoPath:""})){var t=Fx(e.videoPath),r=Fx(e.thumbPath);gu("addVideoToFavorites",O()(O()({},e),{},{videoPath:t,thumbPath:r}))}},PR=(e={})=>{gu("openChannelsCreateContact",e)},xR=[1177,1184,1195,1208],MR=(e={})=>{var{scene:t}=WS();if(-1!==xR.indexOf(t)){var{success:r,fail:n,complete:i}=e;Xu({sdkApiName:"getChannelsShareKey",apiName:"webapi_get_channels_share_info",reqData:{scene_note:_A().scene_note,cookie:Fk()},success({errMsg:e,data:t={}}){var{sharer_openid:n,promoter:a={}}=t,o={errMsg:e,sharerOpenId:n,promoter:{finderNickname:a.finder_nickname,promoterId:a.promoter_id,promoterOpenId:a.promoter_openid}};"function"==typeof r&&r(o),"function"==typeof i&&i(o)},fail(e){"function"==typeof n&&n(e),"function"==typeof i&&i(e)}})}else Rc("getChannelsShareKey",e,`invalid scene, current is ${t}`)},RR=(e={})=>{gu("openChannelsPostPage",e)},DR,OR=e=>{gu("login",Ed(e,{requestInQueue:!1}))},LR=e=>{DR&&clearTimeout(DR),gu("refreshSession",e,{beforeSuccess:e=>{DR=setTimeout((()=>{gu("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:e=>{e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},NR=()=>{gu("logout",{})},BR=function(e={}){var t="login",r=getPluginId(this),n=Object.assign({},e,{miniprogram_appid:WXConfig.accountInfo.appId}),{success:i,fail:a,failWithMsg:o}=assembleCallbacks(e,t);checkPluginPermissionSync(r,"setPluginLoginAuth")?FR.call(this,{success(){invokeOperateWXData({sdkApiName:t,apiName:"webapi_plugin_login",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,i(e)},fail:a})},fail(e){o({msg:e.errMsg})}}):o({msg:"no permission"})},FR=function(e={}){var t="setPluginLoginAuth",r=getPluginId(this),n=Object.assign({},e,{miniprogram_appid:WXConfig.accountInfo.appId,auth_status:1}),{success:i,fail:a}=assembleCallbacks(e,t);invokeOperateWXData({sdkApiName:t,apiName:"webapi_plugin_setauth",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,i(e)},fail:a})},WR="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",jR={cancel:0,accept:1},VR=()=>{var e=new Nt,t="",r=null,n=[];function i(e){r&&!n.length?(n.push(e),r.des()):e()}function a(n,i,a,o){var{data:s,tmpl:c,opApi:l}=i;r||(r=o.mainRoot.append(c,{})),r.addListener("ready",(()=>{r&&(r.setData(O()({},s)),r.isReady?r.setData({enter:!0}):r.isReady=!0)})),r.addListener("destroy",(i=>{r=null,NT(a);var{type:o}=i.detail;o?function(e,r,n){Xu({sdkApiName:t,apiName:r.name,reqData:r.request(O()({opType:n},e)),success(r){n===jR.accept?Oc({name:t,args:e,res:r}):Rc(t,e,"user cancel operation")},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();Rc(t,e,n,+r.err_code)}})}(n,l,jR[o]):e.emit("desComp")}))}return e.on("desComp",(()=>{n.forEach((e=>e())),n=[]})),(e,n={})=>{xc(t=n.api,e,n.checkArgs)&&(n.data=n.genData(e),Object.assign(n.data,{appIcon:z.accountInfo.icon||WR,appName:z.accountInfo.nickname}),__sclEngine__.initScl((o=>{var s=function(e){return LT((r=>{[IT.BottomBackButton,IT.NavigationBackInterceptionType,IT.NavigateBackCall].includes(r.type)&&i((()=>{Rc(t,e,"user navigate back operation")}))}))}(e);a(e,n,s,o),Xu({sdkApiName:t,apiName:n.checkApi.name,reqData:n.checkApi.request(e),success(a){if(!n.checkApi.confirm(a))return delete a.data,void i((()=>{Oc({name:t,args:e,res:a})}));r&&(r.isReady?r.setData({enter:!0}):r.isReady=!0)},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();i((()=>{Rc(t,e,n,+r.err_code)}))}})})))}},UR={authorize:{scopes:{"scope.devicePanel":{api:"authorize",tmpl:"device-panel",checkArgs:{},checkApi:{name:"webapi_wx_authorize",request:({scope:e})=>({scope:e}),confirm:e=>e.data.need_confirm},opApi:{name:"webapi_wx_authorize_confirm",request:({scope:e,opType:t})=>({scope:e,opt:t?1:2})},genData:()=>({wording1:"自动同步所有设备到「发现 - 小程序 - 设备」中",wording2:"同步后，可直接控制使用设备。"})}}},addDevicePanel:{api:"addDevicePanel",tmpl:"device-panel",checkArgs:{sn:"",snTicket:"",modelId:"",deviceName:"",location:""},checkApi:{name:"CheckDevicePanel",request:({sn:e,snTicket:t,modelId:r})=>({sn:e,sn_ticket:t,model_id:r}),confirm:e=>1===e.data.need_alert},opApi:{name:"AddDevicePanel",request:({opType:e,sn:t,modelId:r,deviceName:n,envVersion:i,path:a,query:o,location:s})=>({action_type:e,sn:t,model_id:r,name:n,version_type:i||z.envVersion,path:a,query:o,location:s})},genData:({deviceName:e})=>({wording1:`将“${e}”设备组件添加到「发现 - 小程序 - 设备」中`,wording2:"添加后，可直接控制使用该设备。"})}},$R=VR();function zR(e){return"scope.userInfo"!==e||(xu("getUserInfo")||xu("authorize"))}function qR(e){return Object.keys(UR.authorize.scopes).includes(e)}var HR=e=>{var t=mu(e);return(e={})=>{xc("authorize",e,{scope:""})&&(zR(e.scope)?qR(e.scope)?Object.entries(UR.authorize.scopes).forEach((([t,r])=>{t===e.scope&&$R(e,r)})):t("authorize",Ed(e,{scope:[e.scope],requestInQueue:!0}),{beforeAll(e){delete e.body,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)}}):Rc("authorize",e,"scope unauthorized"))}},GR=HR(),KR=/^wx[0-9a-f]{16}(\/.*)?$/,JR="webapi_reportwxauseuserinfo",XR,YR;!function(e){e[e.UNUSED=0]="UNUSED",e[e.USED=1]="USED",e[e.REMOVAL_NOTIFIED=7]="REMOVAL_NOTIFIED"}(XR||(XR={})),function(e){e[e.ALL=0]="ALL",e[e.DETAIL_ONLY=1]="DETAIL_ONLY"}(YR||(YR={}));var QR={addPhoneCalendar:["jsapi_photocalendar"],addPhoneContact:["jsapi_phonecontact"],chooseImage:["jsapi_media"],chooseInvoice:["jsapi_invoice"],chooseInvoiceTitle:["jsapi_invoice"],chooseLicensePlate:["jsapi_licenseplate"],chooseLocation:["jsapi_choose_location"],getFuzzyLocation:["jsapi_fuzzy_location"],chooseMedia:["jsapi_media"],chooseMessageFile:["jsapi_messagefile"],choosePoi:["jsapi_choose_location"],chooseVideo:["jsapi_media"],createBLEPeripheralServer:["webapi_bluetooth"],enableLocationUpdate:["jsapi_location"],enableLocationUpdateBackground:["jsapi_location"],getLocation:["jsapi_location"],getPhoneNumber:["webapi_getuserwxphone_group"],insertCamera:["jsapi_camera"],insertLivePusher:["jsapi_camera","jsapi_record"],insertVoIPView:["jsapi_camera"],insertXWebCamera:["jsapi_camera"],insertXWebLivePusher:["jsapi_camera","jsapi_record"],insertXWebVoIPView:["jsapi_camera"],joinVoIPChat:["jsapi_record"],openAddress:["jsapi_address"],openBluetoothAdapter:["webapi_bluetooth"],saveImageToPhotosAlbum:["jsapi_photos_album"],saveVideoToPhotosAlbum:["jsapi_photos_album"],startRecord:["jsapi_record"]},ZR={jsapi_address:YR.ALL,jsapi_camera:YR.DETAIL_ONLY,jsapi_invoice:YR.ALL,jsapi_licenseplate:YR.ALL,jsapi_location:YR.DETAIL_ONLY,jsapi_choose_location:YR.ALL,jsapi_fuzzy_location:YR.DETAIL_ONLY,jsapi_media:YR.ALL,jsapi_messagefile:YR.ALL,jsapi_phonecontact:YR.DETAIL_ONLY,jsapi_photocalendar:YR.DETAIL_ONLY,jsapi_photos_album:YR.DETAIL_ONLY,jsapi_record:YR.DETAIL_ONLY,webapi_bluetooth:YR.DETAIL_ONLY,webapi_getuserwxphone_group:YR.ALL,webapi_werun:YR.DETAIL_ONLY,webapi_userinfo:YR.ALL},eD;!function(e){e.USER_INFO="webapi_userinfo",e.WE_RUN_DATA="webapi_werun",e.RECORD="jsapi_record",e.CAMERA="jsapi_camera"}(eD||(eD={}));var tD=a.prototype.call.bind(String.prototype.split),rD=a.prototype.call.bind(String.prototype.match),nD=a.prototype.call.bind(Object.prototype.hasOwnProperty),iD=e=>tD(e,"/",1)[0],aD=(e,t)=>nD(QR,e)?oD(QR[e],t):null,oD=(e,t)=>{var r="string"==typeof t&&rD(t,KR)?iD(t):null;return e.map((e=>({apiName:JR,reqData:{scope:e,report_type:ZR[e],state:XR.USED},pluginId:r,fail({errMsg:t}){v.warn(`[reportUserPrivacyStat] failed, scope=${e}, pluginId=${r}, errMsg=${t}`)}})))},sD={PrivacyScopes:eD,getArgsByJsApi:aD,getArgsByScope:oD,WxDataName:JR};eu(((e,t)=>{if(!De()){var r=sD.getArgsByJsApi(e,t);null!==r&&setTimeout((()=>{v.info(`[reportUserPrivacyStat] reason: invoke service jsApi [${e}] success by [${t}]`),r.forEach((e=>{Xu(e)}))}),200)}}));var cD=e=>function(t,r){De()||(v.info(`[reportUserPrivacyStat] reason: service ${r} by [${t}]`),sD.getArgsByScope(e,t).forEach((e=>{Xu(e)})))},lD=cD([sD.PrivacyScopes.USER_INFO]),uD=cD([sD.PrivacyScopes.WE_RUN_DATA]),dD=cD([sD.PrivacyScopes.RECORD]),pD=cD([sD.PrivacyScopes.CAMERA]),hD=(e={})=>{var t=z.SDKVersion,r=!0===xu("getUserInfo")||"unknown"===xu("getUserInfo"),{success:n,fail:i}=Lc(e,"getUserInfo");Xu({sdkApiName:"getUserInfo",apiName:"webapi_getuserinfo",reqData:{lang:e.lang||"en",version:t},withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:r,success:e=>{var{cloudID:t,encryptedData:r,iv:i,signature:a,data:o}=e;n({cloudID:t,encryptedData:r,iv:i,signature:a,userInfo:o,rawData:JSON.stringify(e.data)}),Te()&&setTimeout((()=>lD("","wx.getUserInfo")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),i(e)}})},fD=(e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",gu("getAppContact",e)},gD=(e={},t={})=>{if(xc("getUserProfile",e,{desc:""})){var r=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(r>30||r<2)Rc("getUserProfile",e,"desc length does not meet the requirements");else{var n=!0===xu("getUserProfile")||"unknown"===xu("getUserProfile"),{success:i,fail:a}=Lc(e,"getUserProfile"),o={lang:e.lang||"en",desc:e.desc};2===e.mode&&(o.get_profile_mode=2),o.version=z.SDKVersion,fD({success(e){var t=JSON.parse(e.data);o.app_version=t},complete(){Xu({sdkApiName:"getUserProfile",apiName:"webapi_getuserprofile",withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:n,reqData:o,pluginId:undefined,success:e=>{var{cloudID:t,encryptedData:r,iv:n,signature:a,data:o}=e;i({cloudID:t,encryptedData:r,iv:n,signature:a,userInfo:o,rawData:JSON.stringify(e.data)}),null!=o&&o.is_demote||setTimeout((()=>lD("","wx.getUserProfile")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),a(e)},complete:()=>{"function"==typeof t.afterAll&&t.afterAll()}})}})}}},vD=(e={})=>{ed("getUserAvatarInfo","webapi_getuseravatarpopupinfo")(e)},mD=(e={})=>{var t=ed("confirmAvatarInfo","webapi_confirmuseravatarinfo",(e=>e),(e=>{try{e.userInfo=e.rawDataObject,Object.keys(e.userInfo).forEach((t=>{delete e[t]})),e.rawData=JSON.stringify(e.userInfo)}catch(e){}}));t(e)},yD=(e={})=>{gu("createVestUser",e,{beforeSuccess(e){e.userInfo&&(e.userInfo.avatar=e.userInfo.headImg,e.userInfo.desc=e.userInfo.desc||"",delete e.userInfo.headImg)}})},bD=null,_D=!1,wD="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",ID=(e={})=>{if(_D)return console.error("invoke wx.getUserProfile too frequently");if(xc("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)Rc("getUserProfile",e,"desc length does not meet the requirements");else{var r=z.accountInfo.nickname,n=z.accountInfo.icon||wD;_D=!0,vD({success(t){if(t&&t.avatar_info){var i="number"==typeof e.showType?e.showType:t.show_type,a="string"==typeof e.wording?e.wording:"",o=t.avatar_info.is_ban_modify_avatar,s=t.avatar_info.default_headimg_url,c=t.avatar_info.default_headimg_fileid,l=t.avatar_info.default_avatar_id,u=(t.avatar_info.avatar_list||[]).map((e=>({id:e.id,avatar:e.avatarurl,nickname:e.nickname,desc:e.desc||""}))),d=t.avatar_info.avatar_limit;if(0!==i){if(_D=!1,1===i){d+=1;var p={id:-100,avatar:s,nickname:"微信用户",desc:"临时头像昵称"};u.splice(1,0,p)}var h=JSON.stringify({appName:r,appIcon:n,infoList:u,showType:i,selected:l,limit:d,isBanModifyAvatar:o,wording:a}),f=LT((e=>{[IT.BottomBackButton,IT.NavigationBackInterceptionType,IT.NavigateBackCall].includes(e.type)&&bD&&bD.handleCancel()}));__sclEngine__.initScl((t=>{(bD=t.mainRoot.append("user-profile",{input:h})).addListener("confirm",(t=>{NT(f),mD({avatar_id:t.detail.selected,opt:1,lang:e.lang||"en",success(r){e.__requireId__&&(r.avatarId=t.detail.selected),Oc({name:"getUserProfile",args:e,res:r})},fail(){Rc("getUserProfile",e,"confirmAvatarInfo fail")},complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),bD=null})),bD.addListener("cancel",(()=>{NT(f),Rc("getUserProfile",e,"cancel"),mD({avatar_id:-100,opt:2,lang:e.lang||"en",complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),bD=null})),bD.addListener("create",(()=>{yD({sessionId:Math.floor(Date.now()/1e3),defaultAvatarUrl:s,defaultAvatarFileId:c,complete(e){e.userInfo&&(u.push(e.userInfo),console.log("[user-profile] createVestUser: ",e,u),bD.setData({infoList:u})),bD.setData({hide:!1})}})}))}))}else gD(e,{afterAll:()=>_D=!1})}else Rc("getUserProfile",e,"getUserAvatarInfo fail")},fail(){_D=!1,Rc("getUserProfile",e,"getUserAvatarInfo fail")}})}}},SD=(e={})=>{ID(Object.assign({},e,{__requireId__:!1}))},kD=function(e){mu(Gp(this))("openAddress",e,{beforeSuccess(e){xd(e,"addressPostalCode","postalCode"),xd(e,"proviceFirstStageName","provinceName"),xd(e,"addressCitySecondStageName","cityName"),xd(e,"addressCountiesThirdStageName","countyName"),xd(e,"addressStreetFourthStageName","streetName"),xd(e,"addressDetailInfoNew","detailInfoNew"),xd(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddress"),delete e.err_msg}})},CD={SYS_MSG_TYPE_INTERACTIVE:1,SYS_MSG_TYPE_RANK:2,SYS_MSG_TYPE_PRIVATE_CHAT:3},ED=AD(CD);function AD(e){var t={};for(var r in e)t[e[r]]=r;return t}function TD(e){return CD[e]}function PD(e){return ED[e]}function xD(e){var t=z.SDKVersion,r=Object.assign({with_sub_msg:"boolean"==typeof e.withSubscriptions&&e.withSubscriptions,version:t},e);return delete r.withSubscriptions,r}function MD(e){if(v.info("webapi_getuserallappauth res=",e),e.auth_item?e.authSetting=e.auth_item.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}):e.authSetting={},void 0!==e.sub_msg_switch){var t={mainSwitch:1===e.sub_msg_switch};if(e.sub_msg_list){var r=e.sub_msg_list.reduce(((e,t)=>{var r=t.template_id;return t.sys_msg_type>0&&(r=PD(t.sys_msg_type)),t.ban_flag?e[r]="ban":(e[r]=t.setting_status?"accept":"reject",t.is_accept_with_audio?e[r]="acceptWithAudio":t.is_accept_with_force_push&&(e[r]="acceptWithForcePush")),e}),{});t.itemSettings=r,Object.assign(t,r)}e.subscriptionsSetting=t}return delete e.signature,delete e.auth_item,delete e.sub_msg_list,delete e.sub_msg_switch,e}var RD=ed("getSetting","webapi_getuserallappauth",xD,MD),DD=function(e={}){var t=Gp(this);mu(t)("openWeRunSetting",{checkSupport:!0,success(){var{success:r,fail:n}=Lc(e);Xu({apiName:"webapi_getwerunstep_history",sdkApiName:"getWeRunData",reqData:{},success(e){r(e),setTimeout((()=>uD(t,"wx.getWeRunData")))},fail:n})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&C.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&C.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},OD=(e={})=>{"number"!=typeof e.step||e.step<0?Rc("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):gu("openWeRunSetting",{checkSupport:!1,success(){gu("uploadWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&C.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&C.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},LD=(e={})=>{"number"!=typeof e.step||e.step<0?Rc("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):gu("openWeRunSetting",{checkSupport:!1,success(){gu("addWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&C.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&C.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},ND=function(e={}){mu(Gp(this))("chooseInvoiceTitle",e,{beforeSuccess(e){var t=e.invoiceTitleInfo||e.choose_invoice_title_info;if(t)try{var r=JSON.parse(t);delete e.invoiceTitleInfo,delete e.choose_invoice_title_info,e=Object.assign(e,r)}catch(e){}}})},BD=e=>(t={})=>{xc("operateWXData",t,{apiName:""})&&Qu({apiName:t.apiName,reqData:t.reqData||{},pluginId:e?t.pluginId:void 0,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},FD=BD(!1),WD=BD(!0),jD=ed("getOpenDeviceId","webapi_getdeviceinfo"),VD=Ut("ThemeChange"),UD=VD.onMethod,$D=VD.internalOnMethod,zD=VD.offMethod;Tt("onThemeChange",(e=>{void 0!==z.theme&&(z.theme=e.theme,VD.emit({theme:e.theme}))}));var qD=(e=[])=>e.map((e=>({sport_type_id:e.typeId,sport_time:e.time||0,sport_distance:e.distance||0,sport_number:e.number||0,sport_calorie:e.calorie||0,sport_url:e.url||""}))),HD=(e={})=>{var t=ed("checkWxaSportRecord","webapi_checkwxasportrecord",(e=>({sport_record_list:qD(e.recordList)})));t(e)},GD=(e={})=>{var t=ed("reportWxaSportRecord","webapi_reportwxasportrecord",(e=>({sport_record_list:qD(e.recordList)})));t(e)},KD=Ru(HD),JD=Ru(GD),XD=({show:e=0,statusCancel:t=0,statusConfirm:r=0,clickMoreCount:n=0})=>{var i=[e,t,r,n];E.reportKeyValue({key:"ShareToWeRun",value:i.join(","),immediately:!0})},YD=null;UD((e=>{var t=e.theme;YD&&YD.setData({theme:t})}));var QD=(e,t=[])=>{var r={};return t.forEach((t=>{e.hasOwnProperty(t)&&(r[t]=e[t])})),r},ZD=(e="",t)=>{var r=LT((e=>{[IT.BottomBackButton,IT.NavigationBackInterceptionType,IT.NavigateBackCall].includes(e.type)&&YD&&(YD.handleCancel(),YD=null)}));__sclEngine__.initScl((n=>{var i=n.mainRoot.append("werun",{input:e});YD=i,i.addListener("confirm",(e=>{var n=e.detail.clickMoreCount;XD({show:1,statusCancel:0,statusConfirm:1,clickMoreCount:n}),NT(r),JD({recordList:t.recordList}).then((()=>Oc({name:"shareToWeRun",args:t}))).catch((e=>Rc("shareToWeRun",t,e.errMsg,+e.err_code)))})),i.addListener("cancel",(e=>{var n=e.detail.clickMoreCount;XD({show:1,statusCancel:1,statusConfirm:0,clickMoreCount:n}),Rc("shareToWeRun",t,"cancel"),NT(r)}))}))},eO=(e={})=>{xc("shareToWeRun",e,{recordList:[]})&&(Ph("shareDataToWeRun")?KD({recordList:e.recordList}).then((t=>{var r=t.wording||{},n=QD(r,["title","sport_name","note_title","note_detail"]);n.theme=vy().theme||"light";var i=JSON.stringify(n);ZD(i,e)}),(t=>{XD({show:0,statusCancel:0,statusConfirm:0,clickMoreCount:0}),Rc("shareToWeRun",e,t.errMsg,+t.err_code)})):Rc("shareToWeRun",e,"has no permission",-100004))},tO=0;h.onLoad((()=>{tO=parseInt(Date.now()/1e3,10)}));var rO=function(e={}){mu(Gp(this))("chooseInvoice",Object.assign({},e,{timeStamp:tO,nonceStr:tO+""}),{beforeSuccess(){}})},nO=e=>{var t=mu(e);return(e={})=>{t("faceVerifyForPay",e)}},iO=nO(),aO=(e={})=>{var t=Object.assign({},e,{scene:151});delete t.profileReportInfo,gu("openBizProfile",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("openBizProfile","openOfficialAccountProfile")}})},oO=(e={})=>{gu("openWeAppProfile",e)},sO=(e={})=>{var t=Object.assign({},e);delete t.profileReportInfo,gu("openUserProfile",t)},cO=(e={})=>{gu("preventApplePayUI",e)},lO=ed("getWxSecData","getWxSecData",((e={})=>e),(e=>e)),uO=!1;XS((()=>{uO=!1})),qk((()=>{uO=!1}));var dO=e=>{if(uO)Rc("requestSubscribeMessage",e,"last call has not ended");else{if(!xc("requestSubscribeMessage",e,{tmplIds:[]}))return;uO=!0,he&&z.clientVersion<385877504||pe&&z.clientVersion<654313216||de?hO(e):pO(e)}},pO=e=>{E.reportIDKey({key:"requestSubscribeMessageWithNative",force:!0});var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),gu("requestSubscribeMessage",t,{beforeAll(){uO=!1},beforeSuccess(){E.reportIDKey({key:"requestSubscribeMessageWithNativeSuccess",force:!0}),uO=!1},beforeFail(){E.reportIDKey({key:"requestSubscribeMessageWithNativeFail",force:!0})}})},hO=e=>{var t,r,n=e.tmplIds||[];if(0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t)return uO=!1,void Rc("requestSubscribeMessage",e,t,r);var i=n.map((e=>({TemplateId:e})));Xu({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:z.accountInfo.appId,ActionType:1,ItemList:i},success(t){var r=(t.data.InfoList||[])[0]||{};if(r.TemplateId!==n[0])return uO=!1,void Oc({name:"requestSubscribeMessage",args:e,res:{[n[0]]:"ban"}});var i="订阅一次以下消息通知";3===r.TemplateType&&(i="长期订阅以下消息通知"),ZC({title:i,content:r.Title||"",confirmText:"允许",cancelText:"取消",success(t){uO=!1,fO(e,t)},fail(t){uO=!1,Rc("requestSubscribeMessage",e,t.errMsg)}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();Rc("requestSubscribeMessage",e,r,+t.err_code),uO=!1}})},fO=(e,t)=>{var r=e.tmplIds[0];Xu({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:z.accountInfo.appId,ActionType:2,UIData:{OpType:t.confirm?1:2,UIItem:[{TemplateId:r,ChooseStatus:1}]}},success(){var n={};n[`${r}`]=""+(t.confirm?"accept":"reject"),Oc({name:"requestSubscribeMessage",args:e,res:n}),Xx({name:"requestSubscribeMessage",data:{templateCount:1,templateType:0,operationType:t.confirm?1:2}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();Rc("requestSubscribeMessage",e,r,+t.err_code)}})},gO=(e={})=>{var t=Object.assign({},e);t.style=t.type,gu("vibrateShort",t,{})},vO=(e={})=>{gu("vibrateLong",e,{})},mO="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",yO={none:0,accept:1,cancel:2,reject:3},bO={0:"none",1:"accept",2:"cancel",3:"reject"},_O=!1,wO=0,IO=null;function SO(e){bp("setGuideFlag",{value:e},[wO],(e=>{e.errMsg&&e.errMsg}))}function kO(e){bp("getGuideFlag",{},[wO],(t=>{t.errMsg?t.errMsg:e(!!t.data)}))}function CO(){setTimeout((()=>{kO((e=>{IO&&IO.setData({showGuideOnce:e})}))}),500)}function EO(e=!0){_O=!1,IO&&e&&IO.des()}function AO(){return LT((e=>{[IT.BottomBackButton,IT.NavigationBackInterceptionType,IT.NavigateBackCall].includes(e.type)&&EO()}))}function TO(e,t,r){IO||(IO=r.mainRoot.append("device-message",{})),IO.addListener("ready",(()=>{IO&&(IO.initData?(IO.setData(O()(O()({},IO.initData),{},{enter:!0})),CO()):IO.isReady=!0)})),IO.addListener("confirm",(t=>{xO(e,yO.accept,t.detail.items)})),IO.addListener("cancel",(t=>{xO(e,yO.cancel,t.detail.items)})),IO.addListener("reject",(t=>{xO(e,yO.reject,t.detail.items)})),IO.addListener("destroy",(()=>{IO=null,NT(t)})),IO.addListener("vibrate",(()=>{gO({type:"medium"})})),IO.addListener("setGuideFlag",(e=>{SO(e.detail.value)}))}function PO(e,t){Xu({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:1,sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,ItemList:e.tmplIds.map((e=>({TemplateId:e})))},success(r){var n=r.data.InfoList||[],i=[],a=[];if(n.forEach((e=>{e.OperType&&e.OperType!==yO.cancel?a.push(e):i.push(e)})),!i.length){var o={},s=a.some((e=>e.OperType===yO.accept));return a.forEach((e=>{o[e.TemplateId]=bO[e.OperType]})),Oc({name:"requestSubscribeDeviceMessage",success:s,args:e,res:o}),void EO()}var c={appIcon:z.accountInfo.icon||mO,appName:z.accountInfo.nickname,items:i.map((e=>O()(O()({name:e.Title,checked:!1},e.IsForcePushTemplate?{isDefaultForcePush:1===e.IsDefaultForcePush,isForcePush:!0,forcePushStatus:!1}:{}),{},{id:e.TemplateId,noticeList:e.KeyWordList})))};t(c)},fail(t){var r=t.errMsg.replace("requestSubscribeDeviceMessage:fail:","").trim();Rc("requestSubscribeDeviceMessage",e,r,+t.err_code),EO()}})}function xO(e,t,r){Xu({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:2,sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,UIData:{OpType:t,UIItem:r.map((e=>O()({TemplateId:e.id,ChooseStatus:e.checked?1:0},e.isForcePush?{IsAcceptWithForcePush:e.forcePushStatus?1:0}:{})))}},success(){if(t===yO.cancel||t===yO.reject)Rc("requestSubscribeDeviceMessage",e,`${bO[t]} operation`);else{var n={};r.forEach((e=>{n[e.id]=e.checked?"accept":"reject"})),Oc({name:"requestSubscribeDeviceMessage",args:e,res:n})}EO(!1)},fail(t){var r=t.errMsg.replace("requestSubscribeDeviceMessage:fail:","").trim();Rc("requestSubscribeDeviceMessage",e,r,+t.err_code),EO(!1)}})}XS((e=>{wO=e.webviewId,EO()})),qk((()=>{EO()}));var MO=e=>{if(xc("requestSubscribeDeviceMessage",e,{sn:"",snTicket:"",modelId:"",tmplIds:[]})){var t,r,n=e.tmplIds||[];0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t?Rc("requestSubscribeDeviceMessage",e,t,r):_O||(_O=!0,__sclEngine__.initScl((t=>{var r=AO();TO(e,r,t),PO(e,(e=>{IO&&(IO.isReady?(IO.setData(O()(O()({},e),{},{enter:!0})),CO()):IO.initData=e)}))})))}},RO=(e={})=>{xc("requestBizSplitBillPayment",e,{orderNo:""})&&gu("requestBizSplitBillPayment",e)},DO="";z.onReady((()=>{DO=z.appLaunchInfo.chatroomUsername})),Kt("onAppEnterForeground",((e={})=>{DO=e.chatroomUsername}));var OO="getGroupEnterInfo",LO=(e={})=>{var{success:t,fail:r,failWithMsg:n}=Lc(e,OO);DO?Ph("getGroupToolbarInfo")?Xu({sdkApiName:OO,apiName:"webapi_swapopengid",reqData:{chatroom_name:DO},success:t,fail:r}):n({msg:"no permission"}):n({msg:"invalid scene"})},NO,BO;function FO(){if(!NO)throw new Error("getLaunchOptionsSync:fail get launch options");var e=Gp(this)||"";return LS(NO||{},e)}function WO(){if(!BO)throw new Error("getLaunchOptionsSync:fail get launch options");return BO||{}}gr("getLaunchAppInfo",(({callbackId:e},t)=>{lr("appLaunchInfoGot",{res:{sceneHistory:mS.sceneHistory,appId:mS.appId},callbackId:e},[t])})),z.onReady((()=>{if(!Te()){var e=z.appLaunchInfo||{};Object.assign(e,z.debugLaunchInfo||{}),CS(e.scene),OS(e,!0),mS.appLaunchInfo=e,mS.appLaunchShareInfo=e.shareInfo,up(e),v.info("[LaunchOptions] set launchOptions by config ready"),BO=RS(e,!0),NO=DS(BO,z.preloadType),BO.__public=LS(NO,""),v.info("[EnterOptions] set enterOptions by config ready"),FS(NO)}}));var jO=()=>Yu({apiName:"webapi_getapppublishwxstatecheckflag",reqData:{}}),VO=[1011,1017,1025,1047,1124,1034],UO=[1001,1038,1041,1089,1090,1104,1131,1187],$O={NeedCheck:0,NotCheck:1},zO=e=>{if(VO.includes(e))return!0;if(UO.includes(e)){var{scene:t}=WO();return VO.includes(t)}return!1},qO=function(){var e=cp()((function*(){try{var{data:e}=yield jO(),{check_scene_flag:t=$O.NeedCheck,check_pay_success_flag:r=$O.NeedCheck}=e||{};return{shouldCheckScene:t===$O.NeedCheck,shouldCheckPayment:r===$O.NeedCheck}}catch(e){return{shouldCheckScene:!0,shouldCheckPayment:!0}}}));return function(){return e.apply(this,arguments)}}(),HO=(e={})=>{var{scene:t}=WS();qO().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{!n||MA()?!r||zO(t)?gu("publishWechatStateActivity",e,{beforeSuccess:e=>{var{tailType:t,tailUserName:r,tailPath:n,tailUri:i}=e;delete e.tailType,delete e.tailUserName,delete e.tailPath,delete e.tailUri,E.reportKeyValue({key:"PublishWechatState",value:[t,r,n,i].map(encodeURIComponent).join(",")})}}):Rc("publishWechatStateActivity",e,`invalid scene, current is ${t}`):Rc("publishWechatStateActivity",e,"should only called after a successful payment")}))},GO=()=>{var{scene:e}=WS();return MA()&&zO(e)},KO=(e={})=>{var{scene:t}=WS();qO().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{if(!n||MA())if(!r||zO(t)){var i=Object.assign({},e);if("string"==typeof i.url){var a=Ip("publishWeChatState",i,!1);if(!a)return;i.url=a,i.url=Wd(i.url)}gu("publishWeChatState",i)}else Rc("publishWeChatState",e,`invalid scene, current is ${t}`);else Rc("publishWeChatState",e,"should only called after a successful payment")}))},JO=(e={})=>{gu("openCustomerServiceChat",Object.assign({},e,{scene:+z.appLaunchInfo.scene}),{beforeSuccess(){try{Xx({name:"openCustomerServiceChat",data:{extInfo:"object"==typeof e.extInfo?JSON.stringify(e.extInfo):e.extInfo,corpId:e.corpId}})}catch(e){}}})},XO=function(e={}){mu(Gp(this))("chooseLicensePlate",e,{beforeSuccess:e=>{e.plate&&(e.plateNumber=e.plate,delete e.plate)}})},YO=VR(),QO=e=>{YO(e,UR.addDevicePanel)},ZO=e=>{if(xc("removeDevicePanel",e,{sn:"",snTicket:"",modelId:""})){var{sn:t,snTicket:r,modelId:n}=e;Xu({sdkApiName:"removeDevicePanel",apiName:"RemoveDevicePanel",reqData:{sn:t,sn_ticket:r,model_id:n},success(t){Oc({name:"removeDevicePanel",args:e,res:t}),rE({title:"已删除",icon:"success"})},fail(t){var r=t.errMsg.replace("removeDevicePanel:fail:","").trim();Rc("removeDevicePanel",e,r,+t.err_code)}})}},eL=e=>{Xu({sdkApiName:"getDevicePanelList",apiName:"GetWxaDevicePanel",reqData:{},success(t){Oc({name:"getDevicePanelList",args:e,res:t})},fail(t){var r=t.errMsg.replace("getDevicePanelList:fail:","").trim();Rc("getDevicePanelList",e,r,+t.err_code)}})},tL=e=>{Xu({sdkApiName:"canIUseDevicePanel",apiName:"CanUseDevicePanel",reqData:{},success({data:t}){var r={result:!!t&&t.check_result};Oc({name:"canIUseDevicePanel",args:e,res:r})},fail(t){var r=t.errMsg.replace("canIUseDevicePanel:fail:","").trim();Rc("canIUseDevicePanel",e,r,+t.err_code)}})},rL=e=>{if(xc("batchAddDevicePanel",e,{devices:[{sn:"",snTicket:"",modelId:"",deviceName:"",location:""}]})){var t=e.devices.map((e=>({sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,name:e.deviceName,location:e.location,path:e.path,version_type:e.envVersion||z.envVersion})));Xu({sdkApiName:"batchAddDevicePanel",apiName:"BatchAddDevicePanel",reqData:{device_list:t},success(t){Oc({name:"batchAddDevicePanel",args:e,res:t})},fail(t){var r=t.errMsg.replace("batchAddDevicePanel:fail:","").trim();Rc("batchAddDevicePanel",e,r,+t.err_code)}})}},nL=new Nt,iL="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",aL={cancel:0,accept:1},oL=null,sL=[];function cL(e){oL&&!sL.length?(sL.push(e),oL.des()):e()}function lL(e){return LT((t=>{[IT.BottomBackButton,IT.NavigationBackInterceptionType,IT.NavigateBackCall].includes(t.type)&&cL((()=>{Rc("requestDeviceVoIP",e,"user navigate back operation")}))}))}function uL(e,t,r,n){oL||(oL=n.mainRoot.append("device-voip",{})),oL.addListener("ready",(()=>{oL&&(oL.setData(O()({},r)),oL.isReady?oL.setData({enter:!0}):oL.isReady=!0)})),oL.addListener("destroy",(r=>{oL=null,NT(t);var{type:n}=r.detail;n?dL(e,aL[n]):nL.emit("desComp")}))}function dL(e,t){Xu({sdkApiName:"addDeviceVoip",apiName:"AddDeviceVoip",reqData:{action_type:t,sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,device_name:e.deviceName},success(r){t===aL.accept?Oc({name:"requestDeviceVoIP",args:e,res:r}):Rc("requestDeviceVoIP",e,"user reject operation")},fail(t){var r=t.errMsg.replace("addDeviceVoip:fail:","").trim();Rc("requestDeviceVoIP",e,r,+t.err_code)}})}nL.on("desComp",(()=>{sL.forEach((e=>e())),sL=[]}));var pL=e=>{xc("requestDeviceVoIP",e,{sn:"",snTicket:"",modelId:"",deviceName:""})&&__sclEngine__.initScl((t=>{var r=lL(e),n={appIcon:z.accountInfo.icon||iL,appName:z.accountInfo.nickname,wording1:`为「${e.deviceName}」开启语音、视频通话提醒`,wording2:"用于设备发起的语音和视频通话邀请"};uL(e,r,n,t),Xu({sdkApiName:"checkDeviceVoip",apiName:"CheckDeviceVoip",reqData:{sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,device_name:e.deviceName},success(t){t.data&&1!==t.data.need_alert?cL((()=>{Rc("requestDeviceVoIP",e,"sn already authroized before")})):oL&&(oL.isReady?oL.setData({enter:!0}):oL.isReady=!0)},fail(t){var r=t.errMsg.replace("checkDeviceVoip:fail:","").trim();cL((()=>{Rc("requestDeviceVoIP",e,r,+t.err_code)}))}})}))},hL="checkIsAddedToMyMiniProgram",fL=ed(hL,"webapi_checkwxauserstarwxa",(()=>{}),(e=>{e.added=e.is_star_wxa,delete e.is_star_wxa})),gL;function vL(e){fL(Object.assign({},e))}var mL=!Se&&_e,yL=me||de||mL||ve,bL={},_L={},wL=new Lt,IL={},SL={},kL={},CL=["getCenterLocation","getRegion","getScale","includePoints","moveToLocation","translateMarker","setIndoorFloor","getIndoorFloor","setIndoorMaskColor","getRotate","getSkew","eraseLines","setCenterOffset","addCustomLayer","removeCustomLayer","moveAlong","initMarkerCluster","addMarkers","removeMarkers","on","off","once","toScreenLocation","fromScreenLocation","addGroundOverlay","updateGroundOverlay","removeGroundOverlay","openMapApp","setLocMarkerIcon","addVisualLayer","removeVisualLayer","addArc","removeArc","setBoundary","executeVisualLayerCommand"];function EL(e){IL[e]||(IL[e]=!0,CI(e,(e=>{delete IL[e],Object.keys(bL).forEach((t=>{new RegExp("^"+e).test(t)&&(delete _L[`${e}_${bL[t]}`],delete bL[t])})),Object.keys(SL).forEach((t=>{new RegExp("^api_"+e).test(t)&&(delete _L[`${e}_${bL[t.substr(4)]}`],delete SL[t])})),Object.keys(SL).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&(delete _L[t.substr(3)],delete SL[t])}))}),"MapContext"))}var AL=0;gr("mapInsert",((e,t)=>{var{nodeId:r,domId:n,mapId:i,pluginId:a}=e,o=`${t}_${a}_${n}_`;r&&r!==Kc.getRootNodeId(t)&&(o+=r),bL[o]=i,_L[`${t}_${i}`]=e,wL.emit("mapInsert"),EL(t)})),gr("mapRemove",(({domId:e,mapId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==Kc.getRootNodeId(i)&&(a+=n),delete bL[a],delete _L[`${i}_${t}`];var o=`api_${i}_${r}_${e}_`;n&&n!==Kc.getRootNodeId(i)&&(o+=n);var s=`SQ_${i}_${t}`;delete SL[o],delete SL[s]}));class TL{}gr("operateMapCallback",(e=>{var t=e.callbackId;t&&"function"==typeof kL[t]&&(kL[t](e),delete kL[t])}));var PL=(gL=class{constructor(){var e=this.exportContext=new TL;CL.forEach((t=>e[t]=this[t].bind(this))),this._lastMarkerPos={},this._lastMarkerDeg={},this._translating={},this._delayTranslate={},this._isGetMarkerPos={}}on(e,t){this._listenerHandler("on",e,t)}off(e,t){this._listenerHandler("off",e,t)}once(e,t){this._listenerHandler("once",e,t)}_invoke(e,t){if(["openMapApp"].indexOf(e)<0&&(yL||["includeMapPoints","getMapMarker","hasUseShowLocation"].indexOf(e)>=0)){t.method=e;var r=`callback${this.webviewId}_${t.mapId}_${AL++}`;kL[r]=function(e){delete e.callbackId,delete e.mapId,delete e.method,e.errMsg&&(e.errMsg.indexOf(":ok")>-1?"function"==typeof t.success&&t.success(e):e.errMsg.indexOf(":fail")>-1&&"function"==typeof t.fail&&t.fail(e)),"function"==typeof t.complete&&t.complete(e)},t.callbackId=r,lr("operateMap",t,[this.webviewId])}else gu(e,t)}toScreenLocation(e={}){this._invokeMethod("toScreenLocation",e)}fromScreenLocation(e={}){this._invokeMethod("fromScreenLocation",e)}getCenterLocation(e={}){var t=this;t._invokeMethod("hasUseShowLocation",{complete(r){r.useShowLocation&&t._moveToEmptyLocation?GR({scope:"scope.userLocation",success(){t._invokeMethod("getMapCenterLocation",e)},fail(t){var r="user not authorized scope.userLocation";t.errMsg&&(r=t.errMsg.replace("authorize:fail","")),Rc("getMapCenterLocation",e,r)}}):t._invokeMethod("getMapCenterLocation",e)}})}setLocMarkerIcon(e={}){if(xc("setLocMarkerIcon",e,{iconPath:""})){var t=Object.assign({},e);/^(wxfile|https?)/.test(t.iconPath)||(t.iconPath=KI(t.iconPath,!1)),this._invokeMethod("setMapLocMarkerIcon",t)}}getScale(e={}){this._invokeMethod("getMapScale",e,{beforeSuccess(e){e.scale=+Number.parseFloat(e.scale).toFixed(2)}})}getRegion(e={}){this._invokeMethod("getMapRegion",e)}moveToLocation(e={}){"number"!=typeof e.longitude||"number"!=typeof e.latitude?this._moveToEmptyLocation=!0:this._moveToEmptyLocation=!1,this._invokeMethod("moveToMapLocation",e)}addGroundOverlay(e={}){if(xc("addGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);/^(wxfile|https?)/.test(t.src)||(t.src=KI(t.src,!1)),this._invokeMethod("addMapGroundOverlay",t)}}openMapApp(e={}){xc("openMapApp",e,{longitude:0,latitude:0,destination:""})&&this._invokeMethod("openMapApp",e)}removeGroundOverlay(e={}){xc("removeGroundOverlay",e,{id:0})&&this._invokeMethod("removeMapGroundOverlay",e)}updateGroundOverlay(e={}){if(xc("updateGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);this._invokeMethod("updateMapGroundOverlay",t)}}moveAlong(e={}){if(xc("moveAlong",e,{duration:0,markerId:0,path:[]})){var t={autoRotate:!0};Object.assign(t,e),this._invokeMethod("moveMapMarkerAlong",t)}}addMarkers(e={}){if(xc("addMarkers",e,{markers:[]}))if(yL){var t=Object.assign({clear:!1},e);this._invokeMethod("addMapMarkers",t)}else{var r=e.markers.map(((e={})=>{Ve(e.id)||Ve(e.clusterId)||console.warn("marker id must be a number");var t=Object.assign({},e);t.anchor=Xe(t.anchor)?t.anchor:{x:.5,y:1},t.alpha=Ve(t.alpha)?t.alpha:1,t.rotate=Ve(t.rotate)?t.rotate:0;var r=t.iconPath;return je(r)&&!/^(wxfile|https?)/.test(r)&&(t.iconPath=KI(r,!1)),Xe(t.label)&&(t.label=Object.assign({content:"",color:"#000000",fontSize:12,borderRadius:0,borderWidth:0,borderColor:"#000000",bgColor:"#00000000",padding:0,anchorX:0,anchorY:0,textAlign:"right"},t.label)),Xe(t.callout)?(t.callout=Object.assign({content:"",color:"#000000",fontSize:12,display:"BYCLICK",borderRadius:0,borderWidth:0,borderColor:"#00000000",bgColor:"#ffffff",padding:0,anchorX:0,anchorY:0,textAlign:"center"},t.callout),t.callout.display="ALWAYS"===t.callout.display?1:0):je(t.title)&&(t.callout={content:t.title,bgColor:"#FFFFFF",padding:10,display:0,textAlign:"center"}),delete t.title,t.data=JSON.stringify({markerId:t.id}),t})),n={};r.forEach(((e,t)=>{var r=e.iconPath;je(r)&&/^cloud:/.test(r)&&(n[r]||(n[r]=[]),n[r].push(t))}));var i=Object.keys(n);QI(i,"image",(t=>{var a=[...t.data.map((e=>e.url))];a.forEach(((e,t)=>{n[i[t]].forEach((t=>{r[t].iconPath=e}))}));var o=Object.assign({clear:!1},e,{markers:r});this._invokeMethod("addMapMarkers",o)}))}}removeMarkers(e={}){if(xc("removeMarkers",e,{markerIds:[]})){var t=Object.assign({},{markers:e.markerIds},e);this._invokeMethod("removeMapMarkers",t)}}initMarkerCluster(e={}){var t=Object.assign({enableDefaultStyle:!0,zoomOnClick:!0,gridSize:60},e);this._invokeMethod("initMapMarkerCluster",t)}translateMarker(e={}){var t=e.markerId;if(void 0!==t)if(e.destination)if(this._translating[t])this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e];else{if(!this._isGetMarkerPos[t])return this._translating[t]=!0,this._invokeMethod("getMapMarker",{markerId:t,success:e=>{this._lastMarkerPos[t]=e.pos},complete:()=>{this._isGetMarkerPos[t]=!0,this._translating[t]=!1;var e=this._delayTranslate[t];e&&e.length&&this.translateMarker(e.shift())}}),void(this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e]);0===e.duration&&(e.duration=1);var r={markerId:t,keyFrames:[],success:t=>{"function"==typeof e.success&&e.success.call(this,t),"function"==typeof e.animationEnd&&e.animationEnd.call(this)},fail:r=>{this._delayTranslate[t]=[],"function"==typeof e.fail&&e.fail.call(this,r)},complete:r=>{"function"==typeof e.complete&&e.complete.call(this,r),this._translating[t]=!1;var n=this._delayTranslate[t];n&&n.length&&this.translateMarker(n.shift())}},n=0,i=this._lastMarkerPos[t],a=e.destination,o=!(i&&i.latitude===a.latitude&&i.longitude===a.longitude);if(e.autoRotate||"number"!=typeof e.rotate){var s,c;if(i){var l=a.latitude-i.latitude,u=a.longitude-i.longitude,d=l/u||0;s=Math.abs((u<0?180:0)-Math.abs(180*Math.atan(d)/Math.PI))*(l>0?-1:1)}"number"==typeof this._lastMarkerDeg[t]&&(c=s-this._lastMarkerDeg[t],Math.abs(c)>180&&(c=c>0?c-360:c+360),Math.abs(c)>3&&e.autoRotate&&o&&(n=c)),(Math.abs(c)>3&&e.autoRotate||void 0===this._lastMarkerDeg[t])&&(this._lastMarkerDeg[t]=s)}else{var p=e.rotate-(this._lastMarkerDeg[t]||0);Math.abs(p)>3&&(Math.abs(p)>180&&(p=p>0?p-360:p+360),n=p,this._lastMarkerDeg[t]=e.rotate)}var h="number"==typeof e.duration?e.duration:1e3;e.moveWithRotate?r.keyFrames.push(O()({rotate:n,duration:h},e.destination)):(o&&r.keyFrames.push(O()({duration:h},e.destination)),0!==n&&r.keyFrames.unshift({rotate:n,duration:Math.abs(n)<10?100:500})),r.keyFrames.length>0?(this._translating[t]=!0,this._invokeMethod("translateMapMarker",r)):setTimeout((()=>{r.success(),r.complete()})),this._lastMarkerPos[t]=e.destination}else console.warn("MapContext.translateMarker: require destination");else console.warn("MapContext.translateMarker: require markerId")}includePoints(e={}){if(e.points&&e.points instanceof Array){e.points.forEach((e=>{e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)}));var t=e.padding;e.padding=[0,0,0,0],t&&(e.padding[0]=Number(t[0])||0,e.padding[1]=Number(t[1])||0,e.padding[2]=Number(t[2])||0,e.padding[3]=Number(t[3])||0),this._invokeMethod("includeMapPoints",e)}}setIndoorFloor(e={}){e.buildingId?e.floorName?this._invokeMethod("setMapIndoorFloor",e):console.warn("MapContext.setIndoorFloor: require floorName"):console.warn("MapContext.setIndoorFloor: require buildingId")}getIndoorFloor(e={}){this._invokeMethod("getMapIndoorFloor",e)}getRotate(e={}){this._invokeMethod("getMapRotate",e)}getSkew(e={}){this._invokeMethod("getMapSkew",e)}setIndoorMaskColor(e={}){this._invokeMethod("setMapIndoorMaskColor",e)}eraseLines(e={}){e.lines&&e.lines instanceof Array?this._invokeMethod("eraseMapLines",e):console.warn("MapContext.eraseLines: require lines")}setCenterOffset(e={}){var t=Object.assign({offset:[.5,.5],animated:!1},e);this._invokeMethod("setMapCenterOffset",t)}addCustomLayer(e={}){xc("addCustomLayer",e,{layerId:""})&&this._invokeMethod("addMapCustomLayer",e)}removeCustomLayer(e={}){xc("removeCustomLayer",e,{layerId:""})&&this._invokeMethod("removeMapCustomLayer",e)}addVisualLayer(e={}){xc("addVisualLayer",e,{layerId:""})&&this._invokeMethod("addMapVisualLayer",e)}removeVisualLayer(e={}){xc("removeVisualLayer",e,{layerId:""})&&this._invokeMethod("removeMapVisualLayer",e)}executeVisualLayerCommand(e={}){xc("executeVisualLayerCommand",e,{layerId:"",command:""})&&this._invokeMethod("executeMapVisualLayerCommand",e)}addArc(e={}){xc("addArc",e,{id:0,start:{},end:{}})&&this._invokeMethod("addMapArc",e)}removeArc(e={}){xc("removeArc",e,{id:0})&&this._invokeMethod("removeMapArc",e)}setBoundary(e={}){this._invokeMethod("setMapBoundary",e)}},F()(gL.prototype,"toScreenLocation",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"toScreenLocation"),gL.prototype),F()(gL.prototype,"fromScreenLocation",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"fromScreenLocation"),gL.prototype),F()(gL.prototype,"getCenterLocation",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"getCenterLocation"),gL.prototype),F()(gL.prototype,"setLocMarkerIcon",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"setLocMarkerIcon"),gL.prototype),F()(gL.prototype,"getScale",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"getScale"),gL.prototype),F()(gL.prototype,"getRegion",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"getRegion"),gL.prototype),F()(gL.prototype,"moveToLocation",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"moveToLocation"),gL.prototype),F()(gL.prototype,"addGroundOverlay",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"addGroundOverlay"),gL.prototype),F()(gL.prototype,"openMapApp",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"openMapApp"),gL.prototype),F()(gL.prototype,"removeGroundOverlay",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"removeGroundOverlay"),gL.prototype),F()(gL.prototype,"updateGroundOverlay",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"updateGroundOverlay"),gL.prototype),F()(gL.prototype,"moveAlong",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"moveAlong"),gL.prototype),F()(gL.prototype,"addMarkers",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"addMarkers"),gL.prototype),F()(gL.prototype,"removeMarkers",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"removeMarkers"),gL.prototype),F()(gL.prototype,"initMarkerCluster",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"initMarkerCluster"),gL.prototype),F()(gL.prototype,"translateMarker",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"translateMarker"),gL.prototype),F()(gL.prototype,"includePoints",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"includePoints"),gL.prototype),F()(gL.prototype,"setIndoorFloor",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"setIndoorFloor"),gL.prototype),F()(gL.prototype,"getIndoorFloor",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"getIndoorFloor"),gL.prototype),F()(gL.prototype,"getRotate",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"getRotate"),gL.prototype),F()(gL.prototype,"getSkew",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"getSkew"),gL.prototype),F()(gL.prototype,"setIndoorMaskColor",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"setIndoorMaskColor"),gL.prototype),F()(gL.prototype,"eraseLines",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"eraseLines"),gL.prototype),F()(gL.prototype,"setCenterOffset",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"setCenterOffset"),gL.prototype),F()(gL.prototype,"addCustomLayer",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"addCustomLayer"),gL.prototype),F()(gL.prototype,"removeCustomLayer",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"removeCustomLayer"),gL.prototype),F()(gL.prototype,"addVisualLayer",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"addVisualLayer"),gL.prototype),F()(gL.prototype,"removeVisualLayer",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"removeVisualLayer"),gL.prototype),F()(gL.prototype,"executeVisualLayerCommand",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"executeVisualLayerCommand"),gL.prototype),F()(gL.prototype,"addArc",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"addArc"),gL.prototype),F()(gL.prototype,"removeArc",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"removeArc"),gL.prototype),F()(gL.prototype,"setBoundary",[wt],Object.getOwnPropertyDescriptor(gL.prototype,"setBoundary"),gL.prototype),gL);class xL extends PL{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new Cd("Parameter 1 should be a string");this.domId=e,this.pluginId=n,this.webviewId=t,this.nodeId=r}_invokeMethod(e,t,r={}){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;"number"==typeof bL[n]||bL[n]?(t.mapId=bL[n],this._invoke(e,t,r)):wL.on("mapInsert",(()=>{t.mapId=bL[n],this._invoke(e,t,r)}))}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n,i=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,a=this.webviewId;"number"==typeof bL[i]||bL[i]?(n=bL[i],OL[e](`${t}_${a}_${n}`,r)):wL.on("mapInsert",(()=>{n=bL[i],OL[e](`${t}_${a}_${n}`,r)}))}}}class ML extends PL{constructor(e,t){super(),this.mapId=e,this.webviewId=t}_invokeMethod(e,t,r={}){t.mapId=this.mapId,this._invoke(e,t,r)}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n=this.webviewId,i=this.mapId;OL[e](`${t}_${n}_${i}`,r)}}}var RL=(e,t,r="",n="")=>{var i=`api_${t}_${n}_${e}_`;if(r&&r!==Kc.getRootNodeId(t)&&(i+=r),SL[i])return SL[i].exportContext;var a=new xL(e,t,r,n);return SL[i]=a,a.exportContext},DL=(e,t)=>{var r=`SQ_${t}_${e}`;if(SL[r])return SL[r].exportContext;var n=new ML(e,t);return SL[r]=n,n.exportContext},OL=new Nt({maxListeners:2e5}),LL={onMapMarkerClusterCreate:"markerClusterCreate",onMapMarkerClusterClick:"markerClusterClick",onMapVisualLayerEvent:"visualLayerEvent"};function NL(e,t,r="",n=""){var i=`canvas_${e}_${t}_${r}_`;return n&&n!==Kc.getRootNodeId(e)&&(i+=n),i}function BL(e){var t=[],r=1;return subscribe(e,(e=>{for(var r=-1,n=0;n<t.length;n++){var i=t[n],a=i[0],o=i[1];if(a.cid===e.cid&&a.canvasId===e.canvasId){r=n,o(e);break}}r>=0&&t.splice(r,1)})),function(e,n){e.cid=r++,t.push([e,n])}}function FL(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return Rw(t)}function WL(e){for(var t=Dw(e),r=t.length,n=new Uint8ClampedArray(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}function jL(e,t,r,n){if(/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e)return e;if(!/wxfile:\/\//.test(e))if(r||t){r=r.split("/")[0];var i=Kc.getNodeById(t,n),a=i&&i.is||"";e=r?0===e.indexOf("/")?Kc.getPluginRoutePrefix(r)+zd(a,e,!1).replace(/\.html$/,""):zd(Kc.convertComponentAliasToRoute(a),e,!1).replace(/\.html$/,""):zd(a,e,!1).replace(/\.html$/,"")}else e=zd(ul.lastRoute,e,!1).replace(/.html$/,"");return e}function VL(e,t,r,n){return/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e?e:"/__pageframe__/"+jL(e,t,r,n)}function UL(e){var t=e.setSrc.bind(e),r=e.getSrc.bind(e),n=e.getReferrerPolicy?e.getReferrerPolicy.bind(e):()=>{},i=e.setReferrerPolicy?e.setReferrerPolicy.bind(e):()=>{};return delete e.getSrc,delete e.setSrc,delete e.getReferrerPolicy,delete e.setReferrerPolicy,Object.defineProperty(e,"src",{enumerable:!0,set(e){t(e)},get:()=>r()}),Object.defineProperty(e,"referrerPolicy",{enumerable:!0,set(e){i(e)},get:()=>n()}),e}function $L(e){return e&&e.length>0&&e.forEach((e=>{e.x=e.clientX||e.pageX,e.y=e.clientY||e.pageY,delete e.target})),e}function zL(e){return e&&e.length>0&&e.forEach((e=>{e.clientX=e.x,e.clientY=e.y,e.pageX=e.x,e.pageY=e.y})),e}function qL(...e){return function(...t){for(var r,n=0;n<e.length;++n){var i=e[n];"function"==typeof i&&(r=0===n?i.apply(null,t):i.call(null,r))}return r}}function HL(){if(he&&Ee()){var e=255&Number(z.host.version);if(e>=16&&e<=31)return!0}return z.clientVersion>=385881088&&z.clientVersion<=385881343&&Ph("WXA_JSAPI_INDEX_useOldCanvas")}Object.keys(LL).forEach((e=>{Kt(e,((t={},r=0)=>{var n=t.mapId,i=LL[e];delete t.mapId,OL.emit(`${i}_${r}_${n}`,t)}))})),gr("mapEvent",((e,t)=>{var r=e.res,n=e.mapId,i=e.event;OL.emit(`${i}_${t}_${n}`,r)})),Tt("onMapMarkerClick",((e={},t=0)=>{Jk();var r=_L[`${t}_${e.mapId}`];if(r&&r.bindmarkertap&&"function"==typeof ul.webviewEventCallback){var n=JSON.parse(e.data);ul.webviewEventCallback({data:{type:"markertap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId,_userTap:!0},eventName:r.bindmarkertap,webviewId:t,nodeId:r.nodeId})}})),Tt("onMapCalloutClick",((e={},t=0)=>{Jk();var r=_L[`${t}_${e.mapId}`];if(r&&r.bindcallouttap&&"function"==typeof ul.webviewEventCallback){var n=JSON.parse(e.data);ul.webviewEventCallback({data:{type:"callouttap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId,_userTap:!0},eventName:r.bindcallouttap,webviewId:t,nodeId:r.nodeId})}})),Tt("onMapLabelClick",((e={},t=0)=>{Jk();var r=_L[`${t}_${e.mapId}`];if(r&&r.bindlabeltap&&"function"==typeof ul.webviewEventCallback){var n=JSON.parse(e.data);ul.webviewEventCallback({data:{type:"labeltap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId,_userTap:!0},eventName:r.bindlabeltap,webviewId:t,nodeId:r.nodeId})}})),Tt("onMapControlClick",((e={},t=0)=>{if(Jk(),e.data&&"function"==typeof ul.webviewEventCallback){var r=JSON.parse(e.data);r.bindcontroltap&&ul.webviewEventCallback({data:{type:"controltap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{controlId:r.controlId},controlId:r.controlId,_userTap:!0},eventName:r.bindcontroltap,webviewId:t,nodeId:r.nodeId})}})),gr("onMapControlTap",(({data:e},t)=>{if(Jk(),e&&"function"==typeof ul.webviewEventCallback){var r=JSON.parse(e);r.bindcontroltap&&ul.webviewEventCallback({data:{type:"controltap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{controlId:r.controlId},controlId:r.controlId,_userTap:!0},eventName:r.bindcontroltap,webviewId:t,nodeId:r.nodeId})}})),Tt("onMapRegionChange",((e={},t=0)=>{var r=_L[`${t}_${e.mapId}`];if(r&&r.bindregionchange&&"function"==typeof ul.webviewEventCallback){var n={type:e.type,rotate:e.rotate,skew:e.skew,gesture:e.gesture,scale:+Number.parseFloat(e.scale).toFixed(2),centerLocation:e.centerLocation,region:e.region},i={target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{type:e.type},type:e.type,causedBy:e.causedBy};"end"===e.type&&(i.detail=n),ul.webviewEventCallback({data:i,eventName:r.bindregionchange,webviewId:t,nodeId:r.nodeId})}})),Tt("onMapClick",((e={},t=0)=>{Jk();var r=_L[`${t}_${e.mapId}`];r&&r.bindtap&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"tap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{longitude:e.longitude,latitude:e.latitude},_userTap:!0},eventName:r.bindtap,webviewId:t,nodeId:r.nodeId})})),Tt("onMapPoiClick",((e={},t=0)=>{Jk();var r=_L[`${t}_${e.mapId}`];if(r&&r.bindpoitap&&"function"==typeof ul.webviewEventCallback){var n={name:e.name,longitude:e.longitude,latitude:e.latitude};e.buildingId&&(n.buildingId=e.buildingId),e.floorName&&(n.floorName=e.floorName),ul.webviewEventCallback({data:{type:"poitap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:n,_userTap:!0},eventName:r.bindpoitap,webviewId:t,nodeId:r.nodeId})}})),Tt("onMapIndoorChange",((e={},t=0)=>{var r=_L[`${t}_${e.mapId}`];r&&r.bindindoorchange&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{},info:{buildingId:e.buildingId,buildingName:e.buildingName,floorIndex:e.floorIndex,floorList:e.floorList}},eventName:r.bindindoorchange,webviewId:t,nodeId:r.nodeId})})),Tt("onMapAnchorPointClick",((e={},t=0)=>{Jk();var r=_L[`${t}_${e.mapId}`];r&&r.bindanchorpointtap&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"anchorpointtap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{longitude:e.longitude,latitude:e.latitude},_userTap:!0},eventName:r.bindanchorpointtap,webviewId:t,nodeId:r.nodeId})}));var GL=/[;/?:@&=+$,a-zA-Z0-9\-_.!~*'()#%]/,KL;function JL(e){for(var t,r=e.length,n="",i=0;i<r;++i)t=e.charAt(i),GL.test(t)?n+=t:n+=encodeURI(t);return n}function XL(e){KL=e}function YL(e,t,r){KL&&KL(e,t,r)}var QL={},ZL={};function eN(e,t){if(v.info(`assign canvas [${e}] to xrFrame [${t}]`),QL[e]=t,Array.isArray(ZL[e])){var r=ZL[e];delete ZL[e],r.forEach((({type:e,evt:r})=>{YL(t,e,r)}))}}function tN(e,t,r){var n=QL[e];void 0===n?(Array.isArray(ZL[e])||(ZL[e]=[]),ZL[e].push({type:t,evt:r})):YL(n,t,r)}var rN={},nN={},iN={},aN={},oN={},sN={},cN={},lN=new WeakMap,uN=new WeakMap,dN={},pN={},hN=new WeakMap,fN=e=>rN[e],gN=e=>lN.get(e),vN=(e,t)=>{rN[e]=t,nN[e]&&nN[e]()},mN=e=>iN[e]=iN[e]||new Promise((t=>{var r=nN[e]=()=>{var r=fN(e);r&&(t(r),delete nN[e])};r()})),yN=(e,t,r,n)=>{var i=NL(e,t,r,n);return aN[i]},bN=(e,t,r,n)=>{var i=NL(e,t,r,n);return sN[i]=sN[i]||new Promise((a=>{(oN[i]=()=>{var o=yN(e,t,r,n);void 0!==o&&(a(o),delete oN[i])})()}))},_N=(e,t,r,n,i)=>{var a=NL(e,t,r,n);aN[a]=i,oN[a]&&oN[a]()},wN=e=>hN.get(e),IN=(e,t,r,n)=>{var i=NL(e,t,r,n);delete aN[i],delete sN[i],delete oN[i]},SN=e=>cN[e],kN=(e,t)=>{cN[e.canvasNumber]=t,lN.set(t,e)},CN=e=>uN.get(e),EN=e=>{var t=SN(e);if(t)return uN.get(t)},AN=(e,t,r)=>{uN.set(t,r),hN.set(r,e),dN[e]&&dN[e]()},TN=e=>pN[e]=pN[e]||new Promise((t=>{(dN[e]=()=>{var r=EN(e);r&&(t(r),delete dN[e])})()}));gr("canvasInserted",((e,t)=>{var{canvasNumber:r,canvasId:n,pluginId:i,nodeId:a}=e;vN(r,O()(O()({},e),{},{webviewId:t,lastTouches:[]})),n&&_N(t,n,i,a,r),CI(t,(()=>PN(r)),"Canvas"),e.isXrFrame&&tN(e.canvasId,"resize",{width:e.width,height:e.height,renderWidth:e.renderWidth,renderHeight:e.renderHeight})})),gr("canvasUpdated",(({canvasNumber:e,data:t,width:r,height:n,renderWidth:i,renderHeight:a,top:o,left:s},c)=>{var l=fN(e);if(l){void 0!==r&&(l.top=o,l.left=s,l.width=r,l.height=n),void 0!==a&&l.isXrFrame&&(l.renderWidth=i,l.renderHeight=a);var u=SN(e);u&&u._onUpdated(l),l.isXrFrame&&tN(l.canvasId,"resize",{width:r,height:n,renderWidth:i,renderHeight:a})}}));var PN=e=>{var t=fN(e);if(t){var r=SN(e);r&&r._onRemoved(),me&&Oh.removeOffScreenCanvas(t.canvasNumber),delete rN[e],delete nN[e],delete iN[e],t.canvasId&&IN(t.webviewId,t.canvasId,t.pluginId,t.nodeId),delete cN[e],delete dN[e],delete pN[e]}};gr("canvasRemoved",(({canvasNumber:e},t)=>{PN(e),lr("canvasRemovedCallback_"+e,{canvasNumber:e},[t])}));var xN=0,MN=new Map;gr("onCanvasMethodCallback",(e=>{MN.forEach((t=>t(e)))}));var RN=function(){var e=cp()((function*(e,t,r){return new Promise(((n,i)=>{var a=++xN;MN.set(a,(e=>{if(e.cid===a){MN.delete(a);var{errMsg:t,result:r}=e;t?i(new Error(`executeCanvasMethod failed: ${t}`)):n(r)}})),lr("invokeCanvasMethod",O()(O()({},r),{},{canvasNumber:e,method:t,cid:a}))}))}));return function(t,r,n){return e.apply(this,arguments)}}(),DN=0,ON=new Map;gr("onDrawCanvas",(e=>{ON.forEach((t=>t(e)))}));var LN=function(){var e=cp()((function*(e,t,r){return new Promise(((n,i)=>{var a=++DN;ON.set(a,(e=>{if(e.cid===a){ON.delete(a);var{errMsg:t}=e;t?i(new Error(`executeWebviewCanvasDraw failed: ${t}`)):n()}})),lr("canvasActionsChanged",{canvasNumber:e,cid:a,actions:t,reserve:r})}))}));return function(t,r,n){return e.apply(this,arguments)}}(),NN=(e,t,r)=>{e=e||[];var n=[],i=[];if("onTouchStart"===t){for(var a=0;a<e.length;++a)n.push(e[a]);var o={x:r.touch.x,y:r.touch.y,identifier:r.touch.id};i.push(o),n.push(o)}else if("onTouchMove"===t)for(var s=0;s<e.length;++s){for(var c=e[s],l=!1,u=0;u<r.touches.length;++u){var d={x:r.touches[u].x,y:r.touches[u].y,identifier:r.touches[u].id};if(d.identifier===c.identifier&&(c.x!==d.x||c.y!==d.y)){n.push(d),i.push(d),l=!0;break}}l||n.push(c)}else if("onTouchEnd"===t)for(var p={x:r.touch.x,y:r.touch.y,identifier:r.touch.id},h=0;h<e.length;++h){var f=e[h];f.identifier===p.identifier?i.push(p):n.push(f)}else if("onTouchCancel"===t)for(var g=0;g<r.touches.length;++g){var v={x:r.touches[g].x,y:r.touches[g].y,identifier:r.touches[g].id};i.push(v)}else if("onLongPress"===t){for(var m={x:r.touch.x,y:r.touch.y,identifier:r.touch.id},y=0;y<e.length;++y)e[y].identifier===m.identifier?n.push(m):n.push(e[y]);i.push(m)}return{touches:n,changedTouches:i}},BN={onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel",onLongPress:"longtap"};function FN(e,t,r,n){if("onLongPress"!==e){var i=fN(t.canvasNumber),{touches:a,changedTouches:o}=NN(i.lastTouches,e,r);i.lastTouches=a,i[e]&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:BN[e],timeStamp:new Date-i.startTime,target:i.target,touches:zL(a),changedTouches:zL(o)},eventName:i[e],webviewId:n,nodeId:i.nodeId})}}function WN(){var e=null;return{next:()=>(null===e&&(e=Date.now()),e++)}}z.onReady((()=>{["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onLongPress"].forEach((e=>{Kt(e,((t,r=0)=>{var n=null;try{n=JSON.parse(t.data)}catch(e){}if(n){var{canvasNumber:i,skia:a,type:o}=n;if("TextView"!==o&&"ImageView"!==o)if("android-webgl"!==o){var s=fN(i);if(s){var c=s.data,{touches:l,changedTouches:u}=NN(c.lastTouches,e,t);c.lastTouches=l,c[e]&&"function"==typeof ul.webviewEventCallback&&("onTouchMove"===e&&0===u.length||ul.webviewEventCallback({data:{type:BN[e],timeStamp:new Date-c.startTime,target:c.target,touches:l,changedTouches:u},eventName:c[e],webviewId:r,nodeId:n.nodeId}))}}else FN(e,n,t,r)}}))}))}));var jN={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},VN=0;function UN(){var e=0;return{get(){if(e>0)return e;if(0===VN)throw Error("initTime not ready");return e=VN},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==h?h.onLoad((()=>{jN.offset=Date.now(),VN=Date.now()})):(jN.offset=Date.now(),VN=Date.now());var $N=new Set([1177,1184,1200,1228]),zN=new Set([0,1,2,7]),qN=()=>{var{scene:e}=dp();return $N.has(e)&&zN.has(z.appType)},HN=de||me||ve,GN={},KN={},JN={},XN=new Lt,YN={},QN=new WeakMap,ZN={},eB={},tB=["play","pause","stop","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback","hidePoster"],rB={},nB={},iB=!0,aB=!0,oB=Object.keys;function sB(e){YN[e]||(YN[e]=!0,CI(e,(e=>{delete YN[e],oB(GN).concat(oB(KN)).forEach((t=>{new RegExp("^"+e).test(t)&&delete GN[t]})),oB(ZN).forEach((t=>{(new RegExp("^api_"+e).test(t)||new RegExp("^SQ_"+e).test(t))&&delete ZN[t]})),ve&&gu("setKeepScreenOn",{keepScreenOn:!1},{})}),"VideoContext"))}gr("updateVideoPictureInPicture",((e={},t)=>{JN.webviewId=t,JN.playerId=e.playerId})),gr("videoAdPlay",(({videoPlayerId:e,type:t},r)=>{eB[`${r}_${e}`]=t})),gr("videoPlayerInsert",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n,nodeInfo:i,data:a},o)=>{var s=`${o}_${r}_${e}_`;n&&n!==Kc.getRootNodeId(o)&&(s+=n),GN[s]=t,fB(i,t,o),XN.emit("videoPlayerInsert"),sB(o),nB[`${o}_${t}`]=a||{}})),gr("xWebVideoInserted",(({domId:e,viewId:t,pluginId:r,nodeId:n,data:i},a)=>{var o=`${a}_${r}_${e}_`;n&&n!==Kc.getRootNodeId(a)&&(o+=n),GN[o]=t,nB[`${a}_${t}`]=i||{},XN.emit("videoPlayerInsert"),sB(a)})),gr("videoPlayerUpdated",(({action:e,value:t,videoPlayerId:r},n)=>{gB({_videoId:r,_webviewId:n},e,t)})),gr("videoPlayerRemoved",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==Kc.getRootNodeId(i)&&(a+=n),delete GN[a],vB(t,i);var o=`api_${i}_${r}_${e}_`;n&&n!==Kc.getRootNodeId(i)&&(o+=n);var s=`SQ_${i}_${t}`;delete ZN[o],delete ZN[s],delete nB[`${i}_${t}`]})),gr("xWebVideoRemoved",(({domId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==Kc.getRootNodeId(n)&&(i+=r);var a=GN[i];delete GN[i],delete nB[`${n}_${a}`]})),gr("xWebVideoSupported",(({isXWebSupported:e})=>{iB=iB&&e})),gr("insertVideoToWebLayerStateChanged",(({viewId:e,inserted:t},r)=>{rB[`${r}_${e}`]=t}));var cB={},lB=WN();gr("onGetVideoInfo",(({callbackId:e,info:t}={})=>{var r=cB[e];cB[e]=null,r&&r(t)})),z.onReady((()=>{z.global&&z.global.window&&"seperated"===z.global.window.renderingMode&&(aB=!1,iB=!1)}));class uB{}class dB{constructor(e,t){var r=this.exportContext=new uB;tB.forEach((e=>{r[e]=this[e].bind(this)})),r._videoId=e,r._webviewId=t}play(){var e=this._getAppStatus();e===zc.BACK_GROUND||e===zc.LOCK||this._invokeMethod("play")}pause(){this._invokeMethod("pause")}stop(){this._invokeMethod("stop")}seek(e,t="accurate"){if("accurate"!==t&&"inaccurate"!==t)throw new Cd("Parameter 2 must either be `accurate` or be `inaccurate`");this._invokeMethod("seek",[e,t])}sendDanmu({text:e,color:t}){this._invokeMethod("sendDanmu",[e,t])}playbackRate(e){.5!==(e=parseFloat(e.toFixed(2)))&&.8!==e&&1!==e&&1.25!==e&&1.5!==e&&2!==e||this._invokeMethod("playbackRate",[e])}requestFullScreen(e={}){var t=this;return cp()((function*(){var r=Id(),n=yield EM(wM.onVideoFullScreenChange);if(t._getInfo((e=>{iM("VideoContext.requestFullScreen",{src:e.src},r,n)})),qN())rE({icon:"none",title:"该场景不支持全屏"});else if(!n){var i=e.direction;[0,90,-90].indexOf(i)>-1?t._invokeMethod("requestFullScreen",[i]):t._invokeMethod("requestFullScreen"),QN.set(t,!0)}}))()}exitFullScreen(){this._invokeMethod("exitFullScreen"),this.showStatusBar(),QN.set(this,!1)}showStatusBar(e={}){gu("showStatusBar",e)}hideStatusBar(e={}){if(pe){var t="hideStatusBar:ok";return"function"==typeof e.success&&e.success({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}if(!QN.get(this)){var r="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:r}),void("function"==typeof e.complete&&e.complete({errMsg:r}))}gu("hideStatusBar",e)}exitPictureInPicture(e={}){if(JN){var t=JN.playerId;he?gu("operateVideoPlayer",O()(O()({},e),{},{videoPlayerId:t,type:"exitPictureInPicture"}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateVideoPlayer","exitPictureInPicture")}}):pe&&gu("operateXWebVideo",O()(O()({},e),{},{viewId:t,type:"exitPictureInPicture"}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebVideo","exitPictureInPicture")}})}}requestBackgroundPlayback(){this._invokeMethod("requestBackgroundPlayback",[])}exitBackgroundPlayback(){this._invokeMethod("exitBackgroundPlayback",[])}hidePoster(){this._invokeMethod("hidePoster")}_invokeMethodWithId(e,t,r){"number"==typeof e?function(){if("begin"!==eB[`${this.webviewId}_${e}`])if(aB&&(pe&&iB||he&&rB[`${this.webviewId}_${e}`])&&["requestFullScreen","exitFullScreen","sendDanmu","seek","stop","play"].indexOf(t)>-1)lr(`video_${this.webviewId}_${e}_actionChanged`,{method:t,data:r},[this.webviewId]);else{var n=this._getAppStatus();if(!HN&&n===zc.BACK_GROUND&&"stop"===t){var i="operateVideoPlayerBackground";return pe&&iB&&(i="operateXWebVideoBackground"),void gu(i,{viewId:e,videoPlayerId:e,type:t})}HN?(this._sendAction(e,{method:t,data:r}),["play","pause","stop","seek","playbackRate"].indexOf(t)>-1&&gB(this.exportContext,t,r&&r[0])):pe&&iB?gu("operateXWebVideo",{viewId:e,type:t,data:r}):gu("operateVideoPlayer",{data:r,videoPlayerId:e,type:t})}else console.error(`${t}:fail cannot operate video while ad playing.`)}.apply(this):XN.once("videoPlayerInsert",(()=>{this._invokeMethod(t,r)}))}_sendActionWithEvnetName(e,t){lr(e,t,[this.webviewId])}_getInfo(e){var t=lB.next();cB[t]=e;var r=this._getVideoPlayerId();r?this._sendActionWithEvnetName(`video_${this.webviewId}_${r}_getInfo`,{callbackId:t}):XN.once("videoPlayerInsert",(()=>{this._sendActionWithEvnetName(`video_${this.webviewId}_${this._getVideoPlayerId()}_getInfo`,{callbackId:t})}))}_getAppStatus(){return ul.appStatus}_getHanged(){return ul.hanged}}class pB extends dB{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new Cd("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}_getVideoPlayerId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return GN[e]}_invokeMethod(e,t){var r=this._getVideoPlayerId();this._invokeMethodWithId(r,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}class hB extends dB{constructor(e,t){super(e,t),this.videoPlayerId=e,this.webviewId=t}_getVideoPlayerId(){return this.videoPlayerId}_invokeMethod(e,t){var r=this._getVideoPlayerId();this._invokeMethodWithId(r,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}function fB(e,t,r){if(de){var n=document.createElement("video");e.elem=n,KN[`${r}_${t}`]=e,n.controls=!1,n.preload="auto",n.muted=!0,n.autoplay=e.autoplay,n.style.width=e.width+"px",n.style.height=e.height+"px"}}function gB(e,t,r){if(de&&void 0!==e._webviewId){var n=KN[`${e._webviewId}_${e._videoId}`].elem;switch(t){case"setSrc":n.src=r;break;case"play":n.play();break;case"pause":case"stop":n.pause();break;case"seek":0===n.readyState||1===n.readyState?n.oncanplay=()=>{n.currentTime=r,n.oncanplay=null}:n.currentTime=r;break;case"playbackRate":n.playbackRate=r}}}function vB(e,t){delete KN[`${t}_${e}`]}function mB(e){return KN[`${e._webviewId}_${e._videoId}`].elem}function yB(e,t,r="",n=""){var i=`api_${t}_${n}_${e}_`;if(r&&r!==Kc.getRootNodeId(t)&&(i+=r),ZN[i])return ZN[i].exportContext;var a=new pB(e,t,r,n);return ZN[i]=a,a.exportContext}function bB(e,t){var r=`SQ_${t}_${e}`;if(ZN[r])return ZN[r].exportContext;var n=new hB(e,t);return ZN[r]=n,n.exportContext}var _B=["onVideoPlay","onVideoPause","onVideoTimeUpdate","onVideoClickFullScreenBtn","onVideoClickDanmuBtn","onVideoFullScreenChange","onVideoWaiting","onVideoError","onVideoProgress","onVideoBackgroundPlaybackChange"];z.onReady((()=>{pe&&(_B=_B.map((e=>e.replace("on","onXWeb"))).concat(_B)),_B.forEach((e=>{Kt(e,((t={},r)=>{"skyline"===nr(r)&&lr(`${e}FromAppService`,t,[r]);var n=`bind${e.replace("XWeb","").substring(7).toLowerCase()}`,{handlers:i,event:a,createdTimestamp:o,nodeId:s}=JSON.parse(t.data);if(i){var c=JSON.parse(t.data);if(t.videoPlayerId=t.videoPlayerId||c&&c.videoPlayerId||"-1000",i[n]&&"function"==typeof ul.webviewEventCallback){var l={type:n.substring(4),target:a.target,currentTarget:a.currentTarget,timeStamp:(t.timeStamp||Date.now())-o,detail:{}};if("bindtimeupdate"===n&&(l.detail={currentTime:t.position,duration:t.duration}),"bindfullscreenchange"===n){var u=t.direction;u=0===u||180===u||"vertical"===u?"vertical":"horizontal",l.detail={fullScreen:t.fullScreen,fullscreen:t.fullScreen,direction:u}}"binderror"===n?l.detail={errMsg:t.errMsg}:"bindprogress"===n?l.detail={buffered:t.buffered}:"bindbackgroundplaybackchange"===n&&(l.detail={playInBackground:t.playInBackground}),ul.webviewEventCallback({data:l,eventName:i[n],webviewId:r,nodeId:s})}}}))}))})),Tt("onEnterVideoPictureInPicture",((e={})=>{var t=JN.webviewId,r=nB[`${t}_${e.videoPlayerId}`];r&&r.handlers.bindenterpictureinpicture&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"enterpictureinpicture",target:r.event.target,currentTarget:r.event.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindenterpictureinpicture,webviewId:t,nodeId:r.nodeId})})),Tt("onLeaveVideoPictureInPicture",((e={})=>{var t=JN.webviewId,r=nB[`${t}_${e.videoPlayerId}`];r&&r.handlers.bindleavepictureinpicture&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"leavepictureinpicture",target:r.event.target,currentTarget:r.event.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindleavepictureinpicture,webviewId:t,nodeId:r.nodeId})}));var wB=!1,IB={};gr("enableCoverViewScrollEventTransfer",(({nodeId:e})=>{IB[e]=!0})),gr("disableCoverViewScrollEventTransfer",(({nodeId:e})=>{IB[e]=!1})),Tt("onScrollViewScroll",((e={},t=0)=>{if(wB||(setTimeout((()=>{wB=!1}),500),gu("hideKeyboard",{}),wB=!0),e.data&&"function"==typeof ul.webviewEventCallback){var r=JSON.parse(e.data);r.bindscroll&&ul.webviewEventCallback({data:{type:"scroll",target:r.target,currentTarget:r.target,detail:{scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop},timeStamp:Date.now()-r.timeStamp},eventName:r.bindscroll,webviewId:t,nodeId:r.nodeId}),IB[r.nodeId]&&lr("coverViewScrollEvent",{nodeId:r.nodeId,scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})}}));var SB=new Set,kB=new WeakMap,CB={service:"service",plugin:"plugin"},EB={[CB.service]:0,[CB.plugin]:0},AB={add(e,t){SB.add(e),kB.set(e,t),EB[t]++},remove(e){var t=kB.get(e);SB.delete(e)&&(kB.delete(e),EB[t]--)},get size(){return SB.size},getSizeByType:e=>EB[e]},TB=AB,PB={UNLOCKED:0,LOCKING:1,LOCKED:2},xB=new WeakMap,MB=new Map,RB=ArrayBuffer,DB;function OB(e){h.onLoad((()=>{DB.new||e(DB)}))}h.onLoad((()=>{DB="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer,"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?RB=__global.SharedArrayBuffer:l.g.SharedArrayBuffer&&(RB=l.g.SharedArrayBuffer))}));class LB{constructor(e,t){if(!Ve(e)||e<0)throw new Cd(`Invalid array buffer length ${e}`);if(Ve(t)){var r;try{r=DB.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new RB(e),writable:!1,enumerable:!0});var n=DB.new(this.buffer);Object.defineProperty(this,"_sabId",{value:n,enumerable:!0,writable:!1})}var i={writeStatus:PB.UNLOCKED,readStatus:PB.UNLOCKED,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};xB.set(this,i),MB.set(this._sabId,this)}destroy(){var e=xB.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],MB.delete(this._sabId),xB.get(this).destroyed=!0,this.unlock(),DB.destroy(this._sabId)}lock(e,t=!1){var r=xB.get(this),{destroyed:n,writeStatus:i,readStatus:a,writeLockCallbacks:o,readLockCallbacks:s}=r;if(n)throw new Cd("SharedArrayBuffer has been destroyed");if(!et(e))throw new Cd("callback must be a function");i!==PB.LOCKED?(o.push(e),i===PB.LOCKING||(r.writeStatus=PB.LOCKING,r.writeLockId=DB.Lock(this._sabId,(()=>{o.forEach((e=>e())),s.forEach((e=>e())),r.writeStatus=PB.LOCKED,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=xB.get(this),{writeLockId:t,readLockId:r,writeStatus:n,readStatus:i,destroyed:a}=e;a?console.warn("unlock: SharedArrayBuffer has been destroyed"):(n!==PB.LOCKING&&n!==PB.LOCKED||(DB.Unlock(this._sabId,t),e.writeStatus=PB.UNLOCKED,e.writeLockId=void 0,e.writeLockCallbacks=[]),i!==PB.LOCKING&&i!==PB.LOCKED||(DB.Unlock(this._sabId,r),e.readStatus=PB.UNLOCKED,e.readLockId=void 0,e.readLockCallbacks=[]))}}var NB=e=>new LB(e),BB=e=>MB.has(e)?MB.get(e):new LB(0,e),FB=e=>Xe(e)?Ve(e._sabId)?BB(e._sabId):Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=FB(n),t}),{}):Ze(e)?e.map(FB):e,WB=new WeakMap,jB=new WeakMap,VB=new WeakMap,UB={},$B={},zB={},qB=new WeakMap,HB=new WeakMap,GB=e=>e.workerId,KB=e=>{e.__isNativeConsole__?v[e.level](...e.logs):console[e.level](...e.logs)},JB=0,XB={};function YB(e,t,r=++JB){return zB[e]?(XB[e]||(XB[e]=[]),XB[e].push({id:r,callback:t})):(zB[e]=r,t()),r}function QB(e,t){if(zB[e]===t&&(delete zB[e],XB[e]&&XB[e].length)){var{id:r,callback:n}=XB[e].shift();YB(e,n,r)}}OB((e=>{var t=0;Object.assign(e,{new(e){var r=++t;return $B[r]=e,Object.keys(UB).forEach((t=>{var n=WB.get(UB[t]);w.postMsgToWorker(n,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:r},!1)})),r},get:e=>$B[e],destroy(e){delete $B[e]},Lock:YB,Unlock:QB})})),w.onWorkerMsg(((e,t)=>{var r=UB[e],n=jB.get(r),i=HB.get(r);if(t.__inner_postmsg_flag__&&(t=t.data),t.__log__&&t.logs)KB(t);else{if("setSharedBuffer"===t.__cmd__)return $B[t.__id__]=t.__buffer__,void Object.keys(UB).forEach((r=>{var n=WB.get(UB[r]);n!==e&&w.postMsgToWorker(n,t,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if(r)if(i&&i.useWKWorker){if(!GB(t))return;if("requireScriptSuccess"===t.__cmd__){var a=qB.get(r);return void(a&&a.evaluateWorkerScriptPromiseResolve&&a.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void $h({filePath:t.filePath,success:({data:r})=>w.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode(...new Uint16Array(r))}),fail:({errMsg:r})=>w.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:r})});"function"==typeof n&&n(t.data)}else"function"==typeof n&&n(FB(t))}else QB(t.__sid__,t.__lid__);else YB(t.__sid__,(()=>r.postMessage(t)),t.__lid__)}}));var ZB=function(e,t){this.postMessage({__cmd__:"requireScript",__script__:e,__id__:WB.get(this),__options__:t})},eF=function(){var e,t=new Promise((t=>{e=t}));qB.set(this,{evaluateWorkerScriptPromise:t,evaluateWorkerScriptPromiseResolve:e})};class tF{constructor(e,t,r={useWKWorker:!1,contextType:"",pluginId:""}){WB.set(this,e),HB.set(this,r),UB[e]=this,this._id=e,r.useWKWorker?(this.useWKWorker=!0,eF.call(this)):ZB.call(this,t,{pluginId:r.pluginId,workerId:e}),TB.add(this,r.contextType)}postMessage(e){var t=WB.get(this),r=qB.get(this),n=HB.get(this);n&&n.useWKWorker&&r?r.evaluateWorkerScriptPromise.then((()=>{w.postMsgToWorker(t,{data:e,appid:z.accountInfo.appId},void 0,this.useWKWorker)})):(e={data:e,__inner_postmsg_flag__:!0},w.postMsgToWorker(t,e))}onMessage(e){jB.set(this,e)}terminate(){var e=WB.get(this),t=HB.get(this);t&&t.useWKWorker?w.postMsgToWorker(e,{__cmd__:"terminate",appid:z.accountInfo.appId}):w.terminate(e),TB.remove(this),WB.delete(this),jB.delete(this),qB.delete(this),VB.delete(this),HB.delete(this),delete UB[e]}onProcessKilled(e){VB.set(this,e)}}Tt("onWorkerWebViewTerminate",(()=>{Object.keys(UB).forEach((e=>{var t=UB[e],r=HB.get(t);if(r&&r.useWKWorker){var n=VB.get(t);TB.remove(t),WB.delete(t),jB.delete(t),qB.delete(t),VB.delete(t),HB.delete(t),delete UB[e],"function"==typeof n&&C.surroundThirdByTryCatch(n,"at Worker.onProcessKilled callback function")(),E.reportIDKey({key:"onWorkerWebViewTerminate"}),v.error("onWorkerWebViewTerminate",e)}}))}));var rF=e=>{if(e._id>=0&&UB[e._id])return e._id},nF,iF={},aF={},oF={},sF=[],cF={},lF=new Lt,uF=new WeakMap;function dF(e){var t=[],r=1;return gr(e,(e=>{t.forEach((t=>{var r=t[0],n=t[1];r.cid===e.cid&&r.cameraId===e.cameraId&&n(e)})),t=[]})),function(e,n){e.cid=r++,t.push([e,n])}}var pF=dF("onOperateCameraCallback"),hF={};function fF({cameraId:e,pluginId:t},r){lF.emit("cameraRemoved"),delete iF[`${r}_${t}`],delete aF[`${r}_${e}`],delete oF[`${r}_${e}`],delete hF[r]}function gF(e,t,r){var n=null,i=null,a=null,o=Uc("start",cp()((function*(){var c=480,l=640,u=`${t}_${r}`;if(!e||"function"!=typeof e)throw new Error("callback is not a function");if("number"!=typeof iF[u]&&!iF[u])return yield new Promise((e=>lF.once("cameraInsert",e))),o();var d=aF[`${t}_${iF[u]}`],{frameSize:p}=d||{};"small"===p?(c=288,l=352):"medium"===p?(c=480,l=640):"large"===p&&(c=720,l=1280),a=()=>{s()},lF.once("cameraRemoved",a);var h,f=window.createObjectURL||window.URL&&window.URL.createObjectURL||window.webkitURL.createObjectURL,g=document.createElement("video"),v=document.createElement("canvas"),m=v.getContext("2d");v.width=c,v.height=l,g.style.width=c+"px",g.style.height=l+"px";try{h=yield new Promise(((e,t)=>{navigator.getUserMedia({video:{width:c,height:l},audio:!1},e,t)}))}catch(e){throw new Error("camera is not found")}"srcObject"in g?g.srcObject=h:g.src=f(h),g.play(),n=h.getTracks()[0];var y=()=>{m.drawImage(g,0,0),e({width:c,height:l,data:m.getImageData(0,0,c,l).data.buffer}),i=window.requestAnimationFrame(y)};i=window.requestAnimationFrame(y)}))),s=Uc("stop",cp()((function*(){window.cancelAnimationFrame(i),lF.off("cameraRemoved",a),n&&n.stop()})));return{start:o,stop:s}}Kt("onCameraInitDone",(()=>{hF[ul.currentWebviewId]=!0,lF.emit("cameraInitialized")})),gr("cameraInserted",(({cameraId:e,pluginId:t,bindings:r},n)=>{iF[`${n}_${t}`]=e,aF[`${n}_${e}`]=r,lF.emit("cameraInsert"),CI(n,(()=>{fF({cameraId:e,pluginId:t},n)}),"CameraContext")})),gr("cameraUpdated",(({cameraId:e,hidden:t},r)=>{oF[`${r}_${e}`]=t})),gr("cameraRemoved",(({cameraId:e,pluginId:t},r)=>{fF({cameraId:e,pluginId:t},r)})),qM((()=>{if(void 0!==Yc&&"function"===Yc.getCurrentPagesByDomain){var e=Yc.getCurrentPagesByDomain("").map((e=>e.__wxWebviewId__));Object.keys(iF).forEach((t=>{var r=t.split("_").shift();-1===e.indexOf(Number(r))&&(delete aF[`${r}_${iF[t]}`],delete oF[`${r}_${iF[t]}`],delete iF[t],cF[r]&&(cF[r].forEach((e=>{clearTimeout(e)})),delete cF[r]))}))}})),Tt("onCameraVideoTaken",((e={},t=0)=>{sF.forEach((r=>{r(e,t)}))}));var vF=(nF=class{constructor(e,t){this.webviewId=e,this.pluginId=t}onCameraFrame(e){if(de||me)return gF(e,this.webviewId,this.pluginId);var t=this.webviewId,r=jc(this._invokeMethod.bind(this,"listenFrameChange")),n=jc(this._invokeMethod.bind(this,"closeFrameChange")),i=!1,a=null,o=null,s=null,c=Uc("start",cp()((function*(n={}){if(!i){if(i=!0,!e||"function"!=typeof e)throw new Error("callback is not a function");if(pe&&!hF[t]&&(yield new Promise((e=>lF.once("cameraInitialized",e)))),!i)throw new Error("listener has been stopped");var c;he&&Kt("onCameraFrame",a=()=>{if(i&&o){var t={width:o.width,height:o.height,data:o.data};e(t)}});try{var{worker:u}=n,d=u?rF(u):void 0,p={};void 0!==d&&Ph("listenFrameChangeInWorker")&&(p.workerId=d),c=yield r(p)}catch(e){throw he&&Yt("onCameraFrame",a),e}if(!i)throw new Error("listener has been stopped");var h=Fp();if(!h)throw new Error("onCameraFrame is not supported on your device");var f=h.get(c.bufferId);if(!f)throw new Error("onCameraFrame fails to allocate ArrayBuffer");f.__proto__=ArrayBuffer.prototype;var g={width:c.width,height:c.height,data:f};he?o={width:c.width,height:c.height,data:f}:Kt("onCameraFrame",a=()=>{i&&e(g)}),s=()=>{l()},lF.once("cameraRemoved",s),nM("cameraFrame")}}))),l=Uc("stop",cp()((function*(){i&&(i=!1,s&&(lF.off("cameraRemoved",s),s=null),a&&(Yt("onCameraFrame",a),a=null),yield n({}))})));return{start:c,stop:l}}_invoke(e,t){t.type=e,de||me||ve?(pF(t,(({imageData:r,videoData:n})=>{function i(t,n){gu("base64ToTempFilePath",Object.assign({fileType:"jpg",base64Data:r},t),{beforeAll:r=>{"takePhoto"===t.type?r.tempImagePath=r.tempFilePath:r.tempFilePath&&(r.tempThumbPath=r.tempFilePath),n&&(r.tempVideoPath=n),r.errMsg=r.errMsg.replace("base64ToTempFilePath",e),delete r.tempFilePath}})}n?gu("base64ToTempFilePath",{fileType:"webm",base64Data:n,complete(e){i(t,e.tempFilePath)}}):"startRecord"===e?("function"==typeof t.success&&t.success({errMsg:"startRecord:ok"}),"function"==typeof t.complete&&t.complete({errMsg:"startRecord:ok"})):i(t)})),lr("operateCamera",t,[this.webviewId])):gu("operateCamera",t)}_invokeMethod(e,t){var r=`${this.webviewId}_${this.pluginId}`;if("number"==typeof iF[r]||iF[r]){var n=aF[`${this.webviewId}_${iF[r]}`];if(n.isCancelAuth)return"function"==typeof t.fail&&t.fail({errMsg:"user cancel auth"}),void("function"==typeof t.complete&&t.complete({errMsg:"user cancel auth"}));if("scanCode"===n.mode&&("takePhoto"===e||"startRecord"===e))return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}));t.cameraId=iF[r],this._invoke(e,t)}else lF.once("cameraInsert",(()=>{this._invokeMethod(e,t)}))}takePhoto(e={}){var t=`${this.webviewId}_${this.pluginId}`;if(oF[`${this.webviewId}_${iF[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));"boolean"!=typeof e.selfieMirror&&(e.selfieMirror=!0),this._invokeMethod("takePhoto",e)}setZoom(e={}){xc("CameraContext.setZoom",e,{zoom:1})&&(e.zoom<1&&(e.zoom=1),this._invokeMethod("setZoom",e))}startRecord(e={}){GR({scope:"scope.record",success:()=>{uF.set(this,!0),this._startRecord(e)},fail:()=>{"function"==typeof e.fail&&e.fail({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."}),"function"==typeof e.complete&&e.complete({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."})}})}_startRecord(e={}){if(uF.get(this)){var t=`${this.webviewId}_${this.pluginId}`;if(oF[`${this.webviewId}_${iF[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));var r,n=e.timeoutCallback,i=e.success,a=e.fail,o=()=>{var t="number"==typeof e.timeout?Math.max(0,e.timeout):30;t=Math.min(t,300),r=this._timer=setTimeout((()=>{this._isRecording&&(this.stopRecord({complete:n||function(){}}),this._isRecording=!1)}),1e3*t),0===t?clearTimeout(r):cF[this.webviewId]?cF[this.webviewId].push(r):cF[this.webviewId]=[r];var i=this._videoTaken=(e,t)=>{var a=`${t}_${this.pluginId}`;if(e.cameraId===iF[a]){var o=sF.indexOf(i);o>-1&&sF.splice(o,1),this._isRecording&&(delete e.cameraId,"function"==typeof n&&n(e),this._isRecording=!1,clearTimeout(r))}};sF.push(i)};e.fail=e=>{this._isRecording=!1,r&&(r=clearTimeout(r)),"function"==typeof a&&a(e)},e.success=e=>{r&&(r=clearTimeout(r)),o(),"function"==typeof i&&i(e)},"boolean"!=typeof e.selfieMirror&&(e.selfieMirror=!0),this._invokeMethod("startRecord",e),this._isRecording||(this._isRecording=!0)}}stopRecord(e={}){var t=sF.indexOf(this._videoTaken);t>-1&&(sF.splice(t,1),this._videoTaken=null),this._invokeMethod("stopRecord",e),this._isRecording=!1,clearTimeout(this._timer)}},F()(nF.prototype,"takePhoto",[wt],Object.getOwnPropertyDescriptor(nF.prototype,"takePhoto"),nF.prototype),F()(nF.prototype,"setZoom",[wt],Object.getOwnPropertyDescriptor(nF.prototype,"setZoom"),nF.prototype),F()(nF.prototype,"startRecord",[wt],Object.getOwnPropertyDescriptor(nF.prototype,"startRecord"),nF.prototype),F()(nF.prototype,"stopRecord",[wt],Object.getOwnPropertyDescriptor(nF.prototype,"stopRecord"),nF.prototype),nF);function mF(e,t,r,n=""){return new vF(t,n)}Kt("onCameraNeedAuthCancel",((e={},t=0)=>{var r=aF[`${t}_${e.cameraId}`];r&&r.binderror&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"error",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{msg:"user cancel auth"}},eventName:r.binderror,webviewId:t,nodeId:r.nodeId}),r&&(r.isCancelAuth=!0)})),Kt("onCameraStop",((e={},t=0)=>{var r=aF[`${t}_${e.cameraId}`];r&&r.bindstop&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"stop",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{}},eventName:r.bindstop,webviewId:t,nodeId:r.nodeId})})),Kt("onCameraInitDone",((e={},t=0)=>{var r=aF[`${t}_${e.cameraId}`];r&&r.bindinitdone&&"function"==typeof ul.webviewEventCallback?ul.webviewEventCallback({data:{type:"initdone",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{maxZoom:e.maxZoom}},eventName:r.bindinitdone,webviewId:t,nodeId:r.nodeId}):lF.once("cameraInsert",(()=>{var r=aF[`${t}_${e.cameraId}`];r&&r.bindinitdone&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"initdone",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{maxZoom:e.maxZoom}},eventName:r.bindinitdone,webviewId:t,nodeId:r.nodeId})}))})),Kt("onCameraScanCode",((e={},t=0)=>{var r=aF[`${t}_${e.cameraId}`];if(r&&r.bindscancode&&"function"==typeof ul.webviewEventCallback){var n={data:{type:"scancode",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{type:e.type,result:e.result,rawData:e.rawData,charSet:e.charSet,scanArea:e.scanArea}},eventName:r.bindscancode,webviewId:t,nodeId:r.nodeId};"barcode"===e.type&&(delete n.data.detail.rawData,delete n.data.detail.charSet),ul.webviewEventCallback(n)}}));var yF=(e={})=>{xc("setKeepScreenOn",e,{keepScreenOn:!0})&&gu("setKeepScreenOn",e,{})},bF,_F=de,wF={},IF={},SF={},kF=new Lt,CF={},EF=new WeakMap,AF={},TF=["play","stop","mute","pause","resume","requestFullScreen","exitFullScreen","snapshot","requestPictureInPicture","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback"],PF=Object.assign,xF={};function MF(e,t){return`${e}_${t}`}function RF(e){CF[e]||(CF[e]=!0,CI(e,(e=>{delete CF[e],Object.keys(wF).forEach((t=>{new RegExp("^"+e).test(t)&&(delete IF[`${e}_${wF[t]}`],delete wF[t])})),Object.keys(AF).forEach((t=>{new RegExp("^api_"+e).test(t)?(delete IF[`${e}_${wF[t.substr(4)]}`],delete AF[t]):new RegExp("^SQ_"+e).test(t)&&(delete IF[t.substr(3)],delete AF[t])})),GF(e),yF({keepScreenOn:!1})}),"LivePlayerContext"))}gr("xWebLivePlayerSupported",(({insert2XWebEnabled:e,viewId:t},r)=>{xF[MF(r,t)]=e,UF(xF)})),gr("updateLivePlayerPictureInPicture",((e={},t)=>{SF.webviewId=t,SF.playerId=e.playerId})),["xWebLivePlayerInsert","livePlayerInsert"].forEach((e=>{gr(e,(({viewId:e,domId:t,playerId:r,pluginId:n,data:i,nodeId:a},o)=>{var s=xF[MF(o,e)]?e:r,c=`${o}_${n}_${t}_`;a&&a!==Kc.getRootNodeId(o)&&(c+=a),wF[c]=s,IF[`${o}_${s}`]=i||{},kF.emit("livePlayerInsert"),RF(o),HF(o)}))})),["xWebLivePlayerRemoved","livePlayerRemoved"].forEach((e=>{gr(e,(({viewId:e,domId:t,playerId:r,pluginId:n,nodeId:i},a)=>{var o=xF[MF(a,e)]?e:r,s=`${a}_${n}_${t}_`;i&&i!==Kc.getRootNodeId(a)&&(s+=i),delete wF[s],delete IF[`${a}_${o}`];var c=`api_${a}_${n}_${t}_`;i&&i!==Kc.getRootNodeId(a)&&(c+=i);var l=`SQ_${a}_${o}`;delete AF[c],delete AF[l],yF({keepScreenOn:!1})}))}));var DF={},OF=WN();gr("onGetPlayerInfo",(({callbackId:e,info:t}={})=>{var r=DF[e];DF[e]=null,r&&r(t)}));class LF{}var NF=(bF=class{constructor(){var e=this.exportContext=new LF;TF.forEach((t=>e[t]=this[t].bind(this)))}play(e={}){var t=this._getAppStatus();t===zc.BACK_GROUND||t===zc.LOCK||(this._invokeMethod("play",[],e),yF({keepScreenOn:!0}))}stop(e={}){this._invokeMethod("stop",[],e),yF({keepScreenOn:!1})}mute(e={}){this._invokeMethod("mute",[],e)}pause(e={}){this._invokeMethod("pause",[],e),yF({keepScreenOn:!1})}resume(e={}){this._invokeMethod("resume",[],e),yF({keepScreenOn:!0})}requestFullScreen(e={}){var t=this;return cp()((function*(){var r=yield EM(wM.onLivePlayerFullScreenChange),n=Id();if(t._getInfo((e=>{iM("LivePlayerContext.requestFullScreen",{src:e.src},n,r)})),!r)if(qN())rE({icon:"none",title:"该场景不支持全屏"});else{var i=t._getPlayerId(),a=t._getWebviewId();if(xF[MF(a,i)])t._invokeWebviewMethod("xWebLivePlayerRequestFullScreen",{direction:e.direction},e);else{var o=e.direction;[0,90,-90].indexOf(o)>-1?t._invokeMethod("requestFullScreen",[o],e):t._invokeMethod("requestFullScreen",[],e),EF.set(t,!0)}}}))()}exitFullScreen(e={}){var t=this._getPlayerId(),r=this._getWebviewId();xF[MF(r,t)]?this._invokeWebviewMethod("xWebLivePlayerExitFullScreen",[],e):(this._invokeMethod("exitFullScreen",[],e),this.showStatusBar(),EF.set(this,!1))}exitPictureInPicture(e={}){if(SF){var t=mu(this.pluginId);he?t("operateLivePlayer",O()(O()({},e),{},{type:"exitPictureInPicture",livePlayerId:SF.playerId}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateLivePlayer","exitPictureInPicture")}}):pe&&t("operateXWebLivePlayer",O()(O()({},e),{},{type:"exitPictureInPicture",viewId:SF.playerId}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebLivePlayer","exitPictureInPicture")}})}}showStatusBar(e={}){gu("showStatusBar",e)}hideStatusBar(e={}){if(!EF.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}gu("hideStatusBar",e)}snapshot(e={}){if(_F)return console.warn("开发者工具暂不支持 LivePlayerContext.snapshot 接口，请到客户端调试。"),void("function"!=typeof e.fail&&"function"!=typeof e.complete||(e.fail||e.complete)({errMsg:"operateLivePlayer:fail not support in devtools"}));var t="view"===e.sourceType?"snapshotView":"snapshot";this._invokeMethod(t,[],PF({quality:"raw"},e))}requestBackgroundPlayback(e={}){this._invokeMethod("requestBackgroundPlayback",[],e)}exitBackgroundPlayback(e={}){this._invokeMethod("exitBackgroundPlayback",[],e)}requestPictureInPicture(e={}){var t=this._getPlayerId();"number"==typeof t?mu(this.pluginId)("requestLivePlayerPictureInPicture",O()(O()({},e),{},{viewId:t,livePlayerId:t,beforeAll(e){e.errMsg=e.errMsg.replace("requestLivePlayerPictureInPicture","requestPictureInPicture")}})):Rc("requestPictureInPicture",e,"playerId not exists")}_invokeMethodWithId(e,t,r,n){var i=this._getPlayerId(),a=this._getWebviewId(),o=xF[MF(a,i)],s=o?"operateXWebLivePlayer":"operateLivePlayer";"number"==typeof e?(_F&&(n.type=t,n.playerId=e,lr("operateLivePlayer",n,[this.webviewId])),function(){var i=o?{viewId:e}:{livePlayerId:e},a=mu(this.pluginId);this._getAppStatus()===zc.BACK_GROUND&&"stop"===t&&(s=`${s}Background`),a(s,PF({},n,O()({data:r,type:t},i)))}.apply(this)):kF.once("livePlayerInsert",(()=>{this._invokeMethod(t,r,n)}))}_getAppStatus(){return ul.appStatus}_getHanged(){return ul.hanged}_getPlayerId(){}_getWebviewId(){}_getInfo(e){var t=OF.next();DF[t]=e;var r=this._getPlayerId();"number"==typeof r?lr(`livePlayerGetInfo${r}`,{callbackId:t},[this.webviewId]):kF.once("livePlayerInsert",(()=>{lr(`livePlayerGetInfo${this._getPlayerId()}`,{callbackId:t},[this.webviewId])}))}},F()(bF.prototype,"play",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"play"),bF.prototype),F()(bF.prototype,"stop",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"stop"),bF.prototype),F()(bF.prototype,"mute",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"mute"),bF.prototype),F()(bF.prototype,"pause",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"pause"),bF.prototype),F()(bF.prototype,"resume",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"resume"),bF.prototype),F()(bF.prototype,"requestFullScreen",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"requestFullScreen"),bF.prototype),F()(bF.prototype,"exitFullScreen",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"exitFullScreen"),bF.prototype),F()(bF.prototype,"exitPictureInPicture",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"exitPictureInPicture"),bF.prototype),F()(bF.prototype,"snapshot",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"snapshot"),bF.prototype),F()(bF.prototype,"requestBackgroundPlayback",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"requestBackgroundPlayback"),bF.prototype),F()(bF.prototype,"exitBackgroundPlayback",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"exitBackgroundPlayback"),bF.prototype),F()(bF.prototype,"requestPictureInPicture",[wt],Object.getOwnPropertyDescriptor(bF.prototype,"requestPictureInPicture"),bF.prototype),bF);class BF extends NF{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new Cd("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.nodeId=r,this.pluginId=n}_invokeMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=wF[n];this._invokeMethodWithId(i,e,t,r)}_getPlayerId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return wF[e]}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=wF[n];"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),lr(e,O()({viewId:i},t),[this.webviewId])}}class FF extends NF{constructor(e,t,r){super(),this.playerId=e,this.webviewId=t,this.pluginId=r}_invokeMethod(e,t,r){var n=this.playerId;this._invokeMethodWithId(n,e,t,r)}_getPlayerId(){return this.playerId}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),lr(e,O()({viewId:this.playerId},t),[this.webviewId])}}function WF(e,t,r="",n=""){var i=`api_${t}_${n}_${e}_`;if(r&&r!==Kc.getRootNodeId(t)&&(i+=r),AF[i])return AF[i].exportContext;var a=new BF(e,t,r,n);return AF[i]=a,a.exportContext}function jF(e,t,r=""){var n=`SQ_${t}_${e}`;if(AF[n])return AF[n].exportContext;var i=new FF(e,t,r);return AF[n]=i,i.exportContext}var VF={},UF=e=>{VF=e},$F={},zF={onLivePlayerEvent:"bindstatechange",onLivePlayerNetStatus:"bindnetstatus",onLivePlayerAudioVolume:"bindaudiovolumenotify",onLivePlayerBackgroundPlaybackChange:"bindbackgroundplaybackchange"},qF={onXWebLivePlayerEvent:"bindstatechange",onXWebLivePlayerNetStatus:"bindnetstatus",onXWebLivePlayerAudioVolume:"bindaudiovolumenotify",onXWebLivePlayerBackgroundPlaybackChange:"bindbackgroundplaybackchange"};function HF(e){var t=$F[e];if($F[e]=[],t)for(var r=0;r<t.length;r++){var n=t[r];KF(n[0],n[1],n[2])}}function GF(e){delete $F[e]}function KF(e,t,r){if(t){2004===t.errCode&&yF({keepScreenOn:!0});var n=VF[MF(r,t.viewId)],i=n?t.viewId:t.livePlayerId,a=IF[`${r}_${i}`],o=n?qF[e]:zF[e],s={};switch(e){case"onLivePlayerEvent":case"onXWebLivePlayerEvent":s.code=t.errCode,s.message=t.errMsg,lr("onLivePlayerStateChange"+t.livePlayerId,{code:t.errCode},[r]);break;case"onLivePlayerNetStatus":case"onXWebLivePlayerNetStatus":t.info=t.info||{},s.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netQualityLevel:t.info.NET_QUALITY_LEVEL,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT,videoCache:t.info.VIDEO_CACHE,audioCache:t.info.AUDIO_CACHE,vDecCacheSize:t.info.V_DEC_CACHE_SIZE,vSumCacheSize:t.info.V_SUM_CACHE_SIZE,avPlayInterval:t.info.AV_PLAY_INTERVAL,avRecvInterval:t.info.AV_RECV_INTERVAL,audioCacheThreshold:t.info.AUDIO_CACHE_THRESHOLD},lr("onLivePlayerNetStatusChange"+t.livePlayerId,{info:s.info},[r]);break;case"onLivePlayerAudioVolume":case"onXWebLivePlayerAudioVolume":s.volume=t.volume;break;case"onLivePlayerBackgroundPlaybackChange":case"onXWebLivePlayerBackgroundPlaybackChange":s.playInBackground=t.playInBackground}if(!a)return $F[r]=$F[r]||[],void $F[r].push([e,t,r]);if(n&&("onXWebLivePlayerEvent"===e||"onXWebLivePlayerNetStatus"===e)){var c=O()({},t.info);"onXWebLivePlayerEvent"===e&&(c={code:t.errCode,message:t.errMsg}),lr("xWebLivePlayerStateChange",{type:e,detail:{info:c},viewId:t.viewId},[r])}a.handlers[o]&&"function"==typeof ul.webviewEventCallback&&(n&&"onXWebLivePlayerEvent"===e&&t&&-9999999===t.errCode||ul.webviewEventCallback({data:{type:o.replace("bind",""),target:a.target,currentTarget:a.target,timeStamp:Date.now()-a.createdTimeStamp,touches:[],detail:s},eventName:a.handlers[o],webviewId:r,nodeId:a.nodeId}))}}var JF=["onLivePlayerEvent","onLivePlayerNetStatus","onLivePlayerAudioVolume","onLivePlayerBackgroundPlaybackChange"],XF=["onXWebLivePlayerEvent","onXWebLivePlayerNetStatus","onXWebLivePlayerAudioVolume","onXWebLivePlayerBackgroundPlaybackChange"];JF.concat(XF).forEach((e=>{Kt(e,((t={},r)=>{KF(e,t,r)}))})),gr("xWebLivePlayerFullScreenEvent",(({viewId:e,data:t},r)=>{var n=IF[`${r}_${e}`];n&&n.handlers.bindfullscreenchange&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"fullscreenchange",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,touches:[],detail:{fullScreen:t.fullScreen,direction:0===t.direction||180===t.direction||"vertical"===t.direction?"vertical":"horizontal"}},eventName:n.handlers.bindfullscreenchange,webviewId:r,nodeId:n.nodeId})})),Kt("onLivePlayerFullScreenChange",((e={},t)=>{lr("videoFullScreenChange",e,[t]),lr("videoFullScreenChange"+e.livePlayerId,{fullScreen:e.fullScreen},[t]);var r=IF[`${t}_${e.livePlayerId}`];r&&r.handlers.bindfullscreenchange&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"fullscreenchange",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{fullScreen:e.fullScreen,direction:0===e.direction||180===e.direction||"vertical"===e.direction?"vertical":"horizontal"}},eventName:r.handlers.bindfullscreenchange,webviewId:t,nodeId:r.nodeId})})),Kt("onEnterLivePlayerPictureInPicture",((e={})=>{var t=SF.webviewId,r=IF[`${t}_${e.livePlayerId}`];r&&r.handlers.bindenterpictureinpicture&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"enterpictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindenterpictureinpicture,webviewId:t,nodeId:r.nodeId})})),Kt("onLeaveLivePlayerPictureInPicture",((e={})=>{var t=SF.webviewId,r=IF[`${t}_${e.livePlayerId}`];r&&r.handlers.bindleavepictureinpicture&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"leavepictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindleavepictureinpicture,webviewId:t,nodeId:r.nodeId})}));var YF={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"};function QF(){return l.g.WeixinCanvas}var ZF=300,eW=150;function tW(e,t,r){var n=r;Object.defineProperty(e,t,{get:()=>(console.warn(`Canvas.${t} will be removed, DO NOT USE IT.`),n),set(e){n=e},enumerable:!1,configurable:!0})}class rW{constructor(e){kN(e,this),tW(this,"_canvasId",String(e.canvasNumber)),tW(this,"_width",e.width),tW(this,"_height",e.height),tW(this,"_top",e.top),tW(this,"_left",e.left)}}var nW=[],iW=new Map;class aW{constructor(){this._initPromise=null}_init(){var e=this;return this._initPromise=this._initPromise||cp()((function*(){nW.length&&(yield e.loadFontFace(nW))}))()}static initialize(e,t){iW.has(e)||iW.set(e,new t)}static ready(){var e=[];for(var t of iW.values())e.push(t._init());return Promise.all(e)}static addFontFace(e){nW.push(e);var t=[];for(var r of iW.values())t.push(r.loadFontFace([e]));return Promise.all(t)}}var oW=["touchstart","touchmove","touchend","touchcancel"],sW=(e,t,r)=>{e=e||[];var n=r.touches,i=r.changedTouches;if(pe)if("touchstart"===t){if(i.length+e.length!==n.length){i=[];var a=function(e){n.find((t=>t.identifier!==e.identifier))&&i.push(e)};for(var o of n)a(o)}}else if("touchend"===t){if(i.length+n.length!==e.length){i=[];var s=function(e){n.find((t=>t.identifier!==e.identifier))&&i.push(e)};for(var c of e)s(c)}}else if("touchcancel"===t&&i.length+n.length!==e.length){i=[];var l=function(e){n.find((t=>t.identifier!==e.identifier))&&i.push(e)};for(var u of e)l(u)}return{touches:$L(n),changedTouches:$L(i)}},cW=!1,lW=()=>{if(!cW){cW=!0;var e=he?QF():Oh.EventHandler;oW.forEach((t=>{e[`on${t}`]=e=>{var r;if(he)r=e.canvasId;else if(pe){var n=e.currentTarget;r=wN(n)}var i=fN(r);if(i){var{touches:a,changedTouches:o}=sW(i.lastTouches,t,e);i.lastTouches=e.touches;var s={type:t,target:i.data.target,currentTarget:i.data.target,timeStamp:e.timeStamp,touches:a,changedTouches:o};i.isXrFrame?tN(i.canvasId,t,e):i.data.handlers[`bind${t}`]&&ul.webviewEventCallback({data:s,eventName:i.data.handlers[`bind${t}`],webviewId:i.webviewId,nodeId:i.nodeId})}else console.error("event can not be dispatched due to missing node info")}}))}};(he||pe)&&gr("settingUpMagicBrushEventListeners",(()=>{lW()}));var uW=!1,dW=()=>uW;z.onReady((()=>{Lh({experimentId:"clicfg_canvas_use_magic_brush",experimentType:"Expt",success:e=>{JSON.stringify(e),void 0!==(null==e?void 0:e.testConfig)&&(pe?uW="1"===e.testConfig:he&&(uW=z.useNonIsolatedEjecta&&"1"===e.testConfig))}})}));class pW extends aW{loadFontFace(e){var t=Oh.loadFont||QF().loadFont||l.g.loadFont;"function"==typeof t&&e.forEach((e=>{t(e.src,{family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})}))}}var hW=(e,t)=>{if(he)return QF().createCanvas(t.canvasNumber);if(pe){var r=new Oh.findElementById(t.canvasNumber);return e._innerId=r.__id,r}},fW=(e,t)=>{if(he){var r=t.canvasNumber;gu("insertWebGLCanvas",{position:{top:-100,left:-100,width:1,height:1},canvasId:r,keepAlive:!0,fail:e=>{}}),e._registerId=r;var n=QF().createOffscreenCanvas(r,t.width,t.height);return e._innerId=n.__id,n}if(pe){var i=new Oh.OffscreenCanvas(t.width,t.height);return e._innerId=i.__id,i}};class gW extends rW{constructor(e){super(e),aW.initialize(gW,pW);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=null===t?fW(this,e):hW(this,e);"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||ZF,n.height=e.height||eW):(n.width=ZF,n.height=eW),AN(r,this,n)}getContext(e,t){var r=gN(this),n="wgfx"===e&&r.isXrFrame;if(e!==r.type&&!n)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var i=CN(this);if(i)return"webgl"===e&&nM("webgl"),!["webgl","webgl2"].includes(e)||null!=t&&t.alpha||lr("xwebWebGLSetOpaqueBackground",{canvasNumber:this.id}),qL(WW)(i.getContext(e,t),this);console.error("Canvas getContext failed due to missing canvas instance")}_onUpdated(){}_onRemoved(){}get width(){return CN(this).width}set width(e){var t=CN(this);t&&(pe&&t.width===e&&e&&(t.width=e-1),t.width=e)}get height(){return CN(this).height}set height(e){var t=CN(this);t&&(pe&&t.height===e&&e&&(t.height=e-1),t.height=e)}createImage(){var e,t=gN(this);return he?e=QF().createImage(this.isOffscreenCanvas?this._registerId:this.id):pe&&(e=new Oh.Image),new RW(UL(e),t)}createImageData(...e){return he?new(QF().ImageData)(...e):pe?new(Oh.ImageData||l.g.ImageData)(...e):void 0}static createPath2D(...e){return he?new(QF().Path2D)(...e):pe?new(Oh.Path2D||l.g.Path2D)(...e):void 0}createPath2D(...e){return gW.createPath2D(...e)}requestAnimationFrame(e){return he?QF().requestAnimationFrame(e):pe?Oh.requestAnimationFrame(e):void 0}cancelAnimationFrame(e){return he?QF().cancelAnimationFrame(e):pe?Oh.cancelAnimationFrame(e):void 0}toDataURL(e,t){var r=CN(this);return r?r.toDataURL(e,t):""}}var vW=new WeakSet;function mW(e){if(!e||vW.has(e))return e;if(vW.add(e),e.fill){var t=e.fill.bind(e);e.fill=e=>e?t(e,e):t()}if(e.putImageData){var r=e.putImageData.bind(e);e.putImageData=(e,...t)=>0===e||"object"!=typeof e?null:r(e,...t)}return e}class yW{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var bW=jN;class _W{constructor(e){this.id=0,this.canvasView=e,this.callbacks=new Map,this.vSync=new yW,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[bW.now()])})),this.canvasView.present()}))}swap(){this.canvasView.swapSurface()}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}var wW=new WeakMap;pe&&Tt("onXWebCanvasSurfaceChange",((e={},t)=>{var r=SN(e.viewId),n=wW.get(r);n&&n.swap()}));class IW extends aW{constructor(...e){super(...e),this._loadedFontAssets=[]}loadFontFace(e){var t,r=this,n=[],i=function(e){var t=r._loadedFontAssets.find((t=>t.src===e.src||t.originalSrc===e.originalSrc));t||n.push(e)};for(var a of e)i(a);n.length&&(this._loadedFontAssets.push(...n),pe?t=Oh.SkiaCanvasLoadNewFont||l.g.SkiaCanvasLoadNewFont:he&&(t=l.g.skiacanvasLoadNewFont),"function"==typeof t&&t(e.map((e=>({src:e.src||"",family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})))))}}var SW=(e,t)=>{if(he)return new l.g.Canvas(t.canvasNumber);if(pe){var r=(Oh.HTMLCanvasView||l.g.HTMLCanvasView).createView(t.canvasNumber),n=(Oh.HTMLCanvasElement||l.g.HTMLCanvasElement).createElement(r),i=new _W(r);return wW.set(e,i),n}};class kW extends rW{constructor(e){super(e),aW.initialize(kW,IW);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=SW(this,e);AN(r,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||ZF,n.height=e.height||eW):(n.width=ZF,n.height=eW)}_onUpdated(){}_onRemoved(){var e=wW.get(this);e&&(e.dispose(),wW.delete(this))}getContext(e,t){if("2d"!==e)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var r=CN(this);if(!r)return console.error("Canvas getContext failed due to missing canvas instance"),null;if(this._ctx)return this._ctx;var n=qL(WW,mW)(r.getContext("2d",t),this);return Object.defineProperty(this,"_ctx",{value:n}),n}get width(){return CN(this).width}set width(e){var t=CN(this);t&&(t.width=e)}get height(){return CN(this).height}set height(e){var t=CN(this);t&&(t.height=e)}createImage(){var e,t=gN(this);return he?e=new l.g.Image:pe&&(e=new(Oh.SkiaImages||SkiaImage)),new RW(UL(e),t)}createImageData(e,t,r){return e?(t=parseFloat(t),r=parseFloat(r),he?new l.g.ImageData(e,t,r):pe?new(Oh.SkiaImageData||l.g.SkiaImageData)(e,t,r):void 0):null}static createPath2D(...e){var t=pe?Oh.SkiaPath2D||l.g.SkiaPath2D:l.g.Path2D;return 0===e.length?new t:1===e.length?new t(...e):null}createPath2D(...e){return kW.createPath2D(...e)}requestAnimationFrame(e){return he?QF().requestAnimationFrame(e):pe?z.useSkiaCanvasRaf?(Oh.SkiaCanvasRequestAnimationFrame||l.g.SkiaCanvasRequestAnimationFrame)(e):wW.get(this).requestAnimationFrame(e):void 0}cancelAnimationFrame(e){if(he)return QF().cancelAnimationFrame(e);pe&&(z.useSkiaCanvasRaf?(Oh.SkiaCanvasCancelAnimationFrame||l.g.SkiaCanvasCancelAnimationFrame)(e):wW.get(this).cancelAnimationFrame(e))}toDataURL(e,t){var r=CN(this);return r?r.toDataURL(e,t):""}}var CW=e=>()=>{setTimeout((()=>{e()}),0)},EW=new WeakMap,AW=new WeakMap,TW=new WeakMap,PW=e=>EW.get(e),xW=e=>AW.get(e),MW=e=>TW.get(e);class RW{constructor(e,t){var r={};EW.set(this,r),AW.set(this,e),TW.set(this,t),e.onload=CW((()=>{"function"==typeof this.__onload&&this.__onload.apply(this),r.load&&r.load.forEach((e=>{try{e.apply(this)}catch(e){}}))})),e.onerror=CW((()=>{"function"==typeof this.__onerror&&this.__onerror.apply(this),r.error&&r.error.forEach((e=>{try{e.apply(this)}catch(e){}}))}))}set src(e){/^(http|https):\/\//.test(e)&&(e=JL(e));var t=MW(this);xW(this).src=jL(e,t.nodeId,t.pluginId,t.webviewId)}set referrerPolicy(e){"string"==typeof e&&(xW(this).referrerPolicy=e)}set onload(e){Object.defineProperty(this,"__onload",{value:e,writable:!0,configurable:!0,enumerable:!1})}set onerror(e){Object.defineProperty(this,"__onerror",{value:e,writable:!0,configurable:!0,enumerable:!1})}get referrerPolicy(){return xW(this).referrerPolicy}get src(){return xW(this).src}get onload(){return this.__onload}get onerror(){return this.__onerror}get complete(){return xW(this).complete}get width(){return xW(this).width}get height(){return xW(this).height}addEventListener(e,t){var r=PW(this);(r[e]=r[e]||new Set).add(t)}removeEventListener(e,t){var r=PW(this);r[e]&&r[e].delete(t)}}var DW=new WeakMap,OW;function LW(e,t,r){var n;if(de)return mB(t);var i=e.id,a=null!==(n=t._videoId)&&void 0!==n?n:t._livePusherId;if(e instanceof kW){var o=DW.get(t)||{};return o[i]||(o[i]=new OW(i,a,r),DW.set(t,o)),o[i]}if(e instanceof gW){if(!DW.has(t)){var s=Oh.ExternalTexture||QF().ExternalTexture||l.g.ExternalTexture;s&&DW.set(t,new s(a,r))}return DW.get(t)}return t}h.onLoad((()=>{OW=l.g.SkiaCanvasExternalTexture,delete l.g.SkiaCanvasExternalTexture}));var NW=new WeakSet;function BW(e){var t=xW(e);return fe&&we&&t._isWebStandard||e._isWebStandard?t._imageData:t}function FW(e,t,r){if(e[r]){var n=e[r].bind(e);e[r]=(...e)=>(e.forEach(((n,i)=>{if(n instanceof RW)e[i]=BW(n);else if(n instanceof uB){var a=n;if("number"!=typeof a._videoId)throw new Error(`Failed to execute '${r}' on 'CanvasRenderingContext': The provided video context is invalid, make sure that comes from 'createSelectQuery.context'.`);e[i]=LW(t,a,"video")}else if(n instanceof HV){var o=n;if("number"!=typeof o._livePusherId)throw new Error(`Failed to execute '${r}' on 'CanvasRenderingContext2D': The provided live-pusher context is invalid, make sure that comes from 'wx.createLivePusherContext'.`);e[i]=LW(t,o,"livepusher")}else n instanceof rW&&(e[i]=CN(n))})),n(...e))}}function WW(e,t){return!e||NW.has(e)||(NW.add(e),FW(e,t,"drawImage"),FW(e,t,"createPattern"),FW(e,t,"texImage2D"),FW(e,t,"texSubImage2D"),FW(e,t,"texImage3D"),FW(e,t,"texSubImage3D")),e}var jW=["scale","rotate","translate","setTransform","transform"],VW=["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"],UW=["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"],$W={},zW={};function qW(e){return"number"==typeof e}function HW(e){var t=null;if(null!==(t=/^#([0-9|A-F|a-f]{6})$/.exec(e)))return[parseInt(t[1].slice(0,2),16),parseInt(t[1].slice(2,4),16),parseInt(t[1].slice(4),16),255];if(null!==(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){var r=t[1].slice(0,1),n=t[1].slice(1,2),i=t[1].slice(2,3);return[r=parseInt(r+r,16),n=parseInt(n+n,16),i=parseInt(i+i,16),255]}if(null!==(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map((e=>Math.min(255,parseInt(e.trim(),10)))).concat(255);if(null!==(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map(((e,t)=>3===t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim(),10))));var a=e.toLowerCase();if(Pd(YF,a)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(YF[a]);var o=parseInt(t[1].slice(0,2),16),s=parseInt(t[1].slice(2,4),16),c=parseInt(t[1].slice(4,6),16),l=parseInt(t[1].slice(6,8),16);return[o,s,c,l=l>=0?l:255]}return console.group("非法颜色: "+e),console.error("不支持颜色："+e),console.groupEnd(),[0,0,0,255]}function GW(e){if(Array.isArray(e)){var t=[];return e.forEach((e=>{t.push(GW(e))})),t}if("object"==typeof e){var r={};for(var n in e)r[n]=GW(e[n]);return r}return e}function KW(e,t){if(!(de||me||ve||/wxfile:\/\//.test(t)))if(e.pluginId||e.nodeId){var r=e.pluginId.split("/")[0],n=Kc.getNodeById(e.nodeId,e.webviewId),i=n&&n.is||"";t=r?0===t.indexOf("/")?Kc.getPluginRoutePrefix(r)+zd(i,t,!1).replace(/\.html$/,""):zd(Kc.convertComponentAliasToRoute(i),t,!1).replace(/\.html$/,""):zd(i,t,!1).replace(/\.html$/,"")}else t=zd(ul.lastRoute,t,!1).replace(/.html$/,"");return t}class JW{constructor(e,t){this.type=e,this.data=t,this.colorStop=[]}addColorStop(e,t){vj()?this.colorStop.push([e,t]):this.colorStop.push([e,HW(t)])}}class XW{constructor(e){this.width=e}}class YW{constructor(e,t){this.image=e,this.repetition=t}}class QW{constructor(e,t,r,n){if(this.actions=[],this.path=[],this.subpath=[],this.webviewId=e,this.canvasId=t,this.pluginId=n,this.useHardwareAccelerate=!0,this.nodeId=r,this._id=NL(e,t,n,r),this.drawingState=$W[this._id]=$W[this._id]||[],this.state=zW[this._id]=zW[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:vj()?"#000000":he?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},this._transform={a:1,b:0,c:0,d:1,e:0,f:0},de||me){var i=me?new Oh.OffscreenCanvas(0,0):document.createElement("canvas");this._context=i.getContext("2d")}}getActions(){var e=GW(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}clearActions(){this.actions=[],this.path=[],this.subpath=[]}draw(e=!1,t){t&&"function"!=typeof t&&(console.warn("CanvasContext.draw callback is not a function, got "+typeof t),t=null);var r=this.canvasId,n=GW(this.actions),i=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?Dj({isWidgetCanvas:!0,actions:n,reserve:e}):Dj({canvasId:r,actions:n,reserve:e,useHardwareAccelerate:i,complete:C.surroundThirdByTryCatch(t,"at canvasContext.draw callback function")},this.webviewId,this.pluginId,this.nodeId)}createLinearGradient(e,t,r,n){return new JW("linear",[e,t,r,n])}createCircularGradient(e,t,r){return new JW("radial",[e,t,r])}createPattern(e,t){if(void 0!==t){if(-1!==["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t))return e=e instanceof RW?e.src:e instanceof aj?e._src:KW(this,e),new YW(e,t);console.error(`Failed to execute 'createPattern' on 'CanvasContext': The provided type ('${t}') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'.`)}else console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.")}measureText(e){var t;return de||me?(this._context.font=this.state.font,t=this._context.measureText(e)):gu("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete(e){t={width:e.width||0}}}),new XW(t.width||0)}save(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}restore(){this.actions.push({method:"restore",data:[]}),this.state=zW[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:vj()?"#000000":he?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}getLineDash(){return this.state.lineDash}beginPath(){this.path=[],this.subpath=[],(de||vj())&&this.path.push({method:"beginPath",data:[]})}moveTo(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}closePath(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}lineTo(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}quadraticCurveTo(e,t,r,n){this.path.push({method:"quadraticCurveTo",data:[e,t,r,n]}),this.subpath.push([r,n])}bezierCurveTo(e,t,r,n,i,a){this.path.push({method:"bezierCurveTo",data:[e,t,r,n,i,a]}),this.subpath.push([i,a])}arc(e,t,r,n,i,a=!1){if(!pe||vj())return this.path.push({method:"arc",data:[e,t,r,n,i,a]}),void this.subpath.push([e,t]);var o=e+Math.cos(n)*r,s=t+Math.sin(n)*r;if(this.subpath.push([o,s]),a&&n-i>=2*Math.PI||!a&&i-n>=2*Math.PI)this.subpath.push([o,s]);else{var c=e+Math.cos(i)*r,l=t+Math.sin(i)*r;this.subpath.push([c,l])}this.path.push({method:"arc",data:[e,t,r,n,i,a]})}rect(e,t,r,n){this.path.push({method:"rect",data:[e,t,r,n]}),this.subpath=[[e,t]],pe&&!vj()&&this.path.push({method:"closePath",data:[]})}arcTo(e,t,r,n,i,a){if((!pe||vj())&&!a)return this.path.push({method:"arcTo",data:[e,t,r,n,i]}),void this.subpath.push([r,n]);var o=this.subpath[this.subpath.length-1],s=o[0],c=o[1];if(s===e&&c===t||e===r&&t===n||0===i)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(s===e&&s===r||c===t&&c===n)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);var l,u,d,p,h,f,{sqrt:g,acos:v,sin:m,tan:y,atan:b,PI:_}=Math,w=function(e){return Math.pow(e,2)},I=s-e,S=c-t,k=r-e,C=n-t,E=v((I*k+S*C)/(g(w(I)+w(S))*g(w(k)+w(C))))/2,A=Math.round(i/m(E)*1e6)/1e6,T=Math.round(i/y(E)*1e6)/1e6;if(s-e==0)l=e,u=c-t>0?t+T:t-T;else if(c-t==0)l=s-e>0?e+T:e-T,u=t;else{var P=(c-t)/(s-e),x=c-P*s;u=P*(l=(g(w(I)+w(S))*T+I*e+S*t-x*S)/(I+P*S))+x}if(r-e==0)d=e,p=n-t>0?t+T:t-T;else if(n-t==0)d=r-e>0?e+T:e-T,p=t;else{var M=(n-t)/(r-e),R=n-M*r;p=M*(d=(g(w(k)+w(k))*T+k*e+C*t-R*C)/(k+M*C))+R}var D=(l+d)/2-e,O=(u+p)/2-t;if(0===O)h=e,f=O>0?t+A:t-A;else{var L=O/D,N=t-L*e;f=L*(h=(g(w(D)+w(O))*A+e*D+t*O-N*O)/(D+L*O))+N}h=Math.round(1e6*h)/1e6;var B=u-(f=Math.round(1e6*f)/1e6),F=l-h,W=_-2*E,j=b(B/F);0===B&&F<0&&(j=Math.PI);var V=(l-h)*(p-f)-(u-f)*(d-h);this.path.push({method:"arc",data:[h,f,i,j,V>0?j+W:j-W,V<0]}),this.subpath.push([d,p])}getTransform(){return this._transform}_setWidthTransformFactor(e){this.clearActions(),this.draw(!1),this._widthTransformFactor=e,this.setTransform(1,0,0,1,0,0)}_setHeightTransformFactor(e){this.clearActions(),this.draw(!1),this._heightTransformFactor=e,this.setTransform(1,0,0,1,0,0)}clip(){this.actions.push({method:"clip",data:GW(this.path)})}set lineDashOffset(e){if(de||me||ve)this.actions.push({method:"setLineDashOffset",data:[e]});else{var t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}}set globalCompositeOperation(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}set shadowBlur(e){de||me||ve?this.actions.push({method:"setShadowBlur",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e)}set shadowColor(e){var t;de||me||ve?this.actions.push({method:"setShadowColor",data:[e]}):(t=vj()?e:he&&0===this.state.shadowBlur?[]:HW(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t)}set shadowOffsetX(e){de||me||ve?this.actions.push({method:"setShadowOffsetX",data:[e]}):(this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e)}set shadowOffsetY(e){de||me||ve?this.actions.push({method:"setShadowOffsetY",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e)}set font(e){this.state.font=e;var t=e.match(/^(([\w-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(t){var r=t[1].trim().split(/\s/),n=parseFloat(t[3]),i=t[7],a=[],o="",s=this;if(r.forEach(((e,t)=>{["italic","oblique","normal"].indexOf(e)>-1?(a.push({method:"setFontStyle",data:[e]}),this.state.fontStyle=e):["bold","normal"].indexOf(e)>-1?(a.push({method:"setFontWeight",data:[e]}),this.state.fontWeight=e):0===t?(a.push({method:"setFontStyle",data:["normal"]}),s.state.fontStyle="normal"):1===t&&c()})),1===r.length&&c(),o=a.map((e=>e.data[0])).join(" "),this.state.fontSize=n,this.state.fontFamily=i,de||me||ve)return o=`${o} ${n}px ${i}`,void this.actions.push({method:"setFont",data:[o]});this.actions.push.apply(this.actions,a),this.actions.push({method:"setFontSize",data:[n]},{method:"setFontFamily",data:[i]})}else console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");function c(){a.push({method:"setFontWeight",data:["normal"]}),s.state.fontWeight="normal"}}get font(){return this.state.font}set fillStyle(e){ZW(this,"setFillStyle",e)}set strokeStyle(e){ZW(this,"setStrokeStyle",e)}set globalAlpha(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}set textAlign(e){this.actions.push({method:"setTextAlign",data:[e]})}set lineCap(e){this.actions.push({method:"setLineCap",data:[e]})}set lineJoin(e){this.actions.push({method:"setLineJoin",data:[e]})}set lineWidth(e){this.actions.push({method:"setLineWidth",data:[e]})}set miterLimit(e){this.actions.push({method:"setMiterLimit",data:[e]})}set textBaseline(e){this.actions.push({method:"setTextBaseline",data:[e]})}}function ZW(e,t,r){"string"==typeof r?vj()?e.actions.push({method:t,data:["normal",r]}):e.actions.push({method:t,data:["normal",HW(r)]}):"object"==typeof r&&r instanceof JW?e.actions.push({method:t,data:[r.type,r.data,r.colorStop]}):r instanceof YW&&e.actions.push({method:t,data:["pattern",r.image,r.repetition]})}[].concat(jW,VW).forEach((e=>{QW.prototype[e]="fill"===e||"stroke"===e?function(){this.actions.push({method:e+"Path",data:GW(this.path)})}:"fillRect"===e?function(e,t,r,n){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,r,n]}]})}:"strokeRect"===e?function(e,t,r,n){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,r,n]}]})}:"fillText"===e||"strokeText"===e?function(t,r,n,i){var a=[t.toString(),r,n];"number"==typeof i&&a.push(i),this.actions.push({method:e,data:a})}:"drawImage"===e?function(t,r,n,i,a,o,s,c,l){var u;t=t instanceof aj?t._src:KW(this,t),void 0===l&&(o=r,s=n,c=i,l=a,r=void 0,n=void 0,i=void 0,a=void 0),u=qW(r)&&qW(n)&&qW(i)&&qW(a)?[t,o,s,c,l,r,n,i,a]:qW(c)&&qW(l)?[t,o,s,c,l]:[t,o,s],this.actions.push({method:e,data:u})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:"transform"===e?function(t,r,n,i,a,o){var{a:s,b:c,c:l,d:u,e:d,f:p}=this._transform;this._transform={a:t*s+r*l,b:t*c+r*u,c:n*s+i*l,d:n*c+i*u,e:a*s+o*l+d,f:a*c+o*u+p},this.actions.push({method:e,data:[t,r,n,i,a,o]})}:"setTransform"===e?function(t,r,n,i,a,o){this._transform={a:t,b:r,c:n,d:i,e:a,f:o};var s=1/(this._widthTransformFactor||1),c=1/(this._heightTransformFactor||1);this.actions.push({method:e,data:[t*s,r*c,n*s,i*c,a*s,o*c]})}:"scale"===e?function(t,r){var{a:n,b:i,c:a,d:o,e:s,f:c}=this._transform;this._transform={a:n*t,b:i*t,c:a*r,d:o*r,e:s,f:c},this.actions.push({method:e,data:[t,r]})}:function(){this.actions.push({method:e,data:[].slice.apply(arguments)})}})),UW.forEach((e=>{"setFillStyle"===e||"setStrokeStyle"===e?QW.prototype[e]=function(){var t=arguments[0];ZW(this,e,t)}:"setGlobalAlpha"===e?QW.prototype[e]=function(){var t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"===e?QW.prototype[e]=function(){var t=[].slice.apply(arguments,[0,4]);vj()||(t[3]=he&&0===t[2]?[]:HW(t[3])),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"===e?QW.prototype[e]=function(){var t=[].slice.apply(arguments,[0,2]);t[0]=he?t[0]&&!t[0].every((e=>0===e))?t[0]:[]:t[0]&&t[0].length?t[0]:[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?QW.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,e+"px"),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:QW.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}}));class ej{constructor(e){this.actions=[],e instanceof ej&&this.actions.push(...e.actions)}addPath(e){e instanceof ej&&this.actions.push(...e.actions)}arc(...e){this.actions.push({method:"arc",args:e})}arcTo(...e){this.actions.push({method:"arcTo",args:e})}bezierCurveTo(...e){this.actions.push({method:"bezierCurveTo",args:e})}closePath(...e){this.actions.push({method:"closePath",args:e})}ellipse(...e){this.actions.push({method:"ellipse",args:e})}lineTo(...e){this.actions.push({method:"lineTo",args:e})}moveTo(...e){this.actions.push({method:"moveTo",args:e})}quadraticCurveTo(...e){this.actions.push({method:"quadraticCurveTo",args:e})}rect(...e){this.actions.push({method:"rect",args:e})}}function tj(e,t){e.beginPath(),t.actions.forEach((({method:t,args:r})=>{e[t](...r)}))}var rj=new WeakSet;function nj(e){if(!e||rj.has(e))return e;if(rj.add(e),e.fill){var t=e.fill.bind(e);e.fill=(...r)=>r[0]instanceof ej?(tj(e,r[0]),t(...r.slice(1))):t(...r)}if(e.stroke){var r=e.stroke.bind(e);e.stroke=(...t)=>t[0]instanceof ej?(tj(e,t[0]),r(...t.slice(1))):r(...t)}if(e.clip){var n=e.clip.bind(e);e.clip=(...t)=>t[0]instanceof ej?(tj(e,t[0]),n(...t.slice(1))):n(...t)}return e}class ij{constructor(e,t,r,n){this._canvasNumber=e,this._context=t,this._w=r,this._h=n,this._originalWidth=r,this._originalHeight=n}getContext(){return this._context}set width(e){this._context._setWidthTransformFactor(e/this._originalWidth),this._w=e}get width(){return this._w}set height(e){this._context._setHeightTransformFactor(e/this._originalHeight),this._h=e}get height(){return this._h}}class aj{constructor(){this._src=null,this._referrerPolicy=""}setSrc(e){this._src=e,/^(http|https):\/\//.test(e)?bv({url:e,success:e=>{this._src=e.tempFilePath,"function"==typeof this.onload&&this.onload()},fail:this.onerror||(()=>{})}):(/^\s*data:image\//.test(e)||/wxfile:\/\//.test(e)||(this._src="/"+e),"function"==typeof this.onload&&this.onload())}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}class oj{sync(e){var t=()=>{e(),this.t=setTimeout(t,1e3/60)};this.t=setTimeout(t,1e3/60)}dispose(){clearInterval(this.t)}}var sj=jN;class cj{constructor(e,t){this.id=0,this.context=e,this.canvasInstance=t,this.callbacks=new Map,this.vSync=new oj,this.vSync.sync((()=>{var e=new Map(this.callbacks);if(this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[sj.now()])})),this.context.actions.length>0){for(var t=!0,r=this.context.actions,n=0;n<r.length;n++)if("clearRect"===r[n].method){var[i,a,o,s]=r[n].data;t=i>0||a>0||o<this.canvasInstance.width||s<this.canvasInstance.height}this.context.draw(t)}}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}var lj=new WeakMap,uj=(e,t)=>{var r=new QW(t.webviewId,t.canvasId,t.nodeId,t.pluginId),n=new ij(t.canvasNumber,r,t.width,t.height),i=new cj(r,n);return lj.set(e,i),n};class dj extends rW{constructor(e){super(e);var{canvasNumber:t}=e;this.id=e.canvasNumber;var r=uj(this,e);r.width=ZF,r.height=eW,AN(t,this,r)}_onUpdated(){}_onRemoved(){lj.get(this).dispose(),lj.delete(this)}getContext(e){return"2d"!==e?(console.error("Invalid context type ["+e+"] for Canvas#getContext"),null):qL(WW,nj)(CN(this).getContext(),this)}get width(){var e=CN(this);return e&&e.width}set width(e){CN(this).width=e}get height(){var e=CN(this);return e&&e.height}set height(e){CN(this).height=e}createImage(){var e=gN(this),t=new aj;return new RW(UL(t),e)}createImageData(){return null}static createPath2D(...e){return new ej(...e)}createPath2D(...e){return dj.createPath2D(...e)}requestAnimationFrame(e){return lj.get(this).requestAnimationFrame(e)}cancelAnimationFrame(e){lj.get(this).cancelAnimationFrame(e)}toDataURL(e,t){return null}}var pj=e=>{var t={};return r=>t[r]=t[r]||new Promise((t=>{var n=e.createImage();n.onload=()=>t(n),n.src=r}))},hj=new WeakMap,fj=e=>{if(!hj.has(e)){var t=[],r=pj(e),n=!1,i=function(){var a=cp()((function*(){if(!n&&t.length){n=!0;var a,[o,s,c,l]=t.shift(),u=e.getContext("2d");try{!1===s&&(u.fillStyle="#000000",u.strokeStyle="#000000",u.shadowColor="#000000",u.shadowBlur=0,u.shadowOffsetX=0,u.shadowOffsetY=0,u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,e.width,e.height));for(var d=function*(){var{method:t,data:n}=o[p];switch(t){case"setLineDash":u.setLineDash(n[0]),u.lineDashOffset=n[1]||0;break;case"setLineDashOffset":u.lineDashOffset=n[0];break;case"setLineCap":u.lineCap=n[0];break;case"setLineJoin":u.lineJoin=n[0];break;case"setLineWidth":u.lineWidth=n[0];break;case"setFillStyle":case"setStrokeStyle":var i=void 0;switch(n[0]){case"normal":i=n[1];break;case"linear":i=u.createLinearGradient(...n[1]),n[2].forEach((e=>{var t=e[0],r=e[1];i.addColorStop(t,r)}));break;case"radial":var a=n[1][0],s=n[1][1],c=[a,s,0,a,s,n[1][2]];i=u.createRadialGradient(...c),n[2].forEach((e=>{var t=e[0],r=e[1];i.addColorStop(t,r)}));break;case"pattern":var l=yield r(n[1]);i=u.createPattern(l,n[2])}u[t[3].toLowerCase()+t.slice(4)]=i;break;case"setGlobalAlpha":u.globalAlpha=n[0]/255;break;case"setGlobalCompositeOperation":u.globalCompositeOperation=n[0];break;case"setShadow":u.shadowOffsetX=n[0],u.shadowOffsetY=n[1],u.shadowBlur=n[2],u.shadowColor=n[3];break;case"setShadowOffsetX":u.shadowOffsetX=n[0];break;case"setShadowOffsetY":u.shadowOffsetY=n[0];break;case"setShadowBlur":u.shadowBlur=n[0];break;case"setShadowColor":u.shadowColor=n[0];break;case"setFont":u.font=n[0];break;case"setFontSize":u.font=u.font.replace(/\d+\.?\d*px/,n[0]+"px");break;case"setFontStyle":u.fontStyle=n[0];break;case"setFontWeight":u.fontWeight=n[0];break;case"setFontFamily":u.fontFamily=n[0];break;case"setTextBaseline":u.textBaseline="normal"===n[0]?"alphabetic":n[0];break;case"setTextAlign":u.textAlign=n[0];break;case"setMiterLimit":u.miterLimit=n[0];break;case"save":u.save(...n);break;case"restore":u.restore(...n);break;case"lineTo":u.lineTo(...n);break;case"clip":n.forEach((e=>{u[e.method](...e.data)})),u.clip();break;case"scale":u.scale(...n);break;case"rotate":var d=n;n&&n.map&&(d=n.map((e=>"string"==typeof e?parseFloat(e):e))),u.rotate(...d);break;case"translate":u.translate(...n);break;case"transform":u.transform(...n);break;case"setTransform":u.setTransform(...n);break;case"fill":u.fill(...n);break;case"fillText":var[h,...f]=n;f&&f.map&&(f=f.map((e=>"string"==typeof e?parseFloat(e):e))),u.fillText(h,...f);break;case"fillRect":u.fillRect(...n);break;case"fillPath":u.beginPath(),n.forEach((e=>{u[e.method](...e.data)})),u.fill();break;case"stroke":u.stroke(...n);break;case"strokeText":var[g,...v]=n;v&&v.map&&(v=v.map((e=>"string"==typeof e?parseFloat(e):e))),u.strokeText(g,...v);break;case"strokeRect":u.strokeRect(...n);break;case"strokePath":u.beginPath(),n.forEach((e=>{u[e.method](...e.data)})),u.stroke();break;case"clearRect":u.clearRect(...n);break;case"drawImage":var[m,...y]=n;y&&y.map&&(y=y.map((e=>"string"==typeof e?parseFloat(e):e)));var b=yield r(m);u.drawImage.apply(u,[b,...y.slice(4,8),...y.slice(0,4)]);break;case"setWidth":var[_]=n;e.width=_;break;case"setHeight":var[w]=n;e.height=w;break;default:throw new Error(`unknown method "${t}" in actions.`)}},p=0;p<o.length;p++)yield*d()}catch(e){(a=e).message}a?l(a):c(),n=!1,i()}}));return function(){return a.apply(this,arguments)}}();hj.set(e,((e,r=!1)=>e?new Promise(((n,a)=>{t.push([e,r,n,a]),i()})):Promise.resolve()))}return hj.get(e)},gj=function(){var e=cp()((function*(e,t,r){return fj(e)(t,r)}));return function(t,r,n){return e.apply(this,arguments)}}(),vj=yS((()=>{var e=pe&&z.useXWebCanvas,t=he&&z.useSkiaCanvas;return e||t})),mj=0,yj=0,bj=4500,_j=Date.now;function wj(e){return Ij.apply(this,arguments)}function Ij(){return Ij=cp()((function*(e,t="",r=""){var n=Number(e.x)||0,i=Number(e.y)||0,a=Number(e.width)||0,o=Number(e.height)||0;if(0===a)throw new Error("the source width is 0");if(0===o)throw new Error("the source height is 0");if(vj()){var s=yield bN(ul.currentWebviewId,e.canvasId,r,t),c=(yield mV(s,"2d")).getContext("2d").getImageData({x:n,y:i,width:a,height:o});return{width:c.width,height:c.height,data:c.data}}var l=yN(ul.currentWebviewId,e.canvasId,r,t);if("number"!=typeof l)throw new Error("fail canvas is empty");if(de||me||ve){var u=yield RN(l,"getImageData",{x:n,y:i,width:a,height:o});return{height:u.height,width:u.width,data:we?new Uint8ClampedArray(u.data):WL(u.data)}}var d=yield vu("canvasGetImageData",{canvasId:l,jsInvokedAt:Date.now(),x:n,y:i,width:a,height:o});if("[object ArrayBuffer]"!==Object.prototype.toString.call(d.data))throw delete d.data,new Wc("",d);return{height:o,width:a,data:new Uint8ClampedArray(d.data)}})),Ij.apply(this,arguments)}"undefined"!=typeof __widgetConfig__&&(bj="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25);var Sj=Vc("canvasGetImageData",wj);function kj(e,t){var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==Kc.getRootNodeId(ul.currentWebviewId)?t.__wxExparserNodeId__:"";Sj(e,r)}function Cj(e,t,r){Sj(e,r,t)}function Ej(e){return Aj.apply(this,arguments)}function Aj(){return Aj=cp()((function*(e,t="",r=""){if("number"!=typeof e.width)throw new Error("invalid width argument");if(!e.data||"[object Uint8ClampedArray]"!==Object.prototype.toString.call(e.data))throw new Error("data argument must be an Uint8ClampedArray");var n=Number(e.x)||0,i=Number(e.y)||0,a=e.data,o=e.width,s="number"==typeof e.height?e.height:a.length/o/4|0;if(o*s*4!==a.length)throw new Error("invalid data format");if(vj()){var c=yield bN(ul.currentWebviewId,e.canvasId,r,t),l=yield mV(c,"2d"),u=l.createImageData(a,o,s);l.getContext("2d").putImageData(u,n,i)}else{var d=yN(ul.currentWebviewId,e.canvasId,r,t);if("number"!=typeof d)throw new Error("fail canvas is empty");(de||me||ve)&&(yield RN(d,"putImageData",{x:n,y:i,width:o,height:s,data:me||ve?_.new(a.buffer).id:FL(a)})),yield vu("canvasPutImageData",{canvasId:d,jsInvokedAt:Date.now(),x:n,y:i,width:o,height:s,data:a.buffer})}})),Aj.apply(this,arguments)}var Tj=Vc("canvasPutImageData",Ej);function Pj(e,t){var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==Kc.getRootNodeId(ul.currentWebviewId)?t.__wxExparserNodeId__:"";Tj(e,r)}function xj(e,t,r){Tj(e,r,t)}function Mj(e){return Rj.apply(this,arguments)}function Rj(){return(Rj=cp()((function*({isWidgetCanvas:e,canvasId:t,actions:r,reserve:n,useHardwareAccelerate:i},a=ul.currentWebviewId,o="",s=""){var c=_j();if(Array.isArray(r)){if(e){if(c-mj<bj){var l="调用 draw 过于频繁。";throw(yj+=1)>500&&(yj=0,console.warn(l)),new Error(l)}return mj=c,yield vu("drawCanvas",{canvasId:void 0,reserve:n,actions:r})}var u=yN(a,t,o,s);if(u||(u=yield bN(a,t,o,s)),vj()){var d=yield mV(u,"2d");return yield gj(d,r,n)}return de||me||ve?yield LN(u,r,n):yield vu("drawCanvas",{canvasId:u,reserve:n,useHardwareAccelerate:i,actions:r})}}))).apply(this,arguments)}var Dj=Vc("drawCanvas",Mj);function Oj(e){Dj(e)}function Lj(e,t,r){Dj(e,ul.currentWebviewId,t,r)}var Nj=null,Bj=!0,Fj=(e,t,r,n)=>{r*=t,n*=t,e.x=e.x?e.x*t:0,e.y=e.y?e.y*t:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width*t):r-e.x,e.height=e.height?Math.min(n-e.y,e.height*t):n-e.y,Bj?(e.destWidth=e.destWidth?e.destWidth/t:e.width/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t):(e.destWidth=e.destWidth?e.destWidth/t:e.width/t/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t/t)},Wj=(e,t,r,n)=>{e.x=e.x?e.x:0,e.y=e.y?e.y:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width):r-e.x,e.height=e.height?Math.min(n-e.y,e.height):n-e.y,Bj?(e.destWidth=e.destWidth?e.destWidth:e.width*t,e.destHeight=e.destHeight?e.destHeight:e.height*t):(e.destWidth=e.destWidth?e.destWidth:e.width,e.destHeight=e.destHeight?e.destHeight:e.height)},jj=function(){var e=cp()((function*(e,t){var r=Ed({},t),n=300,i=150,a=fN(t.canvasNumber);return a&&(n=a.width,i=a.height),!he||"6.5.10"!==e.version&&"6.5.11"!==e.version&&"6.5.12"!==e.version?Wj(r,e.pixelRatio,n,i):Fj(r,e.pixelRatio,n,i),yield vu("canvasToTempFilePath",O()(O()({},r),{},{canvasId:t.canvasNumber}))}));return function(t,r){return e.apply(this,arguments)}}();function Vj(e){return Uj.apply(this,arguments)}function Uj(){return Uj=cp()((function*(e){if(e.fileType=["jpg","png"].indexOf(e.fileType)>-1?e.fileType:"png",e.quality="jpg"===e.fileType?e.quality<0||e.quality>1?1:e.quality:1,e.jpgQuality=e.quality,e.canvas){var t=e.canvas;delete e.canvas;var r=gN(t),n=null!=r&&r.width?t.width/r.width:Nj.pixelRatio;if(e.x=Number(e.x)||0,e.y=Number(e.y)||0,pe||t instanceof gW){if(e.width*=n,e.height*=n,e.x=e.x?e.x*n:0,e.y=e.y?e.y*n:0,e.width=Number(e.width)||t.width-e.x,e.height=Number(e.height)||t.height-e.y,e.destWidth=e.destWidth||e.width,e.destHeight=e.destHeight||e.height,e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),0===e.width)throw new Error("width is 0");if(0===e.height)throw new Error("height is 0");if(t instanceof gW){var i=t.getContext("2d").getImageData(e.x,e.y,e.width,e.height);return yield vu("canvasToTempFilePath",O()(O()({},e),{},{data:i.data.buffer,needScaleData:!0}))}return e.viewId=t.id,yield vu("xwebCanvasToTempFilePath",e)}if(he)return e.canvasId=t.id,Wj(e,n,t.width/n,t.height/n),yield new Promise((e=>setTimeout(e,100))),yield vu("canvasToTempFilePath",e);if(de){e.width*=n,e.height*=n,e.x=e.x?e.x*n:0,e.y=e.y?e.y*n:0,e.width=Number(e.width)||t.width-e.x,e.height=Number(e.height)||t.height-e.y,e.destWidth=e.destWidth||e.width,e.destHeight=e.destHeight||e.height,e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y);var a=document.createElement("canvas"),o=a.getContext("2d");a.width=e.destWidth,a.height=e.destHeight,o.drawImage(CN(t),e.x,e.y,e.width,e.height,0,0,e.destWidth,e.destHeight);var s=a.toDataURL(e.fileType,e.quality);return s=s.replace(/^data:image\/(jpg|png|jpeg);base64,/,""),yield vu("base64ToTempFilePath",O()({base64Data:s},e))}t instanceof dj&&(yield new Promise((e=>{t.requestAnimationFrame((()=>{t.requestAnimationFrame(e)}))})));var{canvasNumber:c}=gN(t),{dataUrl:l}=yield RN(c,"toDataURL",e);return yield vu("base64ToTempFilePath",O()({base64Data:l},e))}if(de||me||ve){var{dataUrl:u}=yield RN(e.canvasNumber,"toDataURL",e);return yield vu("base64ToTempFilePath",O()({base64Data:u},e))}if(vj()&&pe){var d=yield mV(e.canvasNumber,"2d");if(e.x=Number(e.x)||0,e.y=Number(e.y)||0,e.width=Number(e.width)||d.width-e.x,e.height=Number(e.height)||d.height-e.y,0===e.width)throw new Error("width is 0");if(0===e.height)throw new Error("height is 0");var p=d.getContext("2d").getImageData(e.x,e.y,e.width,e.height);return yield vu("canvasToTempFilePath",O()(O()({},e),{},{data:p.data.buffer}))}return Nj||(Nj=Zy()),jj(Nj,e)})),Uj.apply(this,arguments)}function $j(e){return zj.apply(this,arguments)}function zj(){return(zj=cp()((function*(e,t="",r=""){if(!e.canvasId&&!e.canvas)throw new Error("should pass canvasId or canvas");if(e.canvas)return Nj||(Nj=Zy()),Vj(e);var n=yN(ul.currentWebviewId,e.canvasId,r,t);if("number"!=typeof n)throw new Error("fail canvas is empty");return Vj(O()(O()({},e),{},{canvasNumber:n}))}))).apply(this,arguments)}var qj=Vc("canvasToTempFilePath",$j);function Hj(e,t){var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==Kc.getRootNodeId(ul.currentWebviewId)?t.__wxExparserNodeId__:"";qj(e,r)}function Gj(e,t,r){qj(e,r,t)}var Kj={},Jj={},Xj={},Yj=ul.currentWebviewId;de&&(gr("canvasPageScroll",((e,t)=>{"function"==typeof window.scrollTo&&(document.body.scrollWidth===e.width&&document.body.scrollHeight===e.height||(document.body.style.width=e.width+"px",document.body.style.height=e.height+"px"),window.scrollTo(e.scrollLeft,e.scrollTop),Jj[t]={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})})),XS((e=>{var t=e.webviewId;Xj[t]||(CI(t,(()=>{delete Jj[t],delete Kj[t],delete Xj[t]}),"DevtoolsCanvas"),Xj[t]=!0);var r=e.webviewId;if(r!==Yj)for(var[n,i]of Object.entries(Kj))if(String(n)===String(r)){for(var a of i){var o=EN(a);o&&(o.style.visibility="visible")}var s=Jj[n];s?window.scrollTo(s.scrollLeft,s.scrollTop):window.scrollTo(0,0)}else for(var c of i){var l=EN(c);l&&(l.style.visibility="hidden")}Yj=r})));class Qj extends aW{loadFontFace(e){return cp()((function*(){var t=globalThis.FontFace;"function"==typeof t&&(yield Promise.all(e.map(function(){var e=cp()((function*(e){var r=new t(e.family,`url(${e.src})`,{style:e.style,weight:e.weight,variant:e.variant});yield r.load(),document.fonts.add(r)}));return function(t){return e.apply(this,arguments)}}())))}))()}}var Zj=e=>{var t=document.createElement("canvas");return t.style.position="absolute",t.style.top=(e.top||0)+"px",t.style.left=(e.left||0)+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.visibility=e.webviewId===ul.currentWebviewId?"visible":"hidden",document.body.appendChild(t),t};class eV extends rW{constructor(e){super(e),aW.initialize(eV,Qj);var{webviewId:t,canvasNumber:r}=e;(this.id=e.canvasNumber,null!==t)?(Kj[t]=Kj[t]||[]).push(r):this.isOffscreenCanvas=!0;var n=Zj(e);AN(r,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||ZF,n.height=e.height||eW):(n.width=ZF,n.height=eW)}_onUpdated(e){var t=CN(this);t.style.top=(e.top||0)+"px",t.style.left=(e.left||0)+"px",t.style.width=e.width+"px",t.style.height=e.height+"px"}_onRemoved(){var{webviewId:e,canvasNumber:t}=gN(this);if(null!==e){var r=Kj[e]=Kj[e]||[];r.splice(r.indexOf(t),1)}var n=CN(this);document.body.removeChild(n)}getContext(e,t){return e!==gN(this).type?(console.error("Invalid context type ["+e+"] for Canvas#getContext"),null):qL(WW)(CN(this).getContext(e,t),this)}createImage(){var e=gN(this);return window.__global.createCustomImage((t=>VL(t,e.nodeId,e.pluginId,e.webviewId)),(e=>e.replace(/^\/__pageframe__\//,"")))}createImageData(e,t,r){if(!e)return null;t=parseFloat(t),r=parseFloat(r);for(var n=document.createElement("canvas").getContext("2d").createImageData(t,r),i=0;i<e.length;i++)n.data[i]=e[i];return n}static createPath2D(...e){return window.Path2D?new window.Path2D(...e):null}createPath2D(...e){return eV.createPath2D(...e)}requestAnimationFrame(e){return window.requestAnimationFrame(e)}cancelAnimationFrame(e){return window.cancelAnimationFrame(e)}get width(){return CN(this).width}set width(e){var t=CN(this);t&&(t.width=e)}get height(){return CN(this).height}set height(e){var t=CN(this);t&&(t.height=e)}toDataURL(e,t){var r=CN(this);return r?r.toDataURL(e,t):""}}var tV={},rV=()=>{for(;;){var e=Math.floor(32767*Math.random());if(!tV[e])return tV[e]=!0,e}};function nV(e,t,r,n,i,a){var o={type:r,canvasId:"",width:e,height:t,canvasNumber:-1*rV(),nodeId:n,pluginId:i,webviewId:null,lastTouches:[],data:{},compPath:"",isBindingCanvas:!0};try{if("2d"===r&&HL())return new dj(o);if(he||pe)return"2d"===r&&!dW()&&!a?new kW(o):new gW(o);if(de)return window&&"function"==typeof window.scrollTo?new eV(o):(console.warn("开发工具暂不支持获取 Canvas 节点"),null)}catch(e){e.message}return null}var iV=1,aV=1;function oV(e=iV,t=aV,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},{type:i,width:a,height:o,compInst:s,pluginId:c,useMagicBrush:l=!1}=O()({type:"webgl",width:iV,height:aV,compInst:null,pluginId:""},n),u=s&&s.__wxExparserNodeId__?s.__wxExparserNodeId__:"";switch(i){case"2d":case"webgl":case"webgl2":return nV(a,o,i,u,c,l);default:throw new Error(`unknown type "${i}"`)}}class sV{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var cV=jN;class lV{constructor(){this.id=0,this.callbacks=new Map,this.vSync=new sV,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[cV.now()])}))}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}class uV{constructor(){this._src=null,this._referrerPolicy="",this._imageData="",this._isWebStandard=!0}setSrc(e){var t=this;return cp()((function*(){try{var r;if(t._src=e,/^(http|https):\/\//.test(e)){var n=yield Oh.fetchAsBlob(t._src,{referrerPolicy:t._referrerPolicy});r=yield globalThis.createImageBitmap(n)}else if(/^data:image\/(jpg|png|jpeg);base64,/.test(e)){for(var i=/^data:image\/(jpg|png|jpeg);base64,(.*)$/.exec(e),a=(i[1],atob(i[2])),o=[],s=0;s<a.length;++s)o[s]=a.charCodeAt(s);var c=new Uint8Array(o),l=new Oh.Blob([c]);r=yield globalThis.createImageBitmap(l)}else{var u=new Oh.Blob([zh(e)]);r=yield globalThis.createImageBitmap(u)}t._imageData=r,"function"==typeof t.onload&&t.onload()}catch(e){console.error("image load error",e),"function"==typeof t.onerror&&t.onerror(e)}}))()}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}var dV=new WeakMap,pV=(e,t)=>{var r=new lV;return dV.set(e,r),null!==t.webviewId?Oh.getOffScreenCanvas(t.canvasNumber):new Oh.OffscreenCanvas(t.width,t.height)};class hV extends rW{constructor(e){super(e);var{canvasNumber:t,webviewId:r}=e;this.id=t,null===r&&(this.isOffscreenCanvas=!0);var n=pV(this,e);AN(t,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||ZF,n.height=e.height||eW):(n.width=ZF,n.height=eW)}_onUpdated(){}_onRemoved(){dV.get(this).dispose(),dV.delete(this)}requestAnimationFrame(e){return dV.get(this).requestAnimationFrame(e)}cancelAnimationFrame(e){return dV.get(this).cancelAnimationFrame(e)}getContext(e,t){if(e!==gN(this).type)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var r=CN(this).getContext(e,t);return r?qL(WW,nj)(r,this):null}get width(){return CN(this).width}set width(e){var t=CN(this);t&&(t.width=e)}get height(){return CN(this).height}set height(e){var t=CN(this);t&&(t.height=e)}createImage(){var e=gN(this),t=new uV;return new RW(UL(t),e)}createImageData(){}static createPath2D(...e){return new ej(...e)}createPath2D(...e){return hV.createPath2D(...e)}toDataURL(e,t){throw new Error("not supported")}}function fV(e){return he||pe?e.isMagicBrushCanvas?new gW(e):e.isSkiaCanvas?new kW(e):new dj(e):de?window&&"function"==typeof window.scrollTo?new eV(e):(console.warn("开发工具暂不支持获取 Canvas 节点"),null):me?new hV(e):new dj(e)}var gV=function(){var e=cp()((function*(){for(;pe&&!Oh.findElementById;)yield new Promise((e=>setTimeout(e,100)))}));return function(){return e.apply(this,arguments)}}();function vV(){if(!(this instanceof vV))throw new TypeError("Cannot call Path2D as a function");return console.warn("`new Path2D()` should not be used, please use `canvas.createPath2D()`."),he||pe?HL()?dj.createPath2D():dW()?gW.createPath2D():kW.createPath2D():de?eV.createPath2D():me?hV.createPath2D():dj.createPath2D()}function mV(e,t){return yV.apply(this,arguments)}function yV(){return yV=cp()((function*(e,t){if(!t)return null;try{var r=yield mN(e);if(!r.isBindingCanvas)return null;r.isMagicBrushCanvas&&(yield gV());var n=SN(e);return n||(n=fV(r)),yield aW.ready(),n}catch(e){e.stack,E.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at getOrCreateCanvasInterface"})}return null})),yV.apply(this,arguments)}var bV=()=>new QW,_V=(e,t,r="",n="")=>new QW(e,t,r,n),wV=(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==Kc.getRootNodeId(ul.currentWebviewId)?t.__wxExparserNodeId__:"";return _V(ul.currentWebviewId,e,r)},IV=(e,t,r)=>_V(ul.currentWebviewId,e,r,t),SV=["success","fail","complete"],kV=["success","fail","complete"],CV=["success","fail","complete"],EV=["success","fail","complete"],AV=["success","fail","complete"],TV,PV=pe,xV={};gr("xWebLivePusherSupported",(({enforcedXWebLive:e,canInsert2XWeb:t})=>{PV=e||t,JV({enforcedXWebLive:e,canInsert2XWeb:t})})),gr("updateLivePusherPictureInPicture",((e={},t)=>{xV.webviewId=t,xV.pusherId=e.pusherId}));var MV=e=>{var t=Object.keys(e),r={},n=[];return t.forEach((t=>{var i=e[t];if("string"==typeof i&&i){if(!/^(wxfile|https?):\/\//.test(i))return void(r[t]=KI(i,!1));if(/^cloud:\/\//.test(i))return void n.push({p:i,key:t})}r[t]=i})),n.length?new Promise((e=>{QI(n.map((e=>e.p)),"image",(t=>{t.data.forEach(((e,r)=>{t[n[r].key]=e})),e(t)}))})):Promise.resolve(r)},RV={},DV={},OV=new Lt,LV={},NV=Object.assign;function BV(e){LV[e]||(LV[e]=!0,CI(e,(e=>{delete LV[e],Object.keys(RV).forEach((t=>{new RegExp("^"+e).test(t)&&(delete DV[`${e}_${RV[t]}`],delete RV[t])})),eU(e)}),"LivePusherContext"))}function FV(e,t,r){if(de)console.warn(`开发者工具暂不支持调用 LivePusherContext.${e} 方法`);else{t&&t.type;var n=mu(r);n(PV?"operateXWebLivePusher":"operateLivePusher",t)}}function WV(e,t){var r=`${this.webviewId}_${this.pluginId}`,n="exitPictureInPicture"===e;"number"==typeof RV[r]?(PV?t.viewId=n?t.pusherId:RV[r]:t.livePusherId=n?t.pusherId:RV[r],t.type=e,FV(e,t,this.pluginId)):OV.once("livePusherInserted",(()=>{WV.call(this,e,t)}))}function jV(e,...t){var r=`${this.webviewId}_${this.pluginId}`;"number"==typeof RV[r]?e.apply(this,t):OV.once("livePusherInserted",(()=>{jV.call(this,e,...t)}))}["xWebLivePusherInserted","livePusherInserted"].forEach((e=>{gr(e,(({viewId:e,pusherId:t,pluginId:r,data:n},i)=>{var a=PV?e:t,o=`${i}_${r}`;RV[o]=a,DV[`${i}_${a}`]=n,OV.emit("livePusherInserted"),BV(i),ZV(i)}))})),["xWebLivePusherRemoved","livePusherRemoved"].forEach((e=>{gr(e,(({viewId:e,pusherId:t,pluginId:r},n)=>{var i=PV?e:t;delete RV[`${n}_${r}`],delete DV[`${n}_${i}`]}))}));var VV=(TV=class{constructor(e,t){this.webviewId=e,this.pluginId=t}get _livePusherId(){var e=`${this.webviewId}_${this.pluginId}`;return RV[e]}start(e={}){WV.call(this,"start",e)}stop(e={}){WV.call(this,"stop",e)}pause(e={}){WV.call(this,"pause",e)}resume(e={}){WV.call(this,"resume",e)}switchCamera(e={}){WV.call(this,"switchCamera",e)}snapshot(e={}){var t="view"===e.sourceType?"snapshotView":"snapshot";WV.call(this,t,NV({quality:"raw"},e))}toggleTorch(e={}){WV.call(this,"toggleTorch",e)}playBGM(e={}){xc("LivePusherContext.playBGM",e,{url:""})&&WV.call(this,"playBGM",e)}stopBGM(e={}){WV.call(this,"stopBGM",e)}pauseBGM(e={}){WV.call(this,"pauseBGM",e)}resumeBGM(e={}){WV.call(this,"resumeBGM",e)}setBGMVolume(e={}){xc("LivePusherContext.setBGMVolume",e,{volume:0})&&WV.call(this,"setBGMVolume",e)}setMICVolume(e={}){xc("LivePusherContext.setMICVolume",e,{volume:0})&&WV.call(this,"setMICVolume",e)}startPreview(e={}){WV.call(this,"startPreview",e)}stopPreview(e={}){WV.call(this,"stopPreview",e)}sendMessage(e={}){WV.call(this,"sendMessage",e)}exitPictureInPicture(e={}){xV&&WV.call(this,"exitPictureInPicture",NV({pusherId:xV.pusherId},e))}applyFilter(e={}){MV({path:e.path}).then((({path:t})=>{WV.call(this,"applyFilter",NV({},e,{path:t}))}))}clearFilters(e={}){WV.call(this,"clearFilters",e)}applySticker(e={}){var t=Array.isArray(e.stickers)?e.stickers:[];MV(t.map((e=>e.path))).then((r=>{WV.call(this,"applySticker",NV({},e,{stickerType:e.type,stickers:t.map(((e,t)=>O()(O()({},e),{},{path:r[t]})))}))}))}clearStickers(e={}){WV.call(this,"clearStickers",e)}applyLipStickMakeup(e={}){var{success:t,fail:r,complete:n}=e,i=dS()(e,SV);MV({path:i.path,shimmerPath:i.shimmerPath}).then((({path:e,shimmerPath:a})=>{WV.call(this,"applyMakeup",{success:t,fail:r,complete:n,makeupType:"lipStick",makeup:O()(O()({},i),{},{path:e,shimmerPath:a})})}))}applyEyeShadowMakeup(e={}){var{success:t,fail:r,complete:n}=e,i=dS()(e,kV);MV({path:i.path,shimmerPosition:i.shimmerPosition}).then((({path:e,shimmerPosition:a})=>{WV.call(this,"applyMakeup",{success:t,fail:r,complete:n,makeupType:"eyeShadow",makeup:O()(O()({},i),{},{path:e,shimmerPosition:a})})}))}applyBlusherStickMakeup(e={}){var{success:t,fail:r,complete:n}=e,i=dS()(e,CV);MV({path:i.path}).then((({path:e})=>{WV.call(this,"applyMakeup",NV({},i,{success:t,fail:r,complete:n,makeupType:"blusherStick",makeup:O()(O()({},i),{},{path:e})}))}))}applyFaceContourMakeup(e={}){var{success:t,fail:r,complete:n}=e,i=dS()(e,EV);MV({path:i.path}).then((({path:e})=>{WV.call(this,"applyMakeup",{success:t,fail:r,complete:n,makeupType:"faceContour",makeup:O()(O()({},i),{},{path:e})})}))}applyEyeBrowMakeup(e={}){var{success:t,fail:r,complete:n}=e,i=dS()(e,AV);MV({path:i.path}).then((({path:e})=>{WV.call(this,"applyMakeup",{success:t,fail:r,complete:n,makeupType:"eyeBrow",makeup:O()(O()({},i),{},{path:e})})}))}clearMakeups(e={}){WV.call(this,"clearMakeups",e)}},F()(TV.prototype,"start",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"start"),TV.prototype),F()(TV.prototype,"stop",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"stop"),TV.prototype),F()(TV.prototype,"pause",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"pause"),TV.prototype),F()(TV.prototype,"resume",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"resume"),TV.prototype),F()(TV.prototype,"switchCamera",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"switchCamera"),TV.prototype),F()(TV.prototype,"snapshot",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"snapshot"),TV.prototype),F()(TV.prototype,"toggleTorch",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"toggleTorch"),TV.prototype),F()(TV.prototype,"playBGM",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"playBGM"),TV.prototype),F()(TV.prototype,"stopBGM",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"stopBGM"),TV.prototype),F()(TV.prototype,"pauseBGM",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"pauseBGM"),TV.prototype),F()(TV.prototype,"resumeBGM",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"resumeBGM"),TV.prototype),F()(TV.prototype,"setBGMVolume",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"setBGMVolume"),TV.prototype),F()(TV.prototype,"setMICVolume",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"setMICVolume"),TV.prototype),F()(TV.prototype,"startPreview",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"startPreview"),TV.prototype),F()(TV.prototype,"stopPreview",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"stopPreview"),TV.prototype),F()(TV.prototype,"sendMessage",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"sendMessage"),TV.prototype),F()(TV.prototype,"exitPictureInPicture",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"exitPictureInPicture"),TV.prototype),F()(TV.prototype,"applyFilter",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"applyFilter"),TV.prototype),F()(TV.prototype,"clearFilters",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"clearFilters"),TV.prototype),F()(TV.prototype,"applySticker",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"applySticker"),TV.prototype),F()(TV.prototype,"clearStickers",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"clearStickers"),TV.prototype),F()(TV.prototype,"applyLipStickMakeup",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"applyLipStickMakeup"),TV.prototype),F()(TV.prototype,"applyEyeShadowMakeup",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"applyEyeShadowMakeup"),TV.prototype),F()(TV.prototype,"applyBlusherStickMakeup",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"applyBlusherStickMakeup"),TV.prototype),F()(TV.prototype,"applyFaceContourMakeup",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"applyFaceContourMakeup"),TV.prototype),F()(TV.prototype,"applyEyeBrowMakeup",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"applyEyeBrowMakeup"),TV.prototype),F()(TV.prototype,"clearMakeups",[wt],Object.getOwnPropertyDescriptor(TV.prototype,"clearMakeups"),TV.prototype),TV),UV=new WeakMap,$V=e=>(UV.has(e)||UV.set(e,{}),UV.get(e)),zV=(e,t={})=>{var r=$V(e);return UV.set(e,O()(O()({},r),t))};function qV(e,t){var r=new Uint8Array(e),n=new Uint8Array(t);return r.length===n.length&&(n.set(r),!0)}class HV extends VV{constructor(...e){super(...e),OV.addListener(`onLivePusherCameraFrame_${this.webviewId}`,(e=>{var{buffer:t,bufferId:r,onCustomRendererFrameEvent:n,width:i,height:a}=$V(this);if(n){var{deviceOrientationRotation:o}=e,s=n.call(this,{orientation:o,buffer:t});if(s instanceof ArrayBuffer&&(s===t||qV(s,t))){var c={bufferId:r,rotation:0,width:i,height:a};WV.call(this,"sendCustomVideoFrame",c)}}})),OV.addListener(`onLivePusherCameraFrameBufferUpdate_${this.webviewId}`,(e=>{var t,r=$V(this),{bufferId:n,rotation:i,height:a,width:o}=e,s=Fp();if(!s)throw new Error("onCustomRendererEvent:frame is not supported on your device");var c=s.get(n);if(!c)throw new Error("onCustomRendererEvent:frame fails to allocate ArrayBuffer");c.__proto__=ArrayBuffer.prototype,zV(this,{bufferId:n,buffer:c,rotation:i,height:a,width:o}),null===(t=r.onCustomRendererUpdateEvent)||void 0===t||t.call(this,{width:o,height:a})}))}onCustomRendererEvent(e,t){"frame"===e?($V(this).onCustomRendererFrameEvent=t,jV.call(this,t,{orientation:0,buffer:new ArrayBuffer})):"update"===e&&($V(this).onCustomRendererUpdateEvent=t)}offCustomRendererEvent(e){var t=$V(this).onCustomRendererUpdateEvent.forEach((r=>{t[r]===e&&(t[r]=null)}))}createOffscreenCanvas(e){return oV(O()(O()({},e),{},{useMagicBrush:!0}))}}function GV(e,t,r,n=""){return new HV(t,n)}var KV=pe,JV=({enforcedXWebLive:e,canInsert2XWeb:t})=>{KV=e||t},XV={onLivePusherEvent:"bindstatechange",onLivePusherNetStatus:"bindnetstatus",onLivePusherBGMStart:"bindbgmstart",onLivePusherBGMProgress:"bindbgmprogress",onLivePusherBGMComplete:"bindbgmcomplete",onLivePusherError:"binderror",onLivePusherAudioVolume:"bindaudiovolumenotify"},YV={onXWebLivePusherEvent:"bindstatechange",onXWebLivePusherNetStatus:"bindnetstatus",onXWebLivePusherBGMStart:"bindbgmstart",onXWebLivePusherBGMProgress:"bindbgmprogress",onXWebLivePusherBGMComplete:"bindbgmcomplete",onXWebLivePusherError:"binderror",onXWebLivePusherAudioVolume:"bindaudiovolumenotify"},QV={};function ZV(e){var t=QV[e];if(QV[e]=[],t)for(var r=0;r<t.length;r++){var n=t[r];tU(n[0],n[1],n[2])}}function eU(e){delete QV[e]}function tU(e,t,r){var n=KV?t.viewId:t.livePusherId,i=DV[`${r}_${n}`],a=KV?YV[e]:XV[e],o={};switch(e){case"onLivePusherEvent":case"onXWebLivePusherEvent":o.code=t.errCode,o.message=t.errMsg,lr("onLivePusherStateChange"+t.livePusherId,{code:t.errCode},[r]);break;case"onLivePusherNetStatus":case"onXWebLivePusherNetStatus":t.info=t.info||{},o.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netQualityLevel:t.info.NET_QUALITY_LEVEL,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT,videoCache:t.info.VIDEO_CACHE,audioCache:t.info.AUDIO_CACHE},lr("onLivePusherNetStatusChagne"+t.livePusherId,{info:o.info},[r]);break;case"onLivePusherBGMProgress":case"onXWebLivePusherBGMProgress":o.progress=t.progress,o.duration=t.duration;break;case"onLivePusherBGMComplete":case"onXWebLivePusherBGMComplete":o.errCode=t.errCode;break;case"onLivePusherError":case"onXWebLivePusherError":o.errCode=t.errCode,o.errMsg=t.errMsg,o.data=t.data;var s={errcode:t.errcode};t.errno&&(s.errno=t.errno),lr("onLivePusherError"+t.livePusherId,s,[r]);break;case"onLivePusherAudioVolume":case"onXWebLivePusherAudioVolume":o.volume=t.volume;break;case"onLivePusherCameraFrame":case"onXWebLivePusherCameraFrame":OV.emit(`onLivePusherCameraFrame_${r}`,t);break;case"onLivePusherCameraFrameBufferUpdate":case"onXWebLivePusherCameraFrameBufferUpdate":OV.emit(`onLivePusherCameraFrameBufferUpdate_${r}`,t)}if(!i)return QV[r]=QV[r]||[],void QV[r].push([e,t,r]);if(KV&&("onXWebLivePusherEvent"===e||"onXWebLivePusherNetStatus"===e)){var c=O()({},t.info);"onXWebLivePusherEvent"===e&&(c={code:t.errCode,message:t.errMsg}),lr("xWebLivePusherStateChange",{type:e,detail:{info:c},viewId:t.viewId},[r])}i.handlers[a]&&"function"==typeof ul.webviewEventCallback&&(KV&&"onXWebLivePusherEvent"===e&&t&&-9999999===t.errCode||ul.webviewEventCallback({data:{type:a.replace("bind",""),target:i.target,currentTarget:i.target,timeStamp:Date.now()-i.createdTimeStamp,touches:[],detail:o},eventName:i.handlers[a],webviewId:r,nodeId:i.nodeId}))}var rU=["onLivePusherEvent","onLivePusherNetStatus","onLivePusherBGMStart","onLivePusherBGMProgress","onLivePusherBGMComplete","onLivePusherError","onLivePusherAudioVolume","onLivePusherCameraFrame","onLivePusherCameraFrameBufferUpdate"],nU=["onXWebLivePusherEvent","onXWebLivePusherNetStatus","onXWebLivePusherBGMStart","onXWebLivePusherBGMProgress","onXWebLivePusherBGMComplete","onXWebLivePusherError","onXWebLivePusherAudioVolume","onXWebLivePusherCameraFrame","onXWebLivePusherCameraFrameBufferUpdate"];rU.concat(nU).forEach((e=>{Kt(e,((t={},r=0)=>{tU(e,t,r)}))})),Kt("onEnterLivePusherPictureInPicture",((e={})=>{var t=xV.webviewId,r=DV[`${t}_${e.livePusherId}`];r&&r.handlers.bindenterpictureinpicture&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"enterpictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindenterpictureinpicture,webviewId:t,nodeId:r.nodeId})})),Kt("onLeaveLivePusherPictureInPicture",((e={})=>{var t=xV.webviewId,r=DV[`${t}_${e.livePusherId}`];r&&r.handlers.bindleavepictureinpicture&&"function"==typeof ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:"leavepictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindleavepictureinpicture,webviewId:t,nodeId:r.nodeId})}));var iU=Ut("AudioInterruptionBegin"),aU=iU.onMethod,oU=iU.offMethod,sU=Ut("AudioInterruptionEnd"),cU=sU.onMethod,lU=sU.offMethod,uU=sU.internalOnMethod,dU=sU.internalOffMethod,pU=void 0,hU=!1;function fU(){return Oh&&Oh.WXAUDIO?Oh.WXAUDIO:Oh&&Oh.AudioContext?Oh.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null}function gU(){return new pU}function vU(){if(!hU)throw new Error("detect WebAudioContext too early");return!!pU}h.onLoad((()=>{pU=fU(),hU=!0}));var mU=()=>({"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}}),yU=mU(),bU=null,_U=(e,t)=>t+"-"+e,wU=(e,t,r)=>{if(t){yU[e].playCount++;var n=_U(t,r);bU[n]?(bU[n].playCount++,bU[n].playBeginTime=Date.now()):bU[n]={playCount:1,playBeginTime:Date.now()}}},IU=(e,t,r,n)=>{yU[e].realPlayCount++;var i=_U(t,r);if(t&&bU[i]){var a=n-bU[i].playBeginTime,o=1===bU[i].playCount?"firstPlay":"notFirstPlay";yU[e].duringPlayToRealPlay[o].push(a)}},SU=({mediaType:e,implementType:t,mediaInstanceId:r,actionType:n,actionStatus:i,costTime:a,src:o,errmsg:s})=>{yU[t].playErrorCount++,yU[t].playErrorCount>10||E.reportKeyValue({key:"MediaApi",value:[_getCurrentNetworkType(),getLibVersionStr()+" "+getLibUpdateTimeStr(),e,t,r,n,i,a,encode(`"${o}" fail: ${s}`)].join(",")})},kU=()=>{isGame()&&Math.random()<.3&&Object.keys(yU).forEach((e=>{var t=yU[e],r=t.duringPlayToRealPlay;Object.keys(r).forEach((t=>{var n=r[t];if(n.length>0){var i=n.reduce(((e,t)=>e+t),0)/n.length;E.reportKeyValue({key:"MediaApi",value:[_getCurrentNetworkType(),getLibVersionStr()+" "+getLibUpdateTimeStr(),"createInnerAudioContext",e,"",`avgDuringPlayToRealPlayCostTime(${t})`,i,i,""].join(",")})}}));var n=t.playCount,i=t.realPlayCount;if(n>0){var a=t.playErrorCount;E.reportKeyValue({key:"MediaApi",value:[_getCurrentNetworkType(),getLibVersionStr()+" "+getLibUpdateTimeStr(),"createInnerAudioContext",e,"","successRate",i/n,i/n,encode(JSON.stringify({playCount:n,realPlayCount:i,playErrorCount:a}))].join(",")})}})),yU=mU()};var CU=()=>{},EU=()=>{},AU=()=>{},TU,PU,xU=0,MU=0,RU=0,DU,OU=new WeakMap,LU=new WeakMap,NU=new WeakMap,BU=new WeakMap,FU=new WeakMap,WU=new WeakMap,jU=new WeakMap,VU=new WeakMap,UU=new WeakMap,$U=new WeakMap,zU=new WeakMap,qU=new Map,HU={},GU=52428800,KU=0,JU=0,XU=e=>new Ag(((t,r)=>{Yb(O()(O()({},e),{},{success:t,fail:r}))})),YU=e=>new Ag(((t,r)=>{$h(O()(O()({},e),{},{success:t,fail:r}))})),QU=(e,t)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(KU+=e.audioBufferSize)>GU&&ZU(),e.audioBuffer),ZU=()=>{var e=Object.keys(HU).sort(((e,t)=>HU[e].index-HU[t].index));e.some((e=>{var t=HU[e];if(t.audioBuffer){var r=t.audioBufferSize;if(delete t.audioBuffer,delete t.audioBufferSize,delete HU[e],(KU-=r)<=GU)return!0}return!1}))},e$=e=>{e.index=++JU},t$=(e,t,r)=>{var n=HU[e];if(n&&n.audioBuffer)e$(n),t(n.audioBuffer,{sync:!0});else if(n&&n.loading)e$(n),n.successCallbacks.push(t),n.failCallbacks.push(r);else{HU[e]={loading:!0,successCallbacks:[t],failCallbacks:[r]},(/^(http|https):\/\//.test(e)?n$(e):/^(cloud):\/\//.test(e)?i$(e):/^(wxblob:\/\/)/.test(e)?a$(e):r$(e)).then((t=>{DU.decodeAudioData(t,(t=>{var r,n=HU[e];e$(n),r=n.audioBuffer?n.audioBuffer:QU(n,t);try{n.successCallbacks&&n.successCallbacks.forEach((e=>{e(r,{sync:!1})}))}catch(e){console.error(e),v.error("loadAudio invoke successCallback fail",e.message),n.failCallbacks&&n.failCallbacks.forEach((t=>{t(e)}))}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),(t=>{try{var r=HU[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),v.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))})).catch((t=>{try{var r=HU[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),v.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))}},r$=e=>YU({filePath:e}).then((e=>e.data)),n$=e=>XU({url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0}).then((e=>e.data)),i$=e=>new Ag(((t,r)=>{QI([e],"audio",(e=>{n$(e.data[0].url).then((e=>t(e))).catch((e=>{r(e)}))}))})),a$=e=>new Ag((t=>{t(US.get(e))})),o$=function(e){OU.set(this,Object.assign(OU.get(this),e))},s$=function(e){return OU.get(this)[e]},c$=function(){return OU.get(this)},l$=function(){this.stop(!0),o$.call(this,{_source:null});var e=NU.get(this);e&&e()},u$=function(e){var t=++RU,r=DU.createBufferSource(t),{currentPlayBackTime:n,state:i}=d$.call(this,e),{loop:a,playbackRate:o,_buffer:s,_gainNode:c,_instanceId:l,src:u,withReport:d}=i,p=l$.bind(this);r.onended=p,r.buffer=s,r.loop=a,r.playbackRate.value=o,c&&r.connect(c),r.start(0,n),DU.resume(),o$.call(this,{_isPlaying:!0,paused:!1,_source:r,_played:!0,_playbackTime:0,_lastCurrentTime:n,_startedAt:DU.currentTime,_endedHandler:p,_bufferSourceId:t}),(he||pe)&&d&&qU.set(t,{_instanceId:l,src:u})},d$=function(e){e=e||c$.call(this);var t,{_startedAt:r,_playbackTime:n,_isPlaying:i,playbackRate:a,_lastCurrentTime:o,duration:s}=e;return(t=i?o+(DU.currentTime-r)*a:n)>s&&(t%=s),{currentPlayBackTime:t,state:e}},p$=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=c$.call(this);e&&e.disconnect(),o$.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,LU.delete(this),NU.delete(this),BU.delete(this),FU.delete(this),jU.delete(this),WU.delete(this),VU.delete(this),UU.delete(this),zU.delete(this),clearInterval($U.get(this)),$U.delete(this)},h$=function(){this.stop(!0),o$.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},f$=function(e){var t,r;h$.call(this);var n=new Ag(((e,n)=>{t=e,r=n}));o$.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:n,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:r})},g$={},v$=(e,t)=>e+"-"+t,m$=function(e,t){var r=v$(t,e);g$[r]?g$[r]++:g$[r]=1};class y${constructor({withReport:e}={}){DU||("function"==typeof(DU=gU()).create&&DU.create(-1,!0),(he||pe)&&(DU.onmessage=e=>{var{message:t,node_id:r}=e;if("real_play"===t){var n=qU.get(r);if(qU.delete(r),n){var{_instanceId:i,src:a}=n,o=v$(i,a);g$[o]&&(g$[o]--,AU(a,i,Date.now()))}}}));var t=DU.createGain();t.connect(DU.destination);var r={withReport:e},n=new Ag(((e,t)=>{r._audioLoadPromiseResolve=e,r._audioLoadPromiseReject=t}));OU.set(this,Object.assign(r,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:n,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++MU}))}get src(){return s$.call(this,"src")}set src(e){var{src:t,_gainNode:r}=c$.call(this);r&&"string"==typeof e&&e.length>0&&t!==e&&(t&&f$.call(this,e),o$.call(this,{src:e}),t$(e,((t,{sync:r})=>{var{src:n,_gainNode:i,_isPlaying:a,autoplay:o,_audioLoadPromiseResolve:s}=c$.call(this);if(i){if(n===e){if(o$.call(this,{_ready:!0,_buffer:t,duration:t.duration}),r)setTimeout((()=>{var e=LU.get(this);e&&e()}),0);else{var c=LU.get(this);c&&c()}return!o||a||q$()||this.play(),s(!1),null}s(!0)}}),(t=>{var r=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),v.error("loadAudioFail ",t);var n=c$.call(this),{_audioLoadPromiseReject:i}=n,a=BU.get(this);a&&a({type:"error",errMsg:r,errno:t.errno}),i(t)})))}get startTime(){return s$.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r,_gainNode:n}=c$.call(this);n&&e!==r&&"number"==typeof e&&e>=0&&(o$.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return s$.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:r}=c$.call(this);r&&!!e!==t&&o$.call(this,{autoplay:!!e})}get loop(){return s$.call(this,"loop")}set loop(e){var{_source:t,_gainNode:r}=c$.call(this);r&&(e=!!e,o$.call(this,{loop:e}),t&&(t.loop=e))}get volume(){return s$.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=c$.call(this);r&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(o$.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return s$.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r,_gainNode:n}=c$.call(this);n&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(o$.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:DU.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return s$.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=d$.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=c$.call(this);if(!r)return;var n=VU.get(this),i=UU.get(this),a=LU.get(this);i&&i(),t?(this.stop(!0),o$.call(this,{_playbackTime:e}),this.play(!0)):o$.call(this,{_playbackTime:e}),n&&n(),a&&a()}}get paused(){return s$.call(this,"paused")}get buffered(){var{duration:e}=c$.call(this);return e>0?e:0}play(e=!1){var t=c$.call(this),{_isPlaying:r,_ready:n,_loadPromise:i,_gainNode:a,_playPendingIdMap:o,withReport:s,src:c,_instanceId:l}=t;if(a){if(r&&!e&&s)return CU(c,l),void AU(c,l,Date.now());!e&&s&&CU(c,l);var u=()=>{if(!e){var t=FU.get(this);t&&t()}};if(n){var d;try{u$.call(this,t)}catch(t){d=t;var p=BU.get(this);p&&p({type:"error",errMsg:t.message}),!e&&s&&EU(c,t.message),console.error(t)}d||(!e&&s&&m$(c,l),u())}else{var h=++xU;o[h]=!0,i.then((d=>{var p=!1===o[h];if(delete o[h],d)return r=null,n=null,i=null,a=null,t=null,void(u=null);if(!p){var f,g=c$.call(this),{_isPlaying:v}=g;if(!v){try{u$.call(this,g)}catch(t){f=t;var m=BU.get(this);m&&m({type:"error",errMsg:t.message}),!e&&s&&EU(c,t.message),console.error(t)}return f||(!e&&s&&m$(c,l),u()),null}}})).catch((e=>{s&&EU(c,e.errMsg||e.message)}))}}}pause(){var e=c$.call(this),{_isPlaying:t,_source:r,_gainNode:n,_playPendingIdMap:i}=e;if(n)if(r&&t){var a=WU.get(this);r.stop(0),r.disconnect(),r.onended=null,o$.call(this,{_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),a&&a()}else Object.keys(i).forEach((e=>{i[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:r,_isPlaying:n,_playPendingIdMap:i}=c$.call(this);if(r){if(t)try{var a=jU.get(this);t.stop(0),t.disconnect(),t.onended=null,o$.call(this,{_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&a&&a()}catch(e){}n||Object.keys(i).forEach((e=>{i[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=c$.call(this);if(!r)return;var n=VU.get(this),i=UU.get(this),a=LU.get(this);i&&i(),t?(this.stop(!0),o$.call(this,{_playbackTime:e}),this.play(!0)):o$.call(this,{_playbackTime:e}),n&&n(),a&&a()}}destroy(){var{_gainNode:e}=c$.call(this);e&&p$.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;LU.set(this,e)}else LU.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;NU.set(this,e)}else NU.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;BU.set(this,e)}else BU.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;FU.set(this,e)}else FU.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;WU.set(this,e)}else WU.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;jU.set(this,e)}else jU.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;VU.set(this,e)}else VU.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;UU.set(this,e)}else UU.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;var r=$U.get(this);clearInterval(r);var n=setInterval((()=>{var{_isPlaying:t}=c$.call(this);t&&e()}),350);$U.set(this,n)}else $U.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=c$.call(this);if(!t)return;zU.set(this,e)}else zU.delete(this)}}var b$=()=>vU()&&!0,_$=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],w$=["startTime","duration","currentTime"],I$=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],S$=new Set,k$=new WeakMap,C$=new WeakMap,E$=new WeakMap,A$=new WeakMap;class T${constructor(e,t=1e3,r){var n=new Nt;k$.set(this,e),S$.add(this),A$.set(this,{conversion:t,type:r}),_$.forEach((r=>Object.defineProperty(this,r,{get:()=>w$.includes(r)?e[r]/t:e[r],set(n){qN()||(w$.includes(r)?e[r]=t*n:e[r]=n)}}))),I$.forEach((t=>{this["on"+t]=e=>{var r=C.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);C$.set(e,r),E$.set(r,e),n.on(t,r)},this["off"+t]=e=>{if(et(e)){var r=C$.get(e);et(r)&&(n.off(t,r),C$.delete(e),E$.delete(r))}else n.listeners(t).forEach((e=>{var t=E$.get(e);C$.delete(t),E$.delete(e)})),n.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,r)=>{e?Xe(e)?n.emit(t,e):n.emit(t,{errCode:e,errMsg:r}):n.emit(t)}}))}play(){var e;qN()||q$()&&"inner"!==A$.get(this).type||null===(e=k$.get(this))||void 0===e||e.play()}stop(){var e;null===(e=k$.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=k$.get(this))||void 0===e||e.pause()}seek(e){var t,r;if(!qN()){var{conversion:n}=null!==(t=A$.get(this))&&void 0!==t?t:{};null===(r=k$.get(this))||void 0===r||r.seek(n*e)}}destroy(){var e=k$.get(this);e.destroy&&e.destroy(),I$.forEach((e=>{this["off"+e]()})),S$.delete(this),k$.delete(this)}static pauseAllAudio(){S$.forEach((e=>{if("inner"!==A$.get(e).type){var t=k$.get(e);t&&t.pause()}}))}}class P$ extends T${constructor({type:e}){super(new Oh.Audio,1e3,e)}}class x$ extends T${constructor({withReport:e,type:t}={}){super(new y$({withReport:e}),1,t)}}var M$=void 0===r?{version:"9.9.9",updateTime:"unknown"}:r,R$=M$,D$=()=>({updateTime:M$.updateTime,version:M$.version});function O$(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),i=Math.max(r.length,n.length);r.length<i;)r.push("0");for(;n.length<i;)n.push("0");for(var a=0;a<i;a++){var o=parseInt(r[a],10),s=parseInt(n[a],10);if(o>s)return 1;if(o<s)return-1}return 0}function L$(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function N$(e,t){return e||t?e?t?O$(L$(e),L$(t)):1:-1:0}var B$=new Set,F$=()=>{var{system:e}=Zy();pe&&-1===N$(e,"6.0.0")&&console.error("Error: WebAudio don't support android system under 6!");var t=gU();Oh&&Oh.WXAUDIO&&t&&"function"==typeof t.create&&t.create(),B$.add(t);var r=[];return["close","resume","suspend"].forEach((e=>{var n=t[e];Object.defineProperty(t,e,{configurable:!1,get:()=>function(){return"close"===e&&B$.delete(t),new Promise((e=>{r.push(e);var i=t.onstatechange;t.onstatechange=()=>{"function"==typeof i&&i();var e=r.pop();e&&e(),t.onstatechange=i},n.call(t)}))}.bind(t)})})),t};class W${static pauseAllAudio(){B$.forEach((e=>{e.suspend()}))}}var j$=()=>{Sz.pauseAllAudio(),P$.pauseAllAudio(),x$.pauseAllAudio(),W$.pauseAllAudio()},V$=!1,U$=!1;"undefined"!=typeof IS_SDK_PACKAGE||Tt("onAudioInterruptionBegin",(e=>{V$=!0,!1===U$&&iU.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||Tt("onAudioInterruptionEnd",(e=>{V$=!1,!1===U$&&sU.emit(e)}));var $$=()=>{!1===V$&&!1===U$&&(j$(),U$=!0,iU.emit({}))},z$=()=>{!1===V$&&!0===U$&&(U$=!1,sU.emit({}))},q$=()=>U$,H$=()=>{},G$=()=>{},K$=()=>{},J$,X$,Y$=new WeakMap,Q$=new WeakMap,Z$=new WeakMap,ez=new WeakMap,tz=new WeakMap,rz=new WeakMap,nz=new WeakMap,iz=new WeakMap,az=new Map,oz=new Map,sz=new Map,cz=v.createLogger("InnerAudio"),lz=function(e,t){Q$.set(this,Object.assign(Q$.get(this),{[e]:t})),"src"===e&&Q$.set(this,Object.assign(Q$.get(this),{paused:!0})),ez.get(this)&&(setTimeout((()=>{var r=Object.assign({},Q$.get(this),tz.get(this),{timestamp:Date.now(),audioId:Y$.get(this),success:()=>{Q$.set(this,Object.assign(Q$.get(this),{[e]:t}))},fail:()=>{dz.call(this)}});q$()&&(r.autoplay=!1),gu("setAudioState",r),ez.set(this,!0)}),0),ez.set(this,!1)),tz.set(this,Object.assign(tz.get(this),{[e]:t}))},uz=function(e,t){nz.get(this).then((()=>{lz.call(this,e,t)}))},dz=function(e,t){var r=Q$.get(this)[e];return gu("getAudioState",{audioId:Y$.get(this),success:n=>{delete n.errMsg,Q$.set(this,Object.assign(Q$.get(this),n)),r=n[e],"function"==typeof t&&t(r)}}),r},pz=function(e){var t=Y$.get(this);gu("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:r})=>{cz.error(`operateAudio fail: errMsg="${r}"`,e.operationType,t),bz.call(this,"error",{errMsg:r,errCode:-1});var n=Q$.get(this);null!=n&&n.withReport&&G$("",r)}},e))},hz=function(e){return nz.get(this).then((()=>{if("play"===e.operationType){var t=Q$.get(this);if(null!=t&&t.withReport){var r=Y$.get(this);H$(null==t?void 0:t.src,r)}}setTimeout((()=>{pz.call(this,e)}),0)}))},fz=new Nt;"undefined"!=typeof IS_SDK_PACKAGE||Tt("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=az.get(e.audioId);null!=t&&t.withReport&&K$(null==t?void 0:t.src,e.audioId,Date.now())}else{e.state=e.state.toLowerCase();var{state:r,audioId:n,errMsg:i}=e;delete e.audioId,delete e.state;var a="play"!==r,o=az.get(n);o&&(o.paused=a),"error"===r&&null!=o&&o.withReport&&G$(null==o?void 0:o.src,i);var s=sz.get(n);if(!s||!(r in s))return;fz.emit(`${n}_onAudioStateChange_${r}`,e)}}));var gz=function(e,t){var r=`${Y$.get(this)}_onAudioStateChange_${e}`,n=r=>{C.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};rz.set(t,n),fz.on(r,n)},vz=function(e,t){nz.get(this).then((()=>{gz.call(this,e,t)}))},mz=function(e,t){var r=`${Y$.get(this)}_onAudioStateChange_${e}`;if(et(t)){var n=rz.get(t);et(n)&&fz.off(r,n)}else fz.removeAllListeners(r)},yz=function(e,t){nz.get(this).then((()=>{mz.call(this,e,t)}))},bz=function(e,t){fz.emit(`${Y$.get(this)}_onAudioStateChange_${e}`,t)},_z=0,wz=!1;class Iz{constructor({pluginId:e,withReport:t,type:r}={}){var n,i;Q$.set(this,{}),tz.set(this,{}),Z$.set(this,void 0),ez.set(this,!0),"string"==typeof e&&iz.set(this,e.split("/",1)[0]),nz.set(this,new Ag(((e,t)=>{n=e,i=t})));var a={};gu(pe||ke||ve?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var i={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:r};if(sz.set(e.audioId,a),az.set(e.audioId,i),Y$.set(this,e.audioId),Q$.set(this,i),Oh.BindingObject){var o=new Oh.BindingObject;this.__bindingObject=o,oz[o.__id]=e.audioId}(_z+=1)>=1024&&!wz&&he&&(wz=!0,E.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),_z>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(n,0)},fail:e=>{t&&G$("",e.errMsg),i(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var r=e.toLowerCase();a[r]=1,vz.call(this,r,t)},this[`off${e}`]=t=>{var r=e.toLowerCase();delete a[r],yz.call(this,r,t)}}))}get src(){return this.cloudId?this.cloudId:dz.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=iz.get(this);"string"==typeof t&&null===Xd(e)&&(e=Hd(t,e)),QI([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,uz.call(this,"src",e)}))}else bz.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return dz.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?uz.call(this,"startTime",1e3*e):bz("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){"boolean"!=typeof e||qN()||uz.call(this,"autoplay",e)}get autoplay(){return dz.call(this,"autoplay")}set loop(e){"boolean"==typeof e&&uz.call(this,"loop",e)}get loop(){return dz.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&uz.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return dz.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||uz.call(this,"volume",e)}get volume(){return dz.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||uz.call(this,"playbackRate",e)}get playbackRate(){return dz.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&uz.call(this,"referrerPolicy",e)}get referrerPolicy(){return dz.call(this,"referrerPolicy")}get paused(){return dz.call(this,"paused")}get duration(){return dz.call(this,"duration")/1e3}set currentTime(e){"number"!=typeof e||e<0?bz("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`}):hz.call(this,{operationType:"seek",currentTime:1e3*e})}get currentTime(){return dz.call(this,"currentTime")/1e3}get buffered(){return dz.call(this,"buffered")/1e3}play(){qN()||q$()&&"inner"!==Q$.get(this).type||hz.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}pause(){hz.call(this,{operationType:"pause"})}stop(){hz.call(this,{operationType:"stop"})}seek(e){qN()||("number"!=typeof e||e<0?bz("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`}):hz.call(this,{operationType:"seek",currentTime:1e3*e}))}destroy(){nz.get(this).then((()=>{var e=Y$.get(this);az.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;fz.removeAllListeners(r)})),sz.delete(e),az.delete(e),_z-=1,setTimeout((()=>{gu("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){nz.get(this).then((()=>{var t=`${Y$.get(this)}_onAudioStateChange_timeupdate`;void 0===Z$.get(this)&&Z$.set(this,setInterval((()=>{if("active"===ul.runningStatus&&!0!==Q$.get(this).paused&&1!==Q$.get(this).paused){var e=Q$.get(this).currentTime;dz.call(this,"currentTime",(r=>{r!==e&&fz.emit(t)}))}}),250)),fz.removeAllListeners(t);var r=t=>{C.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};rz.set(e,r),fz.on(t,r)}))}offTimeUpdate(e){nz.get(this).then((()=>{yz.call(this,"timeupdate",e)}))}static pauseAllAudio(){az.forEach(((e,t)=>{"inner"!==e.type&&gu("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}}var Sz=Iz,kz,Cz=()=>{if(void 0===kz){var e=he?"clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio":"clicfg_appbrand_android_inneraudio2webaudio_usewebaudio";kz=1===Number(z.expt&&z.expt[e])}return kz},Ez=()=>({startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set}),Az=new WeakMap,Tz=function(e){return Az.get(e)||{}},Pz=function(e,t){var r;return null===(r=Az.get(e))||void 0===r?void 0:r[t]},xz=new Map,Mz=Ru(lh),Rz=e=>xz.has(e)?xz.get(e):Mz({path:e}).then((t=>(xz.set(e,t),t))),Dz=function(e,t){var{bufferedOperations:r,staticOperations:n}=e;e.audioInstance=t,Object.keys(n).forEach((e=>{var r=n[e];st(r)?r.forEach((r=>{t["on"+e](r)})):t[e]=r})),r.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},Oz=function(e,t,r){t in e.staticOperations?(e.staticOperations[t]=r,e.audioInstance&&(e.audioInstance[t]=r)):e.audioInstance?e.audioInstance[t]=r:e.bufferedOperations.push({type:"set",value:r,key:t})},Lz=function(e,t,r,n){n?("on"===n?e.staticOperations[t].add(r):"off"===n&&e.staticOperations[t].delete(r),e.audioInstance&&e.audioInstance[n+t](r)):e.audioInstance?e.audioInstance[t](r):e.bufferedOperations.push({type:"method",value:r,key:t})},Nz=(e,t)=>{var r=e=>{var{stats:r}=e;r.size<102400?Cz()?t("NativeWebAudio",!0):t("AudioJsApi",!0):t("AudioJsApi")};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t("AudioJsApi");else{var n=Rz(e);lt(n)?n.then((e=>{r(e)})).catch((e=>{console.error(e),v.error("statLocalAudio fail",e),t("AudioJsApi")})):r(n)}},Bz=function(e,t){var r;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var n=new Ag((e=>{r=e}));t.src=e,t._ready=!1,t._statPromise=n,t._statPromiseResolve=r};class Fz{constructor({pluginId:e,type:t}={}){var r={pluginId:e,bufferedOperations:[],staticOperations:Ez(),_ready:!1,type:t};r._statPromise=new Ag((e=>{r._statPromiseResolve=e})),Az.set(this,r)}get src(){return Pz(this,"src")}set src(e){var t=Tz(this),{src:r,audioInstance:n,audioInstanceType:i,pluginId:a}=t;"string"==typeof e&&e.length>0&&r!==e&&(r&&Bz.call(this,e,t),t.src=e,Nz(e,n?(r,o)=>{var s=Tz(this);if(s.src===e){var{_statPromiseResolve:c}=s;t._ready=!0,t.audioInstanceType=r,r===i?n.src=e:(n.destroy(),t.audioInstance=null,"AudioJsApi"===r?(Oz(t,"src",e),Dz(t,new Sz({pluginId:a,withReport:o,type:Az.get(this).type}))):"NativeWebAudio"===r&&(Oz(t,"src",e),Dz(t,new x$({withReport:o,type:Az.get(this).type})))),c()}}:(r,n)=>{var i=Tz(this);if(i.src===e){var{_statPromiseResolve:o}=i;t._ready=!0,t.audioInstanceType=r,"AudioJsApi"===r?(Oz(t,"src",e),Dz(t,new Sz({pluginId:a,withReport:n,type:Az.get(this).type}))):"NativeWebAudio"===r&&(Oz(t,"src",e),Dz(t,new x$({withReport:n,type:Az.get(this).type}))),o()}}))}get startTime(){var e=Pz(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=Tz(this),{startTime:r}=t;e!==r&&"number"==typeof e&&e>=0&&(t.startTime=e,Oz(t,"startTime",e))}get autoplay(){var e=Pz(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=Tz(this),{autoplay:r,_statPromise:n}=t;(e=!!e)!==r&&(t.autoplay=e,e?n.then((()=>{Oz(t,"autoplay",e)})):Oz(t,"autoplay",e))}get loop(){var e=Pz(this,"loop");return void 0!==e&&e}set loop(e){var t=Tz(this),{loop:r}=t;(e=!!e)!==r&&(t.loop=e,Oz(t,"loop",e))}get volume(){var e=Pz(this,"volume");return void 0!==e?e:1}set volume(e){var t=Tz(this),{volume:r}=t;"number"==typeof e&&e>=0&&e<=1&&e!==r&&(t.volume=e,Oz(t,"volume",e))}get playbackRate(){var e=Pz(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=Tz(this),{playbackRate:r}=t;"number"==typeof e&&r!==e&&e>=.5&&e<=2&&(t.playbackRate=e,Oz(t,"playbackRate",e))}get duration(){var{audioInstance:e}=Tz(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=Tz(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=Tz(this);t.currentTime=e,Oz(t,"currentTime",e)}}get paused(){var{audioInstance:e}=Tz(this);return!e||e.paused}get buffered(){var{audioInstance:e}=Tz(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return Pz(this,"referrerPolicy")||""}set referrerPolicy(e){var t=Tz(this),{referrerPolicy:r}=t;"string"==typeof e&&e.length>0&&r!==e&&(t.referrerPolicy=e,Oz(t,"referrerPolicy",e))}play(){var e=Tz(this),{_statPromise:t,_ready:r}=e;r?Lz(e,"play"):t.then((()=>{Lz(e,"play")}))}pause(){var e=Tz(this);Lz(e,"pause")}stop(){var e=Tz(this);Lz(e,"stop")}seek(e){var t=Tz(this);Lz(t,"seek",e)}destroy(){var e=Tz(this);Lz(e,"destroy"),Az.delete(this)}onTimeUpdate(e){var t=Tz(this);Lz(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=Tz(this);Lz(t,"TimeUpdate",e,"off")}onCanplay(e){var t=Tz(this);Lz(t,"Canplay",e,"on")}offCanplay(e){var t=Tz(this);Lz(t,"Canplay",e,"off")}onPlay(e){var t=Tz(this);Lz(t,"Play",e,"on")}offPlay(e){var t=Tz(this);Lz(t,"Play",e,"off")}onPause(e){var t=Tz(this);Lz(t,"Pause",e,"on")}offPause(e){var t=Tz(this);Lz(t,"Pause",e,"off")}onStop(e){var t=Tz(this);Lz(t,"Stop",e,"on")}offStop(e){var t=Tz(this);Lz(t,"Stop",e,"off")}onEnded(e){var t=Tz(this);Lz(t,"Ended",e,"on")}offEnded(e){var t=Tz(this);Lz(t,"Ended",e,"off")}onError(e){var t=Tz(this);Lz(t,"Error",e,"on")}offError(e){var t=Tz(this);Lz(t,"Error",e,"off")}onWaiting(e){var t=Tz(this);Lz(t,"Waiting",e,"on")}offWaiting(e){var t=Tz(this);Lz(t,"Waiting",e,"off")}onSeeking(e){var t=Tz(this);Lz(t,"Seeking",e,"on")}offSeeking(e){var t=Tz(this);Lz(t,"Seeking",e,"off")}onSeeked(e){var t=Tz(this);Lz(t,"Seeked",e,"on")}offSeeked(e){var t=Tz(this);Lz(t,"Seeked",e,"off")}}var Wz=!1;(he||pe)&&z.onReady((()=>{var e;e=he?"clicfg_appbrand_ios_inneraudio2webaudio":"clicfg_appbrand_android_inneraudio2webaudio",1===Number(z.expt&&z.expt[e])&&Ph("forceUseAudioDynamic")?(v.info("开启 forceUseAudioDynamic"),Wz=!0):v.info("关闭 forceUseAudioDynamic")}));var jz=v.createLogger("InnerAudioContext"),Vz=function(e={},t="outer"){var r=!0;if(pe){var{system:n}=Zy();-1===N$(n,"6.0.0")&&(r=!1)}ke&&(r=!1);var i=Gp(this),{useWebAudioImplement:a}=e;return(me||ve)&&Oh.Audio?(jz.info("using NativeAudio"),new P$({type:t})):a&&b$()&&r?(jz.info("using WebAudio"),new x$({type:t})):b$()&&r&&Te()&&Wz?(jz.info("using AudioDynamic"),new Fz({pluginId:i,type:t})):(jz.info("using AudioJsApi"),new Sz({pluginId:i,type:t}))},Uz=function(e={}){return Vz(e)},$z={},zz=new Lt,qz={};function Hz(e){qz[e]||(qz[e]=!0,CI(e,(e=>{delete qz[e],Object.keys($z).forEach((t=>{new RegExp("^"+e).test(t)&&delete $z[t]}))}),"AudioContext"))}gr("audioInsert",(({audioId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==Kc.getRootNodeId(n)&&(i+=r),$z[i]=!0,zz.emit(`audioInsert_${i}`),Hz(n)})),gr("audioRemove",(({audioId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==Kc.getRootNodeId(n)&&(i+=r),delete $z[i]}));class Gz{constructor(e,t,r,n){if("string"!=typeof e)throw new Cd("Parameter 1 should be a string");this.audioId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}setSrc(e){this._sendAction({method:"setSrc",data:e})}play(){this._getAppStatus()===zc.BACK_GROUND||qN()||this._sendAction({method:"play"})}pause(){this._sendAction({method:"pause"})}seek(e){this._sendAction({method:"setCurrentTime",data:e})}_ready(e){var t=`${this.webviewId}_${this.pluginId}_${this.audioId}_${this.nodeId}`;$z[t]?e():zz.on(`audioInsert_${t}`,(()=>{e()}))}_sendAction(e){this._ready((()=>{lr(`audio_${this.pluginId}_${this.audioId}_${this.nodeId}_actionChanged`,e,[this.webviewId])}))}}function Kz(e,t,r="",n=""){var i=new Gz(e,t,r,n);return i._getAppStatus=()=>ul.appStatus,i._getHanged=()=>ul.hanged,qk.call(this,(()=>{i.pause()})),i}var Jz={},Xz={},Yz={},Qz={},Zz=1;function eq(e){Yz[e]||(Yz[e]=!0,CI(e,(e=>{delete Yz[e],Object.keys(Jz).forEach((t=>{new RegExp("^"+e).test(t)&&delete Jz[t]})),Object.keys(Xz).forEach((t=>{new RegExp("^api_"+e).test(t)&&delete Xz[t]})),Object.keys(Xz).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&delete Xz[t]}))}),"EditorContext"))}gr("editorInsert",(({domId:e,editorId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==Kc.getRootNodeId(i)&&(a+=n),Jz[a]=t,eq(i)})),gr("editorRemoved",(({domId:e,editorId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==Kc.getRootNodeId(i)&&(a+=n),delete Jz[a];var o=`SQ_${i}_${t}`;delete Xz[`api_${i}_${r}_${e}_${n}`],delete Xz[o]})),gr("doEditorActionCallback",(e=>{var t=e.callbackId;if(t&&void 0!==Qz[t]){delete e.callbackId;var r=Qz[t];e.errMsg&&(e.errMsg.indexOf("ok")>-1?"function"==typeof r.success&&r.success(e):e.errMsg.indexOf("fail")>-1&&"function"==typeof r.fail&&r.fail(e)),"function"==typeof r.complete&&r.complete(e),delete Qz[t]}}));var tq=["insertDivider","insertImage","insertText","setContents","getContents","clear","removeFormat","undo","redo","blur","getSelectionText"];class rq{format(e,t=!1){this._execCommand("format",{name:e,value:t,needCallBack:!1})}scrollIntoView(){this._execCommand("scrollIntoView",{needCallBack:!1})}_execCommandWithId(e,t,r){if(r.needCallBack){var n={};Object.keys(r).forEach((e=>{"function"==typeof r[e]&&(n[e]=r[e],delete r[e])}));var i=`callback${this.webviewId}_${e}_${Zz++}`;Qz[i]=n,r.callbackId=i}delete r.needCallBack,this.action={method:t,args:r},lr(`editor_${this.webviewId}_${e}_actionChanged`,this.action,[this.webviewId])}}tq.forEach((e=>{rq.prototype[e]=At((function(t){this._execCommand(e,O()(O()({},t),{},{needCallBack:!0}))}))}));class nq extends rq{constructor(e,t){super(),this.editorId=e,this.webviewId=t}_execCommand(e,t){this._execCommandWithId(this.editorId,e,t)}}function iq(e,t){var r=`SQ_${t}_${e}`;if(Xz[r])return Xz[r];var n=new nq(e,t);return Xz[r]=n,n}var aq=e=>{var t=e.map(encodeURIComponent).join(",");E.reportKeyValue({key:"BLEConnection",value:t})},oq=Ut("onBLEConnectionStateChanged"),sq=oq.onMethod,cq=oq.offMethod,lq=oq.internalOnMethod;Tt("onBLEConnectionStateChanged",(e=>{oq.emit(e)}));var uq=Ut("onBluetoothAdapterStateChange"),dq=uq.onMethod,pq=uq.offMethod,hq=uq.internalOnMethod;Tt("onBluetoothAdapterStateChange",(e=>{uq.emit(e)}));var fq=0,gq=!1,vq={connects:null,scene:null,targetAction:null,startTime:null,endTime:null},mq=()=>{Object.keys(vq).forEach((e=>{vq[e]=null}))},yq=()=>Object.values(vq).every((e=>null!==e));lq((e=>{e&&(e.connected?fq++:fq--)})),hq((e=>{e&&!e.available&&(fq=0)})),qk((e=>{fq>0&&(gq=!0,vq.startTime=Date.now(),vq.targetAction=e.targetAction)})),zS((e=>{gq&&(vq.endTime=Date.now(),setTimeout((()=>{fq>0&&(vq.connects=fq,vq.scene=e.scene,yq()&&aq([vq.connects,vq.scene,vq.targetAction,vq.endTime-vq.startTime])),gq=!1,mq()}),100))}));var bq=(e={})=>{e.success({currentRoute:ul.lastRoute})},_q=(e={})=>{var{lastRoute:t=ul.lastRoute,relativeRoute:r=".",needTrans:n=!0}=e;e.success({route:Gd(t,r,n)})};function wq(e){if(!Array.isArray(e)||e.some((e=>"string"!=typeof e||0===e.length)))return"invalid keyList"}var Iq=ed("getUserCloudStorage","webapi_getselfuserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),Sq=e=>{var t=wq(e.keyList);t?Rc("getUserCloudStorage",e,t):Iq(e)},kq=ed("getFriendCloudStorage","webapi_getfrienduserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),Cq=(e={})=>{var t=wq(e.keyList);t?Rc("getFriendCloudStorage",e,t):kq(e)},Eq=ed("getGroupCloudStorage","webapi_getgroupuserstorage",(({keyList:e=[],shareTicket:t})=>{var r=fS.get(t),{shareKey:n,shareName:i}=r;return{key:e,share_key:n,share_name:i}}),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),Aq=e=>{var t=wq(e.keyList);t?Rc("getGroupCloudStorage",e,t):setTimeout((()=>{e.shareTicket?fS.get(e.shareTicket)?Eq(e):Rc("getGroupCloudStorage",e,"参数 shareTicket 不正确"):fS.lastShareTicket&&fS.get(fS.lastShareTicket)?Eq(Object.assign({shareTicket:fS.lastShareTicket},e)):Rc("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)},Tq=!1;z.onReady((()=>{Tq=Tq||1037===(z.appLaunchInfo||{}).scene||1227===(z.appLaunchInfo||{}).scene})),zS((e=>{Tq=Tq||1037===e.scene||1227===e.scene}));var Pq=(e={})=>{Tq?gu("navigateBackMiniProgram",e,{}):Rc("navigateBackMiniProgram",e,"not MiniProgram can navigate back.")},xq=(e={},t="/")=>{if(xc("navigateToDevMiniProgram",e,{appId:""}))if(["undefined","string"].includes(typeof e.relativeURL)){var r=Object.assign({},e);"string"==typeof r.path&&void 0===r.relativeURL&&(r.relativeURL=Rd(r.path)),mu(t)("navigateToDevMiniProgram",r,{})}else Rc("navigateToDevMiniProgram",e,"relativeURL should be string or undefined")},Mq=e=>{xq(e,"/")},Rq=(e={})=>{var t=Object.assign({},e);t.path&&(t.path=Rd(t.path)),gu("launchMiniProgram",t)},Dq=(e={})=>{if(xc("launchDevMiniProgram",e,{appId:""})){var t=Object.assign({},e);t.path=Rd(t.path),"string"==typeof t.path&&void 0===t.relativeURL&&(t.relativeURL=t.path),gu("launchDevMiniProgram",t,{})}},Oq=Ut("exitMiniProgram"),Lq=Oq.internalOnMethod,Nq=()=>Oq.emit(),Bq=(e={})=>{gu("exitMiniProgram",e,{beforeSuccess(){Oq.emit()}})},Fq,Wq,jq;z.onReady((()=>{if(z.screenHeight&&z.screenWidth)Wq=z.screenWidth,jq=z.screenHeight;else{var e=by();Wq=e.screenWidth,jq=e.screenHeight,Fq=e.deviceOrientation}})),Kt("onViewDidResize",(e=>{Fq=e.deviceOrientation,Wq=e.size.windowWidth,jq=e.size.windowHeight}));var Vq=()=>Fq||(Wq>jq?"landscape":"portrait"),Uq=e=>{gu("setPageOrientation",e)},$q=!0,zq=[{h:"支付方式1",src:"url"},{h:"支付方式2",src:"url2"},{h:"支付方式3",src:"url3"},{h:"支付方式4",src:"url4"}],qq=Symbol("wePaySpecialOpenMiniProgram"),Hq=Symbol("skipSceneSymbol"),Gq=!1,Kq=function(){var e=cp()((function*(e,t){try{var r=yield lx({appId:t.appId,path:t.path},t);return v.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(r)}`),GP(e,{appId:r.appId,path:r.path,sourcetype:r.sourcetype,needTransferToWeChat:r.needTransferToWeChat})}catch(e){var n=e.errMsg||e.message;throw v.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${n}`),["cancel","another navigation is in progress"].includes(n)||E.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(n)}}));return function(t,r){return e.apply(this,arguments)}}(),Jq=(()=>{var e=[];return z.onReady((()=>{Array.isArray(z.embeddedAppIdList)&&(e=z.embeddedAppIdList)})),t=>e.indexOf(t)>=0})(),Xq={NONE:0,BANNED_PLATFORM:1,BANNED_APP_TYPE:2,INVALID_ACTION_CODE:3,DISALLOW_EMBEDDED_MODE:4,BANNED_ORIENTATION:5,NOT_IN_EMBEDDED_APPID_LIST:6,NOT_TRIGGERED_BY_TAP:7,INVALID_API_CATEGORY:8,SPECIAL_SCENE:9},Yq=function(){var e=cp()((function*({appId:e,path:t,shortLink:r,verify:n,tapMark:i},a){if(v.info(`[_checkBeforeOpenEmbeddedMiniProgram] appId=${e} path=${t} shortLink=${r} isOpening=${Gq}`),Gq)throw new Error("another navigation is in progress");Gq=!0;try{try{a||(a=yield nx({appId:e,path:t,shortLink:r,verifyUnionProduct:"unionProduct"===n}))}catch(r){v.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),a={appId:e,path:t}}var{actionCode:o,allowEmbeddedMode:s,appType:c}=a;e=a.appId,t=a.path;var l=Vq(),u=xS();v.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${o} appType=${c} allowEmbeddedMode=${s} pageOrientation=${l} lastNonBClassScene=${u}`);var d=!1,p=Xq.NONE;return he||pe?Te()||4===c?(d=!0,p=Xq.BANNED_APP_TYPE):[1,2].includes(o)?s?"landscape"===l?(d=!0,p=Xq.BANNED_ORIENTATION):i?["embedded"].includes(dp().apiCategory)?(d=!0,p=Xq.INVALID_API_CATEGORY):[1200,1201,1228].includes(u)&&(d=!0,p=Xq.SPECIAL_SCENE):(d=!0,p=Xq.NOT_TRIGGERED_BY_TAP):(d=!0,p=Xq.DISALLOW_EMBEDDED_MODE):(d=!0,p=Xq.INVALID_ACTION_CODE):(d=!0,p=Xq.BANNED_PLATFORM),O()(O()({},a),{},{shouldFallback:d,fallbackReason:p})}finally{Gq=!1}}));return function(t,r){return e.apply(this,arguments)}}(),Qq=(e,t,r,n,i)=>{var a=Object.keys(ul.query).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(ul.query[e])}`)).join("&"),o=[`${ul.lastRoute}?${a}`||"",e||"",t||"",r||"",n,i].join(",");E.reportKeyValue({key:"OpenEmbeddedMiniProgramResult",value:o})},Zq=function(){var e=cp()((function*(e){v.info(`[_doOpenEmbeddedMiniProgram], args=${JSON.stringify(e)}`),delete(e=O()({},e)).sourcetype,delete e.preScene,delete e.preSceneNote,e.mode="embedded",De()||e.skipSceneSymbol===Hq||(delete e.scene,delete e.sceneNote);var t=Bk();return t?(e.privateExtraData=e.privateExtraData||{},e.privateExtraData.cookies=t):e.privateExtraData&&delete e.privateExtraData.cookies,"string"==typeof e.path&&e.path.trim().length>0?e.path=Rd(e.path).trim():e.path=void 0,v.info(`[_doOpenEmbeddedMiniProgram], finalArgs=${JSON.stringify(e)}`),vu("navigateToMiniProgram",e)}));return function(t){return e.apply(this,arguments)}}();function eH(){return tH.apply(this,arguments)}function tH(){return tH=cp()((function*(e={}){var t=e.__skip_tap_check__===qq,r=t||Id();if(!t&&!Kk())throw new Error("can only be invoked by user TAP gesture.");var n=dp().apiCategory;if(["nativeFunctionalized"].includes(n))throw rE({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${n} apiCategory.`);if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&Mc(e,{appId:""}),e.shortLink&&Mc(e,{shortLink:""}),v.info(`[_openEmbeddedMiniProgram] appId=${e.appId} path=${e.path} shortLink=${e.shortLink} verify=${e.verify}`);var i=e.appId,a=e.path,o=0,s=0;try{var c=yield Yq({appId:e.appId,path:e.path,shortLink:e.shortLink,verify:e.verify,tapMark:r});return v.info(`[_checkBeforeOpenEmbeddedMiniProgram][resolve], res=${JSON.stringify(c)}`),i=c.appId,a=c.path,e.skipSceneSymbol===Hq&&(c.shouldFallback=!1),c.shouldFallback?(o=2,s=c.fallbackReason,console.warn(`openEmbeddedMiniProgram will fallback to navigateToMiniProgram. (reason: ${{[Xq.BANNED_PLATFORM]:"invalid platform",[Xq.BANNED_APP_TYPE]:"invalid app type",[Xq.INVALID_ACTION_CODE]:"forbid to navigate",[Xq.DISALLOW_EMBEDDED_MODE]:"forbidden",[Xq.BANNED_ORIENTATION]:"invalid orientation",[Xq.NOT_IN_EMBEDDED_APPID_LIST]:"not in list",[Xq.NOT_TRIGGERED_BY_TAP]:"not triggered by tap",[Xq.INVALID_API_CATEGORY]:"invalid api category",[Xq.SPECIAL_SCENE]:"special scene"}[s]||"unknown"})`),yield Kq(e,c)):(o=1,yield Zq(O()(O()({},e),{},{appId:c.appId,path:c.path,sourcetype:c.sourcetype})))}catch(e){var l=e.errMsg||e.message;throw v.error(`[_checkBeforeOpenEmbeddedMiniProgram][reject], errMsg=${l}`),["cancel","another navigation is in progress"].includes(l)||E.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before open embed miniprogram"}),new Error(l)}finally{Qq(i,a,e.shortLink,o,s)}})),tH.apply(this,arguments)}var rH=Vc("openEmbeddedMiniProgram",eH),nH=1515,iH=74,aH=75,oH=76,sH=80,cH=81,lH=0,uH={};XS((e=>{uH=e,lH=e.webviewId}));var dH=Date.now(),pH=dH,hH=dH,fH=0;h.onLoad((()=>{dH=Date.now(),pH=dH,hH=dH})),zS((()=>{(dH=Date.now())>pH&&(fH+=dH-pH)})),qk((()=>{pH=Date.now()})),qM((()=>{hH=Date.now()}));var gH=null,vH=[];gr("videoAdPreloadInfoGet",(e=>{gH=e,vH.forEach((e=>{e&&e(gH)})),vH=[]}));var mH=null,yH=e=>{gH?e&&e(gH):(mH&&clearTimeout(mH),mH=setTimeout((()=>{lr("videoAdPreloadInfo",null,[lH])}),0),vH.push(e))},bH=new Date;h.onLoad((()=>{bH=new Date}));var _H="";z.onReady((()=>{bH=new Date;var e=Zy();_H=e.model}));var wH=e=>{var t={};try{for(var r of e=JSON.parse(e))Object.prototype.hasOwnProperty.call(r,"exp_para")&&r.exp_para.forEach((e=>{t[e.name]=Number(e.value)}));return t}catch(e){return{}}},IH=(e,t)=>{try{var r=Date.now();bv({url:t.video_info.videoUrl,success(n){t.video_info.preloadUrl=n.tempFilePath,kH(e,t),ADSDK.reportAdMonitorData(sH,{costTime:Date.now()-r},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})},fail(n){kH(e,t),ADSDK.reportAdMonitorData(cH,{costTime:Date.now()-r,e:n},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})}})}catch(e){}},SH={},kH=(e,t)=>{SH[e]=t},CH=e=>{yH((t=>{var r={};Ee()&&(r.in_3rd_app=1);var n={ad_unit_id:e,pos_id:"7090665964306299",scene_type:t.scene_type,weapp_path:uH.path,user_agent:t.ua,weapp_extra_data:JSON.stringify({start_ts:bH.valueOf(),enter_ts:dH,user_duration:Date.now()-hH-fH,machine_type:_H,env:z.host&&z.host.env,app_appid:z.host&&z.host.appId}),ext_slot_custom_comm:JSON.stringify(r)};Xu({sdkApiName:"getadvert",apiName:"webapi_getadvert",reqData:n,success:t=>{try{if((t=t.data).advertisement_num>=1&&t.advertisement_info.length){var r=t.advertisement_info[0];r._preloadTime=+new Date,r.crt_size===nH?IH(e,r):kH(e,r);var n=wH(r.flow_exp_info);void 0!==n.widget_gray_preload_max&&(AH=n.widget_gray_preload_max),ADSDK.reportAdMonitorData(iH,{errMsg:"advertisement success",errCode:t.ret},{ad_pos_type:6,aid:r.aid,traceid:r.traceid,ad_unit_id:e})}else ADSDK.reportAdMonitorData(aH,{errMsg:"no advertisement",errCode:t.ret},{ad_pos_type:6,ad_unit_id:e})}catch(t){ADSDK.reportAdMonitorData(aH,{errMsg:"advertisement error"},{ad_pos_type:6,ad_unit_id:e})}},fail:()=>{ADSDK.reportAdMonitorData(oH,{errMsg:"advertisement fail"},{ad_pos_type:6,ad_unit_id:e})}})}))},EH=[],AH=5,TH=e=>{if(console.warn("注意：wx.preloadVideoAd接口即将下线，请使用wx.preloadAd替换。"),Array.isArray(e))for(var t=0,r=e.length;t<r;t++){var n=e[t];-1===EH.indexOf(n)?EH.length>=AH?console.warn(`preloadVideoAd最多预加载${AH}个广告单元,${n}将不被预加载`):(EH.push(n),CH(n)):console.warn(`preloadVideoAd已预加载过${n}这个广告单元,请勿重复调用`)}else console.warn("preloadVideoAd参数应为数组")},PH=e=>{var t=e.data,{unitId:r}=t;SH[r]?(e.success&&e.success({adData:SH[r]}),delete SH[r]):e.success&&e.success({adData:null}),-1!==EH.indexOf(r)&&setTimeout((()=>{CH(r)}),1e3)},xH=()=>EH,MH=(e={})=>{gu("shareImageMessage",e,{})},RH=jc(bv),DH=jc(OM),OH=jc(BM),LH=jc(MM),NH=jc(Xb),BH=jc($h),FH=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),WH="https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0",jH,VH=function(){var e=cp()((function*(){return jH||(jH=cp()((function*(){var e,t,r,n=yield Yu({apiName:"webapi_getuseravatarpopupinfo",reqData:{}}),{avatarurl:i,nickname:a}=(null==n||null===(e=n.data)||void 0===e||null===(t=e.avatar_info)||void 0===t||null===(r=t.avatar_list)||void 0===r?void 0:r[0])||{};return{avatarUrl:i,nickName:a}}))()),jH}));return function(){return e.apply(this,arguments)}}(),UH=()=>new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),$H=function(){var e=cp()((function*(e){var t=(yield UH()).append("choose-avatar",{avatarUrl:e.avatarUrl}),r=LT((e=>{[IT.BottomBackButton,IT.NavigationBackInterceptionType,IT.NavigateBackCall].includes(e.type)&&t.handleClose()})),{action:n}=yield new Promise((e=>{["chooseAvatar","chooseAlbum","takePicture","cancel"].forEach((r=>{t.addListener(r,(()=>e({action:r})))}))}));return NT(r),{action:n}}));return function(t){return e.apply(this,arguments)}}(),zH=!1,qH=function(){var e=cp()((function*(e){return e?new Promise((t=>{ce(e,"chooseAvatar",1,(e=>{t(e)}))})):Ph("chooseAvatar")}));return function(t){return e.apply(this,arguments)}}(),HH={UNKNOWN:0,CHOOSE_AVATAR:1,TAKE_PICTURE:2,CHOOSE_ALBUM:3,CANCEL:4,TAKE_PICTURE_CANCEL:5,CHOOSE_ALBUM_CANCEL:6,AVATAR_ILLEGAL:7,REVIEW_TIMEOUT:8},GH=({action:e})=>{var t=[z.appType+1e3,ul.lastRoute,1,e].join(",");E.reportKeyValue({key:"WxappNicknameAvatarAutofill",value:t})},KH=function(){var e=cp()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}(),JH=function(){var e=cp()((function*({avatarUrl:e}){var{width:t,height:r}=yield LH({src:e}),n=t>r&&t>640?640:void 0,i=r>t&&r>640?640:void 0,{tempFilePath:a}=yield DH({src:e,quality:60,compressedWidth:n,compressedHeight:i}),{data:o}=yield BH({filePath:a}),s=yield KH(cp()((function*(){var e=yield Promise.race([FH(4e3,"upload timeout"),NH({url:"https://finder-assistant.mp.video.tencent-cloud.com/snsuploadsimple",method:"POST",header:{"X-Arguments":`apptype=271&filetype=20304&openid=${z.appLaunchInfo.openId||""}&filekey=image`,"Content-Type":"application/x-www-form-urlencoded"},data:o})]);if(v.info("[requestAvatarReview] uploadc2c",e.data),200!==e.statusCode)throw new Error(`upload fail, ${e.data.retcode}`);return e.data.fileurl})),1),c=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);v.info("[requestAvatarReview] requestId",c),v.info("[requestAvatarReview] c2cUrl",s);var{data:l}=yield Yu({apiName:"webapi_checkuserprofile",reqData:{c2c_url:s,request_id:c}});return v.info("[requestAvatarReview] checkResult",l),l}));return function(t){return e.apply(this,arguments)}}(),XH=Vc("chooseAvatar",cp()((function*({pluginId:e}={}){if(!(yield qH(e)))throw new Error("no permission");if(zH)throw new Error("another chooseAvatar is in progress");if(_M("choose_avatar"))throw new Error("This api is temporarily unavailable");var t=HH.UNKNOWN;try{zH=!0;var r=(yield VH()).avatarUrl||WH,{action:n}=yield $H({avatarUrl:r});switch(n){case"chooseAvatar":var i;t=HH.CHOOSE_AVATAR;try{aE({title:"加载中"}),i=(yield RH({url:r})).tempFilePath}finally{oE()}return i&&vM("chooseAvatar",[i],e),{avatarUrl:i};case"chooseAlbum":case"takePicture":var a;t="chooseAlbum"===n?HH.CHOOSE_ALBUM:HH.TAKE_PICTURE;try{var o;a=null===(o=(yield vu("chooseMedia",{count:1,mediaType:["image"],sourceType:"chooseAlbum"===n?["album"]:["camera"]})).tempFiles[0])||void 0===o?void 0:o.tempFilePath}catch(e){throw"cancel"===e.message&&(t="chooseAlbum"===n?HH.CHOOSE_ALBUM_CANCEL:HH.TAKE_PICTURE_CANCEL),e}var s=!1,c=Promise.race([FH(1e4,"upload avatar timeout"),JH({avatarUrl:a})]);try{a=(yield OH({src:a,cropScale:"1:1"})).tempFilePath}catch(e){if(e&&e.errno)throw t=HH.CANCEL,e}try{aE({title:"加载中"});var{errcode:l}=yield c;s=0===l}catch(e){throw e.message,v.error("[requestAvatarReview] error",e.message),setTimeout((()=>{rE({title:"设置失败，请重试",icon:"error"})}),0),t=HH.REVIEW_TIMEOUT,e}finally{oE()}if(!s)throw rE({title:"无法使用该头像",icon:"error"}),t=HH.AVATAR_ILLEGAL,new Error("upload error");return(a=(yield DH({src:a,compressedWidth:132})).tempFilePath)&&vM("chooseAvatar",[a],e),{avatarUrl:a};case"cancel":throw t=HH.CANCEL,new Error("cancel")}}catch(e){throw"cancel"!==e.message&&v.error(`chooseAvatar failed, ${e.message}`),e}finally{zH=!1,GH({action:t})}}))),YH=Ut("NavigationBarTitleUpdate"),QH=YH.internalOnMethod,ZH=(e={})=>{xc("setNavigationBarTitle",e,{title:""})&&(ul.navigationBarTitleMap[ul.lastRoute]=e.title,ul.lastRoute,e.title,gu("setNavigationBarTitle",e,{beforeAll(t){YH.emitInternal(O()({title:e.title},t))}}))},eG=e=>{gu("showNavigationBarLoading",e)},tG=e=>{gu("hideNavigationBarLoading",e)},rG="#000000",nG="#ffffff";function iG(e){var t=(z.appContactInfo||{}).operationInfo||{};if(t.jsonInfo&&t.jsonInfo.op_info&&1===Number(t.jsonInfo.op_info.gray_flag)&&!Te()&&!De()){var r=/^#([0-9|A-F|a-f]{6})$/.exec(e);if(null!=r){var n=parseInt(r[1].slice(0,2),16),i=parseInt(r[1].slice(2,4),16),a=parseInt(r[1].slice(4),16),o=Math.round(.299*n+.587*i+.114*a).toString(16).toUpperCase();gu("setNavigationBarColor",{frontColor:nG,backgroundColor:`#${o}${o}${o}`})}}}z.onReady((()=>{XS((()=>{if(void 0!==z&&z.global&&z.global.window){var e=z.global.window;rG=e.navigationBarBackgroundColor||rG,nG="black"===e.navigationBarTextStyle?"#000000":"#ffffff"}var t=ul.lastRoute+".html";if(void 0!==z&&z.page&&z.page[t]&&z.page[t].window){var r=z.page[t].window;rG=r.navigationBarBackgroundColor||rG,nG="black"===r.navigationBarTextStyle?"#000000":"#ffffff"}iG(rG)}))}));var aG=(e={})=>{if(xc("setNavigationBarColor",e,{frontColor:"",backgroundColor:""}))if(-1!==["#ffffff","#000000"].indexOf(e.frontColor)){"#ffffff"===e.frontColor?gu("setStatusBarStyle",{color:"white"}):"#000000"===e.frontColor&&gu("setStatusBarStyle",{color:"black"});var t=Object.assign({},e);rG=e.backgroundColor,nG=e.frontColor,gu("setNavigationBarColor",t),iG(rG)}else Rc("setNavigationBarColor",e,`invalid frontColor "${e.frontColor}"`)},oG=(e={})=>{var t=Object.assign({},e);t.backgroundColor=rG,gu("setNavigationBarColor",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setNavigationBarColor","setNavigationBarAlpha")}})},sG=()=>({backgroundColor:rG,frontColor:nG}),cG=(e={})=>{xc("setNavigationBarRightButton",e,{hide:!0})&&gu("setNavigationBarRightButton",e,{})},lG=e=>{Tt("onCustomRightButtonClick",C.surroundThirdByTryCatch(e,"at onTapNavigationBarRightButton callback function"))},uG=(e={})=>{if(pe&&z.clientVersion<654313216||he&&z.clientVersion<385877760){var t={errMsg:"hideHomeButton:ok"};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}else gu("hideHomeButton",e,{})},dG=0,pG=(e={})=>{e.text?Date.now()-dG<5e3?Rc("setTopBarText",e,"invoke too frequently"):gu("setTopBarText",e,{beforeSuccess(){dG=Date.now()}}):Rc("setTopBarText",e,"invalid text")},hG=h;function fG(){return E}function gG(e){return"string"!=typeof e?JSON.stringify(e||{}):e}var vG=1e3,mG=null,yG=[],bG=!1,_G=!1,wG=de||!Ae(),IG=[];function SG(){mG=null,0!==yG.length&&(b.invoke("reportKeyValue",{version:2,dataArray:yG.map((e=>({key:26308,value:[e.category,e.name,Math.round(1e3*e.timeStamp),e.phase,encodeURIComponent(gG(e.args))].join(",")})))}),yG=[])}function kG(e,t){var r=O()(O()({},t),{},{phase:e});r.args=gG(r.args),b.invoke("traceEvent",{events:[r]})}function CG(e,t){(_G||"API"!==t.category)&&(mG||(mG=setTimeout(SG,vG)),yG.push(O()(O()({},t),{},{phase:e})))}function EG(e,t){de&&kG(e,t),bG&&CG(e,t)}function AG(){return wG}function TG(e){null===IG?wG&&e():IG.push(e)}z.onReady((e=>{var t,r,n=null===(t=e.expt)||void 0===t?void 0:t.clicfg_appbrand_report_trace_event;("1"===n?bG=!0:"2"===n&&(bG=!0,_G=!0),wG=wG||_G||!!ye())&&(null===(r=IG)||void 0===r||r.forEach((e=>e())));IG=null}));var PG=!1;function xG(){var e;return PG?performance.now()+(performance.timeOrigin||(null===(e=performance.timing)||void 0===e?void 0:e.navigationStart)||0):Date.now()}var MG={},RG={};function DG(e,t){MG[e]||(MG[e]=[]),MG[e].push(t)}function OG(e,t){RG[e]||(RG[e]=[]),RG[e].push(t)}function LG(e){var t=[];function r(r,n,i){var a={category:r,name:n,timeStamp:xG(),args:i||{}};t.push(a),"Framework"===r&&v.info(`[Trace][B] ${n} @ ${a.timeStamp} ${a.args.path||""}`),(MG[a.category]||[]).forEach((t=>t(a,e))),EG("B",a)}function n(r){var n,i=xG(),a=t.pop();if(!a)return v.error("[Trace] Must call traceBeginEvent before traceEndEvent."),fG().assertWithIDKey(!1,6),void fG().errorReport({key:"appServiceSDKScriptError",error:new Error(`traceEndEvent mismatch, args=${JSON.stringify(r||{})}`)});var o=a.args,s=a.timeStamp;a.timeStamp=i,a.args=r||a.args,"Framework"===a.category&&v.info(`[Trace][E] ${a.name} @ ${a.timeStamp} ${(null===(n=a.args)||void 0===n?void 0:n.path)||""}`),(RG[a.category]||[]).forEach((t=>t(a,s,o,e))),EG("E",a)}function i(e,t){AG()&&r("API",e,t)}function a(){AG()&&n()}return{traceBeginEvent:r,traceEndEvent:n,traceBeginAPI:i,traceEndAPI:a,useTraced:function(e,t,i,a){return function(...o){try{return r(e,t,a),i.apply(this,o)}finally{n()}}},useTracedEnd:function(e){return function(...t){try{return e(...t)}finally{n()}}},traceFlag:function(e,t,i){r(e,t,i),n()},useTracedApi:function(e,t,r){return function(...n){try{return i(e,r),t.apply(this,n)}finally{a()}}},useTracedApiEnd:function(e){return function(...t){try{return e.apply(this,t)}finally{a()}}}}}var NG=1/0,BG=LG(NG);(de||me||pe||ve)&&gr("SPECIAL_PAGE_EVENT",(({data:e,eventName:t,ext:r,nodeId:n,instanceId:i},a=0)=>{if(e&&"input"===e.type&&r&&r.modelValueName&&Kc.setModelValueData(e.detail.value,r.modelValueName,a,n),e&&"input"===e.type&&"function"==typeof ul.webviewEventCallback){var o=ul.webviewEventCallback({data:e,eventName:t,webviewId:a,nodeId:n}),s=e.detail.value;if(r&&r.setKeyboardValue)if(void 0===o);else if("Object"===Fe(o)){var c={};i&&(c.instanceId=i),s!==o.value&&(c.value=o.value+""),Number.isNaN(parseInt(o.cursor,10))||(c.cursor=parseInt(o.cursor,10)),lr("setKeyboardValue",c,[a])}else s!==o&&lr("setKeyboardValue",{value:o+"",cursor:-1,instanceId:i},[a])}}));var FG="__DOMReady",WG=Ut("DomReady"),jG=WG.internalOnMethod,VG=e=>{ul.webviewEventCallback=e,gr("PAGE_EVENT",(({data:t,eventName:r,nodeId:n},i=0)=>{var a="onPageScroll"!==r;a&&BG.traceBeginEvent("Framework","onWebviewEvent",{eventName:r});try{r===FG&&WG.emit({data:t,eventName:r,webviewId:i,nodeId:n}),e({data:t,eventName:r,webviewId:i,nodeId:n})}finally{a&&BG.traceEndEvent()}}))},UG=e=>{["onCanvasTouchStart","onCanvasTouchMove","onCanvasTouchEnd"].forEach((t=>{Tt(t,((r,n)=>{e({data:r,eventName:t,webviewId:n})}))}))},$G=(e={})=>{if(xc("setTabBarBadge",e,{index:0,text:""})){var t=Object.assign({},e);t.badgeValue=t.text,t.type="text",function(e){if(!e)return 0;"string"!=typeof e&&(e+="");return e.replace(/[^\x00-\xff]/g,"01").length}(t.badgeValue)>4&&(t.badgeValue="..."),gu("setTabBarBadge",t)}},zG=(e={})=>{if(xc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",gu("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","removeTabBarBadge")}})}},qG=(e={})=>{if(xc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="redDot",gu("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","showTabBarRedDot")}})}},HG=(e={})=>{if(xc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",gu("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","hideTabBarRedDot")}})}},GG=!1;XS((e=>{setTimeout((()=>{try{GG=z.tabBar.list.some((({pagePath:t})=>t.startsWith(e.path)))}catch(e){}}),100)}));var KG=(e={})=>{void 0===e.animation&&(e.animation=!1),xc("showTabBar",e,{animation:!0})&&gu("showTabBar",e,{beforeSuccess:()=>GG=!0})},JG=(e={})=>{void 0===e.animation&&(e.animation=!1),xc("hideTabBar",e,{animation:!0})&&gu("hideTabBar",e,{beforeSuccess:()=>GG=!1})},XG=()=>GG,YG=(e={})=>{gu("setTabBarStyle",e)},QG=null;z.onReady((()=>{QG=z.tabBar&&z.tabBar.list||[]}));var ZG=(e={})=>{if(xc("setTabBarItem",e,{index:0}))if(0!==(e.iconPath||"").indexOf("."))if(0!==(e.selectedIconPath||"").indexOf(".")){try{Pd(e,"text")||(e.text=QG[e.index].text||""),QG[e.index].text=e.text}catch(e){e.message}gu("setTabBarItem",e)}else Rc("setTabBarItem",e,"selectedIconPath invalid, require absolute path");else Rc("setTabBarItem",e,"iconPath invalid, require absolute path")},eK=1,tK={};gr("pageScrollDone",(e=>{if(!(e.callbackId<0||void 0===tK[e.callbackId])){var t=tK[e.callbackId];delete tK[e.callbackId],delete e.callbackId;var r="pageScrollTo";e.errMsg=e.errMsg||"scrollWebviewTo:ok",e.errMsg=e.errMsg.replace("scrollWebviewTo",r);var n=0===e.errMsg.indexOf(`${r}:ok`),i=0===e.errMsg.indexOf(`${r}:fail`);n?"function"==typeof t.success&&t.success(e):i&&"function"==typeof t.fail&&t.success(e),"function"==typeof t.complete&&t.complete(e)}}));var rK=e=>{var t=Yc.getCurrentPagesByDomain(""),r=t[t.length-1].__wxWebviewId__;Pd(e,"page")&&Pd(e.page,"__wxWebviewId__")&&(r=e.page.__wxWebviewId__);var n={};for(var i in e)"function"==typeof e[i]&&(n[i]=e[i],delete e[i]);e.callbackId=eK,tK[eK]=n,eK++,lr("pageScrollTo",e,[r])},nK=(e={})=>{gu("startPullDownRefresh",e,{})},iK=e=>{gu("stopPullDownRefresh",e)},aK=0,oK={},sK=(e={})=>{oK[aK]={success:e.success,fail:e.fail,complete:e.complete},lr("setPageStyle",{callbackId:aK,style:e.style},[ul.currentWebviewId]),aK+=1};gr("callbackSetPageStyle",(({res:e,callbackId:t})=>{var{errMsg:r}=e,n=0===r.indexOf("setPageStyle:ok"),i=0===r.indexOf("setPageStyle:fail"),a=oK[t];delete oK[t],"object"==typeof a&&(n?"function"==typeof a.success&&a.success(e):i&&"function"==typeof a.fail&&a.fail(e),"function"==typeof a.complete&&a.complete(e))}));var cK=e=>{lr("hideKeyboard",{},[ul.currentWebviewId]),Oc({name:"hideKeyboard",success:!0,args:e})},lK=null,uK=e=>{lK&&dK(),Kt("onKeyboardHeightChange",lK=(t={})=>{C.surroundThirdByTryCatch(e,"at onKeyboardHeightChange callback function")(t)})},dK=()=>{lK&&(Yt("onKeyboardHeightChange",lK),lK=null)};class pK{constructor(e={}){this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={transition:{duration:void 0!==e.duration?e.duration:400,timingFunction:void 0!==e.timingFunction?e.timingFunction:"linear",delay:void 0!==e.delay?e.delay:0},transformOrigin:e.transformOrigin||"50% 50% 0"}}export(){var e=this.actions;return this.actions=[],{actions:e}}step(e={}){return this.currentStepAnimates.forEach((e=>{"style"!==e.type?this.currentTransform[e.type]=e:this.currentTransform[`${e.type}.${e.args[0]}`]=e})),this.actions.push({animates:Object.keys(this.currentTransform).reduce(((e,t)=>[...e,this.currentTransform[t]]),[]),option:{transformOrigin:void 0!==e.transformOrigin?e.transformOrigin:this.option.transformOrigin,transition:{duration:void 0!==e.duration?e.duration:this.option.transition.duration,timingFunction:void 0!==e.timingFunction?e.timingFunction:this.option.transition.timingFunction,delay:void 0!==e.delay?e.delay:this.option.transition.delay}}}),this.currentStepAnimates=[],this}matrix(e=1,t=0,r=0,n=1,i=1,a=1){return this.currentStepAnimates.push({type:"matrix",args:[e,t,r,n,i,a]}),this}matrix3d(e=1,t=0,r=0,n=0,i=0,a=1,o=0,s=0,c=0,l=0,u=1,d=0,p=0,h=0,f=0,g=1){return this.currentStepAnimates.push({type:"matrix3d",args:[e,t,r,n,i,a,o,s,c,l,u,d,p,h,f,g]}),this.stepping=!1,this}rotate(e=0){return this.currentStepAnimates.push({type:"rotate",args:[e]}),this}rotate3d(e=0,t=0,r=0,n=0){return this.currentStepAnimates.push({type:"rotate3d",args:[e,t,r,n]}),this.stepping=!1,this}rotateX(e=0){return this.currentStepAnimates.push({type:"rotateX",args:[e]}),this.stepping=!1,this}rotateY(e=0){return this.currentStepAnimates.push({type:"rotateY",args:[e]}),this.stepping=!1,this}rotateZ(e=0){return this.currentStepAnimates.push({type:"rotateZ",args:[e]}),this.stepping=!1,this}scale(e=1,t){return t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this}scale3d(e=1,t=1,r=1){return this.currentStepAnimates.push({type:"scale3d",args:[e,t,r]}),this}scaleX(e=1){return this.currentStepAnimates.push({type:"scaleX",args:[e]}),this}scaleY(e=1){return this.currentStepAnimates.push({type:"scaleY",args:[e]}),this}scaleZ(e=1){return this.currentStepAnimates.push({type:"scaleZ",args:[e]}),this}skew(e=0,t=0){return this.currentStepAnimates.push({type:"skew",args:[e,t]}),this}skewX(e=0){return this.currentStepAnimates.push({type:"skewX",args:[e]}),this}skewY(e=0){return this.currentStepAnimates.push({type:"skewY",args:[e]}),this}translate(e=0,t=0){return this.currentStepAnimates.push({type:"translate",args:[e,t]}),this}translate3d(e=0,t=0,r=0){return this.currentStepAnimates.push({type:"translate3d",args:[e,t,r]}),this}translateX(e=0){return this.currentStepAnimates.push({type:"translateX",args:[e]}),this}translateY(e=0){return this.currentStepAnimates.push({type:"translateY",args:[e]}),this}translateZ(e=0){return this.currentStepAnimates.push({type:"translateZ",args:[e]}),this}opacity(e){return this.currentStepAnimates.push({type:"style",args:["opacity",e]}),this}backgroundColor(e){return this.currentStepAnimates.push({type:"style",args:["background-color",e]}),this}width(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["width",e]}),this}height(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["height",e]}),this}left(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["left",e]}),this}right(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["right",e]}),this}top(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["top",e]}),this}bottom(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["bottom",e]}),this}}var hK=(e={})=>{if(xc("createAnimation",e,{}))return new pK(e)},fK=16,gK=[],vK=null,mK=null,yK=!1,bK=[],_K=!1,wK="",IK=0,SK=0,kK=e=>{e.deviceOrientation&&(wK=e.deviceOrientation),IK=e.size.windowWidth,SK=e.size.windowHeight},CK=e=>{vK=e;var t=!1,r=!0;e.deviceOrientation!==wK&&(t=!0),e.size.windowWidth!==IK&&(t=!0),e.size.windowHeight!==SK&&(t=!0),kK(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(_K=!0),"auto"===e.pageOrientation.originalPageOrientation||_K||(t=!1,r=!1)),void 0!==Yc&&Yc.isFramesetMode()&&(r=!1),t&&(yK=!0);var n=e.changedWebviewIds;r&&n&&n.forEach((e=>{bK.indexOf(e)<0&&bK.push(e)})),mK||(mK=setTimeout((()=>{mK=null;var e=yK;yK=!1;var t=bK;bK=[];var r={deviceOrientation:vK.deviceOrientation,size:vK.size};e&&gK.forEach((e=>{C.surroundThirdByTryCatch(e,"at onWindowResize callback function")(r)})),t.forEach((e=>{var t=void 0!==Yc?Yc.getPageByWebviewId(e):null;t&&C.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",r)}),"at Resize callback function")()}))}),fK))};Kt("onViewDidResize",(e=>{CK(e)}));var EK=e=>{gK.push(e)},AK=e=>{gK.splice(gK.indexOf(e),1)},TK=e=>/^#[0-9a-fA-F]{6}$/.test(e),PK=(e={})=>{(e=Object.assign({},e)).backgroundColor&&!TK(e.backgroundColor)&&delete e.backgroundColor,e.backgroundColorTop&&!TK(e.backgroundColorTop)&&delete e.backgroundColorTop,e.backgroundColorBottom&&!TK(e.backgroundColorBottom)&&delete e.backgroundColorBottom,(e.backgroundColor||e.backgroundColorTop||e.backgroundColorBottom)&&gu("setBackgroundColor",e)},xK=(e={})=>{-1!==["dark","light"].indexOf(e.textStyle)?gu("setBackgroundTextStyle",e):Rc("setBackgroundTextStyle",e,`invalid textStyle "${e.textStyle}"`)},MK=()=>{};function RK(e={}){var t="enableAlertBeforeUnload",r=E.surroundThirdByTryCatch(e.success||MK,`at api ${t} success callback function`),n=E.surroundThirdByTryCatch(e.fail||MK,`at api ${t} fail callback function`),i=E.surroundThirdByTryCatch(e.complete||MK,`at api ${t} complete callback function`),a="string"==typeof e.message?e.message:void 0;gu("setNavigateBackConfirmDialog",{enable:!0,content:a,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})}function DK(e={}){var t="disableAlertBeforeUnload",r=E.surroundThirdByTryCatch(e.success||MK,`at api ${t} success callback function`),n=E.surroundThirdByTryCatch(e.fail||MK,`at api ${t} fail callback function`),i=E.surroundThirdByTryCatch(e.complete||MK,`at api ${t} complete callback function`);gu("setNavigateBackConfirmDialog",{enable:!1,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})}var OK=()=>{var e,t={};if(gu("getMenuButtonBoundingClientRect",{success(e){Object.assign(t,e),delete t.errMsg},fail(t){e=t.errMsg}}),e)throw new Cd(e);return t},LK=Oy(OK),NK=(e={})=>{bp("getSelectedTextRange",{},[ul.currentWebviewId],(t=>{0===t.errMsg.indexOf("getSelectedTextRange:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},BK=()=>new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),FK,WK=e=>new Promise((t=>setTimeout(t,e))),jK=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),VK=function(){var e=cp()((function*(){return FK||(FK=cp()((function*(){var e=(yield BK()).append("nickname-accessory",{show:!1});return e.addListener("nicknameAccessoryTap",(()=>{lr("nicknameAccessoryTap",{inputId:e.data.inputId,nickName:e.data.nickname})})),XS((()=>{XK()})),EK(cp()((function*(){qK="landscape"===Vq(),KK()}))),gr("nicknameInput",(({inputValue:e})=>{var t=(GK||"").toLowerCase();t&&(e=(e||"").toLowerCase(),HK=!(e&&(!t.startsWith(e)||t===e)),KK())})),yield WK(0),e}))()),FK}));return function(){return e.apply(this,arguments)}}(),UK=function(){var e=cp()((function*(e){return e?new Promise((t=>{ce(e,"showNicknameAccessory",1,(e=>{t(e)}))})):Ph("showNicknameAccessory")}));return function(t){return e.apply(this,arguments)}}(),$K=!1,zK,qK=!1,HK=!0,GK,KK=function(){var e=cp()((function*(){var[e,t]=yield Promise.all([VH(),VK()]);GK=e.nickName,t.setData({nickname:e.nickName,inputId:zK,show:$K&&!qK&&HK})}));return function(){return e.apply(this,arguments)}}(),JK=Vc("showNicknameAccessory",cp()((function*({inputId:e,pluginId:t}={}){if(!(yield UK(t)))throw new Error("no permission");$K=!0,qK="landscape"===Vq(),HK=!0,zK=e,yield KK()}))),XK=Vc("hideNicknameAccessory",cp()((function*(){$K&&($K=!1,yield KK())}))),YK={UNKNOWN:0,CHOOSE_NICKNAME:11,INPUT_NICKNAME:12,ILLEGAL_NICKNAME:13,REVIEW_TIMEOUT:14},QK=({action:e})=>{var t=[z.appType+1e3,ul.lastRoute,2,e].join(",");E.reportKeyValue({key:"WxappNicknameAvatarAutofill",value:t})},ZK=function(){var e=cp()((function*({nickname:e}){var t=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);v.info("[requestNicknameReview] requestId",t);var{data:r}=yield Yu({apiName:"webapi_checkuserprofile",reqData:{nickname:e,request_id:t}});return v.info("[requestNicknameReview] checkResult",r),r}));return function(t){return e.apply(this,arguments)}}(),eJ=Vc("reviewNickname",function(){var e=cp()((function*({inputValue:e,isWechatNickname:t}){var r=t?YK.CHOOSE_NICKNAME:YK.INPUT_NICKNAME;try{if(!e||e===GK||t)return;var n=!1;try{aE({title:"加载中"}),n=0===(yield Promise.race([jK(1e3,"upload nickname timeout"),ZK({nickname:e})])).errcode}catch(e){throw setTimeout((()=>{rE({title:"设置失败，请重试",icon:"error"})}),0),r=YK.REVIEW_TIMEOUT,e}finally{oE()}if(!n)throw r=YK.ILLEGAL_NICKNAME,rE({title:"无法使用该昵称",icon:"error"}),new Error("illegal nickname")}catch(t){throw v.error(`reviewNickname failed, nickname=${e}, ${t.message}`),t}finally{QK({action:r})}}));return function(t){return e.apply(this,arguments)}}()),tJ={setPrivateExtraData:NS,getCurrentRoute:bq,getRealRouteWithProtocol:_q,setWxInterfaceDisabled:jI,navigateTo:pI,navigateToWithRelatedInfo:hI,redirectTo:fI,switchTab:vI,navigateBack:Pp,reLaunch:gI,getUserCloudStorage:Sq,getFriendCloudStorage:Cq,getGroupCloudStorage:Aq,reportRecycledAPI:PP,getPassCookieString:Bk,getPayCookieString:Fk,getPluginInfo:Qp,getPluginContactList:CP,_checkBeforeNavigateToMiniProgram:ux,getVideoAdPreloadData:PH,getAdPreloadData:(...e)=>ADSDK.getAdPreloadData(...e),getPayAd:(...e)=>ADSDK.getPayAd(...e),shareImageMessage:MH,getCloudFileInfo:eS,setNavigateBackInterceptionById:xT,stopNavigateBackInterceptionById:RT,checkPermission:xh,_setWxIsInvokeInTapForNavToMiniProgramForWebview:Xk,chooseAvatar:XH,showNicknameAccessory:JK,hideNicknameAccessory:XK,getCurrentWebviewId(e){"function"==typeof e.success&&e.success({webviewId:ul.currentWebviewId})},reviewNickname:eJ,_getABTestConfig:Lh,handleInvokePayCompletedPageServiceMethod:iA},rJ=a.prototype.call.bind(String.prototype.startsWith),nJ=(e,t,r,n,i)=>{try{if("bridge"===t)_r(e,r,(t=>{t.errMsg=t.errMsg||`${e}:ok`,-1!==t.errMsg.indexOf(`${e}:ok`)?("exitMiniProgram"===e&&Nq(),i(t,!0)):i(t,!1)}));else{r.success=e=>{i(e,!0)},r.fail=e=>{i(e,!1)};var a=(()=>{if("wx"===t){if("string"==typeof n&&rJ(n,"wx"))return Jp(n)[e](r);var{wx:i}=z2e;return i[e](r)}return tJ[e](r)})();a instanceof Promise&&a.catch((()=>{}))}}catch(t){var o={errMsg:`${e}: fail ${t.message}`};i(o,!1)}};gr("invokeAppServiceMethod",(({name:e,type:t,args:r,callbackId:n,pluginId:i},a)=>{nJ(e,t,r,i,((e,t)=>{lr("callbackAppServiceMethod",{res:e,isSuccess:t,callbackId:n},[a])}))})),Tt("onStartReportPageData",(()=>{var e=(void 0!==Yc?Yc.getCurrentPagesByDomain(""):[]).find((e=>e.__wxWebviewId__===ul.currentWebviewId));e&&bp("getInnerHTML",{},[ul.currentWebviewId],(({html:t})=>{var r;try{r=JSON.stringify({html:t,data:e.data})}catch(e){r=""}gu("reportPageData",{isUserReport:!0,pageData:r,pageRoute:e.__route__,complete(){}})}))}));var iJ={},aJ={};function oJ(e,t,r){var n=aJ[e];n&&n[`bind${t}`]&&ul.webviewEventCallback&&ul.webviewEventCallback({data:{type:t,target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimestamp,detail:r},eventName:n[`bind${t}`],webviewId:e,nodeId:n.nodeId})}function sJ(e){var t=iJ[e];t&&t.length&&oJ(e,"message",{data:t})}gr("webviewSrcChange",(e=>{var{newVal:t}=e;void 0!==T&&T.traceEvent("onH5Open",!1,{id:t},null,null,null)})),gr("webViewInserted",((e,t)=>{aJ[t]=e,iJ[t]=[],T.setRouteHasWebview(T.getCurrentRawRoutePath(),e),CI(t,(e=>{sJ(e),delete aJ[e],delete iJ[e]}),"onWebInvokeAppService"),AI(t,sJ),gu("hideShareTimelineMenu")})),gr("webViewRemoved",((e,t)=>{sJ(t),delete aJ[t],delete iJ[t],Yc.showShareTimelineMenuIfNeeded(t)}));var cJ=new Map,lJ=(e,t)=>cJ.set(e,t),uJ=e=>cJ.delete(e);function dJ({name:e,arg:t},r){e.startsWith("vConsole")||console.log("invokeAppService",e,t,r),!pe||fe||ve||(r=ul.currentWebviewId),"navigateBack"===e?Pp({delta:t.delta}):"navigateTo"===e?pI({url:t.url}):"redirectTo"===e?fI({url:t.url}):"reLaunch"===e?gI({url:t.url}):"switchTab"===e?vI({url:t.url}):"error"===e?oJ(r,"error",{errMsg:"web-view load failed due to not in domain list",url:t.url,fullUrl:t.fullUrl||""}):"postMessage"===e?iJ[r]&&iJ[r].push(t):cJ.has(e)&&cJ.get(e)(t,r)}Tt("onWebInvokeAppService",dJ),Tt("WEB_INVOKE_APPSERVICE",dJ);var pJ=(e={},t={},r)=>{mu(r)("getLocation",e,Object.assign({beforeSuccess(t){e.altitude||delete t.altitude}},t))},hJ=1e4,fJ={wgs84:0,gcj02:0},gJ={wgs84:null,gcj02:null},vJ=!1,mJ=0,yJ=[],bJ=function(e={}){"gcj02"!==e.type&&(e.type="wgs84");var t=Date.now(),r=gJ[e.type],n=fJ[e.type];if(vJ&&t-mJ<hJ)yJ.push(e);else{if(t-n>=hJ||!r){var i=Gp(this);return vJ=!0,mJ=Date.now(),void pJ(e,{afterSuccess(r){fJ[e.type]=t,gJ[e.type]=r},afterAll(){vJ=!1;var e=yJ;yJ=[],e.forEach((e=>bJ(e)))}},i)}Oc({name:"getLocation",success:r.errMsg&&0===r.errMsg.indexOf("getLocation:ok"),args:e,errMsg:r.errMsg,res:r})}},_J=function(e={}){mu(Gp(this))("chooseLocation",e)},wJ=function(e={}){mu(Gp(this))("choosePoi",e,{beforeSuccess(e){Date.now()>=16550496e5&&(e.latitude=0,e.longitude=0)}})},IJ=function(e={}){xc("openLocation",e,{latitude:1,longitude:1})&&gu("openLocation",e)},SJ=Ut("locationChange"),kJ=SJ.onMethod,CJ=SJ.offMethod;Tt("onLocationChange",((e={})=>{SJ.emit(e)}));var EJ=Ut("locationChangeError"),AJ=EJ.onMethod,TJ=EJ.offMethod;Tt("onLocationChangeError",((e={})=>{EJ.emit(e)}));var PJ=function(e){var t={subKey:"",enableIndoor:!1};Object.assign(t,e),mu(Gp(this))("enableLocationUpdateBackground",t,{beforeAll(e){e.errMsg=e.errMsg.replace("enableLocationUpdateBackground","startLocationUpdateBackground")}})},xJ=function(e={}){var t={subKey:"",enableIndoor:!1,enable:!0};Object.assign(t,e),mu(Gp(this))("enableLocationUpdate",t,{beforeAll(e){e.errMsg=e.errMsg.replace("enableLocationUpdate","startLocationUpdate")}})},MJ=function(e={}){pe&&z.clientVersion>=654312704&&z.clientVersion<654312960?gu("enableLocationUpdate",Object.assign({enable:!1},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableLocationUpdate","stopLocationUpdate")}}):gu("disableLocationUpdate",e,{beforeAll(e){e.errMsg=e.errMsg.replace("disableLocationUpdate","stopLocationUpdate")}})},RJ=18e5,DJ={wgs84:null,gcj02:null},OJ=null,LJ=function(e={}){"gcj02"!==e.type&&(e.type="wgs84"),OJ&&Date.now()-OJ>RJ&&(DJ[e.type]=null);var t=DJ[e.type];if(t){Oc({name:"getFuzzyLocation",success:t.errMsg&&0===t.errMsg.indexOf("getFuzzyLocation:ok"),args:e,errMsg:t.errMsg,res:t})}else{var r=Gp(this);mu(r)("getFuzzyLocation",e,{afterSuccess(t){DJ[e.type]=t,OJ=Date.now()}})}},NJ=()=>{if(!z.ext)return{};try{return JSON.parse(JSON.stringify(z.ext))}catch(e){return{}}},BJ=(e={})=>{setTimeout((()=>{var t={errMsg:"getExtConfig: ok",extConfig:NJ()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}),0)},FJ={},WJ={},jJ=(e,t)=>`${e}-${t}`,VJ={},UJ=.99,$J=.998;function zJ(e,t){return e+"_"+t}function qJ(){return he?parseFloat((z.system||"").replace("iOS","")):0}function HJ(){return qJ()>=13}function GJ(e){delete FJ[e],delete WJ[e],delete VJ[e]}function KJ(e,t,r,n=!0){var i=zJ(t,e);if(n&&(void 0===FJ[i]||!0!==FJ[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a=O()({scrollViewId:e},r),o=FJ[i];return o&&o.fallback?lr("operateWebviewScrollView",a,[t]):gu("operateScrollView",a,{success(){}}),!0}function JJ(e,t,r,n=!0){var i=zJ(t,e);if(n&&(void 0===FJ[i]||!0!==FJ[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a=O()({scrollViewId:e},r);return lr("operateWebviewScrollView",a,[t]),!0}function XJ(e,t,r,n=!0){var i=zJ(e,t);if(n&&(void 0===FJ[i]||!0!==FJ[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a=O()({scrollViewId:t},r);return lr("operateXWebScrollView",a,[e]),!0}gr("enhancedScrollViewReady",((e,t)=>{var r=zJ(t,e.scrollViewId);FJ[r]={enhanced:!0,data:e.data,fallback:e.fallback}})),gr("commonScrollViewReady",((e,t)=>{var r=zJ(t,e.scrollViewId);FJ[r]||(FJ[r]={enhanced:!1});var n=WJ[r];n&&"function"==typeof n&&(n(),delete WJ[r]),CI(t,(()=>{GJ(r)}),"ScrollViewContext")})),gr("commonScrollViewDestroyed",((e,t)=>{GJ(zJ(t,e.scrollViewId))})),gr("enhancedScrollViewDragEvent",((e,t)=>{var r=zJ(t,e.scrollViewId),n=FJ[r];if(n&&n.data){var i=n.data,a="",o="";if("dragstart"===e.eventName?(a="dragstart",o=i.handlers.binddragstart):"dragging"===e.eventName?(a="dragging",o=i.handlers.binddragging):"dragend"===e.eventName&&(a="dragend",o=i.handlers.binddragend),o){var s={scrollTop:e.scrollTop,scrollLeft:e.scrollLeft};"dragend"===a&&(s.velocity=e.velocity),ul.webviewEventCallback({data:{type:a,target:i.target,currentTarget:i.target,touches:[],detail:s},eventName:o,webviewId:i.webviewId,nodeId:i.nodeId})}}})),gr("enhancedScrollViewSubscribeEvent",((e,t)=>{he&&!HJ()||(e.subscribe?KJ(e.scrollViewId,t,{registerDelegate:!0}):KJ(e.scrollViewId,t,{removeDelegate:!0}))})),Kt("onScrollViewWillEndDragging",(e=>{var t=zJ(ul.currentWebviewId,e.scrollViewId),r=FJ[t];if(r&&r.data){var n=r.data;ul.webviewEventCallback({data:{type:"dragend",target:n.target,currentTarget:n.target,touches:[],detail:{scrollTop:e.contentOffset.y,scrollLeft:e.contentOffset.x,velocity:e.velocity}},eventName:n.handlers.binddragend,webviewId:n.webviewId,nodeId:n.nodeId})}}));class YJ{constructor(e,t){this.id=e,this.webviewId=t,this._scrollEnabled=!0,this._bounces=!0,this._showScrollbar=!0,this._pagingEnabled=!1,this._fastDeceleration=!1,this._decelerationDisabled=!1}}class QJ extends YJ{constructor(e,t){super(e,t),this.uid=zJ(t,e),void 0!==FJ[e]&&!0===FJ[e].enhanced&&(this.scrollEnabled=!0)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){KJ(this.id,this.webviewId,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){KJ(this.id,this.webviewId,{bounces:e})&&(this._bounces=e)}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){KJ(this.id,this.webviewId,{showsVerticalScrollIndicator:e,showsHorizontalScrollIndicator:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){KJ(this.id,this.webviewId,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){KJ(this.id,this.webviewId,{decelerationRate:e?UJ:$J})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;if(void 0===r)KJ(this.id,this.webviewId,{"setContentOffset:animated":{animated:!!i,contentOffset:{x:a,y:o}}});else{if(he&&!HJ())return;KJ(this.id,this.webviewId,{"setContentOffset:springAnimated":{contentOffset:{x:a,y:o},duration:r/1e3,delay:0,damping:1,velocity:n}})}}get decelerationDisabled(){return this._decelerationDisabled}set decelerationDisabled(e){he&&!HJ()||KJ(this.id,this.webviewId,{customDecelerateEnabled:e})&&(this._decelerationDisabled=e)}_onReady(e){var t=FJ[this.uid],r=()=>{"function"==typeof e&&e()};t?r():WJ[this.uid]=()=>{r()}}scrollIntoView(e){JJ(this.id,this.webviewId,{scrollIntoView:e},!1)}}class ZJ extends YJ{constructor(e,t){super(e,t),this.uid=zJ(t,e)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){XJ(this.webviewId,this.id,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){XJ(this.webviewId,this.id,{showScrollbar:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){XJ(this.webviewId,this.id,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){XJ(this.webviewId,this.id,{fastDeceleration:e})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;XJ(this.webviewId,this.id,{scrollToWithAnimation:{contentOffset:{x:a,y:o},duration:r,animated:i,velocity:n}})}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}_onReady(e){var t=FJ[this.uid],r=()=>{"function"==typeof e&&e()};t?r():WJ[this.uid]=()=>{r()}}scrollIntoView(e){XJ(this.webviewId,this.id,{scrollIntoView:e},!1)}}class eX extends YJ{get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){}scrollTo(){}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}scrollIntoView(e){XJ(this.webviewId,this.id,{scrollIntoView:e},!1)}}function tX(e){var t=ul.currentWebviewId,r=jJ(t,e);return VJ[r]||(VJ[r]=he?new QJ(e,t):pe||de?new ZJ(e,t):new eX(e,t)),VJ[r]}var rX=(e,t,r)=>{if(null!=e)var n=Kc.requestViewInfo("selectorQuery",t,e,(t=>{r&&(Kc.endViewInfoCallback(e,n),r&&r(t))}));else console.warn("An SelectorQuery call is ignored because no proper page or component is found. Please considering using `SelectorQuery.in` to specify a proper one.")},nX=(e,t,r,n)=>{if(e)if(Array.isArray(e))e.forEach((e=>nX(e,t,r,n)));else{var{contextIs:i,contextId:a,contextCanvasId:o}=e;i&&("wx-video"===i&&(e.context=bB(a,ul.currentWebviewId)),"wx-live-player"===i&&(e.context=jF(a,ul.currentWebviewId,n)),"wx-map"===i&&(e.context=DL(a,ul.currentWebviewId)),"wx-canvas"===i&&o&&(e.context=wV(o,t)),"wx-editor"===i&&(e.context=iq(a,ul.currentWebviewId)),"wx-xr-scene"===i&&(e.context=e.__context,delete e.__context),delete e.contextIs,delete e.contextId,delete e.contextCanvasId);var{nodeIs:s,nodeId:c,nodeCanvasType:l,nodeCanvasId:u,nodeNodeId:d}=e;s&&("wx-canvas"===s&&c&&r.push(mV(c,l).then((t=>{e.node=t}))),"wx-scroll-view"===s&&c&&(e.node=tX(c)),delete e.nodeIs,delete e.nodeId,delete e.nodeCanvasId,delete e.nodeNodeId,e.node&&"function"==typeof e.node._onReady&&r.push(new Promise((t=>e.node._onReady(t)))))}};class iX{constructor(e,t,r,n){this._selectorQuery=e,this._component=t,this._selector=r,this._single=n}fields(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery}boundingClientRect(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._selectorQuery}scrollOffset(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,scrollOffset:!0},e),this._selectorQuery}context(e){return this._selectorQuery._push(this._selector,this._component,this._single,{context:!0},e),this._selectorQuery}node(e){return this._selectorQuery._push(this._selector,this._component,this._single,{node:!0},e),this._selectorQuery}}var aX={},oX=e=>class{constructor(e){if(e&&e.page)this._component=this._defaultComponent=e.page,this._webviewId=this._defaultComponent.__wxWebviewId__;else{var t=Yc.getCurrentPagesByDomain("");this._defaultComponent=t[t.length-1],this._component=null,this._webviewId=null}this._queue=[],this._queueCb=[]}in(e){return null===this._webviewId?(this._webviewId=e.__wxWebviewId__,this._component=e):this._webviewId!==e.__wxWebviewId__?console.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored."):this._component=e,this}select(e){return new iX(this,this._component,e,!0)}selectAll(e){return new iX(this,this._component,e,!1)}selectViewport(){return new iX(this,0,"",!0)}_push(t,r,n,i,a){null===this._webviewId&&(this._webviewId=this._defaultComponent?this._defaultComponent.__wxWebviewId__:void 0);var o=e?"":Kc.getRootNodeId(this._webviewId);this._queue.push({component:null!=r?0===r?0:r.__wxExparserNodeId__:o,selector:t,single:n,fields:i}),this._queueCb.push(a||null)}exec(t){rX(this._webviewId,{pluginId:e,queue:this._queue},(r=>{var n=this._queueCb,i=[],a=[];r.forEach(((t,r)=>{nX(t,this._component,a,e),"function"==typeof n[r]&&i.push(C.surroundThirdByTryCatch((()=>{n[r].call(this,t)}),"at SelectorQuery callback function"))})),"function"==typeof t&&i.push(C.surroundThirdByTryCatch((()=>{t.call(this,r)}),"at SelectorQuery callback function")),a.length?Promise.all(a).then((()=>{i.forEach((e=>e()))})):i.forEach((e=>e()))}))}};function sX(e,t){return aX[t]||(aX[t]=oX(t)),new aX[t](e)}var cX=(e,t,r)=>{var n=Kc.requestViewInfo("intersection",t,e,(t=>{t.reqEnd&&Kc.endViewInfoCallback(e,n),r&&(t.reqEnd||r(t))}))},lX={},uX=e=>class{constructor(e,t){if(this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,e)this._webviewId=e.__wxWebviewId__;else{var r=Yc.getCurrentPagesByDomain("");r.length&&(this._webviewId=r[r.length-1].__wxWebviewId__)}}relativeTo(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this}relativeToViewport(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this}observe(t,r){if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');this._observerId="";var n=this._component;cX(this._webviewId,{type:"addIntersectionObserver",pluginId:e,nodeId:n?n.__wxExparserNodeId__:Kc.getRootNodeId(this._webviewId),targetSelector:t,relativeInfo:this._relativeInfo,options:this._options},(e=>{this._disconnected||(e.observerId&&(this._observerId=e.observerId),e.info&&r.call(this,e.info))}))}disconnect(){cX(this._webviewId,{type:"removeIntersectionObserver",observerId:this._observerId}),this._disconnected=!0}};function dX(e,t,r){return lX[r]||(lX[r]=uX(r)),new lX[r](e,t)}var pX=(e,t,r)=>{var n=Kc.requestViewInfo("matchMedia",t,e,(t=>{t.reqEnd&&Kc.endViewInfoCallback(e,n),r&&(t.reqEnd||r(t))}))},hX={},fX=()=>class{constructor(e,t){this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,this._webviewId=e.__wxWebviewId__}observe(e,t){if(null!==this._observerId)throw new Error('"observe" call can be only called once in MediaQueryObserver');this._observerId="",pX(this._webviewId,{type:"addMediaQueryObserver",mediaQueryCond:e},(e=>{this._disconnected||(e.observerId&&(this._observerId=e.observerId),e.info&&t.call(this,e.info))}))}disconnect(){pX(this._webviewId,{type:"removeMediaQueryObserver",observerId:this._observerId}),this._disconnected=!0}};function gX(e,t,r){return hX[r]||(hX[r]=fX()),new hX[r](e,t)}var vX=function(e){return sX(e,"")},mX=function(e,t){return dX(e,t,"")},yX=function(e,t){return gX(e,t,"")},bX=(e={})=>{xc("triggerGettingWidgetData",e,{cacheKey:""})&&gu("triggerGettingWidgetData",e,{})},_X=e=>{gu("reportAction",e)},wX=(e,t)=>{var r=void 0!==Yc&&void 0!==Yc.getCurrentPagesByDomain&&Yc.getCurrentPagesByDomain(""),n=r&&r.pop&&r.pop(),i={business:"mmbizwxaanalytics",eventID:e,data:t||{},page:n&&n.__route__,uid:Date.now().toString(16)+Math.random().toString(16).substr(2),type:1,version:(null==z?void 0:z.SDKVersion)||0};de||(console.info("[自定义分析] 上报成功"),console.info(i)),gu("reportRealtimeAction",{actionData:JSON.stringify(i)})},IX=()=>{},SX=()=>{},kX=(e,t)=>{if(e)if(void 0===t&&(t=1),"number"==typeof t){var r=JSON.stringify({business:"mmbizwxamonitor",name:e,value:t,timeStamp:Date.now()});gu("reportRealtimeAction",{actionData:r})}else console.error("wx.reportMonitor: 'value' argument must be a Number.");else console.error("wx.reportMonitor: require 'name' argument.")},CX=new Nt;Tt("onLoadSubPackageTaskStateChange",(e=>{CX.emit(e.state,e.taskId,e)}));var EX={},AX={get:(e="default")=>EX[e],set(e,t="default"){EX[t]=e},clear(){EX={}}},TX=new Nt,PX={},xX={},MX=e=>{Object.keys(xX).forEach((t=>{xX[t]===e&&delete xX[t]}))},RX=(e,t,r,n)=>{void 0===xX[t]?!0!==PX[t]?(PX[t]=!0,gu(e,{moduleName:t,success:e=>{delete PX[t],xX[t]=e.loadTaskId,r(e.loadTaskId),TX.emit(t,e)},fail:e=>{delete PX[t],n(e)}})):TX.on(t,(e=>{r(e.loadTaskId)})):r(xX[t])};function DX(){return z.subpackages||z.subPackages||[]}function OX(e=""){for(var t=DX(),r=0;r<t.length;r++){var n=t[r];if(0===e.indexOf(n.root))return n}return null}function LX(e=""){var t=OX(e);return!!(t&&t.independent&&t.isolated)}function NX(e){return"workers.js"===e||"/workers.js"===e}var BX={},FX=[],WX=new WeakMap,jX=new WeakMap,VX=new WeakMap,UX=function(e){return BX[e]},$X=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t},zX=function(e,t=!1){var r=e;if(!NX(r)){"string"!=typeof r&&console.error("SubContext onSubPackageReady error: moduleName is empty"),r.endsWith(".js")||(r.endsWith("/")||(r=`${r}/`),r=`${r}game.js`);var n=AX.get();return qu()&&Te()&&!t&&!n?"__APP__"===e?D.getGameContext().evaluateScriptFile("game.js"):D.getGameContext().evaluateScriptFile(r):void 0}},qX=(e,t)=>{var r=UX(e);delete BX[e],MX(e),Array.isArray(r)&&r.forEach((e=>{var{moduleName:r,isMonkeyTest:n}=t,i=WX.get(e),a=$X(t);FX.push(r);var o=zX(r,n);lt(o)?o.then((()=>{HX(i,a)})):HX(i,a)}))},HX=(e,t)=>{t.errMsg="loadSubpackage:ok","function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)};CX.on("success",((e,t)=>{qX(e,t)})),CX.on("fail",((e,t)=>{var r=UX(e);delete BX[e],MX(e),Array.isArray(r)&&r.forEach((e=>{var r=WX.get(e),n=$X(t);n.errMsg="loadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),CX.on("progressUpdate",((e,t)=>{var r=UX(e);Array.isArray(r)&&r.forEach((e=>{var r=jX.get(e),n=$X(t);"function"==typeof r&&r(n)}))}));var GX=function(){var e=WX.get(this),{name:t,waiterMode:r}=e;if(FX.indexOf(t)>=0){var n={errMsg:"loadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}if("__APP__"===t&&de&&qu()&&Te()){FX.push(t),zX(t);var i={errMsg:"loadSubpackage:ok"};return"function"==typeof e.success&&e.success(i),void("function"==typeof e.complete&&e.complete(i))}RX(r?"createLoadSubPackageTaskForWaiter":"createLoadSubPackageTask",t,(e=>{void 0===BX[e]?BX[e]=[this]:BX[e].push(this),VX.set(this,e)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","loadSubpackage"):t.errMsg="loadSubpackage:fail module not found",C.surroundThirdByTryCatch(e.fail)(t),C.surroundThirdByTryCatch(e.complete)(t)}))};class KX{constructor(e){WX.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=C.surroundThirdByTryCatch(e[t],`at api loadSubpackage ${t} callback function`))})),GX.call(this)}onProgressUpdate(e){jX.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&C.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)}))}await(){var e=WX.get(this),{waiterMode:t,name:r}=e,n={errMsg:"LoadTask.await:fail not support"};if(t){var i=VX.get(this);gu("awaitLoadSubPackageTask",{timeout:1e4,loadTaskId:i,success(e){console.log("awaitLoadSubPackageTask success",e),qX(i,{moduleName:r}),n={errno:0,errMsg:"LoadTask.await:ok"}},fail(e){console.error("awaitLoadSubPackageTask fail",e),n={errMsg:"LoadTask.await:fail"+e.errMsg}}})}else n={errMsg:"LoadTask.await:fail not waiterMode"};return n}}var JX=(e,t)=>{t.forEach((t=>{e!==t.alias&&e!==t.name||(e=t.root)}));var r="__APP__"===e||"__GAME__"===e;return r||e.startsWith("/")||(e=`/${e}`),r||e.endsWith(".js")||e.endsWith("/")||(e=`${e}/`),"__GAME__"===e&&(e="__APP__"),e},XX=(e={})=>{var t=Object.assign({},e),{name:r,packageType:n}=t;if("workers"===n)t.name="/workers.js";else{if(!xc("loadSubPackage",t,{name:""}))return;if(NX(r))return void Rc("loadSubpackage",t,'argument "name" cannot be "workers.js"');var i=z.subPackages||z.subpackages;if(!i)return void Rc("loadSubpackage",t,"Your subpackages configuration is invalid.");t.name=JX(r,i)}try{return new KX(t)}catch(e){return void Rc("loadSubpackage",t,e.message)}},YX={};function QX(){return new Promise(((e,t)=>{var r=vg();r?e(r):dg({success(r){r.networkType?e(r.networkType):t(new Error("get network type failed."))},fail:t})}))}function ZX(e={}){if(!Array.isArray(e.packages))return Promise.reject(new Error("packages must be an array."));"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: "+e.packages.join(", "));var t=e.packages.filter((e=>!(e in YX)));return("all"!==e.network?QX().then((e=>{if("wifi"!==e.toLowerCase())return Promise.reject(new Error(`network type does not match, '${e}' !== 'wifi'`))}),(()=>Promise.reject(new Error("get network type failed.")))):Promise.resolve()).then((()=>Promise.all(t.map((e=>new Promise((r=>{XX({name:e,success(){YX[e]=!0,r(t)},fail(t){var n=new Error(t.errMsg.replace("loadSubpackage:fail",""));n.packageName=e,r(n)}})}))))).then((e=>{if((e=e.filter((e=>e instanceof Error))).length>0){var t=new Error("preload subpackages failed.");return t._detail=e,Promise.reject(t)}}))))}function eY(e){return ZX(e).then((()=>{console.info("preloadSubpackages: success")}),(e=>{e._detail?(console.group(`preloadSubpackages fail: ${e.message}`),e._detail.forEach((e=>{console.warn(`${e.packageName}: ${e.message}`)})),console.groupEnd()):console.warn(`preloadSubpackages fail: ${e.message}`)}))}z.onReady((()=>{qM((({path:e})=>{if(z.preloadRule&&z.preloadRule[e])return eY(z.preloadRule[e])}))}));var tY={},rY=[],nY=new WeakMap,iY=new WeakMap,aY=function(e){return tY[e]},oY=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t};CX.on("success",((e,t)=>{var r=aY(e);delete tY[e],MX(e),Array.isArray(r)&&r.forEach(function(){var e=cp()((function*(e){var r=t.moduleName,n=nY.get(e),i=oY(t);rY.push(r),i.errMsg="preDownloadSubpackage:ok","function"==typeof n.success&&n.success(i),"function"==typeof n.complete&&n.complete(i)}));return function(t){return e.apply(this,arguments)}}())})),CX.on("fail",((e,t)=>{var r=aY(e);delete tY[e],MX(e),Array.isArray(r)&&r.forEach((e=>{var r=nY.get(e),n=oY(t);n.errMsg="preDownloadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),CX.on("progressUpdate",((e,t)=>{var r=aY(e);Array.isArray(r)&&r.forEach((e=>{var r=iY.get(e),n=oY(t);"function"==typeof r&&r(n)}))}));var sY=function(){var e=nY.get(this),{name:t}=e;if(rY.indexOf(t)>=0){var r={errMsg:"preDownloadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(r),void("function"==typeof e.complete&&e.complete(r))}if("__APP__"===t&&de&&qu()&&Te()){rY.push(t);var n={errMsg:"preDownloadSubpackage:ok"};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}RX("createLoadSubPackageTask",t,(e=>{void 0===tY[e]?tY[e]=[this]:tY[e].push(this)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","preDownloadSubpackage"):t.errMsg="preDownloadSubpackage:fail module not found",C.surroundThirdByTryCatch(e.fail)(t),C.surroundThirdByTryCatch(e.complete)(t)}))};class cY{constructor(e){nY.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=C.surroundThirdByTryCatch(e[t],`at api preDownloadSubpackage ${t} callback function`))})),sY.call(this)}onProgressUpdate(e){iY.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&C.surroundThirdByTryCatch(e,"at PreDownloadSubpackageTask.onProgressUpdate callback function")(t)}))}}var lY=(e={})=>{var t=Object.assign({},e),{packageType:r}=t;if("workers"===r){t.name="/workers.js";try{return new cY(t)}catch(e){return void Rc("preDownloadSubpackage",t,e.message)}}else Rc("preDownloadSubpackage",t,"invalid packageType")},uY=function(e={}){var t=mu(Gp(this));if("number"==typeof e.maxDuration&&e.maxDuration>60){var r={errMsg:"chooseVideo:fail|maxDuration can not over 60"};return"function"==typeof e.fail&&e.fail(r),void("function"==typeof e.complete&&e.complete(r))}e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||"back","boolean"!=typeof e.compressed&&(e.compressed=!0),t("chooseVideo",e)},dY=function(e={}){mu(Gp(this))("saveVideoToPhotosAlbum",e,{})},pY=(e={})=>{xc("getVideoInfo",e,{src:""})&&gu("getVideoInfo",e,{})},hY=(e={})=>{xc("compressVideo",e,{src:""})&&gu("compressVideo",e,{})},fY=jc(bv),gY=[],vY=new Map,mY=0,yY=/url\((.*)\)/i,bY=/([^.]*)(\..*)?/i;gr("loadedFontFace",(e=>{var{callbackId:t,errMsg:r=""}=e;if(vY.has(t)){var n=vY.get(t);vY.delete(t);var{resolve:i,reject:a}=n;0===r.indexOf("loadFontFace:ok")?i():a()}}));var _Y=(e={})=>{mY++,delete(e=Object.assign({},e)).success,delete e.fail,delete e.complete,e.callbackId=mY;var t=new Promise(((e,t)=>{vY.set(mY,{resolve:e,reject:t})}));if(e.global||!1){var r=encodeURIComponent(JSON.stringify(e));gY.indexOf(r)<0&&gY.push(r),lr("loadFontFace",e)}else lr("loadFontFace",e,[ul.currentWebviewId]);return t},wY=function(){var e=cp()((function*(e={}){var t="",r=e.source.match(yY);r.length>=2&&(t=(t=r[1]).substring(1,t.length-1));var n=yield fY({url:t,timeout:2e4,enableCache:!0}),i=(n.tempFilePath||"").replace(bY,((...e)=>e[1]));zx.set(i),yield aW.addFontFace({originalSrc:e.source,src:n.tempFilePath,family:e.family,style:e.desc&&e.desc.style,weight:e.desc&&e.desc.weight,variant:e.desc&&e.desc.variant})}));return function(){return e.apply(this,arguments)}}(),IY=(e={})=>{if(xc("loadFontFace",e,{family:"",source:""})){var t="";if(""===e.family&&(t="parameter error: family can not be empty string"),""===e.source&&(t="parameter error: source can not be empty string"),t)Rc("loadFontFace",e,t);else{yY.test(e.source)||(e.source=`url("${e.source}")`),e.scopes||(e.scopes=["webview"]),Xx({name:"loadFontFace",data:{family:e.family,source:encodeURIComponent(e.source),global:Boolean(e.global),scopes:e.scopes}});var r=[];if(e.scopes.indexOf("webview")>=0){var n=_Y(e);r.push(n)}if(e.scopes.indexOf("native")>=0){var i=wY(e);r.push(i)}Promise.all(r).then((()=>{Oc({name:"loadFontFace",args:e,success:!0,errMsg:"",res:{status:"loaded"}})})).catch((()=>{Oc({name:"loadFontFace",args:e,success:!1,errMsg:"",res:{status:"error"}})}))}}},SY=e=>{xc("playVoice",e,{filePath:""})&&!qN()&&gu("playVoice",e)},kY=e=>{gu("pauseVoice",e)},CY=e=>{gu("stopVoice",e)},EY=e=>{Tt("onVoicePlayEnd",C.surroundThirdByTryCatch(e,"at onVoicePlayEnd callback function"))},AY=e=>{E.reportKeyValue({key:"DeprecatedAPI",value:e})},TY=new Nt,PY={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};Tt("onRecorderStateChange",((e={})=>{var{state:t}=e;delete e.state,TY.emit(`onRecorderStateChange_${t}`,e)}));var xY=e=>{gu("operateRecorder",Object.assign({},e))},MY={start(e={}){var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(PY).map((e=>parseInt(e,10))).indexOf(t.sampleRate))throw new Error(`invalid sampleRate "${t.sampleRate}", sampleRate should be one of ${JSON.stringify(Object.keys(PY))}`);if(t.encodeBitRate>PY[t.sampleRate][1]||t.encodeBitRate<PY[t.sampleRate][0])throw new Error(`invalid encodeBitRate "${t.encodeBitRate}", encodeBitRate should be greater than ${PY[t.sampleRate][0]} and less than ${PY[t.sampleRate][1]}`);t.operationType="start",t.fail=e=>{TY.emit("onRecorderStateChange_error",e)},t.afterSuccess=()=>{dD(void 0,"RecorderManager.start")},xY(t)},pause(){xY({operationType:"pause",fail(e){TY.emit("onRecorderStateChange_error",e)}})},resume(){xY({operationType:"resume",success(){TY.emit("onRecorderStateChange_resume")},fail(e){TY.emit("onRecorderStateChange_error",e)}})},stop(){xY({operationType:"stop",fail(e){TY.emit("onRecorderStateChange_error",e)}})},onStart(e){TY.removeAllListeners("onRecorderStateChange_start"),TY.on("onRecorderStateChange_start",(()=>{"function"==typeof e&&C.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onResume(e){TY.removeAllListeners("onRecorderStateChange_resume"),TY.on("onRecorderStateChange_resume",(()=>{"function"==typeof e&&C.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()}))},onPause(e){TY.removeAllListeners("onRecorderStateChange_pause"),TY.on("onRecorderStateChange_pause",(()=>{"function"==typeof e&&C.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onStop(e){TY.removeAllListeners("onRecorderStateChange_stop"),TY.on("onRecorderStateChange_stop",(t=>{"function"==typeof e&&C.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded(e){TY.removeAllListeners("onRecorderStateChange_frameRecorded"),TY.on("onRecorderStateChange_frameRecorded",(t=>{"function"==typeof e&&C.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)}))},onError(e){TY.removeAllListeners("onRecorderStateChange_error"),TY.on("onRecorderStateChange_error",(t=>{"function"==typeof e&&C.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)}))},onInterruptionBegin(e){TY.removeAllListeners("onRecorderStateChange_interruptionBegin"),TY.on("onRecorderStateChange_interruptionBegin",(t=>{"function"==typeof e&&C.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)}))},onInterruptionEnd(e){TY.removeAllListeners("onRecorderStateChange_interruptionEnd"),TY.on("onRecorderStateChange_interruptionEnd",(t=>{"function"==typeof e&&C.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)}))}},RY=null,DY=()=>MY,OY=function(e){AY("startRecord"),mu(Gp(this))("startRecord",e)},LY=e=>{AY("stopRecord"),gu("stopRecord",e)},NY=new Lp("BackgroundAudioManager",!0),BY,FY={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0,playbackRate:1,referrerPolicy:""};Tt("onBackgroundAudioNext",(()=>{NY.emit("Next")})),Tt("onBackgroundAudioPrev",(()=>{NY.emit("Prev")})),Tt("onBackgroundAudioStateChange",((e={})=>{var{state:t}=e;delete e.state,"play"===t?(FY.paused=!1,ul.possessingBackgroundAudioPlayer=!0):"preempted"===t||"occupied"===t?(ul.possessingBackgroundAudioPlayer=!1,NY.emit("Stop",e)):("pause"===t||"stop"===t)&&(FY.paused=!0),NY.emit(`${t[0].toUpperCase()}${t.substr(1)}`,e)}));var WY={play(){qN()||setTimeout((()=>{jY({operationType:"play"})}),0)},pause(){setTimeout((()=>{jY({operationType:"pause"})}),0)},seek(e){if("number"!=typeof e)throw new Error("BackgroundAudioManager.seek(currentTime): unexpected type "+typeof e);qN()||setTimeout((()=>{jY({currentTime:e,operationType:"seek"})}),0)},stop(){setTimeout((()=>{jY({operationType:"stop"})}),0)},onTimeUpdate(e){void 0===BY&&(BY=setInterval((()=>{var e=FY.currentTime;$Y("currentTime",(()=>{"active"===ul.runningStatus&&!1!==ul.possessingBackgroundAudioPlayer&&this.currentTime!==e&&NY.emit("Timeupdate")}))}),250)),NY.off("Timeupdate"),NY.on("Timeupdate",e)}};function jY(e){gu("operateBackgroundAudio",e)}var VY=["src","title","epname","singer","startTime","coverImgUrl","currentTime","duration","paused","buffered","webUrl","protocol","playbackRate","referrerPolicy"];VY.forEach((e=>{Object.defineProperty(WY,e,{get:()=>"src"===e&&WY.srcCloudId?WY.srcCloudId:"coverImgUrl"===e&&WY.coverCloudId?WY.coverCloudId:$Y(e),set(t){["src","title","epname","singer","coverImgUrl","startTime","webUrl","protocol","playbackRate","referrerPolicy"].indexOf(e)>-1&&("src"===e?QI([t],"audio",(r=>{/^(cloud):\/\//.test(t)?WY.srcCloudId=t:WY.srcCloudId="",qY(e,r.data[0].url)})):"coverImgUrl"===e?QI([t],"image",(r=>{/^(cloud):\/\//.test(t)?WY.coverCloudId=t:WY.coverCloudId="",qY(e,r.data[0].url)})):qY(e,t))}})}));var UY=["Canplay","Waiting","Error","Play","Pause","Seeking","Seeked","Ended","Stop","Next","Prev"];function $Y(e,t){if(!1!==ul.possessingBackgroundAudioPlayer){var r=FY[e];return gu("getBackgroundAudioState",{success(n){void 0===n.paused||!0===n.paused?n.paused=!0:n.paused=!1,FY=Object.assign(FY,n),r=FY[e],"function"==typeof t&&t(r)},fail({errMsg:e}){v.error(`getBackgroundAudioState fail: ${e}`)}}),r}}UY.forEach((e=>{WY[`on${e}`]=t=>{NY.off(e),NY.on(e,t)}}));var zY={};function qY(e,t){if("src"===e&&!t)throw new Error(`invalid BackgroundAudioManager.src: ${t}`);if("active"!==ul.runningStatus&&!1===ul.possessingBackgroundAudioPlayer||qN())throw new kd(`Can not set BackgroundAudioManager.${e}, background audio is preempted.`);zY[e]=t,1===Object.keys(zY).length&&setTimeout((()=>{Object.assign(FY,zY),FY.src&&FY.title?(gu("setBackgroundAudioState",Object.assign({},FY,{fail({errMsg:e}){v.error(e),NY.emit("Error",{errMsg:e.replace(/^setBackgroundAudioState: fail /,"")})}})),zY={}):zY={}}),0)}var HY=()=>WY,GY=e=>{if(!1===ul.possessingBackgroundAudioPlayer){var t={errMsg:"getBackgroundAudioPlayerState: fail not playing"};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else gu("getMusicPlayerState",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getMusicPlayerState","getBackgroundAudioPlayerState")}})},KY=(e={})=>{qN()?null==e||e.fail({errMsg:"playBackgroundAudio:can't play background audio when forced muted"}):gu("operateMusicPlayer",Ed({operationType:"play"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","playBackgroundAudio")}})},JY=(e={})=>{gu("operateMusicPlayer",Ed({operationType:"pause"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","pauseBackgroundAudio")}})},XY=(e={})=>{xc("seekBackgroundAudio",e,{position:1})&&gu("operateMusicPlayer",Ed({operationType:"seek"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","seekBackgroundAudio")}})},YY=(e={})=>{gu("operateMusicPlayer",Ed({operationType:"stop"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","stopBackgroundAudio")}})},QY=new Nt;Tt("onMusicPlay",(()=>{ul.possessingBackgroundAudioPlayer=!0,QY.emit("onBackgroundAudioPlay")}));var ZY=e=>{QY.removeAllListeners("onBackgroundAudioPlay"),QY.on("onBackgroundAudioPlay",(()=>{"function"==typeof e&&C.surroundThirdByTryCatch(e,"at wx.onBackgroundAudioPlay callback function")()}))},eQ=e=>{Tt("onMusicPause",C.surroundThirdByTryCatch(e,"at onBackgroundAudioPause callback function"))},tQ=e=>{Tt("onMusicEnd",C.surroundThirdByTryCatch(e,"at onBackgroundAudioStop callback function"))},rQ=e=>{gu("getAvailableAudioSources",e)},nQ=e=>{gu("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))},iQ=new WeakMap;function aQ(e,t){iQ.set(this,Object.assign(iQ.get(this),{[e]:t})),this.promise.then((()=>{gu("operateAudioPlayer",{operationType:"update",containerId:iQ.get(this).containerId,[e]:t,success:e=>{},fail:e=>{}})})).catch((e=>{}))}class oQ{constructor(){iQ.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),gu("operateAudioPlayer",{operationType:"create",success:e=>{iQ.set(this,Object.assign(iQ.get(this),{containerId:e.containerId})),this.resolve(e)},fail:e=>{this.reject(e)}}),qN()&&aQ.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{gu("operateAudioPlayer",{operationType:"start",containerId:iQ.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{gu("operateAudioPlayer",{operationType:"addTask",containerId:iQ.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{gu("operateAudioPlayer",{operationType:"delTask",containerId:iQ.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{gu("operateAudioPlayer",{operationType:"stop",containerId:iQ.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{gu("operateAudioPlayer",{operationType:"remove",containerId:iQ.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}}),iQ.delete(this)}))))}set volume(e){qN()||aQ.call(this,"audioVolume",e)}get volume(){return iQ.get(this).audioVolume}}var sQ=new WeakMap;function cQ(e,t){sQ.set(this,Object.assign(sQ.get(this),{[e]:t})),this.promise.then((()=>{Oh.MediaToolKit.audioUpdate({containerId:sQ.get(this).containerId,[e]:t},(e=>{e.errCode}))})).catch((e=>{}))}class lQ{constructor(){sQ.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),Oh.MediaToolKit.audioCreate({},(e=>{0===e.errCode?(sQ.set(this,Object.assign(sQ.get(this),{containerId:e.containerId})),this.resolve(e)):this.reject(e)})),qN()&&cQ.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{Oh.MediaToolKit.audioStart({containerId:sQ.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{Oh.MediaToolKit.audioAddTask({containerId:sQ.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{Oh.MediaToolKit.audioDelTask({containerId:sQ.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{Oh.MediaToolKit.audioStop({containerId:sQ.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{Oh.MediaToolKit.audioRemove({containerId:sQ.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)})),sQ.delete(this)}))))}set volume(e){qN()||cQ.call(this,"audioVolume",e)}get volume(){return sQ.get(this).audioVolume}}var uQ=()=>Oh.MediaToolKit&&Oh.MediaToolKit.audioCreate?new lQ:new oQ,dQ=null,pQ=!1;XS((()=>{pQ=!0})),qM((()=>{pQ=!1,dQ&&(fQ(dQ),dQ=null)}));var hQ=100,fQ=function(e={}){var t=mu(Gp(this));e.type||(e.type="all"),void 0===e.count&&(e.count=hQ),xc("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?Rc("chooseMessageFile",e,"param count should be larger than 0."):void 0===e.extension||"[object Array]"===Object.prototype.toString.call(e.extension)?!e.extension||e.extension.length?(e.count>hQ&&(e.count=hQ),pQ?dQ=e:t("chooseMessageFile",e)):Rc("chooseMessageFile",e,"param extension should not be empty."):Rc("chooseMessageFile",e,"param extension should be Array."))},gQ=function(e={}){if(_M("choose_media"))Rc("chooseMedia",e,"This api is temporarily unavailable");else{var t=Gp(this);mu(t)("chooseMedia",e,{beforeSuccess(e){var r;null!==(r=e.tempFiles)&&void 0!==r&&r.length&&vM("chooseMedia",e.tempFiles.map((e=>e.tempFilePath)),t)}})}},vQ="previewMedia",mQ=function(){var e=cp()((function*(e={}){if(xc(vQ,e,{sources:[]}))if(e.sources.length>50)Rc(vQ,e,"maximum length of sources is 50");else{var t=yield EM(wM.previewMedia),r=Gp(this),n=e=>"string"!=typeof r||"/"!==e[0]?e:Hd(r,e),i=JSON.parse(JSON.stringify(e.sources)),a=[],o=[];i.forEach(((e,t)=>{e.type=e.type||"image",e.index=t,e.url=e.url?zx.get(e.url)||e.url:"","image"===e.type?a.push(e):"video"===e.type&&o.push(e)}));var s=a.map((e=>e.url||"")).map((e=>n(e))),c=o.map((e=>e.url||"")).map((e=>n(e)));QI(s,"image",(r=>{var n=r.data.map((e=>e.url));QI(c,"video",(r=>{var s=r.data.map((e=>e.url));n.forEach(((e,t)=>{var r=a[t].index;i[r].url=e})),s.forEach(((e,t)=>{var r=o[t].index;i[r].url=e}));var c=Object.assign({current:0},e,{sources:i});t?AM(wM.previewMedia,vQ,c):gu(vQ,c),iM(vQ,{sources:c.sources||[]},!1,t)}))}))}}));return function(){return e.apply(this,arguments)}}(),yQ=(e={})=>{gu("voiceSplitJoint",e)},bQ=(e={})=>{gu("uploadSilkVoice",e)},_Q=(e={})=>{gu("downloadSilkVoice",e)},wQ=(e={})=>{gu("getResPath",e)},IQ=(e={})=>{gu("setResPath",e)},SQ=(e={})=>{gu("chooseMultiMedia",e)},kQ=Object.assign,CQ=new WeakMap,EQ=new WeakMap;function AQ(e,t){return e.map((e=>"video"===e.kind?new xQ(e.trackId,e.duration,t):"audio"===e.kind?new PQ(e.trackId,e.duration,t):null))}class TQ{constructor(e,t=0,r){this.id=e,this.duration=t,this.mediaContainer=r}appendFrom(e){if(!(e instanceof TQ))throw new Error("Parameter 1 should be a MediaTrack");CQ.get(this.mediaContainer).then((()=>{gu("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,appendFrom:e.id,fail:$d((e=>{throw new Error(`fail to append. errMsg: ${e.errMsg}`)}),"at MediaTrack.appendFrom method")})}))}slice(e,t){var r=[];if("number"==typeof e){if("number"!=typeof t)throw new Error("Parameter 2 should be a number.");r.push([e,t])}else r=e;CQ.get(this.mediaContainer).then((()=>{gu("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,slice:r,fail:$d((e=>{throw new Error(`fail to slice. errMsg: ${e.errMsg}`)}),"at MediaTrack.slice method")})}))}}class PQ extends TQ{constructor(e,t,r){super(e,t,r),this.kind="audio"}set volume(e){if(!(e>=0&&e<=1))throw new Error("Parameter 1 out of range.");CQ.get(this.mediaContainer).then((()=>{gu("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,volume:e,fail:$d((e=>{throw new Error(`fail to set volume. errMsg: ${e.errMsg}`)}),"at MediaTrack.volume setter")})}))}set atempo(e){if(!(e>=0&&e<=10))throw new Error("Parameter 1 out of range.");CQ.get(this.mediaContainer).then((()=>{gu("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,atempo:e,fail:$d((e=>{throw new Error(`fail to set atempo. errMsg: ${e.errMsg}`)}),"at MediaTrack.atempo setter")})}))}}class xQ extends TQ{constructor(e,t,r){super(e,t,r),this.kind="video"}}class MQ{constructor(){var e=new Promise((e=>{gu("operateMediaContainer",{operationType:"create",success:t=>{this.id=t.containerId,e()},fail:$d((e=>{throw new Error(`fail to createMediaContainer. errMsg: ${e.errMsg}`)}),"at createMediaContainer function")})}));CQ.set(this,e)}extractDataSource(e={}){xc("createMediaContainer.extractDataSource",e,{source:""})&&CQ.get(this).then((()=>{gu("operateMediaTrack",kQ(e,{operationType:"get",containerId:this.id}),{beforeSuccess:e=>{e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource"),e.tracks=AQ(e.tracks,this)},beforeFail(e){e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource")}})}))}addTrack(e){if(!(e instanceof TQ))throw new Error("Parameter 1 should be a MediaTrack");if("video"===e.kind){if(EQ.get(this))throw new Error("Only can be added one video track.");EQ.set(this,!0)}CQ.get(this).then((()=>{gu("operateMediaTrack",{operationType:"create",containerId:this.id,trackId:e.id,fail:$d((e=>{throw new Error(`fail to addTrack. errMsg: ${e.errMsg}`)}),"at createMediaContainer.addTrack function")})}))}removeTrack(e){if(!(e instanceof TQ))throw new Error("Parameter 1 should be a MediaTrack");"video"===e.kind&&EQ.set(this,!1),CQ.get(this).then((()=>{gu("operateMediaTrack",{operationType:"remove",containerId:this.id,trackId:e.id})}))}export(e={}){e.mimeType||(e.mimeType="mp4"),CQ.get(this).then((()=>{gu("operateMediaContainer",kQ(e,{operationType:"export",containerId:this.id}))}))}destroy(){CQ.get(this).then((()=>{gu("operateMediaContainer",{operationType:"remove",containerId:this.id})}))}}function RQ(){return new MQ}var DQ=new Nt,OQ=new WeakMap,LQ=new WeakMap;Tt("onCanvasPlayerStateChange",(e=>{var t=e.state;"playEnd"===t?DQ.emit(e.containerId,{event:"ended",data:{}}):"buffSize"===t?DQ.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}}):"error"===t&&DQ.emit(e.containerId,{event:"error",data:{message:e.errMsg,code:e.errCode}})}));var NQ=!1;function BQ(){pe&&(NQ||(NQ=!0,Oh.MediaToolKit.addEventListener("onPlayerBuffSize",(e=>{DQ.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}})})),Oh.MediaToolKit.addEventListener("onPlayerPlayEnd",(e=>{DQ.emit(e.containerId,{event:"ended",data:{}})}))))}function FQ(e){return WQ.apply(this,arguments)}function WQ(){return(WQ=cp()((function*(e){var t=LQ.get(e);yield t}))).apply(this,arguments)}function jQ(e,t,r={}){return vu("operateCanvasPlayer",O()(O()({},r),{},{containerId:e.id||0,operationType:t}))}function VQ(e,t,r={}){return new Promise(((n,i)=>{Oh.MediaToolKit[t](O()(O()({},r),{},{containerId:e.id||0}),(e=>{if(0!==e.errCode){var r=new Error(e.errMsg||`${t} failed`);return Object.assign(r,e),void i(r)}n(e)}))}))}function UQ(e,t,r){var n=OQ.get(e);n&&n.emit(t,r)}class $Q{constructor(){var e=this,t=new Nt;OQ.set(this,t);var r=cp()((function*(){if(pe){BQ();var r=yield new Promise(((e,t)=>{Oh.MediaToolKit.playerCreate({},(r=>{if(0!==r.errCode){var n=new Error(r.errMsg||"create failed");return Object.assign(n,r),void t(n)}e(r)}))}));e.id=r.containerId}else{var n=yield vu("operateCanvasPlayer",{operationType:"create"});e.id=n.containerId}DQ.on(e.id,(({event:e,data:r})=>t.emit(e,r)))}))();LQ.set(this,r)}start(e={}){var t=this;return cp()((function*(){var r;if(yield FQ(t),pe){var n=e.source;if(!e.source||!/^(http|https):\/\/.*/i.test(e.source))n=(yield vu("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath;var i=yield VQ(t,"playerStart",{filePath:n,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},i.video),t.width=r.width||0,t.height=r.height||0,t.buffer=new ArrayBuffer(t.width*t.height*4),r.video=i.video,r.audio=i.audio}else{var a=yield jQ(t,"start",{source:e.source,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},a.video),t.buffId=a.buffId,t.width=r.width||0,t.height=r.height||0,r.video=a.video,r.audio=a.audio}return UQ(t,"start",r),r}))()}seek(e,t="inaccurate"){var r=this;return cp()((function*(){yield FQ(r);var n="accurate"===t;return pe?yield VQ(r,"playerSeek",{seekStamp:e,seekByStamp:n}):yield jQ(r,"seek",{seekStamp:e,seekByStamp:n}),UQ(r,"seek",{position:e}),e}))()}wait(e=!1){var t=this;return cp()((function*(){yield FQ(t),pe?yield VQ(t,"playerWait",{wait:e}):yield jQ(t,"wait",{wait:e}),UQ(t,"wait",{})}))()}stop(){var e=this;return cp()((function*(){yield FQ(e),pe?yield VQ(e,"playerStop",{}):yield jQ(e,"stop",{}),UQ(e,"stop",{})}))()}remove(){var e=this;return cp()((function*(){if(yield FQ(e),e.id){DQ.removeAllListeners(e.id);var t=OQ.get(e);t.eventNames().forEach((e=>t.removeAllListeners(e)))}pe?yield VQ(e,"playerRemove",{}):yield jQ(e,"remove",{})}))()}getFrameData(){var e,t,r,n,i,a;if(pe?Oh.MediaToolKit.playerGetFrame({containerId:this.id,buffer:this.buffer},(a=>{a.got&&(e=this.buffer),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts})):gu("operateCanvasPlayer",{operationType:"getFrame",containerId:this.id,success:a=>{a.got&&(e=Fp().get(this.buffId))&&(e.__proto__=ArrayBuffer.prototype),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts},fail(e){a=new Error(e.errMsg&&e.errMsg.replace(/operateCanvasPlayer/g,"getFrameData")),Object.assign(a,e)}}),a)throw a;return e?{width:this.width,height:this.height,data:e,pts:t,pkPts:r,dts:n,pkDts:i}:null}on(e,t){OQ.get(this).on(e,t)}off(e,t){OQ.get(this).off(e,t)}get videoDecoderId(){return this.id}}function zQ(){return new $Q}var qQ={File_NotExist:16013,GameRecorder_AbortWhileNotStartRecording:22403,GameRecorder_BGMNotFound:22613,GameRecorder_EditDurationOutOfLimit:22633,GameRecorder_InternalFailed:22012,GameRecorder_NoVideo:22603,GameRecorder_NotSupported:22022,GameRecorder_PauseWhileAlreadyPaused:22213,GameRecorder_PauseWhileNotStartRecording:22203,GameRecorder_ResumeWhileNotStartRecording:22303,GameRecorder_ResumeWhileRecording:22313,GameRecorder_StartBitRateInvalid:22113,GameRecorder_StartDurationInvalid:22103,GameRecorder_StartFPSInvalid:22123,GameRecorder_StartGOPInvalid:22133,GameRecorder_StartWhileAlreadyStartRecording:22143,GameRecorder_StartWhilePaused:22153,GameRecorder_StopWhileNotStartRecording:22503,GameRecorder_TimeRangeInvalid:22623,GameRecorder_TimeRangeTooShort:22643,GameRecorder_UnknownError:22002,Global_APINoAuthorization:10022,Global_APINoPermission:10012,Global_FileStorageNotEnough:10031,MediaRecorder_AbortWhileNotStartRecording:23403,MediaRecorder_BGMNotFound:23613,MediaRecorder_EditDurationOutOfLimit:23633,MediaRecorder_InternalFailed:23012,MediaRecorder_NoVideo:23603,MediaRecorder_NotSupported:23022,MediaRecorder_PauseWhileAlreadyPaused:23213,MediaRecorder_PauseWhileNotStartRecording:23203,MediaRecorder_ResumeWhileNotStartRecording:23303,MediaRecorder_ResumeWhileRecording:23313,MediaRecorder_StartBitRateInvalid:23113,MediaRecorder_StartDurationInvalid:23103,MediaRecorder_StartFPSInvalid:23123,MediaRecorder_StartGOPInvalid:23133,MediaRecorder_StartWhileAlreadyStartRecording:23143,MediaRecorder_StartWhilePaused:23153,MediaRecorder_StopWhileNotStartRecording:23503,MediaRecorder_TimeRangeInvalid:23623,MediaRecorder_TimeRangeTooShort:23643,MediaRecorder_UnknownError:23002,Network_RequestTimeout:14012,OK:0,Render_CanvasIllegalInvocation:13013,Render_FontFileInvalid:13023,Render_ImageLoadFailed:13033,Storage_NotFound:15013},HQ=e=>e.toString().endsWith(1),GQ=e=>e.toString().endsWith(2),KQ=e=>e.toString().endsWith(3),JQ=e=>{var t={101:{code:qQ.MediaRecorder_StartDurationInvalid,message:"MediaRecorder.start:fail duration invalid"},103:{code:qQ.MediaRecorder_StartWhileAlreadyStartRecording,message:"MediaRecorder.start:fail start while already start recording"},104:{code:qQ.MediaRecorder_StartWhilePaused,message:"MediaRecorder.start:fail start while paused"},106:{code:qQ.MediaRecorder_StartBitRateInvalid,message:"MediaRecorder.start:fail bitrate invalid"},107:{code:qQ.MediaRecorder_StartFPSInvalid,message:"MediaRecorder.start:fail fps invalid"},108:{code:qQ.MediaRecorder_StartGOPInvalid,message:"MediaRecorder.start:fail gop invalid"},201:{code:qQ.MediaRecorder_PauseWhileNotStartRecording,message:"MediaRecorder.pause:fail pause while not start recording"},202:{code:qQ.MediaRecorder_PauseWhileAlreadyPaused,message:"MediaRecorder.pause:fail pause while already paused"},301:{code:qQ.MediaRecorder_ResumeWhileNotStartRecording,message:"MediaRecorder.resume:fail resume while not start recording"},302:{code:qQ.MediaRecorder_ResumeWhileRecording,message:"MediaRecorder.resume:fail resume while recording"},401:{code:qQ.MediaRecorder_AbortWhileNotStartRecording,message:"MediaRecorder.abort:fail abort while not start recording"},501:{code:qQ.MediaRecorder_StopWhileNotStartRecording,message:"MediaRecorder.stop:fail stop while not start recording"},503:{code:qQ.Global_FileStorageNotEnough,message:"MediaRecorder.stop:fail file storage not enough"}};return t[e]?t[e]:[102,110,111,502,710,810].includes(e)?{code:qQ.MediaRecorder_InternalFailed,message:"MediaRecorder:fail internal failed"}:{code:qQ.MediaRecorder_UnknownError,message:"MediaRecorder:fail unknown error"}},XQ=new Nt,YQ=new WeakMap,QQ=new WeakMap,ZQ=new WeakMap,eZ=new WeakSet,tZ=new WeakMap,rZ=new Map,nZ=e=>new Promise((t=>setTimeout(t,e)));function iZ(e){return aZ.apply(this,arguments)}function aZ(){return aZ=cp()((function*(e){if(eZ.has(e))throw new Error("this mediaRecorder has been destroyed");var t=tZ.get(e);yield t})),aZ.apply(this,arguments)}function oZ(e,t={}){return new Promise(((r,n)=>{Oh.MediaToolKit[e](t,(t=>{if(t&&t.errCode&&0!==t.errCode){var i=new Error(t.errMsg||`${e} failed`);return Object.assign(i,t),void n(i)}r(t)}))}))}function sZ(e,t,r={}){var n=QQ.get(e),i=n.id,a=0;return n.isOffscreenCanvas&&(a=n._innerId),vu("operateMediaRecorder",O()(O()({},r),{},{canvasId:i,offScreenCanvasId:a,operationType:t}))}Tt("onMediaRecorderStateChange",(e=>{var t=e.state,r=e.canvasId<<0;if(delete e.state,"timeUpdate"===t)XQ.emit(r,{event:"timeupdate",data:{currentTime:e.currentTime}});else if("error"===t){var n=JQ(e.errCode);XQ.emit(r,{event:"error",data:{error:n}})}}));var cZ=!1;function lZ(){pe&&(cZ||(cZ=!0,Oh.MediaToolKit.addEventListener("onRecorderTimeUpdate",(e=>{if(rZ.has(e.containerId)){var t=rZ.get(e.containerId);XQ.emit(t,{event:"timeupdate",data:{currentTime:e.stamp}})}}))))}class uZ{constructor(e,t={}){var r=this;QQ.set(this,e);var n=new Nt;YQ.set(this,n),XQ.on(e.id,(({event:e,data:t})=>n.emit(e,t))),"number"==typeof t.duration?this.duration=Math.min(7200,Math.max(5,t.duration)):this.duration=7200,"number"==typeof t.videoBitsPerSecond?this.videoBitsPerSecond=Math.min(3e3,Math.max(600,t.videoBitsPerSecond)):this.videoBitsPerSecond=1e3,this.fps=t.fps||24,this.gop=t.gop||12,this.timeUpdateInterval=t.timeUpdateInterval||this.gop,this.audioPlayerId=t.audioPlayerId;var i=cp()((function*(){if(pe){lZ();var t=yield oZ("recorderCreate",{});r._containerId=t.containerId,rZ.set(r._containerId,e.id)}else yield sZ(r,"create",{});n.emit("create",{})}))();tZ.set(this,i)}pause(){var e=this;return cp()((function*(){yield iZ(e);var t=YQ.get(e);if(pe){var r=yield oZ("recorderUpdate",{containerId:e._containerId,pause:!0});t.emit("pause",r)}else yield sZ(e,"pause",{}),t.emit("pause")}))()}resume(){var e=this;return cp()((function*(){yield iZ(e);var t=YQ.get(e);if(pe){var r=yield oZ("recorderUpdate",{containerId:e._containerId,pause:!1});t.emit("resume",r)}else yield sZ(e,"resume"),t.emit("resume")}))()}start(){var e=this;return cp()((function*(){yield iZ(e);var t=YQ.get(e),r=QQ.get(e),n={width:r.width,height:r.height,fps:e.fps,bitrate:e.videoBitsPerSecond,gop:e.gop,duration:e.duration,timeUpdateInterval:e.timeUpdateInterval,audioPlayerId:e.audioPlayerId,cumulativeStamp:!0};if(he&&z.clientVersion<385879296?n.duration=Math.floor(e.duration):n.duration=Math.floor(1e3*e.duration),pe){var i=yield vu("private_fileSystemConvert",{operationType:"getWxFilePath",fileName:`${Date.now()}`,mimeType:"mp4",autoDeleteIfExists:!0});e.tempFilePath=i.localId,e._absoluteFilePath=i.filePath,n.containerId=e._containerId,n.canvasId=r._innerId||r.id,n.notifyVideoKeyFrame=!0,n.filePath=i.filePath;var a=yield oZ("recorderStart",n);t.emit("start",a)}else yield sZ(e,"start",n),t.emit("start")}))()}stop(){var e=this;return cp()((function*(){yield iZ(e);var t,r=YQ.get(e);if(pe){yield oZ("recorderStop",{containerId:e._containerId});var n=yield oZ("analysis",{filePath:e._absoluteFilePath});t={duration:n.duration,tempFilePath:e.tempFilePath,fileSize:n.size}}else{var{tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}=yield sZ(e,"stop");t={tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}}return r.emit("stop",t),t}))()}requestFrame(e=(()=>{})){var t=this;return cp()((function*(){yield iZ(t);var r=QQ.get(t);if(pe){var n=yield new Promise((e=>{Oh.MediaToolKit.recorderCapture({containerId:t._containerId},e)})),i=1e3/t.fps;n.got?e():(yield nZ(i),yield t.requestFrame(e))}else r.isOffscreenCanvas?setTimeout((()=>{e(),l.g.WeixinCanvas.recordFrame(r.id,r._innerId)})):(yield new Promise((e=>r.requestAnimationFrame(e))),e())}))()}on(e,t){"timeUpdate"===e&&(e="timeupdate"),YQ.get(this).on(e,t)}off(e,t){"timeUpdate"===e&&(e="timeupdate"),YQ.get(this).off(e,t)}destroy(){var e=this;return cp()((function*(){if(eZ.has(e))throw new Error("this mediaRecorder has been destroyed");var t=QQ.get(e);XQ.removeAllListeners(t.id);var r=YQ.get(e);r.eventNames().forEach((e=>r.removeAllListeners(e))),ZQ.delete(t),eZ.add(e),pe?(yield iZ(e),rZ.delete(e._containerId),yield oZ("recorderRemove",{containerId:e._containerId})):yield sZ(e,"remove")}))()}}function dZ(e,t){if(ZQ.get(e))throw new Error("Already created by the same canvas node.");if(!e||"function"!=typeof e.getContext||!e.getContext("webgl"))throw new Error("Cannot get webgl context from target.");var r=new uZ(e,t);return ZQ.set(e,r),r}var pZ=1,hZ=300,fZ=Object.assign,gZ=(e={})=>{if(xc("openVideoEditor",e,{filePath:""})){var{title:t,filePath:r}=e,{minDuration:n,maxDuration:i}=e;n=parseInt(n,10),i=parseInt(i,10),(!n||n<pZ)&&(n=pZ),(!i||i>hZ)&&(i=hZ),gu("openVideoEditor",fZ({},e,{editType:2,editorParmas:{title:t,filePath:r,minDuration:n,maxDuration:i,toolBars:["crop"],buttonOptions:[]}}),{beforeSuccess(e){e.duration=e.duraionMs||Math.round(e.duration/1e3),e.size=e.size||e.fileSize,delete e.fileSize,delete e.chosenId,delete e.videoMD5,delete e.duraionS,delete e.duraionMs,delete e.duraionUs}})}},vZ,mZ=()=>(vZ||(vZ=zf()),vZ),yZ=e=>mZ().saveFile(e),bZ=e=>mZ().getFileInfo(e),_Z=e=>mZ().getSavedFileList(e),wZ=e=>mZ().getSavedFileInfo(e),IZ=e=>mZ().removeSavedFile(e),SZ=e=>{if(xc("getBackgroundFetchData",e,{fetchType:""}))if("pre"===e.fetchType||"periodic"===e.fetchType)try{gu("getBackgroundFetchData",{fetchType:e.fetchType,success(t){Oc({name:"getBackgroundFetchData",args:e,res:t})},fail(t){Oc({name:"getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`getBackgroundFetchData:fail ${t.message}`})}else Rc("getBackgroundFetchData",e,"invalid fetchType")},kZ=e=>{try{Tt("onBackgroundFetchData",(t=>{t.errMsg="onBackgroundFetchData:ok","function"==typeof e&&C.surroundThirdByTryCatch(e,"at onBackgroundFetchData callback function")(t)}))}catch(t){"function"==typeof e&&C.surroundThirdByTryCatch(e,"at onBackgroundFetchData callback function")(t)}},CZ=(e={})=>{xc("setBackgroundFetchToken",e,{token:""})&&gu("setBackgroundFetchToken",e)},EZ=(e={})=>{gu("getBackgroundFetchToken",e)},AZ=e=>{try{gu("private_getBackgroundFetchData",{fetchType:e.fetchType,success(t){Oc({name:"private_getBackgroundFetchData",args:e,res:t})},fail(t){Oc({name:"private_getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`private_getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`private_getBackgroundFetchData:fail ${t.message}`})}},TZ=e=>{try{Tt("private_onBackgroundFetchData",(t=>{t.errMsg="private_onBackgroundFetchData:ok","function"==typeof e&&C.surroundThirdByTryCatch(e,"at private_onBackgroundFetchData callback function")(t)}))}catch(t){"function"==typeof e&&C.surroundThirdByTryCatch(e,"at private_onBackgroundFetchData callback function")(t)}},PZ=new Map,xZ=()=>{var e=new Map;return de||Ce()?new Proxy(e,{get:()=>()=>{}}):e},MZ,RZ=null;function DZ(){return MZ?Promise.resolve(MZ):RZ||(RZ=Yu({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:r}=e,n=new Uint8Array(Lw(t)),i=new Uint8Array(Lw(r));return RZ=null,MZ={encryptKeyBytes:n,ivBytes:i}})).catch((e=>{throw RZ=null,e})))}var OZ=!1;function LZ(){OZ||(tm().runTask("initAesWasm",{}),OZ=!0)}function NZ(e,t,r){return tm().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}function BZ(){return FZ.apply(this,arguments)}function FZ(){return FZ=cp()((function*(e={},t,r){var{encryptEnv:n="wasm"}=e;"wasm"===n&&LZ();var i=yield r;return yield NZ(t,n,i)})),FZ.apply(this,arguments)}function WZ(e,t,r){return tm().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}function jZ(e={},t){var{key:r,data:n,dataType:i,storageId:a,encryptEnv:o="wasm"}=e,{failWithMsg:s}=Lc(e,"setStorage"),c=[DZ()];"wasm"===o&&LZ(),Promise.all(c).then((([e])=>WZ(n,o,e))).then((n=>{gu(he?"setStorageAsync":"setStorage",{key:r,data:n,dataType:i,storageId:a,success:t=>{PZ.get(a).set(r,{data:n,dataType:i}),et(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{s({msg:e.message}),v.error("encryptThenSetStorage error",e)}))}var VZ=(e,t={})=>{var{encrypt:r}=t;if(xc("setStorage",t,{key:""}))try{var{data:n,dataType:i}=kt(t.data),a=t.key,o={key:a,data:n,dataType:i,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv},s={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(r&&w.isSupportWXLibWorker())jZ(o,s);else{var c=PZ.get(e),l=c.get(a);if(l&&l.dataType===i&&l.data===n)Oc({name:"setStorage",args:t});else gu(he?"setStorageAsync":"setStorage",o,O()(O()({},s),{},{beforeSuccess:()=>{c.set(a,{data:n,dataType:i})}}))}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},UZ=(e,t,r="")=>{if("string"==typeof t){var n=he?"setStorage":"setStorageSync",{data:i,dataType:a}=kt(r),o=!1,s="",c=PZ.get(e),l=c.get(t);if(!l||l.dataType!==a||l.data!==i){if(gu(n,{key:t,data:i,dataType:a,storageId:e,fail(e={}){o=!0,s=e.errMsg.replace("setStorage:","setStorageSync:")}}),o)throw new kd(s);c.set(t,{data:i,dataType:a})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${Fe(t)}`)},$Z=Vc("getStorage",cp()((function*(e={},t){var{encrypt:r,key:n}=e,i=r&&w.isSupportWXLibWorker(),a=he?"getStorageAsync":"getStorage";Mc(e,{key:""});var o,s={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},c=Object.assign({},e,{storageId:t}),l=PZ.get(t),u=i?DZ():null;return l.has(n)?o=O()({},l.get(n)):(o=yield vu(a,c,s),l.set(n,{data:o.data,dataType:o.dataType})),i&&(o.data=yield BZ(e,o.data,u)),o.data=(e._stringToAnyType||Et)(o.data,o.dataType),delete o.dataType,o}))),zZ=(e,t={})=>$Z(t,e);function qZ(e,t){var r=arguments[arguments.length-1]||{};if(je(t)){var n=PZ.get(e);if(n.has(t)){var{data:i,dataType:a}=n.get(t);return(r._stringToAnyType||Et)(i,a)}var o,s=he?"getStorage":"getStorageSync";return gu(s,{key:t,storageId:e},{beforeSuccess:(e={})=>{n.set(t,{data:e.data,dataType:e.dataType}),o=(r._stringToAnyType||Et)(e.data,e.dataType)},beforeFail:()=>{o=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),o}}var HZ=Vc("batchGetStorage",cp()((function*(e={},t){Mc(e,{keyList:["1"]});var r=Object.assign({},e,{storageId:t}),n=PZ.get(t),i=yield vu("batchGetStorage",r);return Array.isArray(i.dataList)&&(i.dataList=i.dataList.map(((e,t)=>{var{data:i,dataType:a}=e;return i&&n.set(r.keyList[t],e),Et(i,a)}))),i}))),GZ=(e,t={})=>HZ(t,e),KZ=(e,t)=>{var r;Mc(t,["1"]);var n=PZ.get(e);return gu("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(r=e).dataList=e.dataList.map(((e,r)=>{var{data:i,dataType:a}=e;return i&&n.set(t[r],e),Et(i,a)}))}}),r.dataList},JZ=Vc("batchSetStorage",function(){var e=cp()((function*(e,t){Mc(e,{kvList:[{key:"1"}]});var r=PZ.get(t),n={kvList:e.kvList.map((e=>{r.delete(e.key);var{data:t,dataType:n}=kt(e.value);return{key:e.key,data:t,dataType:n}})),storageId:t,success:e.success,fail:e.fail,complete:e.complete};return yield vu("batchSetStorage",n)}));return function(t,r){return e.apply(this,arguments)}}()),XZ=(e,t={})=>JZ(t,e),YZ=(e,t)=>{Mc(t,[{key:"1"}]);var r,n=PZ.get(e),i=t.map((e=>{var{data:t,dataType:r}=kt(e.value);return n.delete(e.key),{key:e.key,data:t,dataType:r}}));return gu("batchSetStorageSync",{storageId:e,kvList:i,beforeAll(e){r=e}}),r},QZ=(e,t)=>{xc("removeStorage",t,{key:""})&&(PZ.get(e).delete(t.key),gu("removeStorage",Object.assign({},t,{storageId:e})))},ZZ=(e,t)=>{xc("removeStorageSync",t,"")&&(PZ.get(e).delete(t),gu("removeStorageSync",{key:t,storageId:e}))},e0=(e,t)=>{PZ.get(e).clear(),gu(he?"clearStorageAsync":"clearStorage",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},t0=e=>{PZ.get(e).clear(),gu(he?"clearStorage":"clearStorageSync",{storageId:e})},r0=function(e){if(!Array.isArray(e))return[];var t=e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__")));return t},n0=(e,t)=>{gu("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=r0(e.keys)}})},i0=e=>{var t;return gu("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=r0(e.keys),delete e.errMsg}}),t},a0={setStorage:VZ,batchSetStorage:XZ,setStorageSync:UZ,batchSetStorageSync:YZ,getStorage:zZ,batchGetStorage:GZ,getStorageSync:qZ,batchGetStorageSync:KZ,getStorageInfo:n0,getStorageInfoSync:i0,removeStorage:QZ,removeStorageSync:ZZ,clearStorage:e0,clearStorageSync:t0},o0={app:0,game:0,opendata:1,singlePage:2,cache:3},s0=e=>{var t=o0[e];return PZ.has(t)||PZ.set(t,xZ()),Object.keys(a0).reduce(((e,r)=>(e[r]=(...e)=>a0[r](t,...e),e)),{})},c0={app:s0("app"),game:s0("game"),opendata:s0("opendata"),singlePage:s0("singlePage"),cache:s0("cache")},l0=["setStorage","batchSetStorage","getStorage","batchGetStorage","getStorageInfo","removeStorage","clearStorage"],u0={};l0.forEach((e=>{u0[e]=(t={})=>{if(t.key&&t.key.toString().startsWith("__plugins__"))return void Rc(e,t,`invalid key "${t.key}"`);return c0[Uu()?"singlePage":"app"][`${e}`](t)},u0[`${e}Sync`]=(t,...r)=>{if(!t||!t.toString().startsWith("__plugins__"))return c0[Uu()?"singlePage":"app"][`${e}Sync`].call(void 0,t,...r)};var t=`plugin_${e}`;u0[t]=(t={})=>(t.key&&(t.key=`__plugins__/${t.key}`),c0[Uu()?"singlePage":"app"][`${e}`](t)),u0[`${t}Sync`]=(t,...r)=>(t&&(t=`__plugins__/${t}`),c0[Uu()?"singlePage":"app"][`${e}Sync`].call(void 0,t,...r))}));var d0=u0,p0=JSON.parse('{"audio":{"id":7,"src":7,"loop":7,"controls":7,"poster":7,"name":7,"author":7,"binderror":7,"bindplay":7,"bindpause":7,"bindtimeupdate":7,"bindended":7,"_p":7},"ad":{"unit-id":63,"ad-intervals":63,"ad-type":63,"ad-theme":63,"bindload":63,"binderror":63,"bindclose":63,"_p":63},"button":{"size":{"_p":63,"default":63,"mini":63},"type":{"_p":63,"primary":63,"default":63,"warn":63},"plain":63,"disabled":63,"loading":63,"form-type":{"_p":63,"submit":63,"reset":63},"open-type":{"_p":63,"contact":63,"share":63,"getPhoneNumber":63,"getUserInfo":63,"launchApp":63,"openSetting":63,"feedback":63,"chooseAvatar":63},"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"lang":{"_p":63,"en":63,"zh_CN":63,"zh_TW":63},"session-from":63,"send-message-title":63,"send-message-path":63,"send-message-img":63,"app-parameter":63,"show-message-card":63,"bindgetuserinfo":63,"bindcontact":63,"bindgetphonenumber":63,"binderror":63,"bindopensetting":63,"bindlaunchapp":63,"bindchooseavatar":63,"_p":63},"camera":{"mode":{"_p":23,"normal":23,"scanCode":23},"resolution":{"_p":23,"low":23,"medium":23,"high":23},"device-position":{"_p":23,"front":23,"back":23},"flash":{"_p":23,"auto":23,"on":23,"off":23,"torch":23},"frame-size":{"_p":23,"small":23,"medium":23,"large":23},"bindstop":23,"binderror":23,"bindinitdone":23,"bindscancode":23,"_p":23},"canvas":{"type":63,"canvas-id":63,"disable-scroll":63,"bindtouchstart":63,"bindtouchmove":63,"bindtouchend":63,"bindtouchcancel":63,"bindlongtap":63,"binderror":63,"_p":63},"channel-live":{"feed-id":63,"finder-user-name":63,"_p":63},"channel-video":{"feed-id":63,"finder-user-name":63,"autoplay":63,"loop":63,"muted":63,"object-fit":{"_p":63,"contain":63,"fill":63,"cover":63},"binderror":63,"_p":63},"checkbox":{"value":63,"disabled":63,"checked":63,"color":63,"_p":63},"checkbox-group":{"bindchange":63,"_p":63},"cover-image":{"src":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"bindload":63,"binderror":63,"_p":63},"cover-view":{"scroll-top":63,"_p":63},"editor":{"read-only":63,"placeholder":63,"show-img-size":63,"show-img-toolbar":63,"show-img-resize":63,"bindready":63,"bindfocus":63,"bindblur":63,"bindinput":63,"bindstatuschange":63,"_p":63},"form":{"report-submit":63,"report-submit-timeout":63,"bindsubmit":63,"bindreset":63,"_p":63},"functional-page-navigator":{"version":{"_p":63,"develop":63,"trial":63,"release":63},"name":{"_p":63,"loginAndGetUserInfo":63,"requestPayment":63,"chooseAddress":63,"chooseInvoice":63,"chooseInvoiceTitle":63},"args":63,"bindsuccess":63,"bindfail":63,"bindcancel":63,"_p":63},"icon":{"type":63,"size":63,"color":63,"_p":63},"image":{"src":63,"mode":{"_p":63,"scaleToFill":63,"aspectFit":63,"aspectFill":63,"widthFix":63,"heightFix":63,"top":63,"bottom":63,"center":63,"left":63,"right":63,"top left":63,"top right":63,"bottom left":63,"bottom right":63},"webp":63,"lazy-load":63,"show-menu-by-longpress":63,"binderror":63,"bindload":63,"_p":63},"input":{"value":63,"type":{"_p":63,"text":63,"number":63,"idcard":63,"digit":63,"safe-password":63,"nickname":63},"password":63,"placeholder":63,"placeholder-style":63,"placeholder-class":63,"disabled":63,"maxlength":63,"cursor-spacing":63,"auto-focus":63,"focus":63,"confirm-type":{"_p":63,"send":63,"search":63,"next":63,"go":63,"done":63},"always-embed":63,"confirm-hold":63,"cursor":63,"selection-start":63,"selection-end":63,"adjust-position":63,"hold-keyboard":63,"safe-password-cert-path":63,"safe-password-length":63,"safe-password-time-stamp":63,"safe-password-nonce":63,"safe-password-salt":63,"safe-password-custom-hash":63,"bindinput":63,"bindfocus":63,"bindblur":63,"bindconfirm":63,"bindkeyboardheightchange":63,"bindnicknamereview":63,"_p":63},"keyboard-accessory":7,"label":{"for":63,"_p":63},"live-player":{"src":31,"mode":{"_p":31,"live":31,"RTC":31},"autoplay":31,"muted":31,"orientation":{"_p":31,"vertical":31,"horizontal":31},"object-fit":{"_p":31,"contain":31,"fillCrop":31},"background-mute":31,"min-cache":31,"max-cache":31,"sound-mode":{"_p":31,"speaker":31,"ear":31},"auto-pause-if-navigate":31,"auto-pause-if-open-native":31,"picture-in-picture-mode":{"_p":31,"[]":31,"push":31,"pop":31},"enable-auto-rotation":31,"referrer-policy":{"_p":31,"origin":31,"no-referrer":31},"bindstatechange":31,"bindfullscreenchange":31,"bindnetstatus":31,"bindaudiovolumenotify":31,"bindenterpictureinpicture":31,"bindleavepictureinpicture":31,"_p":31},"live-pusher":{"url":31,"mode":31,"autopush":31,"enableVideoCustomRender":31,"muted":31,"enable-camera":31,"auto-focus":31,"orientation":{"_p":31,"vertical":31,"horizontal":31},"beauty":31,"whiteness":31,"aspect":31,"min-bitrate":31,"max-bitrate":31,"audio-quality":31,"waiting-image":31,"waiting-image-hash":31,"zoom":31,"device-position":31,"background-mute":31,"mirror":31,"remote-mirror":31,"local-mirror":{"_p":31,"auto":31,"enable":31,"disable":31},"audio-reverb-type":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"6":31,"7":31,"_p":31},"enable-mic":31,"enable-agc":31,"enable-ans":31,"audio-volume-type":{"_p":31,"auto":31,"media":31,"voicecall":31},"video-width":31,"video-height":31,"beauty-style":{"_p":31,"smooth":31,"nature":31},"filter":{"_p":31,"standard":31,"pink":31,"nostalgia":31,"blues":31,"romantic":31,"cool":31,"fresher":31,"solor":31,"aestheticism":31,"whitening":31,"cerisered":31},"picture-in-picture-mode":{"_p":31,"[]":31,"push":31,"pop":31},"custom-effect":31,"skin-whiteness":31,"skin-smoothness":31,"face-thinness":31,"eye-bigness":31,"bindstatechange":31,"bindnetstatus":31,"binderror":31,"bindbgmstart":31,"bindbgmprogress":31,"bindbgmcomplete":31,"bindaudiovolumenotify":31,"bindenterpictureinpicture":31,"bindleavepictureinpicture":31,"_p":31},"map":{"longitude":63,"latitude":63,"scale":63,"min-scale":63,"max-scale":63,"markers":63,"covers":63,"polyline":63,"circles":63,"controls":63,"include-points":63,"show-location":63,"polygons":63,"subkey":63,"layer-style":63,"rotate":63,"skew":63,"enable-3D":63,"show-compass":63,"show-scale":63,"enable-overlooking":63,"enable-auto-max-overlooking":63,"enable-zoom":63,"enable-scroll":63,"enable-rotate":63,"enable-satellite":63,"enable-traffic":63,"enable-poi":63,"enable-building":63,"setting":63,"bindtap":63,"bindmarkertap":63,"bindlabeltap":63,"bindcontroltap":63,"bindcallouttap":63,"bindupdated":63,"bindregionchange":63,"bindpoitap":63,"bindanchorpointtap":63,"_p":63},"match-media":{"min-width":63,"max-width":63,"width":63,"min-height":63,"max-height":63,"height":63,"orientation":63,"_p":63},"movable-area":{"scale-area":63,"_p":63},"movable-view":{"direction":63,"inertia":63,"out-of-bounds":63,"x":63,"y":63,"damping":63,"friction":63,"disabled":63,"scale":63,"scale-min":63,"scale-max":63,"scale-value":63,"animation":63,"bindchange":63,"bindscale":63,"htouchmove":63,"vtouchmove":63,"_p":63},"navigation-bar":{"title":63,"loading":63,"front-color":63,"background-color":63,"color-animation-duration":63,"color-animation-timing-func":63,"_p":63},"navigator":{"target":{"_p":63,"self":63,"miniProgram":63},"url":63,"open-type":{"_p":63,"navigate":63,"redirect":63,"switchTab":63,"reLaunch":63,"navigateBack":63,"exit":63},"delta":63,"app-id":63,"path":63,"extra-data":63,"version":{"_p":63,"develop":63,"trial":63,"release":63},"short-link":63,"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"bindsuccess":63,"bindfail":63,"bindcomplete":63,"_p":63},"official-account":23,"open-data":{"type":{"_p":63,"groupName":63,"userNickName":63,"userAvatarUrl":63,"userGender":63,"userCity":63,"userProvince":63,"userCountry":63,"userLanguage":63},"open-gid":63,"lang":{"_p":63,"en":63,"zh_CN":63,"zh_TW":63},"default-text":63,"default-avatar":63,"binderror":63,"_p":63},"page-container":{"show":63,"duration":63,"z-index":63,"overlay":63,"position":63,"round":63,"close-on-slide-down":63,"overlay-style":63,"custom-style":63,"bind:beforeenter":63,"bind:enter":63,"bind:afterenter":63,"bind:beforeleave":63,"bind:leave":63,"bind:afterleave":63,"bind:clickoverlay":63,"_p":63},"page-meta":{"background-text-style":63,"background-color":63,"background-color-top":63,"background-color-bottom":63,"root-background-color":63,"scroll-top":63,"scroll-duration":63,"page-style":63,"page-font-size":63,"root-font-size":63,"page-orientation":63,"bindresize":63,"bindscroll":63,"bindscrolldone":63,"_p":63},"picker":{"header-text":63,"mode":{"_p":63,"selector":63,"multiSelector":63,"time":63,"date":63,"region":63},"disabled":63,"bindcancel":63,"_p":63},"picker-view":{"value":63,"indicator-style":63,"indicator-class":63,"mask-style":63,"mask-class":63,"immediate-change":63,"bindchange":63,"bindpickstart":63,"bindpickend":63,"_p":63},"picker-view-column":63,"progress":{"percent":63,"show-info":63,"border-radius":63,"font-size":63,"stroke-width":63,"color":63,"activeColor":63,"backgroundColor":63,"active":63,"active-mode":63,"duration":63,"bindactiveend":63,"_p":63},"radio":{"value":63,"checked":63,"disabled":63,"color":63,"_p":63},"radio-group":{"bindchange":63,"_p":63},"rich-text":{"nodes":63,"space":{"_p":63,"ensp":63,"emsp":63,"nbsp":63},"user-select":63,"_p":63},"root-portal":{"enable":63,"_p":63},"scroll-view":{"scroll-x":63,"scroll-y":63,"upper-threshold":63,"lower-threshold":63,"scroll-top":63,"scroll-left":63,"scroll-into-view":63,"scroll-with-animation":63,"enable-back-to-top":63,"enable-flex":63,"scroll-anchoring":63,"enable-passive":63,"refresher-enabled":63,"refresher-threshold":63,"refresher-default-style":63,"refresher-background":63,"refresher-triggered":63,"enhanced":63,"bounces":63,"show-scrollbar":63,"paging-enabled":63,"fast-deceleration":63,"binddragstart":63,"binddragging":63,"binddragend":63,"bindscrolltoupper":63,"bindscrolltolower":63,"bindscroll":63,"bindrefresherpulling":63,"bindrefresherrefresh":63,"bindrefresherrestore":63,"bindrefresherabort":63,"_p":63},"share-element":{"key":63,"transform":63,"duration":63,"easing-function":63,"_p":63},"slider":{"min":63,"max":63,"step":63,"disabled":63,"value":63,"color":63,"selected-color":63,"activeColor":63,"backgroundColor":63,"block-size":63,"block-color":63,"show-value":63,"bindchange":63,"bindchanging":63,"_p":63},"swiper":{"indicator-dots":63,"indicator-color":63,"indicator-active-color":63,"autoplay":63,"current":63,"interval":63,"duration":63,"circular":63,"vertical":63,"previous-margin":63,"next-margin":63,"snap-to-edge":63,"display-multiple-items":63,"easing-function":{"_p":63,"default":63,"linear":63,"easeInCubic":63,"easeOutCubic":63,"easeInOutCubic":63},"bindchange":63,"bindtransition":63,"bindanimationfinish":63,"_p":63},"swiper-item":{"item-id":63,"skip-hidden-item-layout":63,"_p":63},"switch":{"checked":63,"disabled":63,"type":63,"color":63,"bindchange":63,"_p":63},"text":{"selectable":63,"user-select":63,"space":{"_p":63,"ensp":63,"emsp":63,"nbsp":63},"decode":63,"_p":63},"textarea":{"value":63,"placeholder":63,"placeholder-style":63,"placeholder-class":63,"disabled":63,"maxlength":63,"auto-focus":63,"focus":63,"auto-height":63,"fixed":63,"cursor-spacing":63,"cursor":63,"show-confirm-bar":63,"selection-start":63,"selection-end":63,"adjust-position":63,"hold-keyboard":63,"disable-default-padding":63,"confirm-type":{"_p":63,"send":63,"search":63,"next":63,"go":63,"done":63,"return":63},"confirm-hold":63,"bindfocus":63,"bindblur":63,"bindlinechange":63,"bindinput":63,"bindconfirm":63,"bindkeyboardheightchange":63,"_p":63},"video":{"src":63,"duration":63,"controls":63,"danmu-list":63,"danmu-btn":63,"enable-danmu":63,"autoplay":63,"loop":63,"muted":63,"initial-time":63,"page-gesture":63,"direction":{"0":63,"90":63,"_p":63,"-90":63},"show-progress":63,"show-fullscreen-btn":63,"show-play-btn":63,"show-center-play-btn":63,"enable-progress-gesture":63,"object-fit":{"_p":63,"contain":63,"fill":63,"cover":63},"poster":63,"show-mute-btn":63,"title":63,"play-btn-position":{"_p":63,"bottom":63,"center":63},"enable-play-gesture":63,"auto-pause-if-navigate":63,"auto-pause-if-open-native":63,"vslide-gesture":63,"vslide-gesture-in-fullscreen":63,"show-bottom-progress":63,"ad-unit-id":63,"poster-for-crawler":63,"show-casting-button":63,"picture-in-picture-mode":{"_p":63,"[]":63,"push":63,"pop":63},"picture-in-picture-show-progress":63,"enable-auto-rotation":63,"show-screen-lock-button":63,"show-snapshot-button":63,"show-background-playback-button":63,"background-poster":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"is-drm":63,"is-live":63,"provision-url":63,"certificate-url":63,"license-url":63,"preferred-peak-bit-rate":63,"bindplay":63,"bindpause":63,"bindended":63,"bindtimeupdate":63,"bindfullscreenchange":63,"bindwaiting":63,"binderror":63,"bindprogress":63,"bindloadedmetadata":63,"bindcontrolstoggle":63,"bindenterpictureinpicture":63,"bindleavepictureinpicture":63,"bindseekcomplete":63,"_p":63},"view":{"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"_p":63},"voip-room":{"openid":7,"mode":{"_p":7,"camera":7,"video":7},"device-position":{"_p":7,"front":7,"back":7},"object-fit":{"_p":7,"fill":7,"contain":7,"cover":7},"binderror":7,"_p":7},"web-view":{"src":31,"bindmessage":31,"bindload":31,"binderror":31,"_p":31},"ad-custom":{"unit-id":63,"ad-intervals":63,"bindload":63,"binderror":63,"_p":63},"aria-component":63,"native-component":63}'),h0=p0,f0=JSON.parse('{"class":{"VKSession":{"start":63,"stop":63,"destroy":63,"requestAnimationFrame":63,"cancelAnimationFrame":63,"getVKFrame":63,"hitTest":63,"addMarker":63,"removeMarker":63,"getAllMarker":63,"addOSDMarker":63,"removeOSDMarker":63,"getAllOSDMarker":63,"updateOSDThreshold":63,"detectFace":63,"detectBody":63,"detectHand":63,"runOCR":63,"on":63,"off":63,"state":63,"config":63,"cameraSize":63,"_p":63},"VKFrame":{"getCameraTexture":63,"getCameraBuffer":63,"getDisplayTransform":63,"timestamp":63,"camera":63,"_p":63},"VKCamera":{"getProjectionMatrix":63,"viewMatrix":63,"intrinsics":63,"_p":63},"VKPlaneAnchor":{"id":63,"type":63,"transform":63,"size":63,"alignment":63,"_p":63},"VKMarkerAnchor":{"id":63,"type":63,"transform":63,"markerId":63,"path":63,"_p":63},"VKOSDAnchor":{"id":63,"type":63,"markerId":63,"size":63,"path":63,"origin":63,"_p":63},"VKFaceAnchor":{"id":7,"type":7,"detectId":7,"origin":7,"size":7,"points":7,"angle":7,"confidence":7,"_p":7},"VKOCRAnchor":{"id":63,"type":63,"text":63,"_p":63},"VKBodyAnchor":{"id":7,"type":7,"detectId":7,"size":7,"origin":7,"confidence":7,"points":7,"score":7,"_p":7},"VKHandAnchor":{"id":7,"type":7,"detectId":7,"size":7,"origin":7,"confidence":7,"points":7,"score":7,"gesture":7,"_p":7},"wx.env":{"USER_DATA_PATH":7,"_p":7},"wx.worklet":{"shared":7,"derived":7,"cancelAnimation":7,"runOnUI":7,"runOnJS":7,"timing":7,"spring":7,"decay":7,"sequence":7,"repeat":7,"delay":7,"_p":7},"CanvasContext":{"draw":63,"createLinearGradient":63,"createCircularGradient":63,"createPattern":63,"measureText":63,"save":63,"restore":63,"beginPath":63,"moveTo":63,"lineTo":63,"quadraticCurveTo":63,"bezierCurveTo":63,"arc":63,"rect":63,"arcTo":63,"clip":63,"fillRect":63,"strokeRect":63,"clearRect":63,"fill":63,"stroke":63,"closePath":63,"scale":63,"rotate":63,"translate":63,"drawImage":63,"strokeText":63,"transform":63,"setTransform":63,"setFillStyle":63,"setStrokeStyle":63,"setShadow":63,"setGlobalAlpha":63,"setLineWidth":63,"setLineJoin":63,"setLineCap":63,"setLineDash":63,"setMiterLimit":63,"fillText":63,"setFontSize":63,"setTextAlign":63,"setTextBaseline":63,"fillStyle":63,"strokeStyle":63,"shadowOffsetX":63,"shadowOffsetY":63,"shadowColor":63,"shadowBlur":63,"lineWidth":63,"lineCap":63,"lineJoin":63,"miterLimit":63,"lineDashOffset":63,"font":63,"globalAlpha":63,"globalCompositeOperation":63,"_p":63},"CanvasGradient":{"addColorStop":63,"_p":63},"OffscreenCanvas":{"getContext":63,"createImage":63,"width":63,"height":63,"_p":63},"Color":63,"EventChannel":{"emit":63,"on":63,"once":63,"off":63,"_p":63},"IntersectionObserver":{"relativeTo":63,"relativeToViewport":63,"observe":63,"disconnect":63,"_p":63},"MediaQueryObserver":{"observe":63,"disconnect":63,"_p":63},"NodesRef":{"fields":63,"boundingClientRect":63,"scrollOffset":63,"context":63,"node":63,"_p":63},"SelectorQuery":{"in":63,"select":63,"selectAll":63,"selectViewport":63,"exec":63,"_p":63},"AudioContext":{"setSrc":63,"play":63,"pause":63,"seek":63,"_p":63},"InnerAudioContext":{"play":63,"pause":63,"stop":63,"seek":63,"destroy":63,"onCanplay":63,"offCanplay":63,"onPlay":63,"offPlay":63,"onPause":63,"offPause":63,"onStop":63,"offStop":63,"onEnded":63,"offEnded":63,"onTimeUpdate":63,"offTimeUpdate":63,"onError":63,"offError":63,"onWaiting":63,"offWaiting":63,"onSeeking":63,"offSeeking":63,"onSeeked":63,"offSeeked":63,"src":63,"startTime":63,"autoplay":63,"loop":63,"obeyMuteSwitch":63,"volume":63,"playbackRate":63,"duration":63,"currentTime":63,"paused":63,"buffered":63,"referrerPolicy":63,"_p":63},"CameraContext":{"onCameraFrame":63,"takePhoto":63,"setZoom":63,"startRecord":63,"stopRecord":63,"_p":63},"CameraFrameListener":{"start":63,"stop":63,"_p":63},"EditorContext":{"format":63,"insertDivider":63,"insertImage":63,"insertText":63,"setContents":63,"getContents":63,"clear":63,"removeFormat":63,"undo":63,"redo":63,"blur":63,"scrollIntoView":63,"getSelectionText":63,"_p":63},"LivePlayerContext":{"play":63,"stop":63,"mute":63,"pause":63,"resume":63,"requestFullScreen":63,"exitFullScreen":63,"exitPictureInPicture":63,"snapshot":63,"requestPictureInPicture":63,"_p":63},"LivePusherContext":{"start":63,"stop":63,"pause":63,"resume":63,"switchCamera":63,"snapshot":63,"toggleTorch":63,"playBGM":63,"stopBGM":63,"pauseBGM":63,"resumeBGM":63,"setBGMVolume":63,"setMICVolume":63,"startPreview":63,"stopPreview":63,"sendMessage":63,"exitPictureInPicture":63,"applyFilter":63,"clearFilters":63,"applySticker":63,"clearStickers":63,"applyLipStickMakeup":63,"applyEyeShadowMakeup":63,"applyBlusherStickMakeup":63,"applyFaceContourMakeup":63,"applyEyeBrowMakeup":63,"clearMakeups":63,"onCustomRendererEvent":63,"createOffscreenCanvas":63,"_p":63},"MapContext":{"getCenterLocation":63,"setLocMarkerIcon":63,"moveToLocation":63,"translateMarker":63,"moveAlong":63,"includePoints":63,"getRegion":63,"getRotate":63,"getSkew":63,"getScale":63,"setCenterOffset":63,"removeCustomLayer":63,"addCustomLayer":63,"addGroundOverlay":63,"addVisualLayer":63,"removeVisualLayer":63,"executeVisualLayerCommand":63,"addArc":63,"removeArc":63,"setBoundary":63,"updateGroundOverlay":63,"removeGroundOverlay":63,"toScreenLocation":63,"fromScreenLocation":63,"openMapApp":63,"addMarkers":63,"removeMarkers":63,"initMarkerCluster":63,"on":63,"_p":63},"ScrollViewContext":{"scrollTo":63,"scrollIntoView":63,"scrollEnabled":63,"bounces":63,"showScrollbar":63,"pagingEnabled":63,"fastDeceleration":63,"decelerationDisabled":63,"_p":63},"VideoContext":{"play":63,"pause":63,"stop":63,"seek":63,"sendDanmu":63,"playbackRate":63,"requestFullScreen":63,"exitFullScreen":63,"showStatusBar":63,"hideStatusBar":63,"exitPictureInPicture":63,"requestBackgroundPlayback":63,"exitBackgroundPlayback":63,"_p":63},"UserCryptoManager":{"getLatestUserKey":63,"getRandomValues":63,"_p":63},"LogManager":{"debug":63,"info":63,"log":63,"warn":63,"_p":63},"RealtimeLogManager":{"info":63,"warn":63,"error":63,"setFilterMsg":63,"addFilterMsg":63,"_p":63},"RealtimeTagLogManager":{"info":63,"warn":63,"error":63,"setFilterMsg":63,"addFilterMsg":63,"_p":63},"BeaconInfo":{"uuid":7,"major":7,"minor":7,"proximity":7,"accuracy":7,"rssi":7,"_p":7},"MediaRecorder":{"pause":39,"resume":39,"start":39,"stop":39,"requestFrame":39,"on":39,"off":39,"destroy":39,"_p":39},"VideoDecoder":{"start":63,"seek":63,"stop":63,"remove":63,"getFrameData":63,"on":63,"off":63,"_p":63},"MediaTrack":{"kind":63,"duration":63,"volume":63,"_p":63},"MediaContainer":{"extractDataSource":63,"addTrack":63,"removeTrack":63,"export":63,"destroy":63,"_p":63},"UserInfo":{"nickName":7,"avatarUrl":7,"gender":7,"country":7,"province":7,"city":7,"language":7,"_p":7},"PreDownloadSubpackageTask":{"onProgressUpdate":7,"_p":7},"Animation":{"export":63,"step":63,"matrix":63,"matrix3d":63,"rotate":63,"rotate3d":63,"rotateX":63,"rotateY":63,"rotateZ":63,"scale":63,"scale3d":63,"scaleX":63,"scaleY":63,"scaleZ":63,"skew":63,"skewX":63,"skewY":63,"translate":63,"translate3d":63,"translateX":63,"translateY":63,"translateZ":63,"opacity":63,"backgroundColor":63,"width":63,"height":63,"left":63,"right":63,"top":63,"bottom":63,"_p":63},"Worker":{"postMessage":63,"terminate":63,"testOnProcessKilled":63,"onMessage":63,"onProcessKilled":63,"env":63,"_p":63},"CacheManager":{"addRules":7,"addRule":7,"deleteRules":7,"deleteRule":7,"clearRules":7,"on":7,"off":7,"start":7,"stop":7,"match":7,"deleteCaches":7,"deleteCache":7,"clearCaches":7,"mode":7,"origin":7,"maxAge":7,"state":7,"_p":7},"FileSystemManager":63,"ReadResult":{"bytesRead":63,"arrayBuffer":63,"_p":63},"Stats":{"isDirectory":63,"isFile":63,"mode":63,"size":63,"lastAccessedTime":63,"lastModifiedTime":63,"_p":63},"WriteResult":{"bytesWritten":63,"_p":63},"UDPSocket":{"bind":63,"setTTL":63,"send":63,"connect":63,"write":63,"close":63,"onClose":63,"offClose":63,"onError":63,"offError":63,"onListening":63,"offListening":63,"onMessage":63,"offMessage":63,"_p":63},"NFCAdapter":{"startDiscovery":5,"stopDiscovery":5,"getNdef":5,"getNfcA":5,"getNfcB":5,"getIsoDep":5,"getNfcF":5,"getNfcV":5,"getMifareClassic":5,"getMifareUltralight":5,"onDiscovered":5,"offDiscovered":5,"tech":5,"_p":5},"Ndef":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"onNdefMessage":5,"offNdefMessage":5,"writeNdefMessage":5,"_p":5},"NfcA":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"getAtqa":5,"getSak":5,"_p":5},"NfcB":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"IsoDep":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"getHistoricalBytes":5,"_p":5},"NfcF":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NfcV":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"MifareClassic":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"MifareUltralight":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"WifiInfo":{"SSID":7,"BSSID":7,"secure":7,"signalStrength":7,"frequency":7,"_p":7},"BackgroundAudioManager":{"play":63,"pause":63,"seek":63,"stop":63,"onCanplay":63,"onWaiting":63,"onError":63,"onPlay":63,"onPause":63,"onSeeking":63,"onSeeked":63,"onEnded":63,"onStop":63,"onTimeUpdate":63,"onNext":63,"onPrev":63,"src":63,"startTime":63,"title":63,"epname":63,"singer":63,"coverImgUrl":63,"webUrl":63,"protocol":63,"playbackRate":63,"duration":63,"currentTime":63,"paused":63,"buffered":63,"referrerPolicy":63,"_p":63},"RecorderManager":{"start":63,"pause":63,"resume":63,"stop":63,"onStart":63,"onResume":63,"onPause":63,"onStop":63,"onFrameRecorded":63,"onError":63,"onInterruptionBegin":63,"onInterruptionEnd":63,"_p":63},"DownloadTask":{"abort":63,"onProgressUpdate":63,"offProgressUpdate":63,"onHeadersReceived":63,"offHeadersReceived":63,"_p":63},"RequestTask":{"abort":63,"onHeadersReceived":63,"offHeadersReceived":63,"onChunkReceived":63,"offChunkReceived":63,"_p":63},"SocketTask":{"send":63,"close":63,"onOpen":63,"onClose":63,"onError":63,"onMessage":63,"_p":63},"UploadTask":{"abort":63,"onProgressUpdate":63,"offProgressUpdate":63,"onHeadersReceived":63,"offHeadersReceived":63,"_p":63},"AuthSetting":{"scope.userInfo":7,"scope.userLocation":7,"scope.address":7,"scope.invoiceTitle":7,"scope.invoice":7,"scope.werun":7,"scope.record":7,"scope.writePhotosAlbum":7,"scope.camera":7,"scope.bluetooth":7,"scope.addPhoneContact":7,"scope.addPhoneCalendar":7,"_p":7},"SubscriptionsSetting":{"mainSwitch":7,"itemSettings":7,"_p":7},"UpdateManager":{"applyUpdate":63,"onCheckForUpdate":63,"onUpdateReady":63,"onUpdateFailed":63,"_p":63},"BLEPeripheralServer":{"addService":63,"removeService":63,"startAdvertising":63,"stopAdvertising":63,"writeCharacteristicValue":63,"onCharacteristicWriteRequest":63,"offCharacteristicWriteRequest":63,"onCharacteristicReadRequest":63,"offCharacteristicReadRequest":63,"onCharacteristicSubscribed":63,"offCharacteristicSubscribed":63,"onCharacteristicUnsubscribed":63,"offCharacteristicUnsubscribed":63,"_p":63},"MediaAudioPlayer":{"start":63,"addAudioSource":63,"removeAudioSource":63,"stop":63,"destroy":63,"volume":63,"_p":63},"WebAudioContext":{"close":63,"resume":63,"suspend":63,"createIIRFilter":63,"createWaveShaper":63,"createConstantSource":63,"createOscillator":63,"createGain":63,"createPeriodicWave":63,"createBiquadFilter":63,"createBufferSource":63,"createChannelMerger":63,"createChannelSplitter":63,"createDelay":63,"createDynamicsCompressor":63,"createScriptProcessor":63,"createAnalyser":63,"createPanner":63,"createBuffer":63,"decodeAudioData":63,"state":63,"onstatechange":63,"currentTime":63,"destination":63,"listener":63,"sampleRate":63,"_p":63},"WebAudioContextNode":{"positionX":63,"positionY":63,"positionZ":63,"forwardX":63,"forwardY":63,"forwardZ":63,"upX":63,"upY":63,"upZ":63,"setOrientation":63,"setPosition":63,"_p":63},"AudioBuffer":{"getChannelData":63,"copyFromChannel":63,"copyToChannel":63,"sampleRate":63,"length":63,"duration":63,"numberOfChannels":63,"_p":63},"console":{"debug":7,"log":7,"info":7,"warn":7,"error":7,"group":7,"groupEnd":7,"_p":7},"PerformanceEntry":{"entryType":63,"name":63,"startTime":63,"duration":63,"path":63,"referrerPath":63,"pageId":63,"referrerPageId":63,"navigationStart":63,"navigationType":63,"moduleName":63,"fileList":63,"viewLayerReadyTime":63,"initDataSendTime":63,"initDataRecvTime":63,"viewLayerRenderStartTime":63,"viewLayerRenderEndTime":63,"packageName":63,"packageSize":63,"uri":63,"initiatorType":63,"transferSize":63,"domainLookupStart":63,"domainLookupEnd":63,"_p":63},"EntryList":{"getEntries":63,"getEntriesByType":63,"getEntriesByName":63,"_p":63},"Performance":{"getEntries":63,"getEntriesByType":63,"getEntriesByName":63,"createObserver":63,"setBufferSize":63,"_p":63},"PerformanceObserver":{"observe":63,"disconnect":63,"supportedEntryTypes":63,"_p":63},"TCPSocket":{"bindWifi":7,"connect":7,"write":7,"close":7,"onClose":7,"offClose":7,"onConnect":7,"offConnect":7,"onError":7,"offError":7,"onMessage":7,"offMessage":7,"onBindWifi":7,"offBindWifi":7,"_p":7},"Canvas":{"getContext":63,"createImage":63,"createImageData":63,"createPath2D":63,"requestAnimationFrame":63,"cancelAnimationFrame":63,"toDataURL":63,"width":63,"height":63,"_p":63},"RenderingContext":63,"Image":{"src":63,"width":63,"height":63,"referrerPolicy":63,"onload":63,"onerror":63,"_p":63},"ImageData":{"width":63,"height":63,"data":63,"_p":63},"Path2D":63,"InterstitialAd":{"show":7,"load":7,"destroy":7,"onLoad":7,"offLoad":7,"onError":7,"offError":7,"onClose":7,"offClose":7,"_p":7},"RewardedVideoAd":{"load":7,"show":7,"destroy":7,"onLoad":7,"offLoad":7,"onError":7,"offError":7,"onClose":7,"offClose":7,"_p":7}},"method":{"createVKSession":{"object":{"version":{"v1":7,"v2":7,"_p":7},"track":{"plane":7,"marker":7,"OSD":7,"face":7,"OCR":7,"body":7,"hand":7,"threeDof":7,"_p":7},"gl":7},"_p":7},"isVKSupport":7,"preloadAssets":{"object":{"data":63},"_p":63},"preloadWebview":7,"exitVoIPChat":7,"joinVoIPChat":{"object":{"roomType":{"voice":7,"video":7,"_p":7},"signature":7,"nonceStr":7,"timeStamp":7,"groupId":7,"muteConfig":7,"forceCellularNetwork":7},"success":{"openIdList":7,"errCode":7,"errMsg":7},"_p":7},"onVoIPChatInterrupted":{"callback":{"errCode":7,"errMsg":7},"_p":7},"offVoIPChatInterrupted":7,"onVoIPChatMembersChanged":{"callback":{"openIdList":7,"errCode":7,"errMsg":7},"_p":7},"offVoIPChatMembersChanged":7,"onVoIPChatSpeakersChanged":{"callback":{"openIdList":7,"errCode":7,"errMsg":7},"_p":7},"offVoIPChatSpeakersChanged":7,"onVoIPChatStateChanged":{"callback":{"code":7,"data":7,"errCode":7,"errMsg":7},"_p":7},"offVoIPChatStateChanged":7,"onVoIPVideoMembersChanged":{"callback":{"openIdList":7,"errCode":7,"errMsg":7},"_p":7},"offVoIPVideoMembersChanged":7,"subscribeVoIPVideoMembers":{"object":{"openIdList":7},"_p":7},"updateVoIPChatMuteConfig":{"object":{"muteConfig":7},"_p":7},"setEnable1v1Chat":{"object":{"enable":7,"backgroundType":{"0":7,"1":7,"2":7,"3":7,"4":7,"5":7,"_p":7},"minWindowType":7},"_p":7},"join1v1Chat":{"object":{"caller":7,"listener":7,"backgroundType":{"0":7,"1":7,"2":7,"3":7,"4":7,"5":7,"_p":7},"roomType":{"voice":7,"video":7,"_p":7},"minWindowType":7,"disableSwitchVoice":7},"_p":7},"getAccountInfoSync":{"return":{"miniProgram":{"appId":63,"envVersion":63,"version":63,"_p":63},"plugin":{"appId":63,"version":63,"_p":63}},"_p":63},"getEnterOptionsSync":{"return":{"path":63,"scene":63,"query":63,"shareTicket":63,"referrerInfo":{"appId":63,"extraData":63,"_p":63},"forwardMaterials":63,"chatType":{"1":63,"2":63,"3":63,"4":63,"_p":63},"apiCategory":{"default":63,"nativeFunctionalized":63,"browseOnly":63,"embedded":63,"_p":63}},"_p":63},"onError":63,"offError":63,"onUnhandledRejection":{"callback":{"reason":7,"promise":7},"_p":7},"offUnhandledRejection":7,"getLaunchOptionsSync":{"return":{"path":63,"scene":63,"query":63,"shareTicket":63,"referrerInfo":{"appId":63,"extraData":63,"_p":63},"forwardMaterials":63,"chatType":{"1":63,"2":63,"3":63,"4":63,"_p":63},"apiCategory":{"default":63,"nativeFunctionalized":63,"browseOnly":63,"embedded":63,"_p":63}},"_p":63},"onLazyLoadError":{"callback":{"type":7,"subpackage":7,"errMsg":7},"_p":7},"offLazyLoadError":7,"onPageNotFound":{"callback":{"path":7,"query":7,"isEntryPage":7},"_p":7},"offPageNotFound":7,"onThemeChange":{"callback":{"theme":{"dark":7,"light":7,"_p":7}},"_p":7},"offThemeChange":7,"createBufferURL":7,"revokeBufferURL":7,"canvasGetImageData":{"object":{"canvasId":7,"x":7,"y":7,"width":7,"height":7},"success":{"width":7,"height":7,"data":7},"_p":7},"canvasPutImageData":{"object":{"canvasId":7,"data":7,"x":7,"y":7,"width":7,"height":7},"_p":7},"canvasToTempFilePath":{"object":{"x":63,"y":63,"width":63,"height":63,"destWidth":63,"destHeight":63,"canvasId":63,"canvas":63,"fileType":{"jpg":63,"png":63,"_p":63},"quality":63},"success":{"tempFilePath":63},"_p":63},"createOffscreenCanvas":{"object":{"type":{"webgl":63,"2d":63,"_p":63},"width":63,"height":63,"compInst":63},"_p":63},"createCanvasContext":63,"createIntersectionObserver":63,"nextTick":63,"createSelectorQuery":63,"createAudioContext":7,"createCameraContext":63,"createLivePlayerContext":63,"createLivePusherContext":63,"createMapContext":63,"createVideoContext":63,"createInnerAudioContext":{"object":{"useWebAudioImplement":63},"_p":63},"onCopyUrl":{"callback":{"query":7},"_p":7},"offCopyUrl":7,"getRandomValues":{"object":{"length":7},"success":{"randomValues":7},"_p":7},"getUserCryptoManager":7,"getLogManager":{"object":{"level":63},"_p":63},"getRealtimeLogManager":7,"setEnableDebug":{"object":{"enableDebug":7},"_p":7},"startAccelerometer":{"object":{"interval":{"game":39,"ui":39,"normal":39,"_p":39}},"_p":39},"stopAccelerometer":39,"onAccelerometerChange":{"callback":{"x":7,"y":7,"z":7},"_p":7},"offAccelerometerChange":39,"checkIsOpenAccessibility":{"success":{"open":7},"_p":7},"getBatteryInfo":{"success":{"level":47,"isCharging":47},"_p":47},"getBatteryInfoSync":{"return":{"level":47,"isCharging":47},"_p":47},"addPhoneCalendar":{"object":{"title":7,"startTime":7,"allDay":7,"description":7,"location":7,"endTime":7,"alarm":7,"alarmOffset":7},"_p":7},"addPhoneRepeatCalendar":{"object":{"title":7,"startTime":7,"allDay":7,"description":7,"location":7,"endTime":7,"alarm":7,"alarmOffset":7,"repeatInterval":{"day":7,"week":7,"month":7,"year":7,"_p":7},"repeatEndTime":7},"_p":7},"getClipboardData":{"success":{"data":63},"_p":63},"setClipboardData":{"object":{"data":63},"_p":63},"startCompass":39,"stopCompass":39,"onCompassChange":{"callback":{"direction":7,"accuracy":7},"_p":7},"offCompassChange":7,"chooseContact":{"success":{"phoneNumber":7,"displayName":7,"phoneNumberList":7},"_p":7},"addPhoneContact":{"object":{"firstName":7,"photoFilePath":7,"nickName":7,"lastName":7,"middleName":7,"remark":7,"mobilePhoneNumber":7,"weChatNumber":7,"addressCountry":7,"addressState":7,"addressCity":7,"addressStreet":7,"addressPostalCode":7,"organization":7,"title":7,"workFaxNumber":7,"workPhoneNumber":7,"hostNumber":7,"email":7,"url":7,"workAddressCountry":7,"workAddressState":7,"workAddressCity":7,"workAddressStreet":7,"workAddressPostalCode":7,"homeFaxNumber":7,"homePhoneNumber":7,"homeAddressCountry":7,"homeAddressState":7,"homeAddressCity":7,"homeAddressStreet":7,"homeAddressPostalCode":7},"_p":7},"getLocalIPAddress":{"success":{"errMsg":7,"localip":7,"netmask":7},"_p":7},"startGyroscope":{"object":{"interval":{"game":7,"ui":7,"normal":7,"_p":7}},"_p":7},"stopGyroscope":7,"onGyroscopeChange":{"callback":{"x":7,"y":7,"z":7},"_p":7},"startBeaconDiscovery":{"object":{"uuids":7,"ignoreBluetoothAvailable":7},"_p":7},"stopBeaconDiscovery":7,"getBeacons":{"success":{"beacons":7},"_p":7},"onBeaconUpdate":{"callback":{"beacons":7},"_p":7},"offBeaconUpdate":7,"onBeaconServiceChange":{"callback":{"available":7,"discovering":7},"_p":7},"offBeaconServiceChange":7,"startLocalServiceDiscovery":{"object":{"serviceType":7},"_p":7},"stopLocalServiceDiscovery":7,"onLocalServiceFound":{"callback":{"serviceType":7,"serviceName":7,"ip":7,"port":7},"_p":7},"offLocalServiceFound":7,"onLocalServiceLost":{"callback":{"serviceType":7,"serviceName":7},"_p":7},"offLocalServiceLost":7,"onLocalServiceDiscoveryStop":7,"offLocalServiceDiscoveryStop":7,"onLocalServiceResolveFail":{"callback":{"serviceType":7,"serviceName":7},"_p":7},"offLocalServiceResolveFail":7,"startDeviceMotionListening":{"object":{"interval":{"game":7,"ui":7,"normal":7,"_p":7}},"_p":7},"stopDeviceMotionListening":7,"onDeviceMotionChange":{"callback":{"alpha":7,"beta":7,"gamma":7},"_p":7},"offDeviceMotionChange":7,"getNetworkType":{"success":{"networkType":{"wifi":31,"2g":31,"3g":31,"4g":31,"5g":31,"unknown":31,"none":31,"_p":31},"signalStrength":31,"hasSystemProxy":31},"_p":31},"onNetworkStatusChange":{"callback":{"isConnected":47,"networkType":{"wifi":47,"2g":47,"3g":47,"4g":47,"5g":47,"unknown":47,"none":47,"_p":47}},"_p":47},"offNetworkStatusChange":7,"onNetworkWeakChange":{"callback":{"weakNet":47,"networkType":47},"_p":47},"offNetworkWeakChange":47,"makePhoneCall":{"object":{"phoneNumber":39},"_p":39},"scanCode":{"object":{"onlyFromCamera":7,"scanType":{"barCode":7,"qrCode":7,"datamatrix":7,"pdf417":7,"_p":7}},"success":{"result":7,"scanType":{"QR_CODE":7,"AZTEC":7,"CODABAR":7,"CODE_39":7,"CODE_93":7,"CODE_128":7,"DATA_MATRIX":7,"EAN_8":7,"EAN_13":7,"ITF":7,"MAXICODE":7,"PDF_417":7,"RSS_14":7,"RSS_EXPANDED":7,"UPC_A":7,"UPC_E":7,"UPC_EAN_EXTENSION":7,"WX_CODE":7,"CODE_25":7,"_p":7},"charSet":7,"path":7,"rawData":7},"_p":7},"sendSms":{"object":{"phoneNumber":7,"content":7},"_p":7},"vibrateShort":{"object":{"type":7},"_p":7},"vibrateLong":7,"getExptInfoSync":63,"reportEvent":7,"getExtConfig":{"success":{"extConfig":63},"_p":63},"getExtConfigSync":63,"initFaceDetect":7,"faceDetect":{"object":{"frameBuffer":7,"width":7,"height":7,"enablePoint":7,"enableConf":7,"enableAngle":7,"enableMultiFace":7},"success":{"detectRect":7,"x":7,"y":7,"pointArray":7,"confArray":7,"angleArray":7,"faceInfo":7},"_p":7},"stopFaceDetect":7,"getChannelsLiveInfo":{"object":{"finderUserName":63,"startTime":63,"endTime":63},"success":{"feedId":63,"nonceId":63,"description":63,"status":{"2":63,"3":63,"_p":63},"headUrl":63,"nickname":63,"replayStatus":{"0":63,"1":63,"3":63,"6":63,"_p":63},"otherInfos":63},"_p":63},"getChannelsLiveNoticeInfo":{"object":{"finderUserName":63},"success":{"noticeId":63,"status":63,"startTime":63,"headUrl":63,"nickname":63,"reservable":63,"otherInfos":63},"_p":63},"openChannelsActivity":{"object":{"finderUserName":7,"feedId":7},"_p":7},"openChannelsEvent":{"object":{"finderUserName":7,"eventId":7},"_p":7},"openChannelsLive":{"object":{"finderUserName":7,"feedId":7,"nonceId":7},"_p":7},"openChannelsUserProfile":{"object":{"finderUserName":7},"_p":7},"reserveChannelsLive":{"object":{"noticeId":7},"_p":7},"chooseLocation":{"object":{"latitude":7,"longitude":7},"success":{"name":7,"address":7,"latitude":7,"longitude":7},"_p":7},"choosePoi":{"success":{"type":7,"city":7,"name":7,"address":7,"latitude":7,"longitude":7},"_p":7},"getFuzzyLocation":{"object":{"type":7},"success":{"latitude":7,"longitude":7},"_p":7},"getLocation":{"object":{"type":63,"altitude":63,"isHighAccuracy":63,"highAccuracyExpireTime":63},"success":{"latitude":63,"longitude":63,"speed":63,"accuracy":63,"altitude":63,"verticalAccuracy":63,"horizontalAccuracy":63},"_p":63},"onLocationChange":{"callback":{"latitude":7,"longitude":7,"speed":7,"accuracy":7,"altitude":7,"verticalAccuracy":7,"horizontalAccuracy":7},"_p":7},"offLocationChange":7,"onLocationChangeError":{"callback":{"errCode":7},"_p":7},"offLocationChangeError":7,"startLocationUpdateBackground":{"object":{"type":39},"_p":39},"startLocationUpdate":{"object":{"type":39},"_p":39},"stopLocationUpdate":39,"openLocation":{"object":{"latitude":55,"longitude":55,"scale":55,"name":55,"address":55},"_p":55},"onAudioInterruptionBegin":7,"offAudioInterruptionBegin":7,"onAudioInterruptionEnd":7,"offAudioInterruptionEnd":7,"chooseMedia":{"object":{"count":15,"mediaType":{"image":15,"video":15,"mix":15,"_p":15},"sourceType":{"album":15,"camera":15,"_p":15},"maxDuration":15,"sizeType":15,"camera":{"back":15,"front":15,"_p":15}},"success":{"tempFiles":15,"type":15},"_p":15},"chooseMessageFile":{"object":{"count":7,"type":{"all":7,"video":7,"image":7,"file":7,"_p":7},"extension":7},"success":{"tempFiles":7},"_p":7},"loadFontFace":{"object":{"global":63,"family":63,"source":63,"desc":{"style":63,"weight":63,"variant":63,"_p":63},"scopes":63},"success":{"status":63},"_p":63},"chooseImage":{"object":{"count":31,"sizeType":{"original":31,"compressed":31,"_p":31},"sourceType":{"album":31,"camera":31,"_p":31}},"success":{"tempFilePaths":31,"tempFiles":31},"_p":31},"previewImage":{"object":{"urls":63,"showmenu":63,"current":63,"referrerPolicy":63},"_p":63},"getImageInfo":{"object":{"src":63},"success":{"width":63,"height":63,"path":63,"orientation":{"up":63,"up-mirrored":63,"down":63,"down-mirrored":63,"left-mirrored":63,"right":63,"right-mirrored":63,"left":63,"_p":63},"type":{"unknown":63,"jpeg":63,"png":63,"gif":63,"tiff":63,"_p":63}},"_p":63},"saveImageToPhotosAlbum":{"object":{"filePath":31},"_p":31},"compressImage":{"object":{"src":15,"quality":15,"compressedWidth":15,"compressHeight":15},"success":{"tempFilePath":15},"_p":15},"editImage":{"object":{"src":7},"success":{"tempFilePath":7},"_p":7},"cropImage":{"object":{"src":7,"cropScale":{"16:9":7,"9:16":7,"4:3":7,"3:4":7,"5:4":7,"4:5":7,"1:1":7,"_p":7}},"success":{"tempFilePath":7},"_p":7},"createMediaRecorder":39,"openVideoEditor":{"object":{"filePath":7,"minDuration":7,"maxDuration":7},"success":{"duration":7,"size":7,"tempFilePath":7,"tempThumbPath":7},"_p":7},"previewMedia":{"object":{"sources":7,"current":7,"showmenu":7,"referrerPolicy":7},"_p":7},"chooseVideo":{"object":{"sourceType":{"album":31,"camera":31,"_p":31},"compressed":31,"maxDuration":31,"camera":{"back":31,"front":31,"_p":31}},"success":{"tempFilePath":31,"duration":31,"size":31,"height":31,"width":31},"_p":31},"saveVideoToPhotosAlbum":{"object":{"filePath":31},"_p":31},"getVideoInfo":{"object":{"src":39},"success":{"orientation":{"up":39,"down":39,"left":39,"right":39,"up-mirrored":39,"down-mirrored":39,"left-mirrored":39,"right-mirrored":39,"_p":39},"type":39,"duration":39,"size":39,"height":39,"width":39,"fps":39,"bitrate":39},"_p":39},"compressVideo":{"object":{"src":7,"quality":{"low":7,"medium":7,"high":7,"_p":7},"bitrate":7,"fps":7,"resolution":7},"success":{"tempFilePath":7,"size":7},"_p":7},"createVideoDecoder":7,"createMediaContainer":7,"downloadFile":{"object":{"url":63,"header":63,"timeout":63,"filePath":63},"success":{"tempFilePath":63,"filePath":63,"statusCode":63,"profile":63},"_p":63},"request":{"object":{"url":63,"data":63,"header":63,"timeout":63,"method":{"OPTIONS":63,"GET":63,"HEAD":63,"POST":63,"PUT":63,"DELETE":63,"TRACE":63,"CONNECT":63,"_p":63},"dataType":{"json":63,"其他":63,"_p":63},"responseType":{"text":63,"arraybuffer":63,"_p":63},"enableHttp2":63,"enableQuic":63,"enableCache":63,"enableHttpDNS":63,"httpDNSServiceId":63,"enableChunked":63,"forceCellularNetwork":63},"success":{"data":63,"statusCode":63,"header":63,"cookies":63,"profile":63},"_p":63},"uploadFile":{"object":{"url":63,"filePath":63,"name":63,"header":63,"formData":63,"timeout":63},"success":{"data":63,"statusCode":63},"_p":63},"login":{"object":{"timeout":31},"success":{"code":31},"_p":31},"checkSession":63,"chooseAddress":{"success":{"userName":7,"postalCode":7,"provinceName":7,"cityName":7,"countyName":7,"streetName":7,"detailInfo":7,"detailInfoNew":7,"nationalCode":7,"telNumber":7,"errMsg":7},"_p":7},"addCard":{"object":{"cardList":7},"success":{"cardList":7},"_p":7},"openCard":{"object":{"cardList":7},"_p":7},"checkIsAddedToMyMiniProgram":{"success":{"added":63},"_p":63},"chooseInvoice":{"success":{"invoiceInfo":7},"_p":7},"chooseInvoiceTitle":{"success":{"type":{"0":7,"1":7,"_p":7},"title":7,"taxNumber":7,"companyAddress":7,"telephone":7,"bankName":7,"bankAccount":7,"errMsg":7},"_p":7},"chooseLicensePlate":{"success":{"plateNumber":39},"_p":39},"getGroupEnterInfo":{"success":{"errMsg":7,"encryptedData":7,"iv":7,"cloudID":7},"_p":7},"getUserInfo":{"object":{"withCredentials":63,"lang":{"en":63,"zh_CN":63,"zh_TW":63,"_p":63}},"success":{"userInfo":63,"rawData":63,"signature":63,"encryptedData":63,"iv":63,"cloudID":63},"_p":63},"getUserProfile":{"object":{"lang":{"en":47,"zh_CN":47,"zh_TW":47,"_p":47},"desc":47},"success":{"userInfo":47,"rawData":47,"signature":47,"encryptedData":47,"iv":47,"cloudID":47},"_p":47},"openCustomerServiceChat":{"object":{"extInfo":{"url":7,"_p":7},"corpId":7,"showMessageCard":7,"sendMessageTitle":7,"sendMessagePath":7,"sendMessageImg":7},"_p":7},"requestSubscribeDeviceMessage":{"object":{"tmplIds":7,"sn":7,"snTicket":7,"modelId":7},"success":{"errMsg":7,"TEMPLATE_ID":7},"_p":7},"requestSubscribeMessage":{"object":{"tmplIds":47},"success":{"errMsg":47,"TEMPLATE_ID":47},"_p":47},"getWeRunData":{"success":{"encryptedData":7,"iv":7,"cloudID":7},"_p":7},"onMemoryWarning":{"callback":{"level":{"5":7,"10":7,"15":7,"_p":7}},"_p":7},"offMemoryWarning":7,"reportPerformance":7,"reportAnalytics":31,"reportMonitor":31,"getBackgroundFetchData":{"object":{"fetchType":7},"success":{"fetchedData":7,"timeStamp":7,"path":7,"query":7,"scene":7},"_p":7},"onBackgroundFetchData":{"callback":{"fetchType":7,"fetchedData":7,"timeStamp":7,"path":7,"query":7,"scene":7},"_p":7},"setBackgroundFetchToken":{"object":{"token":7},"_p":7},"getBackgroundFetchToken":{"success":{"token":7,"errMsg":7},"_p":7},"preDownloadSubpackage":{"object":{"packageType":7},"_p":7},"createAnimation":{"object":{"duration":63,"timingFunction":{"linear":63,"ease":63,"ease-in":63,"ease-in-out":63,"ease-out":63,"step-start":63,"step-end":63,"_p":63},"delay":63,"transformOrigin":63},"_p":63},"enableAlertBeforeUnload":{"object":{"message":7},"_p":7},"disableAlertBeforeUnload":7,"getMenuButtonBoundingClientRect":{"return":{"width":63,"height":63,"top":63,"right":63,"bottom":63,"left":63},"_p":63},"getSelectedTextRange":{"success":{"start":7,"end":7},"_p":7},"hideKeyboard":31,"showModal":{"object":{"title":63,"content":63,"showCancel":63,"cancelText":63,"cancelColor":63,"confirmText":63,"confirmColor":63,"editable":63,"placeholderText":63},"success":{"content":63,"confirm":63,"cancel":63},"_p":63},"showToast":{"object":{"title":63,"icon":{"success":63,"error":63,"loading":63,"none":63,"_p":63},"image":63,"duration":63,"mask":63},"_p":63},"hideToast":{"object":{"noConflict":63},"_p":63},"showLoading":{"object":{"title":63,"mask":63},"_p":63},"hideLoading":{"object":{"noConflict":63},"_p":63},"showActionSheet":{"object":{"alertText":63,"itemList":63,"itemColor":63},"success":{"tapIndex":63},"_p":63},"onKeyboardHeightChange":{"callback":{"height":7},"_p":7},"offKeyboardHeightChange":7,"pageScrollTo":{"object":{"scrollTop":31,"duration":31,"selector":31,"offsetTop":31},"_p":31},"checkIsPictureInPictureActive":7,"startPullDownRefresh":63,"stopPullDownRefresh":63,"onWindowResize":{"callback":{"size":{"windowWidth":7,"windowHeight":7,"_p":7}},"_p":7},"offWindowResize":7,"setBackgroundColor":{"object":{"backgroundColor":7,"backgroundColorTop":7,"backgroundColorBottom":7},"_p":7},"setBackgroundTextStyle":{"object":{"textStyle":{"dark":7,"light":7,"_p":7}},"_p":7},"setWindowSize":{"object":{"width":7,"height":7},"_p":7},"setTabBarBadge":{"object":{"index":63,"text":63},"_p":63},"removeTabBarBadge":{"object":{"index":63},"_p":63},"showTabBarRedDot":{"object":{"index":63},"_p":63},"hideTabBarRedDot":{"object":{"index":63},"_p":63},"showTabBar":{"object":{"animation":47},"_p":47},"hideTabBar":{"object":{"animation":47},"_p":47},"setTabBarStyle":{"object":{"color":47,"selectedColor":47,"backgroundColor":47,"borderStyle":47},"_p":47},"setTabBarItem":{"object":{"index":47,"text":47,"iconPath":47,"selectedIconPath":47},"_p":47},"setTopBarText":{"object":{"text":7},"_p":7},"createWorker":63,"createCacheManager":{"object":{"origin":7,"mode":{"weakNetwork":7,"always":7,"none":7,"_p":7},"maxAge":7,"extra":7},"_p":7},"openDocument":{"object":{"filePath":31,"showMenu":31,"fileType":{"doc":31,"docx":31,"xls":31,"xlsx":31,"ppt":31,"pptx":31,"pdf":31,"_p":31}},"_p":31},"getFileSystemManager":63,"saveFileToDisk":{"object":{"filePath":31},"_p":31},"batchGetStorage":{"object":{"keyList":7},"_p":7},"batchGetStorageSync":7,"batchSetStorage":{"object":{"kvList":7},"_p":7},"batchSetStorageSync":7,"clearStorage":63,"clearStorageSync":63,"getStorage":{"object":{"key":63,"encrypt":63},"success":{"data":63},"_p":63},"getStorageSync":63,"getStorageInfo":{"success":{"keys":63,"currentSize":63,"limitSize":63},"_p":63},"getStorageInfoSync":{"return":{"keys":63,"currentSize":63,"limitSize":63},"_p":63},"removeStorage":{"object":{"key":63},"_p":63},"removeStorageSync":63,"setStorage":{"object":{"key":63,"data":63,"encrypt":63},"_p":63},"setStorageSync":63,"createTCPSocket":7,"createUDPSocket":47,"pluginLogin":15,"canIUse":63,"makeBluetoothPair":{"object":{"deviceId":7,"pin":7,"timeout":7},"_p":7},"isBluetoothDevicePaired":{"object":{"deviceId":7},"_p":7},"closeBLEConnection":{"object":{"deviceId":7},"_p":7},"closeBluetoothAdapter":7,"createBLEConnection":{"object":{"deviceId":7,"timeout":7},"_p":7},"getBLEDeviceCharacteristics":{"object":{"deviceId":7,"serviceId":7},"success":{"characteristics":7},"_p":7},"getBLEDeviceRSSI":{"object":{"deviceId":7},"success":{"RSSI":7},"_p":7},"getBLEDeviceServices":{"object":{"deviceId":7},"success":{"services":7},"_p":7},"getBLEMTU":{"object":{"deviceId":7,"writeType":{"write":7,"writeNoResponse":7,"_p":7}},"success":{"mtu":7},"_p":7},"getBluetoothAdapterState":{"success":{"discovering":7,"available":7},"_p":7},"getBluetoothDevices":{"success":{"devices":7},"_p":7},"getConnectedBluetoothDevices":{"object":{"services":7},"success":{"devices":7},"_p":7},"notifyBLECharacteristicValueChange":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7,"state":7,"type":7},"_p":7},"onBLECharacteristicValueChange":{"callback":{"deviceId":7,"serviceId":7,"characteristicId":7,"value":7},"_p":7},"offBLECharacteristicValueChange":7,"onBLEConnectionStateChange":{"callback":{"deviceId":7,"connected":7},"_p":7},"offBLEConnectionStateChange":7,"onBLEMTUChange":{"callback":{"deviceId":7,"mtu":7},"_p":7},"offBLEMTUChange":7,"onBluetoothAdapterStateChange":{"callback":{"available":7,"discovering":7},"_p":7},"offBluetoothAdapterStateChange":7,"onBluetoothDeviceFound":{"callback":{"devices":7},"_p":7},"offBluetoothDeviceFound":7,"openBluetoothAdapter":{"object":{"mode":{"central":7,"peripheral":7,"_p":7}},"_p":7},"readBLECharacteristicValue":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7},"_p":7},"setBLEMTU":{"object":{"deviceId":7,"mtu":7},"success":{"mtu":7},"_p":7},"startBluetoothDevicesDiscovery":{"object":{"services":7,"allowDuplicatesKey":7,"interval":7,"powerLevel":{"low":7,"medium":7,"high":7,"_p":7}},"_p":7},"stopBluetoothDevicesDiscovery":7,"writeBLECharacteristicValue":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7,"value":7,"writeType":{"write":7,"writeNoResponse":7,"_p":7}},"_p":7},"getHCEState":7,"getNFCAdapter":5,"onHCEMessage":{"callback":{"messageType":{"1":7,"2":7,"_p":7},"data":7,"reason":7},"_p":7},"offHCEMessage":7,"sendHCEMessage":{"object":{"data":7},"_p":7},"startHCE":{"object":{"aid_list":7},"_p":7},"stopHCE":7,"getScreenBrightness":{"success":{"value":31},"_p":31},"onUserCaptureScreen":7,"offUserCaptureScreen":7,"onScreenRecordingStateChanged":{"callback":{"state":{"start":2,"stop":2,"_p":2}},"_p":2},"offScreenRecordingStateChanged":2,"getScreenRecordingState":{"success":{"state":{"on":2,"off":2,"_p":2}},"_p":2},"setKeepScreenOn":{"object":{"keepScreenOn":39},"_p":39},"setScreenBrightness":{"object":{"value":31},"_p":31},"setVisualEffectOnCapture":{"object":{"visualEffect":7},"_p":7},"getAppAuthorizeSetting":{"return":{"albumAuthorized":7,"bluetoothAuthorized":7,"cameraAuthorized":7,"locationAuthorized":7,"locationReducedAccuracy":7,"microphoneAuthorized":7,"notificationAuthorized":7,"notificationAlertAuthorized":7,"notificationBadgeAuthorized":7,"notificationSoundAuthorized":7,"phoneCalendarAuthorized":7},"_p":7},"getAppBaseInfo":{"return":{"SDKVersion":7,"enableDebug":7,"host":{"appId":7,"_p":7},"language":7,"version":7,"theme":{"dark":7,"light":7,"_p":7}},"_p":7},"getDeviceInfo":{"return":{"abi":7,"deviceAbi":7,"benchmarkLevel":7,"brand":7,"model":7,"system":7,"platform":7,"CPUType":7},"_p":7},"getRendererUserAgent":7,"getSystemInfo":{"success":{"brand":31,"model":31,"pixelRatio":31,"screenWidth":31,"screenHeight":31,"windowWidth":31,"windowHeight":31,"statusBarHeight":31,"language":31,"version":31,"system":31,"platform":{"ios":31,"android":31,"windows":31,"mac":31,"devtools":31,"_p":31},"fontSizeSetting":31,"SDKVersion":31,"benchmarkLevel":31,"albumAuthorized":31,"cameraAuthorized":31,"locationAuthorized":31,"microphoneAuthorized":31,"notificationAuthorized":31,"notificationAlertAuthorized":31,"notificationBadgeAuthorized":31,"notificationSoundAuthorized":31,"phoneCalendarAuthorized":31,"bluetoothEnabled":31,"locationEnabled":31,"wifiEnabled":31,"safeArea":{"left":31,"right":31,"top":31,"bottom":31,"width":31,"height":31,"_p":31},"locationReducedAccuracy":31,"theme":{"dark":31,"light":31,"_p":31},"host":{"appId":31,"_p":31},"enableDebug":31,"deviceOrientation":{"portrait":31,"landscape":31,"_p":31}},"_p":31},"getSystemInfoSync":{"return":{"brand":31,"model":31,"pixelRatio":31,"screenWidth":31,"screenHeight":31,"windowWidth":31,"windowHeight":31,"statusBarHeight":31,"language":31,"version":31,"system":31,"platform":{"ios":31,"android":31,"windows":31,"mac":31,"devtools":31,"_p":31},"fontSizeSetting":31,"SDKVersion":31,"benchmarkLevel":31,"albumAuthorized":31,"cameraAuthorized":31,"locationAuthorized":31,"microphoneAuthorized":31,"notificationAuthorized":31,"notificationAlertAuthorized":31,"notificationBadgeAuthorized":31,"notificationSoundAuthorized":31,"phoneCalendarAuthorized":31,"bluetoothEnabled":31,"locationEnabled":31,"wifiEnabled":31,"safeArea":{"left":31,"right":31,"top":31,"bottom":31,"width":31,"height":31,"_p":31},"locationReducedAccuracy":31,"theme":{"dark":31,"light":31,"_p":31},"host":{"appId":31,"_p":31},"enableDebug":31,"deviceOrientation":{"portrait":31,"landscape":31,"_p":31}},"_p":31},"getSystemInfoAsync":{"success":{"brand":63,"model":63,"pixelRatio":63,"screenWidth":63,"screenHeight":63,"windowWidth":63,"windowHeight":63,"statusBarHeight":63,"language":63,"version":63,"system":63,"platform":{"ios":63,"android":63,"windows":63,"mac":63,"devtools":63,"_p":63},"fontSizeSetting":63,"SDKVersion":63,"benchmarkLevel":63,"albumAuthorized":63,"cameraAuthorized":63,"locationAuthorized":63,"microphoneAuthorized":63,"notificationAuthorized":63,"notificationAlertAuthorized":63,"notificationBadgeAuthorized":63,"notificationSoundAuthorized":63,"phoneCalendarAuthorized":63,"bluetoothEnabled":63,"locationEnabled":63,"wifiEnabled":63,"safeArea":{"left":63,"right":63,"top":63,"bottom":63,"width":63,"height":63,"_p":63},"locationReducedAccuracy":63,"theme":{"dark":63,"light":63,"_p":63},"host":{"appId":63,"_p":63},"enableDebug":63,"deviceOrientation":{"portrait":63,"landscape":63,"_p":63}},"_p":63},"getSystemSetting":{"return":{"bluetoothEnabled":7,"locationEnabled":7,"wifiEnabled":7,"deviceOrientation":{"portrait":7,"landscape":7,"_p":7}},"_p":7},"getWindowInfo":{"return":{"pixelRatio":7,"screenWidth":7,"screenHeight":7,"windowWidth":7,"windowHeight":7,"statusBarHeight":7,"safeArea":{"left":7,"right":7,"top":7,"bottom":7,"width":7,"height":7,"_p":7},"screenTop":7},"_p":7},"openAppAuthorizeSetting":7,"openSystemBluetoothSetting":7,"connectWifi":{"object":{"SSID":7,"BSSID":7,"password":7,"maunal":7,"partialInfo":7},"_p":7},"getConnectedWifi":{"object":{"partialInfo":7},"success":{"wifi":7},"_p":7},"getWifiList":7,"onGetWifiList":{"callback":{"wifiList":7},"_p":7},"offGetWifiList":7,"onWifiConnected":{"callback":{"wifi":7},"_p":7},"offWifiConnected":7,"onWifiConnectedWithPartialInfo":{"callback":{"wifi":7},"_p":7},"offWifiConnectedWithPartialInfo":7,"setWifiList":{"object":{"wifiList":7},"_p":7},"startWifi":7,"stopWifi":7,"getBackgroundAudioManager":63,"getRecorderManager":63,"getBackgroundAudioPlayerState":{"success":{"duration":7,"currentPosition":7,"status":{"0":7,"1":7,"2":7,"_p":7},"downloadPercent":7,"dataUrl":7},"_p":7},"playBackgroundAudio":{"object":{"dataUrl":7,"title":7,"coverImgUrl":7},"_p":7},"pauseBackgroundAudio":7,"seekBackgroundAudio":{"object":{"position":7},"_p":7},"stopBackgroundAudio":7,"onBackgroundAudioPlay":7,"onBackgroundAudioPause":7,"onBackgroundAudioStop":7,"getAvailableAudioSources":{"success":{"audioSources":{"auto":15,"buildInMic":15,"headsetMic":15,"mic":15,"camcorder":15,"voice_communication":15,"voice_recognition":15,"_p":15}},"_p":15},"startRecord":{"success":{"tempFilePath":7},"_p":7},"stopRecord":7,"setInnerAudioOption":{"object":{"mixWithOther":7,"obeyMuteSwitch":7,"speakerOn":7},"_p":7},"playVoice":{"object":{"filePath":7,"duration":7},"_p":7},"pauseVoice":7,"stopVoice":7,"connectSocket":{"object":{"url":63,"header":63,"protocols":63,"tcpNoDelay":63,"perMessageDeflate":63,"timeout":63,"forceCellularNetwork":63},"_p":63},"closeSocket":{"object":{"code":63,"reason":63},"_p":63},"sendSocketMessage":{"object":{"data":63},"_p":63},"onSocketOpen":{"callback":{"header":7},"_p":7},"onSocketClose":{"callback":{"code":7,"reason":7},"_p":7},"onSocketMessage":{"callback":{"data":7},"_p":7},"onSocketError":{"callback":{"errMsg":7},"_p":7},"getChannelsShareKey":{"success":{"sharerOpenId":7,"promoter":{"finderNickname":7,"promoterId":7,"promoterOpenId":7,"_p":7}},"_p":7},"addFileToFavorites":{"object":{"filePath":7,"fileName":7},"_p":7},"addVideoToFavorites":{"object":{"videoPath":7,"thumbPath":7},"_p":7},"requestOrderPayment":7,"requestPayment":{"object":{"timeStamp":63,"nonceStr":63,"package":63,"signType":{"MD5":63,"HMAC-SHA256":63,"RSA":63,"_p":63},"paySign":63},"_p":63},"showRedPackage":{"object":{"url":23},"_p":23},"getSetting":{"object":{"withSubscriptions":63},"success":{"authSetting":63,"subscriptionsSetting":63,"miniprogramAuthSetting":63},"_p":63},"openSetting":{"object":{"withSubscriptions":23},"success":{"authSetting":23,"subscriptionsSetting":23},"_p":23},"authPrivateMessage":{"object":{"shareTicket":63},"success":{"errMsg":63,"valid":63,"encryptedData":63,"iv":63},"_p":63},"getShareInfo":{"object":{"shareTicket":63,"timeout":63},"success":{"errMsg":63,"encryptedData":63,"iv":63,"cloudID":63},"_p":63},"hideShareMenu":{"object":{"menus":63},"_p":63},"shareFileMessage":{"object":{"filePath":7,"fileName":7},"_p":7},"shareVideoMessage":{"object":{"videoPath":7,"thumbPath":7},"_p":7},"showShareImageMenu":{"object":{"path":7},"_p":7},"showShareMenu":{"object":{"withShareTicket":63,"menus":63},"_p":63},"updateShareMenu":{"object":{"withShareTicket":7,"isUpdatableMessage":7,"activityId":7,"toDoActivityId":7,"templateInfo":7,"isPrivateMessage":7},"_p":7},"checkIsSoterEnrolledInDevice":{"object":{"checkAuthMode":{"fingerPrint":7,"facial":7,"speech":7,"_p":7}},"success":{"isEnrolled":7,"errMsg":7},"_p":7},"checkIsSupportSoterAuthentication":{"success":{"supportMode":{"fingerPrint":7,"facial":7,"speech":7,"_p":7}},"_p":7},"startSoterAuthentication":{"object":{"requestAuthModes":{"fingerPrint":7,"facial":7,"speech":7,"_p":7},"challenge":7,"authContent":7},"success":{"authMode":7,"resultJSON":7,"resultJSONSignature":7,"errCode":7,"errMsg":7},"_p":7},"shareToWeRun":{"object":{"recordList":7},"_p":7},"exitMiniProgram":63,"navigateBackMiniProgram":{"object":{"extraData":31},"_p":31},"navigateToMiniProgram":{"object":{"appId":63,"path":63,"extraData":63,"envVersion":{"develop":63,"trial":63,"release":63,"_p":63},"shortLink":63,"noRelaunchIfPathUnchanged":63},"_p":63},"openEmbeddedMiniProgram":{"object":{"appId":7,"path":7,"extraData":7,"envVersion":{"develop":7,"trial":7,"release":7,"_p":7},"shortLink":7,"verify":{"binding":7,"unionProduct":7,"_p":7},"noRelaunchIfPathUnchanged":7},"_p":7},"setNavigationBarTitle":{"object":{"title":63},"_p":63},"showNavigationBarLoading":63,"hideNavigationBarLoading":63,"hideHomeButton":23,"setNavigationBarColor":{"object":{"frontColor":63,"backgroundColor":63,"animation":{"duration":63,"timingFunc":63,"_p":63}},"_p":63},"navigateBack":{"object":{"delta":31},"_p":31},"navigateTo":{"object":{"url":31,"events":31},"success":{"eventChannel":31},"_p":31},"reLaunch":{"object":{"url":63},"_p":63},"redirectTo":{"object":{"url":63},"_p":63},"switchTab":{"object":{"url":63},"_p":63},"getUpdateManager":47,"updateWeChatApp":23,"createBLEPeripheralServer":{"success":{"server":7},"_p":7},"onBLEPeripheralConnectionStateChanged":{"callback":{"deviceId":7,"serverId":7,"connected":7},"_p":7},"offBLEPeripheralConnectionStateChanged":7,"createMediaAudioPlayer":7,"createWebAudioContext":63,"arrayBufferToBase64":63,"base64ToArrayBuffer":63,"onAppHide":7,"offAppHide":7,"onAppShow":{"callback":{"path":7,"scene":7,"query":7,"shareTicket":7,"referrerInfo":{"appId":7,"extraData":7,"_p":7},"forwardMaterials":7,"chatType":{"1":7,"2":7,"3":7,"4":7,"_p":7},"apiCategory":{"default":7,"nativeFunctionalized":7,"browseOnly":7,"embedded":7,"_p":7}},"_p":7},"offAppShow":7,"authorize":{"object":{"scope":63},"_p":63},"getPerformance":63,"getSkylineInfo":{"success":{"isSupported":7,"version":7,"reason":{"client not supported":7,"baselib not supported":7,"a-b test not enabled":7,"SwitchRender option set to webview":7,"_p":7}},"_p":7},"getSkylineInfoSync":{"return":{"isSupported":7,"version":7,"reason":{"client not supported":7,"baselib not supported":7,"a-b test not enabled":7,"SwitchRender option set to webview":7,"_p":7}},"_p":7},"preloadSkylineView":7,"authorizeForMiniProgram":{"object":{"scope":{"record":55,"writePhotosAlbum":55,"camera":55,"_p":55}},"_p":55},"requestPluginPayment":{"object":{"version":{"develop":7,"trial":7,"release":7,"_p":7},"fee":7,"paymentArgs":7,"currencyType":7},"_p":7},"createInterstitialAd":{"object":{"adUnitId":7},"_p":7},"createRewardedVideoAd":{"object":{"adUnitId":7,"multiton":7},"_p":7}}}'),g0=f0,v0={ANDROID:1,IOS:2,DEVTOOLS:4,WIN:8,MAC:16,WMPF:32};function m0(){return pe?v0.ANDROID:he?v0.IOS:de?v0.DEVTOOLS:fe?v0.WIN:ge?v0.MAC:ve?v0.WMPF:void 0}function y0(e,t,r){var n=m0();switch(e){case"comp":var[i,a]=r;"object"==typeof t&&(i?"object"==typeof(t=t[i])&&(t=a?t[a]:t._p):t=t._p);break;case"method":var[o,s,c]=r;if("object"==typeof t){var l=t._p;o?(t=t[o],s&&"object"==typeof t?"object"==typeof(t=t[s])&&(t=c?t[c]:t._p):t=l):t=l}break;case"class":var[u]=r;"object"==typeof t&&(t=u?t[u]:t._p)}return(t&n)===n}function b0(e,t,r){var n=h0[e];return!!n&&((!t||t in n)&&(!(r&&("object"!=typeof n[t]||!n[t][r]))&&!!y0("comp",n,[t,r])))}function _0(e,t,r,n){var i=g0.method[e];if(!i)return!1;if(t&&!i[t])return!1;if(r&&!i[t][r])return!1;if(n){var a=i[t][r];if("object"!=typeof a||!a[n])return!1}return!!y0("method",i,[t,r,n])}function w0(e,t,r){r&&(t=`${t}.${r}`);var n=g0.class[e]||g0.class[`wx.${e}`];return!!n&&(!(t&&!n[t])&&!!y0("class",n,[t]))}function I0(e=""){if("string"!=typeof e)throw new kd("canIUse: schema should be a string");var t=e.split(".");return!!b0(...t)||(!!w0(...t)||!!_0(...t))}var S0=(e={})=>{setTimeout((()=>{gu("getBatteryInfo",e)}),0)},k0=()=>{var e={level:100,isCharging:!0};if(gu("getBatteryInfo",{complete:t=>e=t}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},C0=!1,E0=Ut("accelerometerChange"),A0=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=Ed(e,{interval:void 0!==t[e.interval]?t[e.interval]:t.normal,enable:!0});gu("enableAccelerometer",r,{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),C0=!0},T0=(e={})=>{gu("enableAccelerometer",Ed(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),C0=!1},P0=E0.onMethod,x0=E0.offMethod,M0=e=>{C0||(gu("enableAccelerometer",{enable:!0}),C0=!0),P0(e)};Tt("onAccelerometerChange",((e={})=>{z.clientVersion>=369558016&&z.clientVersion<369558272&&(e.x&&(e.x/=180/Math.PI),e.y&&(e.y/=180/Math.PI),e.z&&(e.z/=180/Math.PI)),E0.emit(e)}));var R0=!1,D0=Ut("compassChange"),O0=(e={})=>{gu("enableCompass",Ed(e,{enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","startCompass")}}),R0=!0},L0=(e={})=>{gu("enableCompass",Ed(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","stopCompass")}}),R0=!1},N0=D0.onMethod,B0=D0.offMethod,F0=e=>{R0||(gu("enableCompass",{enable:!0}),R0=!0),N0(e)};Tt("onCompassChange",((e={})=>{D0.emit(e)}));var W0=(e={})=>{xc("makePhoneCall",e,{phoneNumber:""})&&gu("makePhoneCall",e)},j0=(e={})=>{gu("makeVoIPCall",Ed({allowBackCamera:!1,showOther:!1},e))},V0=(e={})=>{xc("scanCode",e,{})&&gu("scanCode",e,{beforeSuccess(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},U0=(e={})=>{xc("openQRCode",e,{})&&gu("openQRCode",e)},$0=ed("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=(e.products||[]).map((e=>({info:{title:e.info.title,category:e.info.category.map((e=>({name:e.name})))}})))})),z0=ed("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=e.products||[]})),q0=(e={})=>{xc("scanItem",e,{})&&gu("scanItem",O()(O()({},e),{},{data:JSON.stringify({appId:z.accountInfo.appId,path:ul.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?$0({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):Rc("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}}))},H0=(e={})=>{xc("scanItem",e,{})&&gu("scanItem",O()(O()({},e),{},{data:JSON.stringify({appId:z.accountInfo.appId,path:ul.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?z0({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):Rc("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}}))},G0=(e={})=>{gu("getClipboardData",e,{beforeSuccess(){var e;if(!De()){var t=(null===(e=z.accountInfo)||void 0===e?void 0:e.nickname)||"小程序";bu("showToast",{icon:"",title:`“${t}”读取了你的剪切板内容`})}}})},K0=(e={})=>{xc("setClipboardData",e,{data:""})&&gu("setClipboardData",e,{beforeSuccess(){bu("showToast",{icon:"",title:"内容已复制"})}})},J0=(e={})=>{if(e.uuids)if(Array.isArray(e.uuids)){if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some((e=>"string"==typeof e&&t.test(e))))return void Rc("startBeaconDiscovery",e,"invalid service uuid")}gu("startBeaconDiscovery",e)}else Rc("startBeaconDiscovery",e,"uuid must be an Array");else Rc("startBeaconDiscovery",e,"must have uuid")},X0=(e={})=>{gu("stopBeaconDiscovery",e)},Y0=(e={})=>{gu("getBeacons",e)},Q0=e=>{xc("onBeaconUpdate",e,yt)&&Tt("onBeaconUpdated",C.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},Z0=()=>{Tt("onBeaconUpdated",(()=>{}))},e1=e=>{xc("onBeaconServiceChange",e,yt)&&Tt("onBeaconServiceChanged",C.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))},t1=()=>{Tt("onBeaconServiceChanged",(()=>{}))},r1=(e={})=>{gu("captureScreen",e,{})},n1=Ut("userCaptureScreen"),i1=n1.onMethod,a1=n1.offMethod,o1=null;Kt("onUserCaptureScreen",(e=>{"function"==typeof o1&&o1(e),n1.emit(e)}));var s1=e=>{o1=C.surroundThirdByTryCatch(e,"at onUserCaptureScreen callback function")},c1=()=>{o1=null};z.onReady((()=>{var e,t,r,n=1092===(null===(e=z.appLaunchInfo)||void 0===e?void 0:e.scene),i=null===(t=z.appLaunchInfo)||void 0===t||null===(r=t.referrerInfo)||void 0===r?void 0:r.extraData;Kt("onAppEnterForeground",(e=>{var t;n=1092===e.scene,i=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),Kt("onUserCaptureScreen",(()=>{var e,t,r=ul.lastRoute||"",a=ul.query||{};"object"==typeof a&&(a=Object.keys(a).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(a[e])}`)).join("&")),E.reportKeyValue({key:"MiniprogramOnUserCaptureScreen",value:[r,a].join(",")}),n&&(null===(e=i)||void 0===e?void 0:e.csSessionId)&&Xu({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:1,cs_session_id:null===(t=i)||void 0===t?void 0:t.csSessionId}})}))}));var l1=(e={})=>{gu("getScreenBrightness",e,{})},u1=(e={})=>{gu("setScreenBrightness",e,{})},d1=(e={})=>{pe&&(e.visualEffect=e.visualEffect||"none",gu("setVisualEffectOnCapture",e,{}))},p1=Ut("screenRecordingStateChanged"),h1=p1.onMethod,f1=p1.offMethod;Tt("onScreenRecordingStateChanged",((e={})=>{p1.emit(e)}));var g1=(e={})=>{gu("getScreenRecordingState",e,{})},v1=e=>{gu("chooseContact",e)},m1=(e={})=>{gu("chooseWeChatContact",e)},y1=function(e={}){mu(Gp(this))("addPhoneContact",e,{})},b1=(e={})=>{_p("quicklyAddBrandContact",e,{})},_1=Vc("searchContacts",cp()((function*(e={}){if(Mc(e,{phoneNumber:""}),!/^.{8,}$/.test(e.phoneNumber))throw new Error("phoneNumber length is less than 8");return yield vu("searchContacts",e,{})}))),w1=_1,I1=Vc("sendSms",cp()((function*(e={}){return yield vu("sendSms",e,{})}))),S1=function(e={}){mu(Gp(this))("openBluetoothAdapter",e,{})},k1=(e={})=>{C1({success(t){var r=t.devices.filter((e=>e.appid===z.accountInfo.appId));r.forEach((e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,delete e.appid})),ou({devices:r},"getMonitoredBluetoothDevices",e,{})},fail(t){Rc("getMonitoredBluetoothDevices",e,t.errMsg)}})},C1=(e={})=>{e.type="getAll",gu("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg},beforeSuccess(e){e.devices.forEach((e=>{e.appId&&(e.appid=e.appId,delete e.appId),e.sn=e.deviceId,delete e.deviceId}))}})},E1=[];function A1(){k1({success(e){e.devices&&(E1=e.devices)}})}function T1(e){return E1.some((t=>t.deviceId===e))}var P1=new Nt;P1.on("_updateMonitorDevices",A1);var x1=new Nt,M1=()=>z&&Array.isArray(z.requiredBackgroundModes)&&z.requiredBackgroundModes.includes("bluetooth"),R1=(e={})=>{if(!M1())return Rc("openBluetoothAdapterBackground",e,"requiredBackgroundModes in app.json invalid",10014);gu("openBluetoothAdapterBackground",e,{beforeSuccess(){"boolean"==typeof e.enableMonitoring&&x1.emit("_enableMonitoring",e.enableMonitoring),P1.emit("_updateMonitorDevices")}})},D1=(e={})=>{gu("closeBluetoothAdapter",e,{})},O1=(e={})=>{gu("getBluetoothAdapterState",e,{})},L1=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void Rc("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void Rc("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map((e=>(pe&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}gu("startBluetoothDevicesDiscovery",e,{})},N1=(e={})=>{gu("stopBluetoothDevicesDiscovery",e,{})},B1=(e={})=>{gu("getBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map((e=>{if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=Lw(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach((e=>{t[e]&&(t[e]=Lw(t[e]))}))}return e}))}})},F1=(e={})=>{xc("getBLEDeviceRSSI",e,{deviceId:""})&&gu("getBLEDeviceRSSI",e)},W1=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void Rc("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void Rc("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map((e=>(pe&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}gu("getConnectedBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map((e=>(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=Lw(e.advertisData)),e)))}})},j1=a.prototype.call.bind(Object.prototype.hasOwnProperty),V1=()=>{var e=Object.create(null);return{add(t){e[t]=t},remove(t){delete e[t]},has:t=>j1(e,t),clear(){e=Object.create(null)}}},U1=V1();lq((e=>{e&&(e.connected?U1.add(e.deviceId):U1.remove(e.deviceId))})),hq((e=>{e&&!e.available&&U1.clear()}));var $1=e=>U1.has(e),z1=new Nt,q1=Object.create(null),H1=!1;function G1(e,t,r,n){Oc({name:e,args:t,errMsg:r,errno:n,success:!1}),H1=!1}function K1(e){for(var t=Object.create(null),r=0;r<e.length;r++){if(t[e[r]])return t=null,!0;t[e[r]]=e[r]}return t=null,!1}function J1({devices:e},t){Xu({sdkApiName:"CheckBluetoothDeviceTicket",apiName:"CheckBluetoothDeviceTicket",reqData:{scene:0,device_info_list:e.map((e=>({sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,bluetooth_device_id:e.deviceId})))},success(e){var{max_user_count_to_device:r,max_device_count_to_app:n}=e.data;r&&n&&delete e.errMsg,t(e)},fail(e){t(e)}})}var X1=(e={})=>{if(xc("setBluetoothBackgroundMode",e,{enable:!1,devices:[{sn:"",snTicket:"",modelId:"",deviceId:""}]})){if(H1)return G1("setBluetoothBackgroundMode",e,"current interface is busy",Ws);H1=!0;var t=e.devices.some((e=>Object.keys(e).some((t=>""===e[t]))));if(t)return G1("setBluetoothBackgroundMode",e,"device property can't be empty",js);var r=e.devices.map((e=>e.sn)),n=e.devices.map((e=>e.deviceId));if(K1(r)||K1(n))return G1("setBluetoothBackgroundMode",e,"repeated sn or deviceId",Vs);if(e.devices.some((e=>Object.values(q1).some((t=>t.deviceId===e.deviceId&&t.sn!==e.sn)))))return G1("setBluetoothBackgroundMode",e,"deviceId already binded by another sn",Us);e.devices.forEach((e=>{q1[e.sn]=e})),J1(e,(t=>{if(t.errMsg)return G1("setBluetoothBackgroundMode",e,t.errMsg,$s);gu("setBluetoothBackgroundMode",e,{beforeSuccess(){z1.emit("_setBluetoothBackgroundMode",e)},beforeAll(){H1=!1}})}))}},Y1=!1,Q1=!1,Z1=[];zS((()=>{Y1=!1})),qk((()=>{Y1=!0})),z1.on("_setBluetoothBackgroundMode",(e=>{Q1=e.enable,Z1=e.devices.map((e=>e.deviceId))}));var e3=(e,t)=>{var r=Y1||ip();!T1(e)&&r&&Q1?t(!($1(e)&&Z1.includes(e))):t(!1)},t3=(e={})=>{xc("createBLEConnection",e,{deviceId:""})&&(M1()?e3(e.deviceId,(t=>{t?Rc("createBLEConnection",e,"connect unknown devices is not allowed in bluetooth background mode",10015):gu("createBLEConnection",e,{})})):gu("createBLEConnection",e,{}))},r3=(e={})=>{xc("closeBLEConnection",e,{deviceId:""})&&gu("closeBLEConnection",e,{})},n3=(e={})=>{xc("getBLEDeviceServices",e,{deviceId:""})&&gu("getBLEDeviceServices",e,{beforeSuccess(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},i3=(e={})=>{xc("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&gu("getBLEDeviceCharacteristics",Object.assign({},e,{serviceId:pe?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},a3=(e={})=>{xc("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&gu("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:pe?e.serviceId.toUpperCase():e.serviceId,characteristicId:pe?e.characteristicId.toUpperCase():e.characteristicId}),{})},o3=(e={})=>{xc("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&gu("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:pe?e.serviceId.toUpperCase():e.serviceId,characteristicId:pe?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll(e){void 0!==e.errCode&&(e.errCode=Number(e.errCode)),e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})},s3=(e={})=>{xc("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})&&gu("readBLECharacteristicValue",Object.assign({},e,{serviceId:pe?e.serviceId.toUpperCase():e.serviceId,characteristicId:pe?e.characteristicId.toUpperCase():e.characteristicId}),{})},c3=(e={})=>{xc("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&(!e.writeType||l3(e.writeType)?gu("writeBLECharacteristicValue",Object.assign({},e,{value:Ow(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:pe?e.characteristicId.toUpperCase():e.characteristicId}),{}):Rc("writeBLECharacteristicValue",e,"invalid writeType"))},l3=e=>["write","writeNoResponse"].includes(e),u3=e=>{Tt("onBLEConnectionStateChanged",C.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},d3=()=>{Tt("onBLEConnectionStateChanged",(()=>{}))},p3=e=>{Tt("onBLECharacteristicValueChange",((t={})=>{"string"==typeof t.value&&(t.value=Lw(t.value)),C.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)}))},h3=()=>{Tt("onBLECharacteristicValueChange",(()=>{}))},f3=e=>{Tt("onBluetoothDeviceFound",((t={})=>{var r=[];Array.isArray(t.devices)?r=t.devices:r.push(t),r=r.map((e=>{try{e.advertisData=Lw(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach((e=>{t[e]&&(t[e]=Lw(t[e]))}))}catch(e){}return e})),C.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:r})}))},g3=()=>{Tt("onBluetoothDeviceFound",(()=>{}))},v3,m3=(e,t)=>Object.assign({},e,{[t]:Ow(e[t])}),y3=e=>!(e>=0&&e<65536),b3=new Nt,_3=new WeakMap,w3=new WeakMap,I3=function(e,t){var r=`${_3.get(this)}_on${e}`,n=r=>{C.surroundThirdByTryCatch(t,`at BLEPeripheralServer.on${e} callback function`)(r)};w3.get(this).set(t,n),b3.on(r,n)},S3=function(e,t){var r=`${_3.get(this)}_on${e}`,n=w3.get(this);if(et(t)){var i=n.get(t);et(i)&&(n.delete(t),b3.off(r,i))}else w3.set(this,new WeakMap),b3.removeAllListeners(r)},k3=Ut("CharacteristicReadRequest"),C3=k3.onMethod,E3=k3.offMethod;Tt("onCharacteristicReadRequest",((e={})=>{b3.emit(`${e.serverId}_onCharacteristicReadRequest`,e),k3.emit(e)}));var A3=Ut("CharacteristicWriteRequest"),T3=A3.onMethod,P3=A3.offMethod;Tt("onCharacteristicWriteRequest",((e={})=>{"string"==typeof e.value&&(e.value=Lw(e.value)),b3.emit(`${e.serverId}_onCharacteristicWriteRequest`,e),A3.emit(e)}));var x3=Ut("CharacteristicSubscribed"),M3=x3.onMethod,R3=x3.offMethod;Tt("onCharacteristicSubscribed",((e={})=>{b3.emit(`${e.serverId}_onCharacteristicSubscribed`,e),x3.emit(e)}));var D3=Ut("CharacteristicUnsubscribed"),O3=D3.onMethod,L3=D3.offMethod;Tt("onCharacteristicUnsubscribed",((e={})=>{b3.emit(`${e.serverId}_onCharacteristicUnsubscribed`,e),D3.emit(e)}));var N3=(v3=class{constructor(e){this.serverId=e,this.services=[],_3.set(this,e),w3.set(this,new WeakMap);["CharacteristicReadRequest","CharacteristicWriteRequest","CharacteristicSubscribed","CharacteristicUnsubscribed"].forEach((e=>{this[`on${e}`]=t=>{I3.call(this,e,t)},this[`off${e}`]=t=>{S3.call(this,e,t)}}))}close(e={}){var t=this,r=Object.assign({},e,{serverId:this.serverId});gu("closeBLEPeripheralServer",r,{beforeSuccess(){t.serverId="",_3.delete(t)}})}addService(e={}){if(xc("BLEPeripheralServer.addService",e,{service:{}})){var t=e.service.characteristics||[];t=t.map((e=>{var t=e.descriptors||[];return t=t.map((e=>m3(e,"value"))),Object.assign({},e,{value:Ow(e.value),descriptors:t})}));var r=Object.assign({},e,{serverId:this.serverId,service:{uuid:e.service.uuid,characteristics:t}}),n=this;gu("addBLEPeripheralService",r,{beforeSuccess(){n.services.push(e.service.uuid)}})}}removeService(e={}){if(xc("BLEPeripheralServer.removeService",e,{serviceId:""})){var t=this,r=Object.assign({},e,{serverId:this.serverId});gu("removeBLEPeripheralService",r,{beforeSuccess(){var r=t.services.indexOf(e.serviceId);r>=0&&t.services.splice(r,1)}})}}startAdvertising(e={}){if(xc("BLEPeripheralServer.startAdvertising",e,{advertiseRequest:{}})){var t=e.advertiseRequest||{},r={connectable:!0};if(t.beacon){if(t.deviceName||t.serviceUuids||t.manufacturerData)throw new Error("iBeacon mode only accept connectable and beacon properties");if(!xc("BLEPeripheralServer.startAdvertising",t,{beacon:{uuid:"",major:0,minor:0}}))throw new Error("iBeacon mode must include [uuid、major、minor] properties");if(y3(t.beacon.major)||y3(t.beacon.minor))throw new Error("major or minor must be between 0 and 65536");r=Object.assign(r,t)}else{var n=t.manufacturerData||[];n=n.map((e=>m3(e,"manufacturerSpecificData"))),r=Object.assign(r,t,{manufacturerData:n})}var i=Object.assign({},e,{serverId:this.serverId,advertiseRequest:r,powerLevel:e.powerLevel||"medium"});gu("startBLEPeripheralAdvertising",i,{})}}stopAdvertising(e={}){var t=Object.assign({},e,{serverId:this.serverId});gu("stopBLEPeripheralAdvertising",t,{})}writeCharacteristicValue(e={}){var t=Object.assign({},e,{serverId:this.serverId,value:Ow(e.value)});gu("writeBLEPeripheralCharacteristicValue",t,{})}},F()(v3.prototype,"close",[wt],Object.getOwnPropertyDescriptor(v3.prototype,"close"),v3.prototype),F()(v3.prototype,"addService",[wt],Object.getOwnPropertyDescriptor(v3.prototype,"addService"),v3.prototype),F()(v3.prototype,"removeService",[wt],Object.getOwnPropertyDescriptor(v3.prototype,"removeService"),v3.prototype),F()(v3.prototype,"startAdvertising",[wt],Object.getOwnPropertyDescriptor(v3.prototype,"startAdvertising"),v3.prototype),F()(v3.prototype,"stopAdvertising",[wt],Object.getOwnPropertyDescriptor(v3.prototype,"stopAdvertising"),v3.prototype),F()(v3.prototype,"writeCharacteristicValue",[wt],Object.getOwnPropertyDescriptor(v3.prototype,"writeCharacteristicValue"),v3.prototype),v3),B3=function(e={}){mu(Gp(this))("createBLEPeripheralServer",e,{beforeSuccess(e){var t=e.serverId,r=new N3(t);delete e.serverId,e.server=r}})},F3=Ut("BLEPeripheralConnectionStateChanged"),W3=F3.onMethod,j3=F3.offMethod;Tt("onBLEPeripheralConnectionStateChanged",((e={})=>{F3.emit(e)}));var V3=(e={})=>{if(xc("makeBluetoothPair",e,{deviceId:""})){var t=Object.assign({},e);dt(e.pin||null)&&(t.pin=Ow(e.pin)),gu("makeBluetoothPair",t)}},U3=(e={})=>{xc("isBluetoothDevicePaired",e,{deviceId:""})&&gu("isBluetoothDevicePaired",e)},$3=(e={})=>{pe?xc("setBLEMTU",e,{deviceId:"",mtu:0})&&gu("setBLEMTU",e,{}):Rc("setBLEMTU",e,"can only be invoked on android")},z3=Ut("onBLEMTUChange"),q3=23,H3={},G3=z3.onMethod,K3=z3.offMethod;pe&&Tt("onBLEMTUChange",(e=>{e.deviceId&&e.mtu&&(Object.keys(H3).forEach((e=>{delete H3[e]})),H3[e.deviceId]={mtu:e.mtu}),z3.emit(e)}));var J3=(e={})=>{if(xc("getBLEMTU",e,{deviceId:""}))if(pe){var t=H3[e.deviceId];ou({mtu:t?t.mtu:q3},"getBLEMTU",e,{})}else{if(e.writeType)if(!["write","writeNoResponse"].includes(e.writeType))return void Rc("getBLEMTU",e,"invalid write type");gu("getBLEMTU",e,{})}},X3=!1,Y3=!1;function Q3(e,t={},r,n){Oc({name:e,args:t,errMsg:r,errno:n,success:!1}),Y3=!1}function Z3(e,t,r,n){ou(e,t,r,n),Y3=!1}x1.on("_enableMonitoring",(e=>{X3=e}));var e2=(e={})=>{var t=Object.assign({},e);if(xc("startMonitoringBluetoothDevice",t,{sn:"",snTicket:"",modelId:"",deviceId:""})){if(t.bluetoothDeviceId=t.deviceId,Y3)return Q3("startMonitoringBluetoothDevice",t,"current interface is busy",Ws);if(Y3=!0,t.envVersion)if(!["develop","trial","release"].includes(t.envVersion))return Q3("startMonitoringBluetoothDevice",t,"invalid envVersion",zs);if(t.entryPackage&&"string"==typeof t.entryPackage){var r=z.subPackages||z.subpackages;if(!r)return Q3("startMonitoringBluetoothDevice",t,"invalid subpackages configuration",Js);var n=r.some((e=>e.root.includes(t.entryPackage)));if(!n)return Q3("startMonitoringBluetoothDevice",t,"invalid entryPackage",Xs);t.entryPackage.trim(),t.entryPackage.startsWith("/")||(t.entryPackage=`/${t.entryPackage}`),t.entryPackage.endsWith("/")||(t.entryPackage=`${t.entryPackage}/`)}return X3?$1(t.bluetoothDeviceId)?void C1({success({devices:e}){var r=z.accountInfo.appId,n=e.filter((e=>e.appid===r));r2(t,(i=>i.errMsg?Q3("startMonitoringBluetoothDevice",t,i.errMsg,$s):e.length>i.max_user_count_to_device||n.length>i.max_device_count_to_app?Q3("startMonitoringBluetoothDevice",t,"devices are out of max count",Ks):e.some((e=>t.bluetoothDeviceId===e.bluetoothDeviceId&&t.sn!==e.sn))||e.some((e=>t.bluetoothDeviceId===e.bluetoothDeviceId&&r!==e.appid))?Q3("startMonitoringBluetoothDevice",t,"same ble device can only bound 1 sn and 1 appid",Gs):void t2({data:{monitoredDeviceInfo:{appid:r,bluetoothDeviceId:t.bluetoothDeviceId,deviceId:t.sn,envVersion:t.envVersion,entryPackage:t.entryPackage}},success(e){Z3(e,"startMonitoringBluetoothDevice",t,{}),P1.emit("_updateMonitorDevices"),eY({network:"all",packages:[t.entryPackage||"__APP__"]})},fail(e){Q3("startMonitoringBluetoothDevice",t,e.errMsg)}})))},fail(e){Q3("startMonitoringBluetoothDevice",t,e.errMsg)}}):Q3("startMonitoringBluetoothDevice",t,"only connected devices can be monitored",Hs):Q3("startMonitoringBluetoothDevice",t,"enableMonitoring is not set",qs)}},t2=(e={})=>{e.type="set",gu("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg}})},r2=({sn:e,snTicket:t,modelId:r,bluetoothDeviceId:n},i)=>{Xu({sdkApiName:"CheckBluetoothDeviceTicket",apiName:"CheckBluetoothDeviceTicket",reqData:{scene:1,device_info_list:[{sn:e,sn_ticket:t,model_id:r,bluetooth_device_id:n}]},success(e){var{max_user_count_to_device:t,max_device_count_to_app:r}=e.data;t&&r&&(e.max_user_count_to_device=t,e.max_device_count_to_app=r,delete e.errMsg),i(e)},fail(e){i(e)}})},n2=(e={})=>{xc("stopMonitoringBluetoothDevice",e,{sn:""})&&i2({data:{deviceId:e.sn,appid:z.accountInfo.appId},success(t){ou(t,"stopMonitoringBluetoothDevice",e,{}),P1.emit("_updateMonitorDevices")},fail(t){Rc("stopMonitoringBluetoothDevice",e,t.errMsg)}})},i2=(e={})=>{e.type="delete",gu("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg}})},a2=Ut("onMonitoredBluetoothDeviceFound"),o2=[],s2=!1,c2=e=>{a2.onMethod(e),s2=!0,o2.length&&(o2.forEach((e=>{a2.emit(e)})),o2=[])},l2=a2.offMethod;Tt("onMonitoredBluetoothDeviceFound",(e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,s2?a2.emit(e):o2.push(e)}));var u2=(e={})=>{gu("startWifi",e,{})},d2=(e={})=>{gu("stopWifi",e,{})},p2=(e={})=>{gu("getWifiList",e,{})};function h2(e){var t=pe&&Gu(z.clientVersion,"8.0.20")>=0;return"string"==typeof e&&t&&('"'===e[0]&&(e=e.substring(1)),'"'===e[e.length-1]&&(e=e.substring(0,e.length-1))),e}var f2=(e={})=>{"boolean"==typeof e.partialInfo&&(e.acceptIncompleteWiFiInfo=e.partialInfo,he&&(e.useCN=e.partialInfo)),gu("getConnectedWifi",e,{beforeSuccess(t){e.partialInfo&&t.wifi&&(t.wifi=he?{SSID:t.wifi.SSID,BSSID:t.wifi.BSSID}:{SSID:t.wifi.SSID}),t.wifi&&(t.wifi.SSID=h2(t.wifi.SSID))}})},g2=(e={})=>{if(xc("connectWifi",e,{SSID:"",password:""})){"boolean"==typeof e.partialInfo&&(e.acceptIncompleteWiFiInfo=e.partialInfo),"boolean"==typeof e.manual&&(e.maunal=e.manual);var t=Object.assign({maunal:!1},e);gu("connectWifi",t,{beforeSuccess(t){e.partialInfo&&t.wifi&&(t.wifi={SSID:t.wifi.SSID}),t.wifi&&(t.wifi.SSID=h2(t.wifi.SSID))}})}},v2=(e={})=>{he?xc("presetWifiList",e,{wifiList:[]})&&gu("presetWifiList",e,{}):Rc("presetWifiList",e,"presetWifiList must be invoked on iOS platform")},m2=(e={})=>{he?xc("setWifiList",e,{wifiList:[]})&&gu("setWifiList",e,{}):Rc("setWifiList",e,"setWifiList must be invoked on iOS platform")},y2=e=>{Tt("onGetWifiList",(t=>{t.wifiList&&t.wifiList.forEach((e=>{e.SSID=h2(e.SSID)})),C.surroundThirdByTryCatch(e,"at onGetWifiList callback function")(t)}))},b2=()=>{Tt("onGetWifiList",(()=>{}))},_2=e=>{Tt("onWifiConnected",(t=>{t.wifi&&(t.wifi.SSID=h2(t.wifi.SSID)),C.surroundThirdByTryCatch(e,"at onWifiConnected callback function")(t)}))},w2=()=>{Tt("onWifiConnected",(()=>{}))},I2=null,S2=["none","low","high"],k2=e=>{"function"==typeof e&&(I2=e)};function C2(e){var t,r={SSID:e.wifi.SSID,BSSID:e.wifi.BSSID,confidence:"none"};if("function"==typeof I2)try{t=I2(e)||{}}finally{S2.find((e=>e===t.confidence))&&(r.confidence=t.confidence),gu("evaluateWifi",r,{})}}Tt("onEvaluateWifi",C.surroundThirdByTryCatch(C2,"at onEvaluateWifi callback function"));var E2=e=>{Tt("onWifiConnectedWithPartialInfo",(({wifi:t})=>{var r={wifi:{}};t&&(r.wifi.SSID=h2(t.SSID)),C.surroundThirdByTryCatch(e,"at onWifiConnectedWithPartialInfo callback function")(r)}))},A2=()=>{Tt("onWifiConnectedWithPartialInfo",(()=>{}))},T2=(e={})=>{gu("getHCEState",e,{})},P2=(e={})=>{gu("startHCE",e,{})},x2=(e={})=>{gu("stopHCE",e,{})},M2=(e={})=>{xc("sendHCEMessage",e,{data:new ArrayBuffer(0)})&&gu("sendHCEMessage",Object.assign({},e,{data:Ow(e.data)}),{})},R2=e=>{Tt("onHCEMessage",((t={})=>{"string"==typeof t.data&&(t.data=Lw(t.data)),C.surroundThirdByTryCatch(e,"at onHCEMessage callback function")(t)}))},D2=()=>{Tt("onHCEMessage",(()=>{}))},O2=()=>{},L2=(e={},t)=>{var r=E.surroundThirdByTryCatch(e.success||O2,`at api ${t} success callback function`),n=E.surroundThirdByTryCatch(e.fail||O2,`at api ${t} fail callback function`),i=E.surroundThirdByTryCatch(e.complete||O2,`at api ${t} complete callback function`);return O()(O()({},e),{},{success:r,fail:n,complete:i})},N2=(e,t,r)=>{var n=void 0===r?{errMsg:t}:{errMsg:t,errCode:r};e.fail(n),e.complete(n)},B2=new WeakMap,F2=new Lt,W2="onNFCDiscovered",j2="onNdefMessageRead";Kt("onNFCDiscovered",(e=>{F2.emit(W2,e)})),Kt("onNdefMessageRead",(e=>{F2.emit(j2,e)}));var V2={ndef:"NDEF",nfcA:"NFC-A",nfcB:"NFC-B",isoDep:"ISO-DEP",nfcF:"NFC-F",nfcV:"NFC-V",mifareClassic:"MIFARE Classic",mifareUltralight:"MIFARE Ultralight"};function U2(e,t){if(!this[e]){var r=t();return Object.defineProperty(this,e,{enumerable:!1,configurable:!1,writable:!1,value:r}),r}return this[e]}class $2{constructor(){this.tech=V2,Object.defineProperty(this,"_singleton",{enumerable:!1,configurable:!1,writable:!1})}startDiscovery(e={}){e=L2(e,"NFCAdapter#startDiscovery"),pe?gu("isSupportNFC",{success(){gu("startNFCDiscovery",{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("startNFCDiscovery","startDiscovery"))}})},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isSupportNFC","startDiscovery"))}}):N2(e,"startDiscovery:fail current platform is not supported")}stopDiscovery(e={}){e=L2(e,"NFCAdapter#stopDiscovery"),pe?gu("stopNFCDiscovery",{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("stopNFCDiscovery","stopDiscovery"))}}):N2(e,"stopDiscovery:fail current platform is not supported")}onDiscovered(e){if("function"==typeof e){var t=E.surroundThirdByTryCatch(e,"at NFCAdapter#onDiscovered callback function"),r=(e={})=>{if(e.messages&&Ze(e.messages)){for(var r=[],n=e.messages||[],i=0;i<n.length;++i){for(var a={records:[]},o=n[i]||[],s=0;s<o.length;++s){var c=`payload-${i}-${s}`,l=e[c];delete e[c],o[s].payload=l,o[s].id=Lw(o[s].id),o[s].type=Lw(o[s].type),a.records.push(o[s])}r.push(a)}e.messages=r}e.id&&"string"==typeof e.id&&(e.id=Lw(e.id)),t(e)};F2.on(W2,r),B2.set(e,r)}}offDiscovered(e){if("function"==typeof e){var t=B2.get(e);t&&F2.off(W2,t)}}getNdef(){return U2.call(this,"_ndef",(()=>new q2))}getNfcA(){return U2.call(this,"_nfcA",(()=>new G2))}getNfcB(){return U2.call(this,"_nfcB",(()=>new K2))}getIsoDep(){return U2.call(this,"_isoDep",(()=>new J2))}getNfcF(){return U2.call(this,"_nfcF",(()=>new X2))}getNfcV(){return U2.call(this,"_nfcV",(()=>new Y2))}getMifareClassic(){return U2.call(this,"_mirafeClassic",(()=>new Q2))}getMifareUltralight(){return U2.call(this,"_mifareUltralight",(()=>new Z2))}}class z2{constructor(e){this.techType=e}connect(e={}){e=L2(e,`${this.techType}#connect`),pe?gu("NFCConnect",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCConnect","connect"))}}):N2(e,"connect:fail current platform is not supported")}close(e={}){e=L2(e,`${this.techType}#close`),pe?gu("NFCClose",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCClose","close"))}}):N2(e,"close:fail current platform is not supported")}setTimeout(e={}){e=L2(e,`${this.techType}#setTimeout`),pe?e.timeout?gu("NFCSetTimeout",{tech:this.techType,timeout:parseInt(e.timeout,10),success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCSetTimeout","setTimeout"))}}):N2(e,"timeout should be specified"):N2(e,"setTimeout:fail current platform is not supported")}isConnected(e){e=L2(e,`${this.techType}#isConnected`),pe?gu("isNFCTechConnected",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isNFCTechConnected","isConnected"))}}):N2(e,"isConnected:fail current platform is not supported")}}class q2 extends z2{constructor(){super("NDEF")}onNdefMessage(e){if("function"==typeof e){var t=E.surroundThirdByTryCatch(e,"at Ndef#onReadNdefMessage callback function"),r=e=>{for(var r=e.messages||[],n=0;n<r.length;++n)for(var i=r[n]||[],a=0;a<i.length;++a){var o=`payload-${n}-${a}`,s=e[o];i[a].payload=s,delete e[o]}t(e)};F2.on(j2,r),B2.set(e,r)}}offNdefMessage(e){if("function"==typeof e){var t=B2.get(e);t&&F2.off(j2,t)}}writeNdefMessage(e={}){if(e=L2(e,"Ndef#writeNdefMessage"),pe){if(e.uris)return Ze(e.uris)?void gu("writeNdefMessage",{uris:e.uris,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void N2(e,"writeNdefMessage: urils should be type of Array");if(e.texts)return Ze(e.texts)?void gu("writeNdefMessage",{texts:e.texts,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void N2(e,"writeNdefMessage: texts should be type of Array");if(e.records){if(!Ze(e.records))return void N2(e,"writeNdefMessage: records should be type of Array");for(var t={},r=0;r<e.records.length;++r){var n=e.records[r];if(!dt(n.id))return void N2(e,"writeNdefMessage: record.id should be type of ArrayBuffer");if(!dt(n.type))return void N2(e,"writeNdefMessage: record.type should be type of ArrayBuffer");n.id=Ow(n.id),n.type=Ow(n.type),t[`payload-${r}`]=n.payload,delete n.payload}gu("writeNdefMessage",O()(O()({records:e.records},t),{},{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}}),{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}})}else N2(e,"writeNdefMessage: expect parameter contains one of uris, texts, records")}else N2(e,"writeNdefMessage:fail current platform is not supported")}}class H2 extends z2{getMaxTransceiveLength(e={}){e=L2(e,`${this.techType}#getMaxTransceiveLength`),pe?gu("NFCGetMaxTransceiveLength",{tech:this.techType,success:e.success,fail:e.fail,complete:e.complete},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetMaxTransceiveLength","getMaxTransceiveLength"))}}):N2(e,"getMaxTransceiveLength:fail current platform is not supported")}transceive(e={}){e=L2(e,`${this.techType}#transceive`),pe?e.data?dt(e.data)?gu("NFCTransceive",{tech:this.techType,data:e.data,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCTransceive","transceive"))}}):N2(e,"transceive: data should be type of ArrayBuffer"):N2(e,"transceive: data field is required"):N2(e,"transceive:fail current platform is not supported")}}class G2 extends H2{constructor(){super("NFC-A")}getAtqa(e){e=L2(e,`${this.techType}#getAtqa`),pe?gu("NFCGetAtqa",{success(t){t&&t.atqa?e.success({errMsg:t.errMsg,atqa:Lw(t.atqa)}):e.success({errMsg:t.errMsg,atqa:null})},fail(t){e.fail(t)},complete(t){t&&t.atqa?e.complete({errMsg:t.errMsg,atqa:Lw(t.atqa)}):e.complete({errMsg:t.errMsg,atqa:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetAtqa","getAtqa"))}}):N2(e,"getAtqa:fail current platform is not supported")}getSak(e){e=L2(e,`${this.techType}#getSak`),pe?gu("NFCGetSak",e,{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetSak","getSak"))}}):N2(e,"getSak:fail current platform is not supported")}}class K2 extends H2{constructor(){super("NFC-B")}setTimeout(e={}){e=L2(e,`${this.techType}#setTimeout`),N2(e,"setTimeout: function not support",13024)}}class J2 extends H2{constructor(){super("ISO-DEP")}getHistoricalBytes(e){e=L2(e,`${this.techType}#getHistoricalBytes`),pe?gu("NFCGetHistoricalBytes",{success(t){t&&t.histBytes?e.success({errMsg:t.errMsg,histBytes:Lw(t.histBytes)}):e.success({errMsg:t.errMsg,histBytes:null})},fail(t){e.fail(t)},complete(t){t&&t.histBytes?e.complete({errMsg:t.errMsg,histBytes:Lw(t.histBytes)}):e.complete({errMsg:t.errMsg,histBytes:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetHistoricalBytes","getHistoricalBytes"))}}):N2(e,"getHistoricalBytes:fail current platform is not supported")}}class X2 extends H2{constructor(){super("NFC-F")}}class Y2 extends H2{constructor(){super("NFC-V")}setTimeout(e={}){e=L2(e,`${this.techType}#setTimeout`),N2(e,"setTimeout: function not support",13024)}}class Q2 extends H2{constructor(){super("MIFARE Classic")}}class Z2 extends H2{constructor(){super("MIFARE Ultralight")}}var e6=null;function t6(){return e6||(e6=new $2)}var r6=Ut("local-service-found"),n6=Ut("local-service-lost"),i6=Ut("local-service-discovery"),a6=Ut("local-service-resolve-fail"),o6=(e={})=>{gu("operateLocalServicesScan",Object.assign({},e,{action:"start"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")})},s6=(e={})=>{gu("operateLocalServicesScan",Object.assign({},e,{action:"stop"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")})};Tt("onLocalServiceEvent",(e=>{var t=Object.assign({},e);switch("object"==typeof t.attributes&&null!==t.attributes&&Object.keys(t.attributes).forEach((e=>{var r=t.attributes[e];t.attributes[e]=Lw(r)})),delete t.event,e.event){case"found":r6.emit(t);break;case"lost":n6.emit(t);break;case"stopScan":delete t.serviceType,delete t.serviceName,delete t.ip,delete t.port,i6.emit(t);break;case"resolveFail":delete t.ip,delete t.port,a6.emit(t)}}));var c6=r6.onMethod,l6=r6.offMethod,u6=n6.onMethod,d6=n6.offMethod,p6=i6.onMethod,h6=i6.offMethod,f6=a6.onMethod,g6=a6.offMethod,v6=Ut("gyroscopeChange"),m6=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;gu("enableGyroscope",Ed(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")}})},y6=(e={})=>{gu("enableGyroscope",Ed(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},b6=v6.onMethod,_6=v6.offMethod;Tt("onGyroscopeChange",(e=>{v6.emit(e)}));var w6=Ut("deviceMotionChange"),I6=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;gu("enableDeviceMotionChangeListening",Ed(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")}})},S6=(e={})=>{gu("enableDeviceMotionChangeListening",Ed(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},k6=w6.onMethod,C6=w6.offMethod;Tt("onDeviceMotionChange",(e=>{w6.emit(e)}));var E6=e=>{gu("checkIsOpenAccessibility",e)},A6=e=>{var t=new Date(1e3*e);return t.setHours(0,0,0),t.valueOf()/1e3},T6=e=>{var t=new Date(1e3*e);return t.setSeconds(0),t.valueOf()/1e3},P6=function(e={}){if(xc("addPhoneCalendar",e,{})){var t=e.allDay?A6(e.startTime):T6(e.startTime),r=e.endTime?e.allDay?A6(e.endTime):T6(e.endTime):void 0;mu(Gp(this))("addPhoneCalendar",O()(O()({allDay:!1,alarm:!0},e),{},{startTime:t,endTime:r,repeat:!1}))}},x6=function(e={}){if(xc("addPhoneCalendar",e,{})){var t=e.allDay?A6(e.startTime):T6(e.startTime),r=e.endTime?e.allDay?A6(e.endTime):T6(e.endTime):void 0;mu(Gp(this))("addPhoneCalendar",O()(O()({allDay:!1,alarm:!0,repeatInterval:"month"},e),{},{startTime:t,endTime:r,repeat:!0}))}},M6=WN(),R6={};function D6(e){var t=M6.next();R6[t]=e,lr("getWebviewDebugInfo",{callbackId:t},[ul.currentWebviewId])}gr("getWebviewDebugInfoRes",(({callbackId:e,info:t},r)=>{var n=R6[e];R6[e]=null,"function"==typeof n.success&&n.success(t)}));var O6=e=>{he||pe?gu("getIPAddress",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getIPAddress","getLocalIPAddress")}}):gu("getLocalIPAddress",e)},L6=ed("removeUserCloudStorage","webapi_removeselfuserstorage",(({keyList:e})=>({key:e}))),N6=e=>{var t=wq(e.keyList);t?Rc("removeUserCloudStorage",e,t):L6(e)},B6=ed("setUserCloudStorage","webapi_setselfuserstorage",(({KVDataList:e=[]})=>{var t={kv_list:e};return Ue(z.disableSetUserStorageFromMiniProgram)&&(t.disable_set_user_storage_from_miniprogram=z.disableSetUserStorageFromMiniProgram),t})),F6=(e={})=>{Array.isArray(e.KVDataList)?0!==e.KVDataList.length?e.KVDataList.some((e=>{if("object"!=typeof e||"string"!=typeof e.key||"string"!=typeof e.value)return!0}))?Rc("setUserCloudStorage",e,"invalid KVData item"):B6(e):Rc("setUserCloudStorage",e,"KVDataList.length must greater than 0"):Rc("setUserCloudStorage",e,"KVDataList must be an Array")},W6="groupNameFetched",j6=!1;gr(W6,(()=>{j6||(j6=!0,rE({icon:"none",title:"群名称仅你可见，小程序无法获取。"}))}));var V6=(e={})=>{invokeMethod("navigateBackApplication",e,{})},U6,$6={};z.onReady((()=>{U6=z.appLaunchInfo.scene,Object.assign($6,z.appLaunchInfo),Kt("onAppEnterForeground",(e=>{Object.assign($6,e)}))}));var z6=(e={})=>{var{launchAppid:t}=e;t&&"string"==typeof t?invokeOperateWXData({apiName:"wxaapi_verify_jump",reqData:{appid:t},success:r=>{if("ok"===r.data.res){invokeMethod("launchApplication",Object.assign(e,{appId:t,operateDirectly:!0}));var n=[U6,encodeURIComponent($6.scene_note||$6.sceneNote),T&&T.getCurrentRoutePath(),e.alertType,e.parameter,WXConfig.appType+1e3,e.appId].map(encodeURIComponent).join(",");E.reportKeyValue({key:"LaunchApplicationInfo",value:n,force:!0})}else beforeInvokeFail("launchApplication",e,"no permission")},fail:()=>{beforeInvokeFail("launchApplication",e,"no permission")}}):(delete e.operateDirectly,invokeMethod("launchApplication",e,{}))},q6=(e={})=>{delete e.operateDirectly,gu("launchApplicationForNative",e,{})},H6=(e={})=>{Ph("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,he?Ph("launchApplicationDirectly")?gu("launchApplication",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((()=>Rc("launchApplicationDirectly",e,"no permission"))):gu("launchApplicationDirectly",e,{})},G6=(e={})=>{gu("openDeliveryList",e,{})},K6=!1,J6=[],X6=(e={})=>{if(!e.webviewId||!e.data){console.error("invalid arguments");var t={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof e.fail&&e.fail(t),void("function"==typeof e.complete&&e.complete(t))}"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),K6?J6.push(e):(K6=!0,gu("sendDataToH5",e,{afterAll(){if(K6=!1,J6.length){var e=J6.shift();X6(e)}}}))},Y6=!1,Q6=[];function Z6(e){for(var t=0;t<Q6.length;t++)Q6[t](e)}var e5=e=>{if("function"==typeof e){Q6.push(((t={})=>{t.webviewId&&t.data?("string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)):console.error("invalid arguments in onH5Data callback")})),Y6||(Tt("onH5Data",Z6),Y6=!0)}},t5=(e,t)=>(r={})=>{t||(t=e),Ph(e)?!0!==ul.openUrlExtBrowserLock&&(r.url=r.url||"",ul.openUrlExtBrowserLock=!0,gu(t,r,{afterAll(){ul.openUrlExtBrowserLock=!1}})):Rc(e,r,"no permission")},r5=t5("openUrlByExtBrowser"),n5=t5("openUrlByExtBrowser2","openUrlByExtBrowser"),i5=()=>{var e={};return gu("getPublicLibVersion",{complete:t=>{t.version?e=t.version:delete(e=t).errMsg}}),e},a5=(e={})=>{xc("setEnableDebug",e,{enableDebug:!0})&&(gu("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 wx.setEnableDebug 打开调试"))},o5={debug(){},log(){},info(){},warn(){},error(){}},s5=!1;s5||z.onReady((()=>{o5=v.createLogger(`LogManager${z.accountInfo&&z.accountInfo.appId}]`)}));var c5="undefined"!=typeof __initHelper&&1===__initHelper,l5=function(){try{return Kh.apply(this,arguments)}catch(e){return o5.error("mkdirSync fail",e,arguments),{errMsg:e.message||""}}},u5=function(){try{return ef.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return o5.error("accessSync fail",e,arguments),{errMsg:e.message||""}}},d5=function(){try{return cf.apply(this,arguments)}catch(e){return o5.error("renameSync fail",e,arguments),{errMsg:e.message||""}}},p5=function(){try{var e=uh.apply(this,arguments);return{stat:e,errMsg:"statSync:ok"}}catch(e){return o5.error("statSync fail",e,arguments),{errMsg:e.message||""}}},h5=function(){try{var e=zh.apply(this,arguments);return{data:e,errMsg:"readFileSync:ok"}}catch(e){return o5.error("readFileSync fail",e,arguments),{errMsg:e.message||""}}},f5=function(){try{return rf.apply(this,arguments),o5.info("unlinkSync success",arguments),{errMsg:"unlinkSync:ok"}}catch(e){return o5.error("unlinkSync fail",e,arguments),{errMsg:e.message||""}}},g5=function(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`},v5=function(e){"string"!=typeof e&&(e+="");var t,r,n=0;for(t=0;t<e.length;t++)(r=e.charCodeAt(t))<127?n+=1:r>=128&&r<=2047?n+=2:r>=2048&&r<=65535&&(n+=3);return n},m5=!1,y5,b5,_5=1048576,w5=4,I5=102400,S5=2e3,k5=1,C5=[],E5,A5="log",T5={lastLogNum:1,lastLogSize:0},P5=!1,x5=!1,M5=!1,R5={},D5=e=>b5+A5+e,O5=$d((e=>u5(e).errMsg.indexOf("accessSync:ok")>=0)),L5=$d((e=>{var t=u5(e).errMsg;return t.indexOf("fail")>=0&&(t.indexOf("access denied")>=0||t.indexOf("no permission")>=0)})),N5=$d((e=>{if(o5.info(`initLog[1][isRemoteDebugMode=${c5}, wxConfigReady=${m5}, isLogInit=${P5}]`),c5||!m5||P5)e&&e();else{if(o5.info("initLog[2]"),y5=z&&"devtools"===z.platform,b5=(z&&z.env.USER_DATA_PATH||(y5?"http://usr":"wxfile://usr"))+"/miniprogramLog/",!O5(b5))return o5.info(`initLog[3][mkdirSync][usrLogDir=${b5}]`),l5(b5),P5=!0,M5=L5(b5),e&&e(),M5?void o5.error("hasNoPermission[1]"):void 0;if(M5=L5(b5))return P5=!0,void o5.error("hasNoPermission[2]");for(var t=1;t<=w5+1&&O5(D5(t));)R5[t]=!0,T5.lastLogNum=t,t++;o5.info(`[before statSync] path=${D5(T5.lastLogNum)}`);var r=p5(D5(T5.lastLogNum));r.stat&&(T5.lastLogSize=r.stat.size),o5.info("[before isLogInit changeinto true"),P5=!0,e&&e()}})),B5=$d((()=>{N5((()=>{if(o5.warn(`[after initLog] isLogInit=${P5}; isRemoteDebugMode=${c5}; hasNoPermission=${M5}; CACHE_LOG.length=${C5.length}; needDeleteOldLog=${x5}`),P5&&!c5&&!M5&&C5.length&&!x5){for(var e=[],t=0,r=0;r<C5.length;r++){var n=v5(C5[r]);if(o5.warn(`[logItemSize=${n}][currentSize=${t}][MAX_LOG_SIZE=${I5}]`),n>I5)console.warn("[wx.log warn] each log size exceed 100KB will be discard."),o5.warn(`submitLog[3],logItemSize=${n},MAX_LOG_SIZE=${I5}`);else{if(t+n>I5)break;t+=n,e.push(C5[r])}}if(o5.warn(`[reportLogList.length=${e.length}]`),e.length){if(T5.lastLogSize+t>_5){if(T5.lastLogNum+1>=w5+2)return x5=!0,o5.warn("submitLog[4][deleteOldLog]","logConfig=",T5,",MAX_FILE_COUNT=",w5),void F5();T5.lastLogNum++,T5.lastLogSize=0}r===C5.length?C5=[]:C5.splice(0,r),R5[T5.lastLogNum]||O5(D5(T5.lastLogNum))?(o5.info("submitLog[7],before appendFile, filePath=",D5(T5.lastLogNum)),lf({filePath:D5(T5.lastLogNum),data:(T5.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail(e){o5.error("submitLog[7.1], appendFile fail",e)},success(e){o5.info("submitLog[7.2], appendFile success",e)}})):(o5.info("submitLog[5], before writeFile, filePath=",D5(T5.lastLogNum)),qh({filePath:D5(T5.lastLogNum),data:(T5.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",success(e){o5.info("submitLog[5.1], writeFile success",e)},fail(e){console.log("log writeFile err "+e.errMsg),o5.error("submitLog[6],writeFile fail",e)}})),T5.lastLogSize+=t}}}))}));function F5(){setTimeout((()=>{o5.info(`deleteOldLog[1],unlinkSync,logPath(1)=${D5(1)}`),f5(D5(1));for(var e=2;e<=w5+1;e++)o5.info(`deleteOldLog[2],renameSync,logPath(1)=${D5(1)},logPath(i - 1)=${D5(e-1)}`),d5(D5(e),D5(e-1));T5.lastLogNum=w5+1,R5[T5.lastLogNum]=!1,T5.lastLogSize=0,x5=!1}),50)}function W5(){E5&&clearTimeout(E5),E5=setTimeout((()=>{B5(),E5=null,W5()}),S5)}var j5={logApiInvoke:!0};function V5(e){var t={};return["info","debug","log","warn"].forEach((r=>{t[r]=function t(){j5.modules&&j5.modules.includes(e)&&j5[r].apply(t,arguments)}})),t}["info","debug","log","warn"].forEach((e=>{j5[e]=function(){if(!c5&&!M5&&m5&&arguments.length&&T5){for(var t=[],r=0;r<arguments.length;r++)"number"==typeof arguments[r]||"string"==typeof arguments[r]?t.push(arguments[r]):t.push(JSON.stringify(arguments[r]));t.splice(0,0,g5(new Date),`[${e}]`),C5.push(t.join(" "))}}}));var U5=!1;function $5(e={}){return U5||($d(W5)(),U5=!0),"number"==typeof e.level&&(j5.level=e.level),Array.isArray(e.modules)&&(j5.modules=e.modules),j5.level===k5?j5.logApiInvoke=!1:0===j5.level&&(j5.logApiInvoke=!0),j5}j5._getUserLog=function(){for(var e={},t=1;t<=w5+1;t++)e["log"+t]=p5(D5(t));return e},j5.privateSystemLog=(...e)=>{m5&&De()&&void 0!==E&&e&&e.length&&v.info(e)},z.onReady((()=>{c5||(m5=!0)})),qk((()=>{c5||B5()}));var z5=$d(X6),q5=$d(e5);function H5(e={}){if(o5.info(`uploadUserLog[1],logConfig.lastLogNum=${T5.lastLogNum}`,",args=",e),!e.index||e.index>T5.lastLogNum)return o5.info("uploadUserLog[2]"),void(e.complete&&e.complete());var t="ios"===z.platform?1:5,r=e.readFileResp||h5(D5(e.index),"utf8");if(o5.info(`uploadUserLog[3],readFileSync=${r.errMsg},index=${e.index},EACH_SLICE=${t}`),r.errMsg.indexOf("readFileSync:ok")>=0&&r.data){var n=r.data.length,i=Math.max(parseInt(n/t,10),1),a=(e.slice-1)*i;o5.info("uploadUserLog[4]","start=",a,"eachLen=",i,"len=",n,r.data.length);var o=r.data.substr(a,i);if(o5.info("uploadUserLog[5],content.length=",o&&o.length,",logConfig=",T5),!o)return o5.info("uploadUserLog[6],uploadUserLogSliceComplete"),z5({webviewId:e.webviewId,data:{total:T5.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:by()}}),e.index++,e.slice=1,e.readFileResp=null,void H5(e);o5.info("uploadUserLog[7], uploadUserLogContent,content.length=",o&&o.length,",logConfig=",T5),z5({webviewId:e.webviewId,data:{type:"uploadUserLogContent",content:o,index:e.index,slice:e.slice||1,total:T5.lastLogNum,info:1===e.index&&1===e.slice?by():null},success(){o5.info(`uploadUserLog[8] uploadUserLogContent suc, EACH_SLICE=${t}, args.slice=${e.slice}, logConfig.lastLogNum=${T5.lastLogNum}`),e.slice===t?(z5({webviewId:e.webviewId,data:{total:T5.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:by()}}),e.index++,e.slice=1,e.readFileResp=null,H5(e)):(e.slice++,e.readFileResp=r,o5.info("uploadUserLog[9],args=",e),H5(e))},fail(t){o5.error(`uploadUserLog[10] fail,failResp.errMsg=${t.errMsg},args.retry=${e.retry}`),e.retry?z5({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t&&t.errMsg,index:e.index,info:by()}}):(e.retry=!0,H5(e))}})}else o5.error(`uploadUserLog[11],readFileSync fail=${r.errMsg},index=${e.index}`),z5({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:r.errMsg,index:e.index,info:by()}})}c5||q5((e=>{o5.info("onH5Data",e,T5),e.data&&"uploadUserLog"===e.data.type&&H5({index:1,slice:1,webviewId:e.webviewId})}));var G5="GetUploadSetting",K5,J5={};function X5(e){return e?(J5[e]||(J5[e]=Yu({sdkApiName:G5,apiName:"GetUploadSetting",reqData:{},pluginId:e})),J5[e]):K5||(K5=Yu({sdkApiName:G5,apiName:"GetUploadSetting",reqData:{}}))}var Y5=WN(),Q5=function(){return Y5.next()},Z5=function(){try{return Kh.apply(this,arguments)}catch(e){return{errMsg:e.message}}},e4=function(){try{var e=zh.apply(this,arguments);return{data:e,errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}},t4=$d((e=>r4(e).errMsg.indexOf("accessSync:ok")>=0)),r4=function(){try{return ef.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message||""}}},n4=function(e){return Yu(e)},i4=1e3,a4={DEBUG:1,INFO:2,WARN:4,ERROR:8},o4={ANDROID:1,IOS:2},s4={WEAPP:1},c4="",l4=!1;function u4(e){l4?e&&e():(l4=!0,z.onReady((()=>{c4=z.accountInfo.appId,e&&e()})))}var d4=function(e,t){if("string"!=typeof e)return 0;var r,n,i,a=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=65535?2:4;else for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=127?1:r<=2047?2:r<=65535?3:4;return a};function p4(){if(void 0!==Yc){var e=Yc.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}if(Te())return"index"}var h4=3e5,f4;function g4(e){if(v4(),e="number"!=typeof e?h4:e,(e=Math.max(e,5e3))>0){var t=()=>{v4(),f4=setTimeout((()=>{x4(),t()}),e)};t()}}function v4(){f4&&(f4=clearTimeout(f4))}var m4=!1,y4=6e4,b4=2048;class _4{constructor(e={}){this.systemInfo=Zy(),this.opt={},this.opt.level=a4.INFO,this.mode=e.mode||"normal",this.pluginId=e.pluginId,this.pluginVersion=e.pluginVersion,this.timerId=null,this.isExceedTodayUploadLogCount=!1,this.opt.isClientReport=!!e.isClientReport,this.msgList={},this.filterList={},this.kvFilterList={},this.sizeList={},this.levelList={},this._uploadList=[],this._logInfo={},this._logInfo.level=0,this._logInfo.version=2,this._logInfo.source=s4.WEAPP,this._logInfo.platform="ios"===this.systemInfo.platform?o4.IOS:o4.ANDROID,this._logInfo.libraryVersion=this.systemInfo.SDKVersion,this._logInfo.clientVersion=this.systemInfo.version,this.exceedSizeList={},this.structSizeList={},this.historyLog={},this.retryLogList={},this.MaxSize=10240,this.MaxLogCount=500,this._logCacheBeforeLogConfig=[],setTimeout((()=>{de||this._getLogConfig()}),300),u4((()=>{Te()&&this.cyclelyUploadInGame()})),this.uploadCount=0,this.failCount=0,this.opt.isClientReport&&(this.MaxSize=5120,this.MaxLogCount=200,TE((e=>{this.onRealtimeDataResponse(e)})))}cyclelyUploadInGame(){setTimeout((()=>{x4(),this.cyclelyUploadInGame()}),6e5)}onRealtimeDataResponse(e){if(this.uploadCount++,0!==e.errcode){var t=vg();if("wifi"!==t&&"4g"!==t&&"5g"!==t||(this.failCount++,this.uploadCount>=5&&this.failCount/this.uploadCount>=.6&&(m4=!0,this.failCount=0,this.uploadCount=0,setTimeout((()=>{m4=!1}),y4))),e.idList&&e.idList.length){var r=!1,n={},i=!1,a={};e.idList.forEach((o=>{var s=this.historyLog[o];s&&(s.id,s.url,E.reportKeyValue({key:"UserLogFail",value:`,${t},${e.errcode},${parseInt(Date.now()/1e3,10)},${s.url},${s.libraryVersion},${c4}`}),r=!0,delete this.historyLog[o],n[o]=s);var c=this.retryLogList[o];c&&(c.id,c.url,a[o]=c,delete this.retryLogList[o],i=!0)})),r&&(this.retryLogList=n,this.failRetry(n)),i&&this.saveToFile(a)}}}_getLogConfig(e,t){return X5(this.pluginId).then((r=>{if(r.data){try{var n=r.data;this.MaxSize=1024*n.MaxLogSize,n.MaxLogCount&&(this.MaxLogCount=n.MaxLogCount),this._logInfo.id=n.UserUin,n.OpenId&&(this.traceid=`${n.OpenId}_${parseInt(Date.now()/1e3,10)}`),n.Debug&&n.Debug.MaxSize&&n.Debug.ExpireTime>Date.now()/1e3&&(this.isDebugMode=!0,this.MaxSize=1024*n.Debug.MaxSize,this.opt.level=a4.DEBUG,n.Debug.MaxLogCount&&(this.MaxLogCount=n.Debug.MaxLogCount));var i=this._logCacheBeforeLogConfig||[];this._logCacheBeforeLogConfig=[],i.forEach((e=>{this._baseLog(e.key,e.path,...e.args)})),this._getConfigFail=!1,e&&this.upload(t),Te()||g4(n.ReportInterval)}catch(e){this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]}setTimeout((()=>{this.tryUploadFailLog()}),100)}else this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]})).catch((e=>{e.errMsg&&e.errMsg.indexOf("fail invalid scope")>=0&&(this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]),this._getConfigFail=!0}))}_config(e={}){e.mode&&(this.mode=e.mode)}_checkSize(e,t){var r=0;if(!t||!t.length)return!0;if(!(e=this.pluginId||e||p4()))return!0;t.forEach((e=>{r+=d4(e)})),this.sizeList[e]=this.sizeList[e]||0;var n=this.sizeList[e];return n+r>this.MaxSize?r:(this.sizeList[e]=n+r,!0)}_getLogValue(e){var t,r=typeof e,n="";if("function"===r&&(t="function(){}"),"undefined"===r)t="<Undefined>";else if("object"===r){n=(n=Object.prototype.toString.call(e)).replace(/^\[object |\]$/g,"");try{t="Error"===n?e.stack:JSON.stringify(e)}catch(e){n="Error",t=e.message}}else e+="";return t||e}_baseLog(e,t,...r){if(r.length&&!this._hasNoPermission)if(this._logInfo.id){var n,i,a,o;"object"==typeof e?(n=e.id,i=e.name,a=e.level,o=e.time):(n="__DEFAULT__",i="__DEFAULT__",a=e,o=+new Date);var s=a4[a.toUpperCase()]||0;if(!(s<this.opt.level)){var c,l;if(t=this.pluginId||t||p4(),this.structSizeList[t]=this.structSizeList[t]||0,"kv"===this.mode){var[u,d]=r;if(!u||"string"!=typeof u)return;var p=this._getLogValue(d);l=this._checkSize(t,[u,p]),c=[n,o,i,u,p]}else c=r.map(this._getLogValue),l=this._checkSize(t,c),this.structSizeList[t]+=6+(c.length?3*c.length-1:0);if(!0===l)this._addLogMsg(c,t,s);else{if(this.exceedSizeList[t]=this.exceedSizeList[t]||0,!this.exceedSizeList[t]){var h=[`UserLog:fail Log Size ${l} Exceed.`];"kv"===this.mode&&h.unshift("warning"),this._addLogMsg(h,t,a4.WARN)}this.exceedSizeList[t]+=l}}}else this._logCacheBeforeLogConfig.push({key:e,path:t,args:r})}_addLogMsg(e,t,r){if(!this.isExceedTodayUploadLogCount&&r&&(!this._getConfigFail||!this._getConfigRetry)){var n=this.pluginId||t||p4();if(n)if(this.msgList[n]=this.msgList[n]||[],this.msgList[n].length>=this.MaxLogCount)this.MaxLogCount;else{var i=this.msgList[n][0];if("kv"===this.mode){var[a,o,s,c,l]=e,u=[r,a,o,s,c,l];this.msgList[n].push(u)}else{var d=new Date,p=Math.ceil(+d/1e3),h=[i?p-i[0]:p,e,r,d.getMilliseconds()];if(!this.msgList[n].length){var f=(new Date).getTimezoneOffset();h.push(f)}this.msgList[n].push(h)}this.levelList[n]=this.levelList[n]||0,this.levelList[n]|=r}}}OperateWxUploadLog(e,t){if(!this.isExceedTodayUploadLogCount){var r=e.structSize||0;delete e.structSize;var n=e.rawSize||0;if(delete e.rawSize,this.opt.isClientReport){var i=this.pluginId?1004:1001;e.url;var a=AE(i,JSON.stringify({interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0,pluginId:this.pluginId||"",pluginVersion:this.pluginVersion||"",appId:c4}));return this.historyLog[a]=e,E.reportKeyValue({key:"UserLog",value:`,${r+n},${n}${e.timestamp},${e.url},${e.filter1},${c4}`}),void(t&&t(!0))}return n4({sdkApiName:"UploadByApi",apiName:"UploadByApi",pluginId:this.pluginId,reqData:{interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0}}).then((()=>{t&&t(!0)})).catch((e=>{e&&1e4==+e.err_code&&(this.isExceedTodayUploadLogCount=!0),t&&t(!1),this.failCount++}))}}failRetry(e){this.uploadFailRetryTimerId||(this.uploadFailRetryTimerId=setTimeout((()=>{if(e)for(var t in e)this.historyLog.hasOwnProperty(t)&&this.OperateWxUploadLog(this.historyLog[t])}),3e3))}stat(e){return(e=this.pluginId||e||p4())&&this.sizeList[e]||0}getCurrentState(e){return{size:(e=this.pluginId||e||p4())&&this.sizeList[e]||0,maxSize:this.MaxSize,logCount:e&&this.msgList[e]&&this.msgList[e].length||0,maxLogCount:this.MaxLogCount}}_hasUploadInterval(){return!!this.opt.isClientReport||!(this._isUploading||Date.now()-this._lastUploadTime<i4)}upload(e){var t=e||p4();if(e=this.pluginId||t){var r=this.msgList[e]||[];if(r&&r.length)if(this._hasUploadInterval()){if(this._getConfigFail||!this._logInfo.id){if(this._getConfigRetry)return;return this._getConfigRetry=!0,void this._getLogConfig(!0,t)}if(l4){if(!m4){this.msgList[e]=[];var n=this.levelList[e]||a4.DEBUG;this.levelList[e]=0;var i=this.sizeList[e];this.sizeList[e]=0;var a=this.exceedSizeList[e];this.exceedSizeList[e]=0;var o=this._logInfo;o.level=n,o.rawSize=a+i;var s=this.structSizeList[e]||0;if(o.structSize=s,this.structSizeList[e]=0,this._logInfo.timestamp=Math.ceil(Date.now()/1e3),this._logInfo=Object.assign({},this._logInfo),"kv"===this.mode){var c={},l={};r.forEach((e=>{var[t,r,n,i,a,o]=e,s=t||a4.DEBUG;l[r]=l[r]||[n,{},s],l[r][1][a]=o,l[r][2]=Math.max(l[r][2],s),c[i]=c[i]||[],-1===c[i].indexOf(l[r])&&c[i].push(l[r])}));var u=this.kvFilterList,d=[];u&&u[e]&&Object.keys(u[e]).forEach((t=>{var r=u[e][t];r&&r.length&&r.forEach((e=>{var[r,n=""]=e;if(l[r]){var i=l[r][1];i.__REALTIME_LOG_TAG__=i.__REALTIME_LOG_TAG__||[],-1===i.__REALTIME_LOG_TAG__.indexOf(n)&&i.__REALTIME_LOG_TAG__.push(n),-1===d.indexOf(n)&&(d.push(n),d.push(`${t}_${n}`))}}))})),o.msg=JSON.stringify(c),o.filter1=[].concat(Object.keys(c),d).join(" "),this.kvFilterList[e]=[]}else o.msg=JSON.stringify(r),o.filter1=this.filterList[e]||"",this.filterList[e]="";d4(o.msg),o.appid=c4,this.pluginId&&(o.pluginid=this.pluginId),this.pluginVersion&&(o.pluginVersion=this.pluginVersion),"kv"===this.mode&&(o.mode=this.mode),o.url=t,this.traceid&&(o.traceid=this.traceid),o.device=this.systemInfo.model+" "+this.systemInfo.system,this._isUploading=!0,this.OperateWxUploadLog(o,(e=>{this._isUploading=!1,this._lastUploadTime=Date.now(),e&&this._uploadList.length&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.timerId=null,this.upload(this._uploadList.shift())}),i4))}))}}else u4((()=>{c4&&this.upload(t)}))}else this._uploadList.indexOf(t)<0&&this._uploadList.push(t)}}setFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),d4(t)>b4)return!1;if(e=this.pluginId||e||p4(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=[[r.id,t]],!0}return this.filterList[e]=t,!0}addFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),e=this.pluginId||e||p4(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=n[e][r.name]||[],void n[e][r.name].push([r.id,t])}var i=this.filterList[e]||"";this.setFilterMsg(e,i+(i?" ":"")+t)}getTraceId(){return this.traceid||""}getFilePath(){var e=(z&&z.env.USER_DATA_PATH||(de?"http://usr":"wxfile://usr"))+"/miniprogramLog/",t=e+"realtime.log";return t4(e)||Z5(e),t}getFileContent(e){var t=e4(e,"utf8");try{if(t&&t.data)return t=JSON.parse(t.data)}catch(e){}return null}saveToFile(e){if(e){var t=this.getFilePath();if(t4(t)){var r=this.getFileContent(t);r&&Object.keys(r).forEach((t=>{e[t]||(e[t]=r[t])}))}qh({filePath:t,data:JSON.stringify(e),encoding:"utf8",fail(e){e.errMsg},success(e){}})}}tryUploadFailLog(){var e=this.getFilePath();if(t4(e)){var t=this.getFileContent(e);if(!t)return;Object.keys(t).forEach((e=>{this.OperateWxUploadLog(t[e])})),qh({filePath:e,data:"{}",encoding:"utf8",fail(e){e.errMsg},success(e){}})}}}var w4=null,I4={},S4=e=>e?I4[e]:w4,k4=(e,t)=>{e?I4[e]=t:w4=t},C4=()=>{var e=[];return w4&&e.push(w4),Object.keys(I4).forEach((t=>e.push(I4[t]))),e},E4=(e={},t,r)=>{var n="",i={stat(){if(!de){var e=S4(t);if(e)return e.stat(n)}},getCurrentState(){if(de)return{};var e=S4(t);return e?e.getCurrentState(n):{}},setFilterMsg(e){if(!de){var r=S4(t);if(r)return r.setFilterMsg(n,e)}},addFilterMsg(e){if(!de){var r=S4(t);if(r)return r.addFilterMsg(n,e)}},in(e){Te()?n="index":e&&e.route&&(n=e.route)},tag(e){var r=Q5(),i=+new Date;return{debug(a,o){if(!de){var s=S4(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"debug"},n,a,o)}},info(a,o){if(!de){var s=S4(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"info"},n,a,o)}},warn(a,o){if(!de){var s=S4(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"warn"},n,a,o)}},error(a,o){if(!de){var s=S4(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"error"},n,a,o)}},setFilterMsg(i){if(!de){var a=S4(t);if(a)return a.setFilterMsg(n,i,{name:e,id:r})}},addFilterMsg(i){if(!de){var a=S4(t);if(a)return a.addFilterMsg(n,i,{name:e,id:r})}}}}};return i=t?Object.assign(i,{config(){},debug(){},info(){},warn(){},error(){}}):Object.assign(i,{config(e){if(!de&&"object"==typeof e){var r=S4(t);r&&r._config(e)}},debug(...e){if(!de){var r=S4(t);if(r)return r._baseLog("debug",n,...e)}},info(...e){if(!de){var r=S4(t);if(r)return r._baseLog("info",n,...e)}},warn(...e){if(!de){var r=S4(t);if(r)return r._baseLog("warn",n,...e)}},error(...e){if(!de){var r=S4(t);if(r)return r._baseLog("error",n,...e)}}}),S4(t)||k4(t,new _4({isClientReport:e.isClientReport,pluginId:t,pluginVersion:r,mode:t?"kv":"normal"})),i},A4=e=>{e=e||{};var t="develop"===z.envVersion||"trial"===z.envVersion;return e.isClientReport=!t,E4(e)},T4=(e,t,r)=>{r=r||{};var n="develop"===z.envVersion||"trial"===z.envVersion;return r.isClientReport=!n,E4(r,e,t)},P4=e=>{e=e||{};var t="develop"===WXConfig.envVersion||"trial"===WXConfig.envVersion;return e.isClientReport=!t,E4(e)},x4=e=>{if(!de){var t=C4();t.length&&t.forEach((t=>{try{t.upload(e)}catch(e){}}))}},M4;qk((e=>{de||e&&8===e.targetAction||l4&&(M4&&clearTimeout(M4),M4=setTimeout((()=>{void 0!==Yc?Yc.getCurrentPagesByDomain("").forEach((e=>{x4(e.route)})):Te()&&x4();M4=null}),10))}));var R4=(e={})=>{z.onReady((()=>{if(!Oe()&&!De()){var t={errMsg:"enterContact:fail no permission"};return e.fail&&e.fail(t),void(e.complete&&e.complete(t))}e.privateEnterContact=!0,bp("appServiceEnterContact",e,[ul.currentWebviewId],(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("privateEnterContact","enterContact")),0===t.errMsg.indexOf("enterContact:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))}))},D4=function(e){var t=Gp(this);mu(t)("chooseShareGroup",e)},O4=10,L4=e=>{gu("updatePerfData",e)},N4=e=>{gu("traceEvent",e)},B4,F4=Ut("memoryWarning"),W4=F4.onMethod,j4=F4.offMethod,V4=(e,t=!1)=>{t?B4=e:W4(e)},U4=(e,t=!1)=>{t?B4=null:j4(e)};Tt("onMemoryWarningReceive",((e={})=>{pe&&e.level<O4||(F4.getGlobalListeners().length?F4.emitGlobal(e):"function"==typeof B4&&B4(e))}));var $4=1,z4=60,q4=300,H4=1e3,G4=864e5,K4=null,J4=null,X4=null,Y4=new Promise((e=>{X4=e}));z.onReady((()=>{J4=z,K4=Zy(),X4()}));var Q4=e=>{J4?e():Y4.then(e)},Z4={enabled:!0,sampleRate:$4,batchTime:q4,legacyReportEnabled:!0,bufferCapacity:H4,userUin:0},e7,t7=!1;function r7(){return t7=!0,X5().then((e=>{var t=e.data;if(t){var r=t.PerformaceGlobalConf,n=t.PerformacePersonalConf;r&&(void 0!==r.PerformanceOldReportOff&&(Z4.legacyReportEnabled=!(1===r.PerformanceOldReportOff)),void 0!==r.PerformanceReportMaxNum&&(Z4.bufferCapacity=parseInt(r.PerformanceReportMaxNum,10)),void 0!==r.PerformanceMiniprogramlibGatherTime&&(Z4.batchTime=60*parseInt(r.PerformanceMiniprogramlibGatherTime,10))),n&&(void 0!==n.PerformanceMiniprogramlibOff&&(Z4.enabled=!(1===n.PerformanceMiniprogramlibOff)),void 0!==n.PerformanceMiniprogramlibGatherTime&&(Z4.batchTime=60*parseInt(n.PerformanceMiniprogramlibGatherTime,10)),void 0!==n.PerformanceMiniprogramlibSamplingRatio&&(Z4.sampleRate=parseInt(n.PerformanceMiniprogramlibSamplingRatio,10)/100)),Z4.userUin=t.UserUin,Z4.batchTime!==q4&&d7()}})).catch((e=>{}))}function n7(e){return e}function i7(e,t){if(0===t)return!1;var r=Math.ceil(1/t);return n7(e)%r===parseInt(Date.now()/G4,10)%r}function a7(e){if(!e)return"";var t=e.indexOf("?");return t>-1?e.substring(0,t):e}function o7(){var e=void 0!==Yc?Yc.getCurrentPagesByDomain(""):[],t=K4&&K4.brand,r=K4&&K4.model,n=K4&&K4.platform,i=K4&&K4.system,a=J4&&J4.appLaunchInfo&&J4.appLaunchInfo.scene,o=J4&&z.envVersion,s=K4&&K4.version,c=K4&&K4.SDKVersion,l=e.length>0&&e[e.length-1].__route__||"";return{platform:n,system:i,path:l=a7(l),scene:a,brand:t,model:r,networkType:vg(),envType:o,clientVersion:s,sdkVersion:c}}function s7(e,t,r=[],n){var i=Object.create(null);i.key=e,i.value=t;var a=o7(),o="";n?(o=n.pluginId,a.pluginCustomVersion=n.customVersion,a.path=Kc.convertRouteToComponentAlias(a.path),a.path.indexOf("plugin")<0&&(a.path="")):o=J4.accountInfo&&J4.accountInfo.appId,g7({appId:o,metrics:i,dimensions:r}),e7&&e7.then((()=>{"release"===z.envVersion&&Z4.sampleRate!==$4&&Z4.userUin&&!i7(Z4.userUin,Z4.sampleRate)||Z4.enabled&&Z4.legacyReportEnabled&&v7({appId:o,metrics:i,baseInfo:a,interfaces:"log_20000_userdefine",busid:"b_wxg_wxa_miniprogram_performance"})}))}var c7={};function l7(){var e=Object.keys(c7);if(!(e.length<=0)&&Z4.enabled&&("release"!==z.envVersion||Z4.sampleRate===$4||!Z4.userUin||i7(Z4.userUin,Z4.sampleRate))){var t="develop"===z.envVersion||"trial"===z.envVersion;for(var r of e){var n=c7[r],i={key:n.key,value:n.valueSum/n.count,num:n.count},a=n.baseInfo,o=n.dimensions;t?o.length>0?m7({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20004",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):m7({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20002",busid:"b_wxg_wxa_miniprogram_performance"}):o.length>0?v7({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20003",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):v7({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20001",busid:"b_wxg_wxa_miniprogram_performance"}),delete c7[r],E.reportKeyValue({key:"PerfReport",value:[n.appId,a.platform,a.scene,a.brand,a.model,a.networkType,a.envType,i.key,i.value,i.num,parseInt(Date.now()/1e3,10)].join(",")})}}}var u7=null;function d7(){var e="develop"===z.envVersion||"trial"===z.envVersion?z4:Z4.batchTime;u7&&clearInterval(u7),u7=setInterval(l7,1e3*e)}function p7(){setTimeout(l7,3e4)}var h7=!1;function f7(){h7=!0,Q4((()=>{p7(),d7(),qk((()=>{l7()})),zS((()=>{d7()}))}))}function g7({appId:e,metrics:t={},dimensions:r=[]}={}){var n="";r.length>0&&(n="_"+r.join("_"));var i=o7(),a=`${t.key}_${i.networkType}_${i.scene}${n}`;if(!(Object.keys(c7).length>Z4.bufferCapacity)){c7[a]||(c7[a]={appId:e,key:t.key,valueSum:0,count:0,baseInfo:i,dimensions:r});var o=c7[a];o&&(o.valueSum+=t.value,o.count++)}}function v7({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)}),s=JSON.stringify({interface:n,busid:i,data:o});AE(1002,s,!0)}function m7({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){if(Z4.enabled){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)});Yu({sdkApiName:"UploadByApi",apiName:"UploadByApi",reqData:{interface:n,busid:i,data:o}}).catch((()=>{}))}}function y7(e){e&&e.success&&delete e.success,e&&e.fail&&delete e.fail,e&&e.complete&&delete e.complete}var b7=0,_7=4294967295;function w7(e,t,r,n){Z4.enabled&&(e||"number"==typeof e||console.warn("[reportPerformance] id can not be empty"),t||"number"==typeof t||console.warn("[reportPerformance] value can not be empty"),e=parseFloat(e),t=parseFloat(t),(Number.isNaN(e)||"number"!=typeof e)&&console.warn("[reportPerformance] id should always be type of Number"),e>=b7&&e<=_7||console.warn("[reportPerformance] id is out of range, will probably cause report failure"),(Number.isNaN(t)||"number"!=typeof t)&&console.warn("[reportPerformance] id should always be type of Number"),t>=b7&&t<=_7?(void 0===r||Array.isArray(r)||(r=[String(r)]),Array.isArray(r)&&(r.length>2&&console.warn("[reportPerformance] expected dimensions length to be less than or equals to 2, but got",r.length),0===(r=r.slice(0,2)).length&&(r[0]="",r[1]=""),1===r.length&&(r[1]=""),r=r.map((e=>e?String(e):"")).map((e=>e.substring(0,256)))),r&&Array.isArray(r)||(r=[]),t7||(e7=r7()),h7||f7(),Q4((()=>{"release"===z.envVersion&&Z4.sampleRate!==$4&&Z4.userUin&&!i7(Z4.userUin,Z4.sampleRate)||s7(e,t,r,n)}))):console.warn("[reportPerformance] value should be in range of",b7," to",_7))}function I7(e,t,r){w7(e,t,r)}function S7(e,t,r,n){w7(e,t,r,n)}var k7=["navigation","loadPackage","render","script","resource"],C7=["navigation","render"],E7=["appLaunch","route","firstRender"],A7,T7;class P7{constructor(e,t,r,n,i){this.entryType=e,this.name=t,this.startTime=r,this.duration=void 0,n&&(this.duration=n-r),i&&Object.assign(this,i)}}class x7 extends P7{constructor(e,t,r,n){super("render",e,t,r,n)}}class M7 extends x7{constructor(e,t,r){super("firstRender",e,t,r)}}class R7 extends P7{constructor(e,t,r){super("script","evaluateScript",e,t,r)}}class D7 extends P7{constructor(e,t,r,n,i){super("navigation",e,t,r,Object.assign({navigationType:n},i))}}class O7 extends D7{constructor(e,t,r){super("appLaunch",e,t,"appLaunch",r)}}class L7 extends D7{constructor(e,t,r,n){super("route",e,t,r,n)}}class N7 extends P7{constructor(e,t,r){super("loadPackage","downloadPackage",e,t,r)}}class B7 extends P7{constructor(e,t,r){super("resource","resourceTiming",e,t,r)}}function F7(e){e.duration>0&&e.duration<1e6&&m.info(`Launch Time: ${e.duration} ms`)}"devtools"===z.platform&&m.info(`WeChatLib: ${R$.version} (${R$.updateTime})`),z.onReady((()=>{(Array.isArray(z.subpackages)?z.subpackages.length:0)>0?m.info(`No. of subpackages: ${z.subpackages.length}`):m.info("Subpackages: N/A");var e=!!z.isLazyLoad;m.info(`LazyCodeLoading: ${e}`),e&&z.__globalComponentsCount>0&&console.warn(`[Perf] 全局自定义组件可能影响按需注入的效果，请谨慎使用（在 app.json 中检测到 ${z.__globalComponentsCount} 个）。\n参考 https://developers.weixin.qq.com/miniprogram/dev/framework/ability/lazyload.html`)}));var W7="updatePerfTimeline",j7;!function(e){e[e.AS_Config_Ready_Begin=0]="AS_Config_Ready_Begin",e[e.AS_Config_Ready_End=1]="AS_Config_Ready_End",e[e.App_onLaunch=2]="App_onLaunch",e[e.App_onShow=3]="App_onShow",e[e.Evaluate_Script_Begin=4]="Evaluate_Script_Begin",e[e.Evaluate_Script_End=5]="Evaluate_Script_End",e[e.SubPackage_Ready=6]="SubPackage_Ready",e[e.AppRoute_Begin=7]="AppRoute_Begin",e[e.AppRoute_End=8]="AppRoute_End",e[e.AppRoute_Callback_Begin=9]="AppRoute_Callback_Begin",e[e.AppRoute_Callback_End=10]="AppRoute_Callback_End",e[e.AppRoute_AppServiceEngine=11]="AppRoute_AppServiceEngine",e[e.Open_New_Page=12]="Open_New_Page",e[e.Publish_Init_Data=13]="Publish_Init_Data",e[e.Send_Init_Data=14]="Send_Init_Data",e[e.Recv_Init_Ready=15]="Recv_Init_Ready",e[e.AppRoute_Done_Begin=16]="AppRoute_Done_Begin",e[e.AppRoute_Done_End=17]="AppRoute_Done_End",e[e.TriggerAppRoute=18]="TriggerAppRoute",e[e.Evaluate_WAWebview_Begin=19]="Evaluate_WAWebview_Begin",e[e.Evaluate_WAWebview_End=20]="Evaluate_WAWebview_End",e[e.WV_Config_Ready_Begin=21]="WV_Config_Ready_Begin",e[e.WV_Config_Ready_End=22]="WV_Config_Ready_End",e[e.Evaluate_PageFrame_Begin=23]="Evaluate_PageFrame_Begin",e[e.Evaluate_PageFrame_End=24]="Evaluate_PageFrame_End",e[e.Evaluate_Subpackage_PageFrame_Begin=25]="Evaluate_Subpackage_PageFrame_Begin",e[e.Evaluate_Subpackage_PageFrame_End=26]="Evaluate_Subpackage_PageFrame_End",e[e.Set_CSS_Begin=27]="Set_CSS_Begin",e[e.Set_CSS_End=28]="Set_CSS_End",e[e.Generate_Func_Ready=29]="Generate_Func_Ready",e[e.Recv_Init_Data=30]="Recv_Init_Data",e[e.Init_Render_Begin=31]="Init_Render_Begin",e[e.Init_Render_End=32]="Init_Render_End",e[e.VD_Init_Render_Begin=33]="VD_Init_Render_Begin",e[e.VD_Init_Render_End=34]="VD_Init_Render_End",e[e.Send_Init_Ready=35]="Send_Init_Ready",e[e.Init_Ready_Rendering_Cache=36]="Init_Ready_Rendering_Cache",e[e.Init_Ready_Prerender=37]="Init_Ready_Prerender",e[e.Init_Ready_After_Rendering_Cache=38]="Init_Ready_After_Rendering_Cache",e[e.Init_Ready_Client=39]="Init_Ready_Client",e[e.Real_Init_Ready=40]="Real_Init_Ready",e[e.First_User_Interaction=41]="First_User_Interaction",e[e.FP=42]="FP",e[e.FCP=43]="FCP",e[e.LCP=44]="LCP"}(j7||(j7={}));var V7=null,U7=[],$7={};function z7(e){return 0===e?"N/A":Math.round(e-(z.coldLaunchTime||0))}var q7=(null===(A7=h)||void 0===A7||null===(T7=A7.env)||void 0===T7?void 0:T7.typeStr)||"UNKNOWN";function H7(e,t,r={}){r.noRecord||U7.push([e,t]),$7[e]=t,r.noLog||v.info(`[CheckPoint][${q7}][${z7(t)}] ${j7[e]} @ ${t}`)}var G7=new Set;function K7(e,t){G7.has(e)||(G7.add(e),H7(e,t))}function J7(e){return $7[e]||0}function X7(){var e=U7;return U7=[],e}var Y7=null;function Q7(e){var t;null===(t=Y7)||void 0===t||t(e)}var Z7=new Promise((e=>{Y7=e})),e8=new Lt,t8={LAUNCH:"appLaunch",ROUTE:"route",FIRST_RENDER:"firstRender",FP:"firstPaint",FCP:"firstContentfulPaint",LCP:"largestContentfulPaint"},r8=null,n8,i8=!1,a8=new Promise((e=>{r8=e})),o8=de?new Promise((e=>{n8=e})):null;qM((()=>{var e;null===(e=r8)||void 0===e||e()}));var s8=null,c8=[];function l8(e){}function u8(e){"appLaunch"!==e.name||i8||(i8=!0,F7(e),Q7({duration:e.duration,startTime:e.startTime})),a8.then((()=>(e8.emit(e.entryType,e),null))).catch((()=>{}))}var d8=Ut("RoutePerfDataEmitter");d8.internalOnMethod(((e,t)=>{var r=z,n=t.data.path,i=t.data.viewId;if(e===t8.ROUTE&&t.isOpenTypeInAllowList)u8(new L7(t.data.startTime,t.g(j7.AppRoute_Done_Begin),"autoReLaunch"===t.data.openType?"reLaunch":t.data.openType,{path:n,pageId:i,referrerPath:t.data.referrer,referrerPageId:t.data.referrerViewId,navigationStart:t.g(j7.AppRoute_Begin)}));else if(e===t8.FIRST_RENDER)u8(new M7(t.g(j7.AppRoute_Begin),t.g(j7.Real_Init_Ready),{path:n,pageId:i,viewLayerReadyTime:t.g(j7.Generate_Func_Ready),initDataSendTime:t.g(j7.Send_Init_Data),initDataRecvTime:t.g(j7.Recv_Init_Data),viewLayerRenderStartTime:t.g(j7.Init_Render_Begin),viewLayerRenderEndTime:t.g(j7.Init_Render_End)}));else if(e===t8.FP)u8(new x7("firstPaint",t.g(j7.FP),0,{path:n,pageId:i}));else if(e===t8.FCP)u8(new x7("firstContentfulPaint",t.g(j7.FCP),0,{path:n,pageId:i}));else if(e===t8.LCP)u8(new x7("largestContentfulPaint",t.g(j7.LCP),0,{path:n,pageId:i}));else if(e===t8.LAUNCH){var a=r.appLaunchInfo;if(de)null==o8||o8.then((e=>{r.coldLaunchTime||(r.coldLaunchTime=e),u8(new O7(r.coldLaunchTime,t.g(j7.Real_Init_Ready),{path:a.path,pageId:i}))}));else if(r.coldLaunchTime){var o=new O7(r.coldLaunchTime,t.g(j7.Real_Init_Ready),{path:a.path,pageId:i});if(De())if(pe)o.preloadType=r.preloadType;else if(he){var s=r.preloadType,c=Math.floor(s%100/10),l=Math.floor(s%10),u=0;0===c&&0===l&&(u=0),1===c&&1===l&&(u=1),2===c&&2===l&&(u=2),0===c&&2===l&&(u=4),2===c&&0===l&&(u=5),o.preloadType=u}u8(o)}}}));var p8=9782784e5,h8=e=>{var t=(new Date).getTimezoneOffset()/60;return e+p8-3600*t*1e3};function f8(e){"/"!==e[0]&&(e="/"+e);var t=z.subPackages;if(Array.isArray(t)&&t.length){for(var r=0;r<t.length;++r){var n=t[r].root||"/";if("/"!==n[0]&&(n="/"+n),"/"!==n[n.length-1]&&(n+="/"),e.startsWith(n))return n}return"/__APP__/"}return""}Tt("onNewPerformanceMetric",(e=>{if("loadPackage"===e.name&&!de){var t,r,n=he?h8(e.startTime):e.startTime,i=he?h8(e.endTime):e.endTime;u8(new N7(n,i,{packageName:(null===(t=e.extraInfo)||void 0===t?void 0:t.packageName)||"",packageSize:(null===(r=e.extraInfo)||void 0===r?void 0:r.size)||0}))}var a,o;if(de)if("loadPackage"===e.name)u8(new N7(e.startTime,e.endTime,{packageName:(null===(a=e.extraInfo)||void 0===a?void 0:a.packageName)||"",packageSize:(null===(o=e.extraInfo)||void 0===o?void 0:o.size)||0}));else if("evaluateJavaScript"!==e.name||qu()){if("appLaunch"===e.name){var s;null===(s=n8)||void 0===s||s(e.startTime)}}else u8(new R7(e.startTime,e.endTime,{moduleName:e.moduleName||"",fileList:[]}))})),gr("perf_resource",(e=>{e.forEach((e=>{var t,r,n,{startTime:i}=e,a=e.startTime+e.duration;u8(new B7(i,a,{uri:e.name,initiatorType:e.initiatorType,transferSize:null!==(t=e.transferSize)&&void 0!==t?t:0,domainLookupStart:null!==(r=e.domainLookupStart)&&void 0!==r?r:0,domainLookupEnd:null!==(n=e.domainLookupEnd)&&void 0!==n?n:0}))}))}));var g8=5;function v8(e){if(e.data.isLaunch){var t=e.g(j7.Evaluate_PageFrame_Begin),r=e.g(j7.Evaluate_PageFrame_End);if(z.isReady&&(!t||r)){var n=z;E.reportKeyValue({key:"LaunchDetailSpeed",value:[e.g(j7.WV_Config_Ready_Begin),t,r,e.g(j7.Set_CSS_Begin),e.g(j7.Set_CSS_End),e.g(j7.Generate_Func_Ready),e.g(j7.Recv_Init_Data),e.g(j7.Init_Render_Begin),e.g(j7.Init_Render_End),e.g(j7.Real_Init_Ready),1,J7(j7.AS_Config_Ready_Begin),J7(j7.App_onLaunch),e.g(j7.AppRoute_Begin),e.g(j7.Open_New_Page),e.g(j7.Send_Init_Data),n.preloadType||n.preload,encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),e.g(j7.Evaluate_Subpackage_PageFrame_Begin),e.g(j7.Evaluate_Subpackage_PageFrame_End),e.g(j7.WV_Config_Ready_End),J7(j7.AS_Config_Ready_End),g8,n.isIsolateContext?1:0,e.data.delayedGwx,n.coldLaunchTime].join(",")})}}}function m8(e,t,r){e.data.openType,e.data.referrer,e.data.path,e.g(j7.Real_Init_Ready),e.g(j7.FCP),S8[t],S8[r],E.reportQualityData("Route",e.data.startTime,e.g(j7.Real_Init_Ready),[z.SDKVersion,encodeURIComponent(e.data.path),f8(e.data.path),encodeURIComponent(e.data.referrer),f8(e.data.referrer),e.data.openType,e.data.navId,e.data.isWebviewPreload,e.data.isPreloadPageFrame,z.isLazyLoad?1:0,e.g(j7.AppRoute_Begin),e.g(j7.AppRoute_Done_Begin),e.data.viewType,t,r,e.g(j7.Send_Init_Data),e.g(j7.Recv_Init_Data),e.g(j7.Init_Render_Begin),e.g(j7.Init_Render_End),e.g(j7.FCP)])}function y8(e){E.reportQualityData("RenderStages",e.g(j7.Recv_Init_Data),e.g(j7.Real_Init_Ready),[z.SDKVersion,encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),0,e.data.isLaunch?1:0,e.g(j7.Generate_Func_Ready),e.g(j7.Init_Render_Begin),e.g(j7.Init_Render_End),e.data.navId,e.data.openType,e.data.isWebviewPreload,e.data.isPreloadPageFrame,e.g(j7.Send_Init_Data),"skyline"===e.data.backend?5:0])}function b8(e){var t=z,r=[Ol(),Ll(),t.coldLaunchTime,J7(j7.AS_Config_Ready_Begin),J7(j7.AS_Config_Ready_End),t.preload?1:0,J7(j7.SubPackage_Ready),encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),e.g(j7.TriggerAppRoute),e.g(j7.AppRoute_Begin),e.g(j7.AppRoute_Done_Begin),e.data.openType,e.g(j7.Send_Init_Data),e.g(j7.Recv_Init_Data),e.g(j7.Real_Init_Ready),e.g(j7.Init_Render_Begin),e.g(j7.Init_Render_End),e.g(j7.FP),e.g(j7.FCP),e.g(j7.LCP),e.data.backend];E.reportQualityData2("Skyline",r)}var _8=1e4,w8=1e4,I8=5e3,S8,k8;!function(e){e[e.normal=1]="normal",e[e.force=2]="force",e[e.timeout=3]="timeout",e[e.loaded=4]="loaded",e[e.interrupted=5]="interrupted"}(S8||(S8={})),function(e){e[e.NO_RENDERER=0]="NO_RENDERER",e[e.WEBVIEW=1]="WEBVIEW",e[e.SKYLINE=2]="SKYLINE"}(k8||(k8={}));var C8=["navigateTo","navigateBack","redirectTo","reLaunch","autoReLaunch","switchTab"],E8=0;function A8(e){return"boolean"==typeof e?e?1:0:-1}class T8{constructor(e,t,r){var n,i,a;this.data=void 0,this.orderId=E8++,this.appRouteDoneTimer=void 0,this.initReadyTimer=void 0,this.appRouteDoneResolve=void 0,this.initReadyResolve=void 0,this.renderFinishResolve=void 0,this.isOpenTypeInAllowList=void 0,this.isOpenTypeInAllowList=C8.indexOf(t.openType)>=0;var o={navId:(null===(n=t.qualityData)||void 0===n?void 0:n.navId)||`${e}_${r}`,isWebviewPreload:A8(null===(i=t.qualityData)||void 0===i?void 0:i.isWebviewPreload),isPreloadPageFrame:A8(null===(a=t.qualityData)||void 0===a?void 0:a.isPreloadPageFrame)},s=Yc.getCurrentPage(),c=!(!B8[0]||B8[0].type!==t.openType);if(this.data={referrer:(null==s?void 0:s.route)||Yc.getCurrentRoute()||"",referrerViewId:(null==s?void 0:s.webviewId)||0,path:t.path||"",viewId:e,timeline:{},openType:t.openType,isLaunch:0===this.orderId,isFromJSAPI:c,startTime:r,navId:o.navId,isWebviewPreload:o.isWebviewPreload,isPreloadPageFrame:o.isPreloadPageFrame,viewType:k8.NO_RENDERER,delayedGwx:0,initReadyCalled:!1,appRouteDoneCalled:!1,backend:"webview"},c){var l=B8.shift();this.data.startTime=l.startTime}else{var u,d=null===(u=t.qualityData)||void 0===u?void 0:u.routeStartTime;"number"==typeof d&&d>1e5&&(this.data.startTime=d)}var p=j8("skyline");(this.isOpenTypeInAllowList||p)&&(this.appRouteDoneTimer=setTimeout((()=>{var e;fG().assertWithIDKey(!1,7),null===(e=this.appRouteDoneResolve)||void 0===e||e.call(this,{type:S8.timeout}),this.appRouteDoneResolve=void 0}),_8),this.initReadyTimer=setTimeout((()=>{var e;fG().assertWithIDKey(!1,8),null===(e=this.initReadyResolve)||void 0===e||e.call(this,{type:S8.timeout}),this.initReadyResolve=void 0}),w8),Promise.all([new Promise((e=>{this.appRouteDoneResolve=e})),new Promise((e=>{this.initReadyResolve=e})).then((e=>{if(e.type!==S8.normal||this.g(j7.FCP))return e;var t=setTimeout((()=>{var e;null===(e=this.renderFinishResolve)||void 0===e||e.call(this)}),I8);return new Promise((r=>{this.renderFinishResolve=()=>{this.renderFinishResolve=void 0,t&&clearTimeout(t),r(e)}}))}))]).then((([e,r])=>{"appLaunch"!==t.openType&&m8(this,e.type,r.type),p&&b8(this)})))}set(e,t){return this.data.timeline[e]=t,H7(e,t),this}updateViewCheckpoint(e){this.data.delayedGwx=e.delayedGWx,this.data.backend=e.backend,this.data.viewType="skyline"===e.backend?k8.SKYLINE:k8.WEBVIEW;var t={};return e.data.forEach((([e,r])=>{var n;(H7(e,r,{noLog:!0}),this.data.timeline[e]=r,e===j7.FCP)&&(null===(n=this.renderFinishResolve)||void 0===n||n.call(this));t[e]=r})),t}g(e){return this.data.timeline[e]||0}get(e){return this.g(e)}setAppRouteDone(e){var t;if(!this.data.appRouteDoneCalled)return this.data.appRouteDoneCalled=!0,this.appRouteDoneTimer&&clearTimeout(this.appRouteDoneTimer),null===(t=this.appRouteDoneResolve)||void 0===t||t.call(this,{type:e}),this.appRouteDoneResolve=void 0,this}setAppRouteDoneAllBefore(e){var t=[];return Object.values(P8).forEach((r=>{r.orderId<=this.orderId&&!r.g(j7.AppRoute_Done_Begin)&&(r.set(j7.AppRoute_Done_Begin,e),r.orderId<this.orderId&&r.set(j7.AppRoute_Done_End,e),r.setAppRouteDone(r.orderId===this.orderId?S8.normal:S8.force),t.push(r))})),t}setInitReady(e=S8.normal,t){var r;if(!this.data.initReadyCalled)return this.data.initReadyCalled=!0,this.data.viewType=t,this.initReadyTimer&&clearTimeout(this.initReadyTimer),null===(r=this.initReadyResolve)||void 0===r||r.call(this,{type:e}),this.initReadyResolve=void 0,this}}var P8={},x8=null,M8=new Set;function R8(e,t,r){var n=new T8(e,t,r);return e in P8&&n.setInitReady(S8.loaded,k8.NO_RENDERER),P8[e]=n,x8=e,n}function D8(e){return P8[e]}function O8(e,t){var r=L8();r?r.set(e,t):H7(e,t)}function L8(){return null!==x8?P8[x8]:(fG().assertWithIDKey(!1,11),null)}function N8(e){if(e in P8){var t=P8[e];t.data.initReadyCalled||t.setInitReady(S8.interrupted,k8.NO_RENDERER),t.data.appRouteDoneCalled||t.setAppRouteDone(S8.interrupted),M8.add(e),delete P8[e]}else fG().assertWithIDKey(!1,12)}var B8=[];function F8(e){C8.indexOf(e)<0||B8.push({type:e,startTime:Date.now()})}function W8(e){return M8.has(e)}function j8(e){var t,r=z;return!!Array.isArray(null==r||null===(t=r.renderer)||void 0===t?void 0:t.allUsed)&&r.renderer.allUsed.indexOf(e)>-1}var V8=Ut("InitReadyFromService");function U8(e){V8.emit(),gu("initReady",{inBackground:e})}var $8=V8.internalOnMethod,z8=50,q8=E.reportFrameworkIDKey.bind(E);function H8(e){if(e.data.isLaunch){var t=e.g(j7.Generate_Func_Ready),r=e.g(j7.Send_Init_Data),n=e.g(j7.Recv_Init_Data);n&&t&&r&&(q8(n<t?1:2),Math.abs(r-t)<=z8?q8(6):q8(r>=t?5:4))}}function G8(e){if(e.data.isLaunch){var t=e.g(j7.WV_Config_Ready_Begin),r=J7(j7.AS_Config_Ready_Begin);r&&t&&(Math.abs(t-r)<=z8?q8(15):q8(r>=t?14:13))}}var K8=0,J8=1,X8=2,Y8=1,Q8=2;function Z8(e){return e.endsWith("Begin")?K8:e.endsWith("End")?J8:X8}function e9(e){return e.replace(/_End|_Begin/,"").replace(/_/g,"")}function t9(e){var t={service:[j7.AppRoute_Begin,j7.AppRoute_End,j7.Open_New_Page,j7.Send_Init_Data],view:[e.data.isLaunch?j7.App_onLaunch:-1,j7.Evaluate_PageFrame_Begin,j7.Evaluate_PageFrame_End,j7.Evaluate_Subpackage_PageFrame_Begin,j7.Evaluate_Subpackage_PageFrame_End,j7.Generate_Func_Ready,j7.Recv_Init_Data,j7.Init_Render_Begin,j7.Init_Render_End,j7.Init_Ready_Client,j7.Real_Init_Ready]},r=[];Object.entries(t).forEach((([t,n])=>{for(var i of n)if(!(i<0)){var a=j7[i],o=e.g(i);o&&r.push({timeStamp:o,eventName:e9(a),eventType:Z8(a),parent:`lib_${t}`,category:"service"===t?Y8:Q8})}})),_r("noticePerformanceMetrics",{events:r})}Xc((()=>{TG((()=>{var e;null===(e=Kc.setGlobalUpdatePerformanceListener)||void 0===e||e.call(Kc,{withDataPaths:!1},((e,t,r)=>{BG.traceBeginAPI("updatePerformanceStat",{pendingStart:e.pendingStartTimestamp,updateStart:e.updateStartTimestamp,updateEnd:e.updateEndTimestamp,is:t.is,viewId:r}),BG.traceEndAPI()}))}))})),z.onReady((e=>{H7(j7.AS_Config_Ready_Begin,e.onReadyStart||0),setTimeout((()=>{H7(j7.AS_Config_Ready_End,e.onReadyEnd||0)}),0)}));var r9=0,n9=!1;DG("Framework",(e=>{var t=e.args;if(e.timeStamp=Math.round(e.timeStamp),"evaluateScript"===e.name)H7(j7.Evaluate_Script_Begin,e.timeStamp);else if("openNewPage"===e.name)O8(j7.Open_New_Page,e.timeStamp);else if("publishInitData"===e.name)O8(j7.Publish_Init_Data,e.timeStamp);else if("sendInitData"===e.name)O8(j7.Send_Init_Data,e.timeStamp);else if("handleAppRoute"===e.name)O8(j7.AppRoute_AppServiceEngine,e.timeStamp);else if(e.name.startsWith("AppRoute#"))r9=e.timeStamp,n9=!1;else if("AppRouteDone"===e.name){var r=D8(t.webviewId);if(r){var n=r.setAppRouteDoneAllBefore(e.timeStamp);r.g(j7.AppRoute_Done_Begin)||r.set(j7.AppRoute_Done_Begin,e.timeStamp),n.forEach((e=>{i9.emit(t8.ROUTE,e)}))}else W8(t.webviewId)||(fG().assertWithIDKey(!1,10),t.webviewId)}else"onAppRouteCallback"===e.name?(n9=!0,R8(t.webviewId,t,r9).set(j7.AppRoute_Begin,r9).set(j7.AppRoute_Callback_Begin,e.timeStamp),r9=0):"onWebviewEvent"===e.name&&"__DOMReady"===(null==t?void 0:t.eventName)&&H7(j7.Recv_Init_Ready,e.timeStamp)})),OG("Framework",((e,t,r)=>{var n=e.args;if(e.timeStamp=Math.round(e.timeStamp),"evaluateScript"===e.name){H7(j7.Evaluate_Script_End,e.timeStamp);var{moduleName:i,fileList:a}=r;!1!==n.isSuccess&&u8(new R7(t,e.timeStamp,{moduleName:i||"",fileList:a}))}else if(e.name.startsWith("AppRoute#"))n9&&O8(j7.AppRoute_End,e.timeStamp);else if("onAppRouteCallback"===e.name)O8(j7.AppRoute_Callback_End,e.timeStamp);else if("AppRouteDone"===e.name){var o;null===(o=D8(n.webviewId))||void 0===o||o.set(j7.AppRoute_Done_End,e.timeStamp)}})),DG("LifeCycle",(e=>{var t=e.args;if(e.timeStamp=Math.round(e.timeStamp),"App.onLaunch"===e.name)H7(j7.App_onLaunch,e.timeStamp);else if("App.onShow"===e.name)H7(j7.App_onShow,e.timeStamp);else if("Page.onUnload"===e.name){N8(t.id)}}));var i9=Ut("RoutePerfDataEmitter");Sp.internalOnMethod((e=>{F8(e.type),O8(j7.TriggerAppRoute,e.start)}));var a9=!0;function o9(e){a9&&i9.emit(t8.LAUNCH,e),a9=!1}function s9(e,t){e[j7.FP]&&i9.emit(t8.FP,t),e[j7.FCP]&&i9.emit(t8.FCP,t),e[j7.LCP]&&i9.emit(t8.LCP,t),!t.data.initReadyCalled&&e[j7.Real_Init_Ready]&&(t.setInitReady(S8.normal,t.data.viewType),i9.emit(t8.FIRST_RENDER,t),o9(t),t.data.isLaunch&&(v8(t),H8(t),G8(t)),y8(t),t9(t))}$8((()=>{var e=Date.now(),t=L8()||R8(0,{openType:"appLaunch"},e);t&&(t.set(j7.Real_Init_Ready,e),o9(t))}));var c9=50;function l9(e,t,r){if(de||ye()){var n=e.timeStamp-t;if(n>=c9){var i=null==r?void 0:r.path;i?console.warn(`[Perf][${i}] ${e.name} took ${n.toFixed(0)}ms`):console.warn(`[Perf] ${e.name} took ${n.toFixed(0)}ms`)}}}function u9(e){lr("timelineData",{data:X7()},[e])}OG("User Script",l9),OG("LifeCycle",l9),gr(W7,((e,t)=>{var r=D8(t);if(r){var n=r.updateViewCheckpoint(e);s9(n,r)}else W8(t)||fG().assertWithIDKey(!1,9)}));var d9=30;function p9(e=""){return e.indexOf("__plugin__")>-1||e.indexOf("plugin-private://")>-1}function h9(e=""){return e.indexOf("__wx__")>-1}function f9(e=""){return p9(e)||h9(e)}var g9=(e,t)=>e.startTime-t.startTime,v9=new WeakMap;class m9{constructor(e){v9.set(this,{list:e})}getEntries(){var e,t=((null===(e=v9.get(this))||void 0===e?void 0:e.list)||[]).slice();return t.sort(g9),t}getEntriesByType(e){var t,r=[];if(!e)return console.warn("entryType is not provided"),r;if(k7.indexOf(e)<0)return console.warn("invalid entryType:",e),r;var n=(null===(t=v9.get(this))||void 0===t?void 0:t.list)||[];for(var i of n)i.entryType===e&&r.push(i);return r}getEntriesByName(e,t){var r,n=[];if(!e)return console.warn("getEntriesByName requires name"),n;var i=(null===(r=v9.get(this))||void 0===r?void 0:r.list)||[];for(var a of i)t&&t!==a.entryType||a.name!==e||n.push(a);return n}}var y9=new WeakMap;class b9{constructor(e){var t=[];y9.set(this,{buffer:t,entryList:new m9(t),bufferSize:d9,pluginId:e}),this._initiateSubscription()}_initiateSubscription(){var e=y9.get(this);e&&this.createObserver((t=>{for(0!==e.bufferSize&&e.buffer.push(...t.getEntries());e.buffer.length>e.bufferSize;)e.buffer.shift()})).observe({entryTypes:"string"==typeof e.pluginId?C7:k7.slice()})}getEntries(){var e;return(null===(e=y9.get(this))||void 0===e?void 0:e.entryList.getEntries())||[]}getEntriesByType(e){var t;return(null===(t=y9.get(this))||void 0===t?void 0:t.entryList.getEntriesByType(e))||[]}getEntriesByName(e,t){var r;return(null===(r=y9.get(this))||void 0===r?void 0:r.entryList.getEntriesByName(e,t))||[]}createObserver(e){var t,r=null===(t=y9.get(this))||void 0===t?void 0:t.pluginId;return"string"==typeof r?new S9(e,r):new w9(e)}setBufferSize(e){var t=y9.get(this);t&&(t.bufferSize=e)}now(){return Date.now()}}var _9=new WeakMap;class w9{constructor(e){_9.set(this,{callback:E.surroundThirdByTryCatch(e,"at api PerformanceObserver callback function"),timer:null,batchBuffer:[],observedEntryTypes:[],__handle:this._handle.bind(this)})}_handle(e){if(e&&"function"==typeof this._shouldHandle&&this._shouldHandle(e)){var t=_9.get(this);t&&(t.batchBuffer.push(e),null===t.timer&&(t.timer=setTimeout((()=>{var e=new m9(t.batchBuffer);t.callback(e,this),t.batchBuffer=[],t.timer=null}),500)))}}_shouldHandle(e){return!e.path||!f9(e.path)}observe(e){if(e){var t=_9.get(this);if(t)if(t.observedEntryTypes.length>0&&this.disconnect(),e.type||e.entryTypes){if(e.type&&e.entryTypes)console.warn("observe can only be called with either type or entryTypes, but not both of them");else if(e.type&&k7.indexOf(e.type)<0)console.warn("invalid entry type:",e.type);else if(Array.isArray(e.entryTypes)&&e.entryTypes.forEach((e=>{k7.indexOf(e)<0&&console.warn("invalid entry type:",e)})),e.type)e8.on(e.type,t.__handle),t.observedEntryTypes.push(e.type);else if(e.entryTypes)for(var r of e.entryTypes)k7.indexOf(r)>=0&&(e8.on(r,t.__handle),t.observedEntryTypes.push(r))}else console.warn("observe should be called with either type or entryTypes provided")}}disconnect(){var e=_9.get(this);if(e){for(var t of e.observedEntryTypes)e8.off(t,e.__handle);e.observedEntryTypes.splice(0,e.observedEntryTypes.length)}}get supportedEntryTypes(){return k7.slice()}}var I9=new WeakMap;class S9 extends w9{constructor(e,t){super(e),I9.set(this,{pluginId:t})}_handle(e){return e.path&&(e.path=Kc.convertRouteToComponentAlias(e.path)),super._handle(e)}_shouldHandle(e){var t;if(!(e&&C7.indexOf(e.entryType)>=0&&E7.indexOf(e.name)>=0))return!1;var r=e.path;if(h9(r))return!1;var n,i=`plugin-private://${null===(t=I9.get(this))||void 0===t?void 0:t.pluginId}`;return!!((e instanceof D7||e instanceof x7)&&r&&(n=r)&&n.indexOf(i)>-1)}get supportedEntryTypes(){return C7.slice()}}var k9=new b9;function C9(){return k9}var E9=new Map;function A9(e={}){var t=e.pluginId;return E9.has(t)||E9.set(t,new b9(t)),E9.get(t)}var T9=()=>!1,P9=()=>["nativeFunctionalized"].includes(dp().apiCategory)?"服务需要重启以使用最新功能":De()?"功能已更新，需重新加载后使用":"小程序需要重启以使用最新功能",x9=new Nt,M9=e=>{pe&&z.clientVersion<=654315263?gu("updateApp",e):QC({content:P9(),confirmText:"知道了",showCancel:!1,complete(){gu("updateApp",e)}})};Tt("onUpdateStatusChange",(e=>{var t=(e.state||"").toLowerCase();e.appContactInfo&&e.appContactInfo.passThroughInfo.forceUpdate||!1?"updateready"===t&&(console.info("[apply update before]"),M9()):(delete e.state,x9.emit(t,e))}));var R9=[],D9;x9.on("updating",(e=>{D9={hasUpdate:!0,version:e.customVersion},O9()})),x9.on("noupdate",(()=>{D9={hasUpdate:!1},O9()}));var O9=()=>{R9.forEach((e=>{"function"==typeof e&&e(D9)})),R9.length=0},L9=e=>{e=C.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),T9()||(D9?"function"==typeof e&&e(D9):R9.push(e))},N9=new Nt;Tt("onPluginUpdateStatusChange",((e={})=>{var{pluginAppid:t,state:r,appVersion:n,customVersion:i}=e,a=(r||"").toLowerCase();N9.emit("plugin"+a,{pluginAppid:t,appVersion:n,customVersion:i})}));var B9={},F9={};N9.on("pluginupdateready",(({pluginAppid:e,appVersion:t,customVersion:r})=>{F9[e]={pluginVersion:r},W9(e,t,r)}));var W9=(e,t,r)=>{var n=B9[e];n&&(delete B9[e],n.forEach((e=>{e({pluginVersion:r})})))},j9=e=>t=>{var r=C.surroundThirdByTryCatch(t,"at onUpdateReady callback function");void 0===F9[e]?B9[e]?B9[e].push(r):B9[e]=[r]:r({pluginVersion:F9[e].pluginVersion})},V9=()=>Object.keys(F9).length>0,U9=[],$9=!1,z9=!1,q9={};x9.on("updateready",(e=>{$9=!0,q9={version:e.customVersion},H9()}));var H9=()=>{U9.forEach((e=>{"function"==typeof e&&e(q9)})),U9.length=0},G9=e=>{e=C.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),T9()||($9?"function"==typeof e&&e(q9):U9.push(e))},K9=e=>{$9&&z9?Rc("applyUpdate",e,"applyUpdate has been called"):!$9&&!V9()||T9()?Rc("applyUpdate",e,"update is not ready"):(z9=!0,pe&&z.clientVersion<=654315263?gu("updateApp",e):QC({content:P9(),confirmText:"知道了",showCancel:!1,complete(){gu("updateApp",e)}}))},J9=[],X9;x9.on("updatefailed",(e=>{X9={version:e.customVersion},Y9()}));var Y9=()=>{J9.forEach((e=>{"function"==typeof e&&e(X9)})),J9.length=0},Q9=e=>{e=C.surroundThirdByTryCatch(e,"at onUpdateFailed callback function"),T9()||(X9?"function"==typeof e&&e(X9):J9.push(e))},Z9={onCheckForUpdate:L9,onUpdateReady:G9,onUpdateFailed:Q9,applyUpdate:K9},eee=()=>Z9,tee=Object.assign,ree=Object.create,nee=(e={})=>{var t=ree(null);tee(t,e),t.url="https://support.weixin.qq.com/update/",jT(t)},iee={},aee={};N9.on("pluginupdating",(({pluginAppid:e,appVersion:t,customVersion:r})=>{aee[e]={hasUpdate:!0,pluginVersion:r},oee(e,t,r)})),N9.on("pluginnoupdate",(({pluginAppid:e,appVersion:t,customVersion:r})=>{aee[e]={hasUpdate:!1},oee(e,t,r)}));var oee=(e,t,r)=>{var n=iee[e];n&&(delete iee[e],n.forEach((t=>{var n=aee[e].hasUpdate;t(n?{hasUpdate:n,pluginVersion:r}:{hasUpdate:n})})))},see=e=>t=>{var r=C.surroundThirdByTryCatch(t,"at onCheckForUpdate callback function");if(void 0===aee[e])iee[e]?iee[e].push(r):iee[e]=[r];else{var n=aee[e].hasUpdate;r(n?{hasUpdate:n,pluginVersion:aee[e].pluginVersion}:{hasUpdate:n})}},cee={},lee={};N9.on("pluginupdatefailed",(({pluginAppid:e,appVersion:t,customVersion:r})=>{lee[e]={pluginVersion:r},uee(e,t,r)}));var uee=(e,t,r)=>{var n=cee[e];n&&(delete cee[e],n.forEach((e=>{e({pluginVersion:r})})))},dee=e=>t=>{var r=C.surroundThirdByTryCatch(t,"at onUpdateFailed callback function");void 0===lee[e]?cee[e]?cee[e].push(r):cee[e]=[r]:r({pluginVersion:lee[e].pluginVersion})},pee=e=>({onCheckForUpdate:see(e),onUpdateReady:j9(e),onUpdateFailed:dee(e)}),hee=(e={})=>{var{pluginId:t}=e;if("string"!=typeof t)throw new TypeError("pluginId must be a string");return pee(t)},fee=0,gee=function(e){Date.now()>fee&&(QC({title:"",content:e,confirmText:"确定",showCancel:!1},50),fee=Date.now()+6e4)},vee={2:"插件版本过低，无法提供服务"},mee=function(e,t,r){if(!Vp.pluginInfos)return null;var n=Vp.pluginInfos[e];if(!n)return null;var i=n.runningFlag,a=n.banning||{},o=vee[i];return i||a[t]?{all:i,detail:a[t],hint:a.hint||o||r||"由于小程序违规，该服务暂时无法使用"}:null};Vp.emitter.on("pluginInfoFetchDone",(()=>{if(void 0!==Kc&&Kc.initBannedMap){var e={},t=Vp.pluginInfos;for(var r in t)e[r]=mee(r,"components");Kc.initBannedMap(e)}}));var yee=l(304),bee=[1,7,9,11,13,15,17,19,20,21,22,23,25,37,42,43,53,69,77,79,87,95,101,102,103,104,109,110,111,113,115,117,119,123,135,137,139,143,161,179,389,427,465,512,513,514,515,526,530,531,532,540,548,554,556,563,587,601,636,993,995,1719,1720,1723,2049,3659,4045,5060,5061,6e3,6566,10080,1099,1433,1521,2375,3128,3306,3389,5432,5984,6379,7001,7002,8443,8888,9200,9300,10051,11211,27017,27018,27019];function _ee(e){return e<=1024||(e>=8e3&&e<=8100||bee.indexOf(e)>-1)}var wee=new WeakMap,Iee=new WeakMap,See=1,kee=[],Cee=!1;z.onReady((()=>{Cee=!1===z.urlCheck}));class Eee{constructor(e,t){wee.set(this,e),Iee.set(this,t||{}),["close","connect","error","message"].forEach((t=>{var r=Ut(`jsapi-tcp-${e}-${t}`);this[`on${Bu(t)}`]=r.onMethod,this[`off${Bu(t)}`]=r.offMethod}))}connect(e){var t,r=Ut(`jsapi-tcp-${wee.get(this)}-error`),n=`tcp://${e.address}`,i=()=>{if(gu("connectTCPSocket",{id:wee.get(this),address:e.address,port:e.port,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Cd(t)};et(Iee.get(this).customCheck)?Iee.get(this).customCheck({url:n},(t=>{t||_ee(Number(e.port))?(t=t||`invalid address ${e.address}:${e.port}`,r.emit({errMsg:`connect fail: ${t}`,errCode:-4})):i()})):ov({api:"tcp",url:n}).then((t=>{(t.isInLAN&&!t.isLocalHost||t.isInDomainList)&&!_ee(Number(e.port))||Cee?i():r.emit({errMsg:`connect fail: invalid address ${e.address}:${e.port}`,errCode:-4})})).catch((e=>{r.emit({errMsg:`connect fail: ${e.message||e.errMsg}`,errCode:-4})}))}write(e){ArrayBuffer.isView(e)&&(e=e.buffer);var t,r={message:e};if(gu("writeTCPSocket",{id:wee.get(this),message:r.message,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Cd(t)}close(){var e;if(gu("closeTCP",{id:wee.get(this),fail(t){e=t.errMsg}}),e)throw new Cd(e)}}class Aee extends Eee{constructor(e){var t=kee[kee.length-1];if(t&&Date.now()-t<3e5)throw new Cd("[TCPSocket] created too much.");kee.push(Date.now()),kee.length>20&&kee.shift();var r,n=See++;if(gu("createTCPSocket",{id:n,fail(e){e.errMsg,r=e.errMsg}}),r)throw new Cd(r);super(n,e)}}class Tee{constructor(){var e,t=See++;if(wee.set(this,t),gu("createTCPServer",{id:t,fail(t){t.errMsg,e=t.errMsg}}),e)throw new Cd(e);["close","connection","error","listening"].forEach((e=>{var r=Ut(`jsapi-tcp-${t}-${e}`);this[`on${Bu(e)}`]=r.onMethod,this[`off${Bu(e)}`]=r.offMethod}))}listen(e){var t,r;if(gu("listenTCPServer",{id:wee.get(this),port:e.port,fail(e){t=e.port,r=e.errMsg}}),r)throw new Cd(r);return t}close(){var e;if(gu("closeTCP",{id:wee.get(this),fail(t){e=t.errMsg}}),e)throw new Cd(e)}}z.onReady((()=>{["close","connect","connection","error","listening","message"].forEach((e=>{Tt(`onTCP${Bu(e)}`,(t=>{var{id:r}=t;delete t.id,Bu(e);var n=Ut(`jsapi-tcp-${r}-${e}`);"connection"===e?n.emit(new Eee(t.socketId)):n.emit(t)}))}))}));var Pee=e=>{if(!Array.isArray(e))return null;var t=1,r=e.map((e=>{var{api:r,rule:n}=e;return n.thisDeep=!0,{key:t++,type:"If",if:{compare:"eq",right:r},withRely:[...Mee(n)]}}));Ree={schemaVersion:"1.0.0",object:{conditions:r},string:{conditions:null}}},xee=(e,t)=>({type:"If",if:{compare:"eq",right:0===t?"req":"res"},withRely:[e],thisDeep:!0}),Mee=(e={})=>{var t=[e.req,e.res].map(((e,t)=>e?xee(e,t):null)).filter((e=>null!==e));return t},Ree,Dee,Oee={},Lee=(e,t)=>{if(!Oee[e])return Promise.resolve(!1);var r=tm().runTask("resolveApiFullRule",{rules:Dee?null:Ree,data:{[e]:t},appid:z.accountInfo.appId});return Dee||(Dee=!0),r.then((e=>e.result))},Nee=e=>{var t=[];Object.entries(e).forEach((([e,r])=>{r.rule&&(t.push({api:e,rule:r.rule}),Oee[e]=!0)})),Pee(t)},Bee=e=>e.key?e.key+"."+e.val:"STR_"+e.val,Fee=e=>{var t=Bee(e);return{key:"userCustom:"+t,type:"Pat",url:e.url,test:{test:e.key,flag:e.flag||""},withRely:[{key:"userCustomWR:"+t+"_val",type:"Pat",test:{test:e.val,flag:e.flag||""}}]}},Wee=e=>{var t;return{key:"userCustom:"+("string"!=typeof e?Bee(e):"STR_"+e),type:"Pat",url:null==e?void 0:e.url,test:{test:"string"==typeof e?e:e.val,flag:"string"==typeof e?"i":null!==(t=e.flag)&&void 0!==t?t:"i"}}},jee=e=>{var t=e.rules.map((e=>Fee(e))),r=e.strRules.map((e=>Wee(e))),n={};return Object.keys(e.priority).forEach((t=>{n["userCustom:"+t]=e.priority[t]})),{object:{conditions:t},string:{conditions:r},priorities:n,schemaVersion:"9.9.99"}},Vee,Uee=e=>{Vee=e},$ee=()=>Vee,zee,qee,Hee=new Promise(((e,t)=>{zee=e,qee=t})).catch((e=>{})),Gee=()=>Hee,Kee=()=>{Yu({apiName:"webapi_getwxaqualityossrule",reqData:{type_list:[1]}}).then((e=>{var t,r,n=null===(t=e.data)||void 0===t||null===(r=t.quality_oss_rule)||void 0===r?void 0:r.public_lib_rule;Uee(n),zee(n)})).catch((e=>{qee()}))};z.onReady((()=>{Ph("WxaQualityOssRuleConfig")?Kee():qee()}));var Jee="wxfile://ad",Xee=`${Jee}/sdk_dynamic_item.json`,Yee=6048e5,Qee=864e5,Zee={},ete=.05,tte=Math.random,rte=()=>{try{var e=void 0!==r&&r?r.version:"unknown",t=Number(e.replace(/\./g,""));return t>=2230?"2230_":t>=2215?"2215_":""}catch(e){return""}},nte=Ru($h),ite=Ru(qh);z.onReady((()=>{var e=rte()+"WeAppRequestError",t=rte()+"ApiReportStrategy",r="weAppRequestErrorOpenStrategy",n="weQualityConfig",i={[t]:Yee,[e]:Qee,[r]:Yee,[n]:Qee},a={[t]:null,[e]:null,[r]:null,[n]:null};nte({filePath:Xee,encoding:"utf-8"}).then((e=>{Ph("disableBusinessConfigCache")||(e=JSON.parse(e.data),Object.keys(e).forEach((t=>{Date.now()-e[t].cache_time>=i[t]||(a[t]=e[t])})))})).catch((()=>{})).finally((()=>{if(void 0!==h){var i=[];(o=[e,r,t,n].filter((e=>(a[e]&&i.push(e),!a[e]))),o.length?Yu({apiName:"webapi_getwxabusinessconfig",reqData:{get_type:2,business_name:"WxaServiceQualityOss",item_name_list:o}}):Promise.resolve({data:{conf_item_list:[]}})).then((o=>{try{var s,c=o.data.conf_item_list;i.forEach((e=>{c.push({item_name:e,item_info:a[e].cache_info})}));try{c&&(c.forEach((e=>{switch(e.item_name){case t:try{var i=JSON.parse(e.item_info);Zee=i,Nee(i)}catch(e){}break;case r:try{var a=JSON.parse(e.item_info);s=xm(a),gm()}catch(e){}break;case n:try{var o=JSON.parse(e.item_info);T.setQualityConfig(o)}catch(e){}}})),Object.values(a).filter((e=>null===e)).length&&ite({filePath:Xee,data:JSON.stringify(O()({},c.reduce(((e,t)=>(null===a[t.item_name]?e[t.item_name]={cache_info:t.item_info,cache_time:Date.now()}:a[t.item_name]&&(e[t.item_name]=a[t.item_name]),e)),{})))}).catch((e=>{})));var l=tte()<=ete;if(l&&Rm(),!s&&!l)return;var u=c.find((t=>t.item_name===e));if(u){var d;Gee().then((e=>{d=e})).catch((()=>{})).finally((()=>{var e;tm().runTask("createWeAppRequestInterpreter",{rules:u.item_info,appid:null==z||null===(e=z.accountInfo)||void 0===e?void 0:e.appId,userRules:d||""}).catch((e=>{v.error("createWeAppRequestInterpreter occer error:",e)}))}));var p=JSON.parse(u.item_info);T.convert24247SchemaToSensitiveQueryJudgeSchema(p)}}catch(e){}}catch(e){}})).catch((e=>{gm()}))}var o}))}));var ate=e=>Zee[e],ote=e=>{var t;return!1===(null===(t=Zee[e])||void 0===t?void 0:t.hook)},ste=e=>{var t;return!0===(null===(t=Zee[e])||void 0===t?void 0:t.hook)},cte=(e,t,r=!1)=>{var n;if(!Xe(t)&&!Array.isArray(t))return t;var i=ate(e);if(!i)return t;if(Array.isArray(null==i||null===(n=i[r?"res":"req"])||void 0===n?void 0:n.filter)){var a={};for(var o of Object.getOwnPropertyNames(t))i[r?"res":"req"].filter.includes(o)||(a[o]=t[o]);return Array.isArray(t)&&(a=Array.from(a)),a}return t},lte=0,ute="",dte=Date.now(),pte=Date.now();h.onLoad((()=>{dte=Date.now(),pte=Date.now()}));var hte={};function fte(e,t,r,n,i,a,o,s,c,l){var u;for(var d of Fh)if(d.test(e)){r="";var p=o;n&&(o=""),"request"===e&&n&&!c&&1===a&&Ph("reportRresult")&&(o=null==p?void 0:p.data);break}var h,f=US.get("api_call_from_hot_boot_time",pte);h=void 0===l?-1:l?1:0;var g=[e,t,Bl(cte(e,r)),n,i,Date.now()-i,vg(),a,Bl(cte(e,o,!0)),z.appType+1e3,lte,Ol(),Ll(),Vh(e),s,Pg(),ute,Date.now()-dte,Date.now()-f,encodeURIComponent(hte.scene_note||hte.sceneNote),null===(u=o)||void 0===u?void 0:u.errno,h].map(Nl(1024)).join(",");c||1!==a||(E.reportIDKey({key:"asyncApiCount"}),E.reportIDKey({key:"asyncApiCost",value:Date.now()-i})),c&&E.reportKeyValue({key:"WeAppInvoke2",value:g}),E.reportKeyValue({key:"WeAppInvoke",value:g})}US.set("appLaunchInfo",hte),z.onReady((()=>{dte=Date.now(),pte=Date.now(),lte=z.appLaunchInfo.scene,ute=z.appLaunchInfo.sessionid||z.appLaunchInfo.sessionId,Object.assign(hte,z.appLaunchInfo),Kt("onAppEnterForeground",(e=>{Object.assign(hte,e),pte=Date.now(),e&&e.scene&&(lte=e.scene),e&&(e.sessionid||e.sessionId)&&(ute=e.sessionid||e.sessionId)}))}));var gte=e=>{u2({success(){f2({success(t){e(t)}})}})},vte=new WeakMap,mte=new WeakMap,yte=new WeakMap,bte=new WeakMap,_te=new WeakMap,wte=1,Ite=[],Ste=!1;function kte(e){return e.remoteInfo&&(e={message:e.message,size:e.size,remoteInfo:{address:e.remoteInfo.address,family:e.remoteInfo.family,port:e.remoteInfo.port},localInfo:{address:e.remoteInfo.localaddress,family:e.remoteInfo.localfamily,port:e.remoteInfo.localport}}),e}z.onReady((()=>{var e=z.envVersion&&"release"!==z.envVersion,t=!0===z.debug;Ste=e&&t}));class Cte{constructor(e,t,r){var n=wte++;if(["close","error","connect","message","bindWifi"].forEach((r=>{var i=Ut(`jsbinding-tcp-${n}-${r}`);this[`on${Bu(r)}`]=i.onMethod,this[`off${Bu(r)}`]=i.offMethod,t||(e[`on${r}`]=function(...e){var t=he?z.expt.clicfg_appbrand_ios_tcp_buffer:z.expt.clicfg_appbrand_android_tcp_buffer;"message"===r&&(e[0]=kte(e[0])),"error"===r&&fte("createTCPSocket.onError.callback",xg(),void 0,!1,Date.now(),0,O()(O()({},e[0]),{},{clicfg:t}),0,!0,0),i.emit(...e)})})),vte.set(this,e),yte.set(this,t),mte.set(this,n),_te.set(this,r||{}),pe&&"function"==typeof e.create){var i=e.create();bte.set(this,i)}}bindWifi(e){var t=Ut(`jsbinding-tcp-${mte.get(this)}-error`);pe?Gu(z.clientVersion,"8.0.23")<0?t.emit({errMsg:"bindWifi fail: unsupport method on lower version",errCode:6}):gte((r=>{if(r.wifi&&r.wifi.BSSID===e.BSSID&&!r.wifi.SSID.includes("unknown ssid")&&vte.has(this)){var n=vte.get(this),i=bte.get(this);if(i<0)return;gu("bindSocketToNetwork",{networkType:"wifi",socketFd:i,success(){n.onbindWifi({})},fail(e){t.emit(O()(O()({},e),{},{errCode:4}))}},{})}else t.emit({errMsg:"bindWifi fail: Invalid BSSID",errCode:3})})):t.emit({errMsg:"bindWifi fail: unsupport method on this platform",errCode:5})}connect(e){var t=Ut(`jsbinding-tcp-${mte.get(this)}-error`);if(Ph("TCP")){var r=`tcp://${e.address}`;et(_te.get(this).customCheck)?_te.get(this).customCheck({url:r},(r=>{r||_ee(Number(e.port))&&!Ste?(r=r||`invalid address ${e.address}:${e.port}`,t.emit({errMsg:`connect fail: ${r}`,errCode:-4})):vte.get(this).connect(e)})):ov({api:"tcp",url:r}).then((r=>{(r.isInLAN&&!r.isLocalHost||r.isInDomainList)&&!_ee(Number(e.port))||Ste?vte.get(this).connect(e):t.emit({errMsg:`connect fail: invalid address ${e.address}:${e.port}`,errCode:-4})})).catch((e=>{t.emit({errMsg:`connect fail: ${e.message||e.errMsg}`,errCode:-4})}))}else t.emit({errMsg:"connect fail: no permission",errCode:-3})}write(e){if(Ph("TCP")){ArrayBuffer.isView(e)&&(e=e.buffer);var t={message:e};yte.get(this)&&(t.socketfd=yte.get(this)),vte.get(this).send(t)}else{Ut(`jsbinding-tcp-${mte.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}close(){yte.get(this)?vte.get(this).close(yte.get(this)):vte.get(this).close()}}class Ete extends Cte{constructor(e){var t=Oh.TCP;if(!t)return null;var r=Ite[Ite.length-20];if(r&&Date.now()-r<3e5)throw new Cd("[TCPSocket] created too much.");Ite.push(Date.now()),Ite.length>20&&Ite.shift();var n=new t;if(null===n)return null;super(n,0,e)}}class Ate{constructor(){var e=Oh.TCP;if(!e)return null;var t=new e;if(null===t)return null;var r=0,n=wte++,i={};["close","connection","error","listening","message"].forEach((e=>{var a=Ut(`jsbinding-tcp-${n}-${e}`);"connection"===e?t.onaccept=e=>{var n=new Cte(t,e);r=e,i[e]=n,a.emit(n),t.recv(e)}:t[`on${e}`]=function(...n){if("close"===e||"error"===e||"message"===e){var o=n[0];if("error"!==e&&"message"!==e||(o=n[0].sockfd,delete n[0].sockfd,o||(o=r)),"message"===e&&(n[0]=kte(n[0])),i[o])return Ut(`jsbinding-tcp-${mte.get(i[o])}-${e}`).emit(Xe(n[0])?n[0]:void 0),void("close"===e&&delete i[o])}a.emit(Xe(n[0])?n[0]:void 0),"listening"===e&&t.accept()},this[`on${Bu(e)}`]=a.onMethod,this[`off${Bu(e)}`]=a.offMethod})),vte.set(this,t)}listen(e){var t=vte.get(this);return t.onbind=function(){t.listen(10)},t.bind(e)}close(){vte.get(this).close()}}var Tte=()=>de?new Aee:new Ete,Pte=()=>de?new Tee:new Ate,xte={request:Xb,uploadFile:i_,downloadFile:bv,connectSocket:D_().connectSocket,createTCPSocket:de?Aee:Ete},Mte={_requestSkipCheckDomain:Xb,_uploadFileSkipCheckDomain:i_,_downloadFileSkipCheckDomain:bv,_socketSkipCheckDomainFactory:D_},Rte=(e,t)=>{if(v.info(`[Plugin] checkDomains url: ${e}, domains: ${JSON.stringify(t)}`),void 0===t||void 0===e)return!1;for(var r=(0,yee.Qc)(e||""),n=0;n<t.length;n++){var i=t[n]||"",a=(0,yee.Qc)(i);if(a.protocol===r.protocol&&a.hostname===r.hostname&&a.port===r.port)return!0}return!1},Dte=Ut("subpackage:beforeSubPackageReady"),Ote=Ut("subpackage:onSubPackageReady"),Lte=Dte.internalOnMethod,Nte=Ote.internalOnMethod;Tt("onSubPackageReady",(e=>{v.info("[onSubPackageReady]",e),Dte.emit(e),Ote.emit(e)}));var Bte=e=>(...t)=>{v[e](["[Plugin]",...t.map((e=>"string"==typeof e?e:JSON.stringify(e)))].join(" "))},Fte=Bte("info"),Wte=Bte("warn"),{emitter:jte,pluginInfos:Vte}=Vp,Ute=1,$te=2,zte=3,qte={[Ute]:!1,[zte]:!1},Hte=0,Gte=0,Kte=[10,10,10],Jte=!1;h.onLoad((()=>{_P()||(qte[$te]=!1)}));var Xte=e=>{qte[e]=!0;var t=Object.keys(qte).reduce(((e,t)=>e&&qte[t]),!0);t&&(Jte||(Fte("all steps done, emit pluginInfoFetchDone"),jte.emit("pluginInfoFetchDone"),Jte=!0),jte.emit("pluginInfoFetchDoneInterval"))},Yte=(e,t)=>{setTimeout((()=>{var r=[e,t,Yc.getCurrentRoute(),WO().sessionid||WO().sessionId||"",1,""].map(encodeURIComponent).join(",");E.reportKeyValue({key:"PluginDisplay",value:r})}),0)},Qte=()=>{if(Fte("start to invokeGetPluginList"),z.appContactInfo&&z.appContactInfo.call_plugin_info)for(var e=z.appContactInfo.call_plugin_info,t=0;t<e.length;t++){var r=e[t],n=r.plugin_id;Vte[n]=TP({version:r.inner_version,customVersion:r.plugin_version||""}),Yte(n,r.inner_version)}else if(z.plugins)for(var i in z.plugins){var a=z.plugins[i],o=a.provider;Vte[o]=TP({version:0,customVersion:a.version||""}),Yte(o,0)}Xte(Ute),Fte("invokeGetPluginList -> ",Vte)},Zte=({appIds:e,retryCount:t,appIdCustomVersionMap:r,lastInvoke:n})=>{gu("batchGetContact",{appIds:e,success({contactList:i}){if(Fte(`batchGetContact with appIds ${e} success: -> ${i}`),SP(i),n){if(kP(),t>0){var a=!1;if(!a){var o=0;for(var s in Vte){if(Vte[s].latestCustomVersion>=0&&r[s]>Vte[s].latestCustomVersion){Fte("customVersion in code ("+r[s]+") is larger than customVersion in contact info ("+Vte[s].latestCustomVersion+"). Retry needed."),a=!0;break}for(var c in Vte[s].domains)Vte[s].domains[c]&&(o+=Vte[s].domains[c].length)}a||o||(Fte("no domains set. Retry needed."),a=!0)}if(a)return void setTimeout((()=>{rre(t-1)}),1e3)}Xte($te)}},fail(t){Wte(`batchGetContact with appIds ${e} failed: ${t.errMsg}`),n&&(Hte<1?(Fte("retry to batchGetContact.."),setTimeout(rre,0),Hte++):Xte($te))}})},ere=({appIds:e,appIdCustomVersionMap:t,retryCount:r})=>{var n=e.splice(0,10);if(n.length){var i=!e.length;if(Zte({appIds:n,lastInvoke:i,appIdCustomVersionMap:t,retryCount:r}),!i)var a=setInterval((()=>{var n=e.splice(0,10);i=!e.length,Zte({appIds:n,lastInvoke:i,appIdCustomVersionMap:t,retryCount:r}),i&&a&&clearInterval(a)}),1e3)}},tre=({appIds:e,appIdCustomVersionMap:t,retryCount:r})=>{Zte({appIds:e,appIdCustomVersionMap:t,retryCount:r,lastInvoke:!0})},rre=e=>{Fte("start to invokeGetContact");var t=[],r={};for(var n in Vte)t.push(n),r[n]=Vte[n].customVersion;0!==t.length?(he?ere({appIds:t,appIdCustomVersionMap:r,retryCount:e}):tre({appIds:t,appIdCustomVersionMap:r,retryCount:e}),setTimeout((()=>{Xte($te)}),12e4)):Fte("appids are empty, skip invokeGetContact.")},nre=({plugins:e,success:t,fail:r,timeout:n})=>{var i=!1,a=setTimeout((()=>{i=!0,r({errMsg:"verifyPlugin:fail timeout"})}),1e3*n);gu("verifyPlugin",{data:{plugins:e},success(...e){i||(clearTimeout(a),t(...e))},fail(...e){i||(clearTimeout(a),r(...e))}})},ire=null,are=()=>{null!==ire&&(clearTimeout(ire),ire=null,ore())},ore=()=>{Fte("start to invokeVerifyPlugin",Date.now());var e=[];for(var t in Vte){var r=Vte[t];e.push({provider:t,inner_version:r.version})}0!==e.length?nre({plugins:e,timeout:10,success({data:e}){if(void 0!==e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}var t=Array.isArray(e.list)?e.list:[];EP(t),Fte("verifyPlugin result -> ",e.list),Xte(zte),Gte=0,ire=setTimeout(are,6e5)}else Wte("Plugin data from backend is not available.")},fail(e){var t;Wte("invokeVerifyPlugin failed: "+e.errMsg,Date.now()),Gte<Kte.length?t=Kte[Gte]:(qte[zte]||Xte(zte),t=30),Fte(`retry invokeVerifyPlugin after ${t}s..`),setTimeout(ore,1e3*t),Gte++}}):Fte("plugins is empty, skip invokeVerifyPlugin.")},sre=()=>{z.onReady((()=>{Qte(),_P()||rre(5),ore()}))};Lte((e=>{var t=e.separatedPlugins||[];Fte("onSubpackageReady",t),t.forEach((e=>{Vte[e.plugin_id]&&e.custom_version&&(Vte[e.plugin_id].customVersion=wP(e.custom_version))}))}));var cre=function(e,t){var r=mee(e,"domains");if(!r)return!1;if(!r.all){for(var n=r.detail,i=(0,yee.Qc)(t||""),a=!1,o=0;o<n.length;o++){var s=(0,yee.Qc)(n[o]||"");if(i.protocol===s.protocol&&i.hostname===s.hostname&&i.port===s.port){a=!0;break}}if(!a)return!1}return gee(r.hint),!0},lre=(e,t)=>{var r=t.header||{},n=e.hostSign||{};r["X-WECHAT-HOSTSIGN"]=JSON.stringify(n),v.info("[Plugin] add host sign: "+JSON.stringify(n)),t.header=r},ure=(e,t,r)=>{var n=[e,t,Yc.getCurrentRoute(),WO().sessionid||WO().sessionId||"",2,r].map(encodeURIComponent).join(",");E.reportKeyValue({key:"PluginDisplay",value:n})},dre=!1;z.onReady((()=>{if(de)dre=!1===z.urlCheck;else{var e=z.envVersion&&"release"!==z.envVersion,t=!0===z.debug;dre=e&&t}}));var pre=function(e,t,r){return new Promise(((n,i)=>{gu("checkNetworkAPIURL",{api:e,url:t,success(e){v.info(`[Plugin] checkNetworkAPIURL success: ${JSON.stringify(e)}`);var a=Rte(t,r)||e.isInLAN&&!e.isLocalHost,o="";a||(o=`Url "${t}" not in plugin's domain list.`,dre&&console.warn(o+" This network request will be blocked in release version.")),v.info(`[Plugin] checkDomain res: ${o}`),dre||a?n():i(o)},fail(e){i(e.errMsg||"check url failed.")}})}))},hre=0,fre=!0,gre=[];Vp.emitter.on("pluginInfoFetchDoneInterval",(()=>{for(fre=!1,hre=Date.now();gre.length>0;){gre.shift()()}}));var vre=function(){return Date.now()-hre>6e5?(fre||are(),new Promise((e=>{gre.push(e)}))):Promise.resolve()},mre=Object.assign,yre={};Object.keys(xte).forEach((e=>{yre[e]=function(t={}){var r=Gp(this),n=mre({},t);return n.customCheck=(t,n)=>{var i;vre().then((()=>{var n=(i=Vp.pluginInfos[r]).domains[e],a=e;return"connectSocket"===e&&(a="websocket"),"createTCPSocket"===e?pre("tcp",t.url,i.domains.tcp):pre(a,t.url,n)})).then((()=>{if(cre(r,t.url)){var a=`url "${t.url}" is temporarily rejected.`;n(a)}else ure(r,i.version,t.url),"createTCPSocket"!==e&&lre(i,t),n(null)})).catch((e=>{var t=je(e)?e:"check url failed.";n(t)}))},"createTCPSocket"===e?new xte[e](n):xte[e](n)}}));var bre=yre,_re=e=>(t={})=>{if(he){ou({errMsg:"preloadWebview:ok preload request ignored in iOS"},"preloadWebview",t,{})}else bp("preloadWebview",{pluginId:e},void 0,(e=>{ou(e,"preloadWebview",t,{})}))},wre=_re("/");class Ire{constructor(){if(this.pages=void 0,this.windows=void 0,this.emitter=void 0,Ire.instance)throw new Error("[WABaseLib.Critical] SkylinePageStack is singleton, use SkylinePageStack.instance instead");this.pages=new Map,this.windows=new Set,this.emitter=new Lp("skyline",!0)}handleAppRoute(e,t){this.pages.set(e,t)}triggerWindowReady(e){this.windows.add(e),this.emitter.emit(`windowReady:${e}`),this.emitter.off(`windowReady:${e}`)}waitForWindowReady(e){var t=this;return cp()((function*(){return new Promise((r=>{var n=t.pages.get(e);t.windows.has(n)?r(n):t.emitter.on(`windowReady:${n}`,(()=>{r(n)}))}))}))()}}function Sre(e,t){var r={};return t.forEach((t=>r[t]=e[t])),r}function kre(){return O()(O()({},Sre(x,["addRouteBuilder","removeRouteBuilder"])),{},{getRouteContext(e){var t=parseInt(e.getPageId().slice("pageId:".length),10);return x.getRouteContext(t)}})}function Cre(){return Sre(x,["runOnJS","runOnUI","cancelAnimation","shared","derived","delay","repeat","sequence","timing","spring","decay","Easing"])}function Ere(e){return SkylineGlobal.runtime.registerJsValue(e)}function Are(e,t){return Tre.apply(this,arguments)}function Tre(){return(Tre=cp()((function*(e,t){var r=yield Ire.instance.waitForWindowReady(e);return x.createAnimatedStyle(r,t)}))).apply(this,arguments)}function Pre(e,t){return x.genRouteConfig(e,t)}function xre(e){x.removeRouteContext(e)}Ire.instance=new Ire;var Mre=!1,Rre=e=>{if(Mre||!e||"object"!=typeof e||null==e||!e.custom)return!1;var t=!1;return"cover-view"===(null==e?void 0:e.renderer)&&(t=!0),!t&&Array.isArray(null==e?void 0:e.list)&&e.list.forEach((e=>{t="cover-view"===(null==e?void 0:e.renderer)})),v.info("[CustomTabBar] needCreateSclContext ",!!t),t},Dre=function(){var e=cp()((function*(){if(Mre)return Promise.resolve();Mre=!0,D.createAppSclContext(),yield D.waitAppSclContextInit()}));return function(){return e.apply(this,arguments)}}(),Ore=e=>(t={})=>{mu(e)("preloadSkylineView",t,{})},Lre=Ore("/"),Nre;function Bre(e){return e.isSupportSkyline?e.isLibSupportSkyline?e.switchRenderMode!==Nre.AUTO||e.enableSkyline?e.switchRenderMode===Nre.WEBVIEW?{isSupported:!1,reason:"SwitchRender option set to `webview`"}:{isSupported:!0}:{isSupported:!1,reason:"a-b test not enabled"}:{isSupported:!1,reason:"baselib not supported"}:{isSupported:!1,reason:"client not supported"}}function Fre(e){var{errMsg:t}=e,{isSupported:r,reason:n}=Bre(e),i=e.userAgent.split(" ")[0];return i.startsWith("skyline/")&&(i=i.slice(8)),{errMsg:t,isSupported:r,reason:n,version:i}}!function(e){e[e.AUTO=0]="AUTO",e[e.WEBVIEW=1]="WEBVIEW",e[e.SKYLINE=2]="SKYLINE"}(Nre||(Nre={}));var Wre=e=>(t={})=>{var r=mu(e),n=t.success,i=t.fail,a=t.complete,o=Object.assign({},t);o.success=e=>{var t=Fre(e);"function"==typeof n&&n(t)},o.fail=e=>{"function"==typeof i&&i({errMsg:e.errMsg})},o.complete=e=>{var t=Fre(e);"function"==typeof a&&a(t)},r("getSkylineInfo",o,{})},jre=Wre("/"),Vre=e=>()=>{var t={};mu(e)("getSkylineInfoSync",{success(e){t=e}});var r=Fre(t);return delete r.errMsg,r},Ure=Vre("/"),$re=!1,zre=[];Tt("requireRenderContext",cp()((function*(){$re||(D.createAppRenderContext(),yield D.waitAppRenderContextInit(),v.info("[SubContextEngine] requireRenderContext finished, render context inject done"),$re=!0,zre.forEach((e=>{try{D.publishToRenderContext(e.event,e.msg||{})}catch(t){v.error("[SkylineEvents] publish "+e.event+" error: "+JSON.stringify(t))}})),Rre(null==z?void 0:z.tabBar)&&(yield Dre()))})));var qre=!1;Tt("onSkylineGlobalReady",(e=>{if(v.info(`[WABaseLib.Critical] main context receive onSkylineGlobalReady: ${JSON.stringify(e)}, renderContextRequired=${$re} ${Date.now()}`),!qre)try{x.initialize(),qre=!0}catch(e){v.error("[WABaseLib.Critical] worklet initialize failed, reason: ",e)}e.SkylineGlobal=SkylineGlobal,$re?D.publishToRenderContext("onSkylineGlobalReady",e||{}):zre.push({event:"onSkylineGlobalReady",msg:e||{}})})),Tt("onSkylineWindowReady",(e=>{v.info(`[WABaseLib.Critical] main context receive onSkylineWindowReady: ${JSON.stringify(e)}, renderContextRequired=${$re} ${Date.now()}`),$re?D.publishToRenderContext("onSkylineWindowReady",e||{}):zre.push({event:"onSkylineWindowReady",msg:e||{}}),Ire.instance.triggerWindowReady(e.id)}));var Hre=function(e={}){var t=Gp(this);e.pluginId=t,WD(e)};function Gre(e){var t=Gp(this);Xu(Object.assign({},e,{pluginId:t}))}var Kre={},Jre=e=>{if(!Kre[e]){var t=Gf(e);delete t.saveFile,delete t.saveFileSync,delete t.getSavedFileList,delete t.getSavedFileInfo,delete t.removeSavedFile,delete t.getFileInfo;try{Kh(Df(e),!0)}catch(e){}Kre[e]=t}return Kre[e]},Xre=["scope.record","scope.writePhotosAlbum","scope.camera","scope.addPhoneContact","scope.bluetooth","scope.voip"],Yre=e=>{var t=HR(e);return function(e={}){xc("authorizeForMiniProgram",e,{scope:""})&&(Xre.includes(e.scope)?t(eh(e,"authorize","authorizeForMiniProgram")):Rc("authorizeForMiniProgram",e,`scope "${e.scope}" is not supported to be authorized by plugin.`))}},Qre=new WeakMap,Zre=function(e,t){var r=mee(e,"apis");return!!r&&(!(!r.all&&r.detail.indexOf(t)<0)&&(gee(r.hint),!0))},ene=(e,t,r)=>{var n=function(n){Object.defineProperty(e,n,{get:rne((()=>{var i=t[n];return"function"!=typeof i?i:function(t){if(VI(n,r,t)&&!Zre(r,n))return i.apply(e,arguments);if("Sync"===n.slice(-4))throw new kd(n+":fail rejected due to no permission currently in plugin");t&&(t.fail||t.complete)&&setTimeout((()=>{Rc(n,t,"rejected due to no permission currently in plugin")}),0)}})),set(t){Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!0,configurable:!0})},enumerable:!0,configurable:!0})};for(var i of Object.keys(t))n(i)},tne=(e,t)=>{for(var r of Object.keys(z.plugins)){var n=z.plugins[r];n.provider===t&&Qre.set(e,n.version)}};function rne(e){var t;return()=>t=t||e()}var nne=(e,t,r,n)=>{var i=O()(O()({},Mte),{},{invokeOperateWXData:Gre,uploadToCommonCDN:N_});for(var a of Object.keys(i))i[a]=i[a].bind(e);var o={sdk:i,identifiers:{pluginId:r,pluginVersion:n}},s=O()(O()({},t),{},{getFileSystemManager:()=>Jre(r),preloadWebview:_re(r),preloadSkylineView:Ore(r),getSkylineInfoFactory:Wre(r),getSkylineInfoSyncFactory:Vre(r),authorizeForMiniProgram:Yre(r)});return Object.defineProperties(s,{cloud:{get:rne((()=>pe?__cloudSDKMain__.getCloudAPI(o):il.getCloudAPI(o))),enumerable:!0,configurable:!0},serviceMarket:{get:rne((()=>__cloudSDKMain__.getServiceMarketAPI(o))),enumerable:!0,configurable:!0}}),s};class ine{constructor(e,t,r){var n=Zd();Vp.puidToPluginWX[n]=this,Vp.pluginIDs[n]=t,Vp.pluginVersions[n]=r;var i=nne(this,e,t,r);ene(this,i,t),tne(this,t),this.env={USER_DATA_PATH:Df(t)}}getPluginVersion(){return Qre.get(this)}}var ane=ine,one={},sne=(e,t)=>{var r=(e=e.replace("plugin_","")).endsWith("Sync");one[e]=function(e,...n){var i=Gp(this);return r?(e&&(e=`${i}/${e}`),t(e,...n)):(e.key&&(e.key=`${i}/${e.key}`),t(e))}};for(var cne in d0)cne.startsWith("plugin_")&&sne(cne,d0[cne]);var lne=one,une={createInnerAudioContext:Uz};["createAudioContext","createCameraContext","createMapContext","createVideoContext","createLivePlayerContext","createLivePusherContext"].forEach((e=>{une[e]=function(t,r){var n=Gp(this),a=Xp(this),o=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return i[e].call(this,t,ul.currentWebviewId,o,`${n}/${a}`)}}));var dne=une,pne={createOffscreenCanvas(e=1,t=1,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},i=Gp(this);return n.pluginId=i,oV(n)}},hne=[];for(var fne in n)fne.endsWith("4Plugin")&&hne.push(fne);hne.forEach((e=>{var t=e.replace("4Plugin","");pne[t]=function(t,r){var i=Gp(this),a=Xp(this),o=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return n[e].call(this,t,`${i}/${a}`,o)}}));var gne=pne,vne=function(){var e=RE(),t=Gp(this);return e.plugin={appId:t||"",version:th(Vp.pluginInfos[t].customVersion)},e},mne=function(e){return sX(e,Gp(this))},yne=function(e,t){return dX(e,t,Gp(this))},bne=function(e,t){return gX(e,t,Gp(this))},_ne=function(e){return hE(e)},wne=function(e,t){var r={business:"mmbizwxaanalytics",eventID:e,data:t||{},uid:Date.now().toString(16)+Math.random().toString(16).substr(2),type:1,version:hy,pluginId:Gp(this),pluginVersion:Xp(this)};gu("reportRealtimeAction",{actionData:JSON.stringify(r)})},Ine={},Sne={},kne=0;XS((({webviewId:e})=>{kne=e,Sne[e]||(Sne[e]=!0,CI(e,(e=>{delete Sne[e],delete Ine[e]}),"AD"))}));var Cne=e=>e&&!0===e.multiton?ADSDK.createRewardedVideoAd(e):(Ine[kne]||(Ine[kne]=ADSDK.createRewardedVideoAd(e)),Ine[kne]),Ene=e=>{var t=O()({},e);return delete t.pluginId,Cne(t)},Ane=e=>{var t=O()({},e);return delete t.pluginId,ADSDK.createInterstitialAd(t)},Tne=e=>ADSDK.createInterstitialAd(e),Pne=e=>{var t=O()({},e);return delete t.pluginId,ADSDK.createCustomAd(t)},xne=e=>ADSDK.createCustomAd(e);function Mne(e){var t=Gp(this);return Cne(O()(O()({},e),{},{pluginId:t}))}function Rne(e){var t=Gp(this);return Tne(O()(O()({},e),{},{pluginId:t}))}var Dne={};function One(e,t){var r="";if(e===kk&&(r="setCookies"),e===Ck&&(r="getCookies"),r){var n=Gp(this);Dne[n]=Dne[n]||{[kk]:null,[Ck]:null},ce(n,r,1,(r=>{Dne[n][e]=r,t()}))}}function Lne(e,t){var r=Gp(this);de?t(!0):Dne[r]&&null!==Dne[r][e]?t(!!Dne[r][e]):One.call(this,e,(()=>t(!!Dne[r][e])))}function Nne(e){Lne.call(this,kk,(t=>{var r="setCookies:ok";if(t){var n=jk(e);n?(r=n,"function"==typeof e.fail&&e.fail({errMsg:r})):"function"==typeof e.success&&e.success({errMsg:r})}else r="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))}function Bne(e){Lne.call(this,Ck,(t=>{var r="getCookies:ok";if(t){var n=Vk(e);"function"==typeof e.success&&e.success({errMsg:r,cookies:n})}else r="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))}function Fne(e={}){if(xc("openBusinessView",e,{businessType:""})){var t=Object.assign({},e);delete t.sourcetype,delete t.preScene,delete t.preSceneNote,delete t.agentId,delete t.privateExtraData,delete t.scene,delete t.sceneNote,t.privateExtraData={__pluginAppId:Gp(this)},gu("openBusinessView",t)}}function Wne(e,t,r){var n=Gp(this),i=Yp(this);S7(e,t,r,{pluginId:n,customVersion:i?i.customVersion:""})}function jne(){return A9({pluginId:Gp(this)})}var Vne={muteMicrophone:!1,muteEarphone:!1},Une;function $ne(e){return Xe(e)?qN()?{muteMicrophone:!0,muteEarphone:!0}:(Ue(e.muteMicrophone)&&(Vne.muteMicrophone=e.muteMicrophone),Ue(e.muteEarphone)&&(Vne.muteEarphone=e.muteEarphone),Vne):Vne}var zne=()=>{QC({content:"账号已被禁言，暂时不能发送消息",confirmText:"知道了",showCancel:!1})},qne=e=>{"boolean"==typeof Une?(Une&&zne(),e(Une)):Te()?Xu({apiName:"webapi_getvoiceroompunishstatusforwxag",sdkApiName:"checkMicrophoneBanned",reqData:{},success(t){var{is_punished:r}=t.data;!0===r?(zne(),e(Une=!0)):e(!1===r&&(Une=!1))},fail(){e(!1)}}):e(Une=!1)},Hne=e=>{var t=new RegExp(/^joinVoIPChat:(?:fail )?fail: (-?[0-9]+?), (-?[0-9]+?), .*/).exec(e);if(!t)return-1e3;var r=parseInt(t[1],10),n=parseInt(t[2],10);if(-10086!==r&&-10087!==r)return-1e3;switch(n){case 0:return 0;case-1:return-1;case-7:return-2;default:return-1e3}},Gne=function(e){if(xc("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:$ne(e.muteConfig),handsFree:!Ue(e.handsFree)||e.handsFree,roomType:t}),n=()=>{var e=Gp(this);r.privateData=JSON.stringify({pluginId:e});var t=()=>{mu(e)("joinVoIPChat",r,{beforeSuccess(e){vb(),lr("joinVoIPChat",{}),e.errCode=0,e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))},beforeFail(e){void 0===e.errCode&&(e.errCode=Hne(e.errMsg))}})};r.muteConfig.muteMicrophone?t():qne((e=>{e&&(r.muteConfig.muteMicrophone=!0),t()}))};r.forceCellularNetwork?"boolean"!=typeof r.forceCellularNetwork?(console.warn("joinVoIPChat argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=!1,n()):yb().then((e=>{e||(r.forceCellularNetwork=!1),n()})):n()}},Kne=function(e={}){if(xc("join1v1VoIPChat",e,{roomId:0,sessionKey:"",lifespan:0})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:$ne(e.muteConfig),handsFree:!!Ue(e.handsFree)&&e.handsFree,roomType:t}),n=Gp(this);r.privateData=JSON.stringify({pluginId:n}),mu(n)("join1v1VoIPChat",r)}},Jne=function(e){try{var t=Gp(this);mu(t)("exitVoIPChat",Object.assign({},e,{success(t){var r=t.errMsg||"ok";lr("exitVoIPChat",{}),Oc({name:"exitVoIPChat",args:e,errMsg:r,errCode:0,res:t})},fail(t){var r=t.errCode||-1,n=t.errMsg||"unknown error";Oc({name:"exitVoIPChat",args:e,success:!1,errMsg:n,errCode:r,res:t})},complete(){}}))}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:`exitVoIPChat:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:`exitVoIPChat:complete ${t.message}`})}},Xne=function(e){if(xc("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=Gp(this),r=Object.assign({},e,{muteConfig:$ne(e.muteConfig),handsFree:!Ue(e.handsFree)||e.handsFree}),n=()=>{mu(t)("updateVoIPChatMuteConfig",r,{beforeSuccess(e){e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))}})};r.muteConfig.muteMicrophone?n():qne((e=>{e&&(r.muteConfig.muteMicrophone=!0),n()}))}},Yne=Ut("voIPChatMembersChanged"),Qne=Yne.onMethod,Zne=Yne.offMethod;Tt("onVoIPChatMembersChanged",(e=>{e.errCode=0,e.errMsg=e.errMsg||"ok",Yne.emit(e)}));var eie=e=>{try{Tt("onVoIPChatSpeakersChanged",(t=>{t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&C.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&C.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},tie=()=>{Tt("onVoIPChatSpeakersChanged",(()=>{}))},rie=(e="")=>e.includes("current mini app entered background")?-1:e.includes("in comming call")?-2:-1e3,nie=Ut("VoIPChatInterrupted"),iie=e=>{e.errCode||(e.errCode=rie(e.reason)),nie.emit(e)};Tt("onVoIPChatInterrupted",(e=>{iie(e)})),Tt("onVoIPChatInterruptedJsEvent",(e=>{iie(e)}));var aie=nie.onMethod,oie=nie.offMethod,sie=(e={})=>{xc("subscribeVoIPVideoMembers",e,{openIdList:[]})&&gu("subscribeVoIPMembers",e,{beforeAll(e){e.errMsg=e.errMsg.replace("subscribeVoIPMembers","subscribeVoIPVideoMembers")}})},cie=Ut("VoIPVideoMembersChanged"),lie=cie.onMethod,uie=cie.offMethod;Tt("onVoIPVideoMembersChanged",((e={})=>{cie.emit(e)}));var die=Ut("voIPChatStateChanged"),pie=die.onMethod,hie=die.offMethod;Tt("onVoIPChatStateChanged",(e=>{e.errCode=e.errCode||0,e.errMsg=e.errMsg||"ok",die.emit(e)}));var fie=function(e={}){var{success:t,fail:r}=Lc(e,"getNativeUserInfo");Xu({sdkApiName:"getNativeUserInfo",apiName:"webapi_getuserinfo",fromComponent:!0,reqData:{lang:e.lang||"en",version:z.SDKVersion},pluginId:Gp(this),withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,success:e=>{var{cloudID:r,encryptedData:n,iv:i,signature:a,data:o}=e,s=JSON.stringify(e.data);t({cloudID:r,encryptedData:n,iv:i,signature:a,userInfo:o,rawData:s,respData:{data:s}})},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),r(e)}})},gie=function(e={}){var t=Object.assign({},e,{miniprogram_appid:z.accountInfo.appId});Gre.call(this,{sdkApiName:"login",apiName:"webapi_plugin_login",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},vie=function(e={}){var t=Gp(this),r=Object.assign({},e,{miniprogram_appid:z.accountInfo.appId,version:z.SDKVersion,plugin_version:th(Xp(this))});Gre.call(this,{sdkApiName:"getUserInfo",apiName:"webapi_plugin_getuserinfo",reqData:r,success:r=>{var n;r.rawData=JSON.stringify(r.data),r.userInfo=r.data,delete r.data,"function"==typeof e.success&&e.success(r),null!==(n=r.userInfo)&&void 0!==n&&n.is_demote||setTimeout((()=>{lD(t,"wx.getUserInfo")}),200)},fail:e.fail,complete:e.complete})},mie=function(e={}){var t=Object.assign({},e,{miniprogram_appid:z.accountInfo.appId});Gre.call(this,{sdkApiName:"pluginLogin",apiName:"webapi_getapppluginopenpid",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},yie=function(e={}){var t=Object.assign({},e,{miniprogram_appid:z.accountInfo.appId,filter_auth_status:1,with_app_auth:!0});Gre.call(this,{sdkApiName:"getSetting",apiName:"webapi_getwxapluginuserscope",reqData:t,success:t=>{var r=t.data,n={errMsg:"getSetting:ok"};n.authSetting=(r.auth_item||[]).reduce(((e,t)=>(e[t.scope]=1===t.auth_status,e)),{}),r.user_all_app_auth&&(n.miniprogramAuthSetting=MD(r.user_all_app_auth).authSetting||{}),"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)},fail:t=>{var r={errMsg:t.errMsg||"getSetting:fail"};"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}})},bie=function(...e){return T4(Gp(this),Xp(this),...e)},_ie=function(e={}){if(e.image){if(0!==e.image.indexOf("/"))return void Rc("showToast",e,"parameter 'image' must be begin with '/'");var t=Gp(this);e=Object.assign({},e,{image:Kc.getPluginRoutePrefix(t)+e.image.substr(1)})}rE(e)},wie=(e={})=>{gu("saveFileToDisk",e,{})},Iie=1;z.onReady((()=>{["close","error","listening","message"].forEach((e=>{Tt(`onUDPSocket${Bu(e)}`,(t=>{var{socketId:r}=t;delete t.socketId,Bu(e),Ut(`jsapi-udp-${r}-${e}`).emit(t)}))}))}));class Sie{constructor(e){var t;if(this._id=Iie++,gu("createUDPSocket",{socketId:this._id,type:"udp6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((e=>{var t=Ut(`jsapi-udp-${this._id}-${e}`);this[`on${Bu(e)}`]=t.onMethod,this[`off${Bu(e)}`]=t.offMethod}))}bind(e){var t,r;if(gu("bindUDPSocket",{port:e,socketId:this._id,success(e){t=e.port},fail(e){r=e.errMsg}}),r)throw new Error(r);return t}setTTL(e){var t;if(gu("setUDPSocketTTL",{ttl:e,socketId:this._id,fail(e){t=e.errMsg}}),t)throw new Error(t)}send(e={}){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,gu("sendUDPSocketMessage",Object.assign({},e,{socketId:this._id,message:t,success(e){},fail:({errMsg:e})=>{Ut(`jsapi-udp-${this._id}-error`).emit({errMsg:`send: fail ${e}`})}}))}connect(){}write(e){this.send(e)}close(){var e;if(gu("closeUDPSocket",{socketId:this._id,fail(t){e=t.errMsg}}),e)throw new Error(e)}}var kie=new WeakMap,Cie=new WeakMap,Eie=new WeakMap,Aie=1;class Tie{constructor(e){var t=Oh.UDP;if(!t)return null;var r=new t;if(null===r)return null;var n=Aie++;["close","error","listening","message"].forEach((e=>{var t=Ut(`jsbinding-udp-${n}-${e}`);r[`on${e}`]=function(...r){"message"===e&&r[0].remoteInfo&&(r[0].localInfo={address:r[0].remoteInfo.localaddress,family:r[0].remoteInfo.localfamily,port:r[0].remoteInfo.localport},delete r[0].remoteInfo.localaddress,delete r[0].remoteInfo.localfamily,delete r[0].remoteInfo.localport),t.emit(...r),"error"===e?(fte("createUDPSocket.onError.callback",xg(),void 0,!1,Date.now(),0,r[0],0,!0,0),E.reportIDKey({key:"UDPError"})):"message"===e&&E.reportIDKey({key:"receiveUDPMessage"})},this[`on${Bu(e)}`]=t.onMethod,this[`off${Bu(e)}`]=t.offMethod})),kie.set(this,r),Cie.set(this,n),Eie.set(this,"udp6"===e?"IPv6":"IPv4")}bind(e){return Cg("bindUDP","",1,0,"","",!1,0),E.reportIDKey({key:"bindUDP"}),kie.get(this).bind({port:e,type:Eie.get(this)})}setTTL(e){if(Number.isNaN(Number(e))){Ut(`jsbinding-udp-${Cie.get(this)}-error`).emit({errMsg:"set ttl fail: ttl must be a number.",errCode:-4})}else{var t=kie.get(this);"IPv6"===Eie.get(this)?(t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_UNICAST_HOPS"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVHOPLIMIT"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVPKTINFO"),optionval:1})):(t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_TTL"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_PKTINFO"),optionval:1}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_RECVTTL"),optionval:Number(e)}))}}send(e={}){if(Ph("UDP")){var t,r=`udp://${e.address}`;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var n=kie.get(this);if(e.setBroadcast){var i=n.getMacro("SOL_SOCKET"),a=n.getMacro("SO_BROADCAST");i>=0&&a>=0&&n.setopt({level:i,option:a,optionval:1})}if(n.send(Object.assign({},e,{message:t})),Math.random()>.99){var o={setBroadcast:e.setBroadcast?1:0};Cg("sendUDP",r,1,0,"","",!1,Pu(e.message),0,{},0,o)}E.reportIDKey({key:"sendUDPMessage"})}else{Ut(`jsbinding-udp-${Cie.get(this)}-error`).emit({errMsg:"send socket fail: no permission",errCode:-3})}}connect(e={}){var t=kie.get(this);"function"==typeof t.connect&&t.connect(e)}write(e={}){if(Ph("UDP")){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var r=kie.get(this);"function"==typeof r.write?r.write(Object.assign({},e,{message:t})):this.send(e)}else{Ut(`jsbinding-udp-${Cie.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}onConnect(e){kie.get(this).onconnect=e}close(){return kie.get(this).close()}}var Pie=(e="udp4")=>Oh.UDP?new Tie(e):new Sie(e),xie,Mie=e=>{xie=e},Rie,Die=0,Oie=!1,Lie=()=>{if(!Oie){D.createAppXRFrameRenderContext({extraWx:xie(),onCanvasEvent:XL,initDone:({xrFrameSystem:e})=>{Rie=e}}),Oie=!0}};if(de){var Nie=()=>{"function"!=typeof(null==il?void 0:il.getCloudAPI)?setTimeout((()=>{Nie()}),15):Lie()};h.onLibraryEnd((()=>{Nie()}))}var Bie=()=>(Oie||Lie(),Rie),Fie=()=>"xr-view-"+Die++,Wie=(e,t,r,n)=>{Oie||Lie();var i=Fie();ir(i,"context"),BG.traceBeginEvent("Framework","dispatchViewRoute"),ur("viewRoute",{pageId:i,path:e},[i]),BG.traceEndEvent();var a=Yc.openNewXrFrame(e,i,n,t,r);return a.__xrFrameId__=i,a},jie=function(){var e=cp()((function*(e){var{nodeId:t,nodeCanvasType:r}=e;return yield mV(t,r)}));return function(t){return e.apply(this,arguments)}}();gr("onSkylineXrFrameEvent",(({nodeId:e,canvasId:t,event:r,cb:n},i)=>{var a=Kc.getNodeById(e,i);Kc.xrFrameTouchEvent.negotiate(a,r,((e,i)=>{i&&tN(t,r.type,r),n(e,i)}))}));var Vie=e=>t=>{mu(e)("openAddress",t,{beforeSuccess(e){xd(e,"addressPostalCode","postalCode"),xd(e,"proviceFirstStageName","provinceName"),xd(e,"addressCitySecondStageName","cityName"),xd(e,"addressCountiesThirdStageName","countyName"),xd(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddressForPlugin"),delete e.err_msg}})},Uie=e=>function(t){t.pluginId=e,t.appId=z.accountInfo.appId,bp("setPluginLoginAuth",t,void 0,(e=>{0===e.errMsg.indexOf("setLoginAuth:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)}))};function $ie(e,t){WD({pluginId:e,apiName:"GetPluginAuthScope",reqData:{scope_list:["scope.eCommercePluginAuths"]},fail(){t(!1)},success(e){var r=JSON.parse(e.respData.data).auth_item_list.find((e=>"scope.eCommercePluginAuths"===e.scope));t(!!r&&(r.state&&1===r.state))}})}var zie=e=>function(t){$ie(e,(e=>{e?bp("chooseAddressDirectly",{},void 0,(e=>{0===e.errMsg.indexOf("chooseAddressDirectly:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)})):Rc("chooseAddressDirectly",t,"no permission")}))},qie=()=>function(e={}){e.permissionBytes=[1,1,1],bp("appServiceEnterContact",e,void 0,(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("enterContact","enterContactForPlugin")),0===t.errMsg.indexOf("enterContactForPlugin:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},Hie=(e={})=>{gu("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{})}})},Gie=()=>function(e={}){Hie(e)},Kie=()=>function(e){e.isNativeStyle=!0,gu("private_openUrl",e,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openUrl")}})},Jie=e=>{tC((t=>{var r=(+new Date-(t||0))/1e3/60,n=!1,i="",a=z&&z.appContactInfo&&z.appContactInfo.operationInfo&&z.appContactInfo.operationInfo.jsonInfo&&z.appContactInfo.operationInfo.jsonInfo.warning_info&&z.appContactInfo.operationInfo.jsonInfo.warning_info.jsapi_alter||[];a&&a.forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(n=!0,i=e.wording)})),n&&r>30?QC({content:i,confirmText:"继续支付",cancelText:"取消",success(t){t.confirm&&(rC(+new Date),Xie(e))}}):Xie(e)}))},Xie=e=>{if(xc("requestPayment",e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""})){e=Object.assign({},e);var t=Fk();e.passCookies&&"string"==typeof e.passCookies?e.cookie=t?e.passCookies+";; "+t:e.passCookies:t?e.cookie=t:delete e.cookie,delete e.passCookies,e.cookie,gu("requestPayment",Object.assign({},e,{grantMessageQuota:!0}),{beforeSuccess:()=>{bp("reportPaymentFormId",{packageStr:e.package}),Jk()}})}},Yie=()=>function(e={}){Jie(e)},Qie=e=>function(t={}){var r="";Xe(t.extraData)&&(r=JSON.stringify(t.extraData)),mu(e)("navigateBackNative",Object.assign({},t,{extraData:r}))},Zie=e=>function(t={}){xc("setNavigationBarRightButton",t,{hide:!0})&&mu(e)("setNavigationBarRightButton",t,{})},eae=e=>function(t={}){mu(e)("openAddressWithLightMode",t,{beforeSuccess(e){xd(e,"addressPostalCode","postalCode"),xd(e,"proviceFirstStageName","provinceName"),xd(e,"addressCitySecondStageName","cityName"),xd(e,"addressCountiesThirdStageName","countyName"),xd(e,"addressDetailInfo","detailInfo")},beforeAll(e){delete e.err_msg}})},tae=eae(),rae=e=>function(t={}){mu(e)("editTextWithPopForm",t,{})},nae=rae(),iae=()=>function(e={}){ND(eh(e,"chooseInvoiceTitle","chooseInvoiceTitleDirectly"))},aae=()=>function(e={}){QM(eh(e,"openCard","openCardDirectly"))},oae=e=>(t={})=>{bp("getPhoneNumber",Object.assign({permissionBytes:[1,1,1],pluginId:e},t),void 0,(e=>{"string"==typeof e.public.errMsg&&(e.public.errMsg=e.public.errMsg.replace(/^getPhoneNumber:/,"getPhoneNumberDirectly:")),ou(e.public,"getPhoneNumberDirectly",t,{})}))},sae="webapi_getenteroptions_sensitivetype",cae=e=>v.info(sae+" "+e),lae=(e,t,r)=>{var n={app_info_list:[{appid:e,scene:t}]};cae("reqData="+JSON.stringify(n)),Xu({sdkApiName:"getInnerEnterOptions",pluginId:e,apiName:sae,reqData:n,complete(e){cae("respData="+JSON.stringify(e))},fail(e){r(e.errmsg||e.errMsg)},success(n){var i=(n.data.sensitive_type_data_list||[]).find((r=>r.appid===e&&r.scene===t)),a=i?i.sensitive_type_list:[],o=a.indexOf("sessionId");-1!==o&&(a[o]="sessionid"),r(null,a||[])}})},uae=Object.prototype.hasOwnProperty,dae=Object.assign,pae=e=>(t={})=>{var r=dp();r.sessionid=r.sessionid||r.sessionId,delete r.sessionId,lae(e,r.scene,((e,n)=>{var i={};e||(i=dae(r.__public),n.forEach((e=>{uae.call(r,e)&&(i[e]=r[e])}))),Oc({name:"getInnerEnterOptions",args:t,success:!e,errMsg:e,res:i})}))},hae=()=>function(e){var t=(0,yee.Qc)("https://open.weixin.qq.com/sns/checktpbetaplugintoken");t.query={appid:String(e.appid),token:String(e.token)},e.extraData&&(t.query.extraData=JSON.stringify(e.extraData));var r={url:t.format(),isNativeStyle:!0};gu("private_openUrl",r,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","launchTrialMiniProgram")}})},fae=e=>(t={})=>{xq(t,e)},gae=()=>(e={})=>{var t=Pte();e.success&&e.success(t),e.complete&&e.complete(t)},vae=()=>(e={})=>{XT(e)},mae=e=>{var t=/^rgba?\((.+)\)/.exec(e);if(!t)return e;var r=t[1].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e=`0${e}`),e))).join("");return r=`#${r}`},yae=e=>{var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%3600-60*r;r<10&&(r=`0${r}`),n<10&&(n=`0${n}`);var i=`${r}:${n}`;return t>0&&(i=`${t}:${i}`),i},bae=e=>{e.type=e.type||"play",gu("operateCallTone",e)},_ae=()=>bae,wae=e=>{gu("hasJoinVoIPChat",e)},Iae=[{name:"chooseAddressForPlugin",factory:Vie,permissionBytes:["chooseAddressForPlugin"],copyToWx:!0},{name:"openSettingForPlugin",factory:Gie,permissionBytes:["openSettingForPlugin"],copyToWx:!0},{name:"requestPaymentForPlugin",factory:Yie,permissionBytes:["requestPaymentForPlugin"],copyToWx:!0},{name:"chooseAddressDirectly",factory:zie,permissionBytes:[],copyToWx:!0},{name:"enterContactForPlugin",factory:qie,permissionBytes:["enterContactForPlugin"],copyToWx:!0},{name:"openUrl",factory:Kie,permissionBytes:["openUrlForPlugin"],copyToWx:!0},{name:"setLoginAuth",factory:Uie,permissionBytes:["setLoginAuthForPlugin"],copyToWx:!0},{name:"navigateBackNative",factory:Qie,permissionBytes:["navigateBackNative"],copyToWx:!0},{name:"setNavigationBarRightButton",factory:Zie,permissionBytes:["setNavigationBarRightButton"],copyToWx:!0},{name:"openAddressWithLightMode",factory:eae,permissionBytes:["openAddressWithLightMode"],copyToWx:!0},{name:"editTextWithPopForm",factory:rae,permissionBytes:["editTextWithPopForm"],copyToWx:!0},{name:"navigateToMiniProgramDirectly",factory:mx,permissionBytes:["navigateToMiniProgramDirectly"],copyToWx:!0},{name:"getInnerEnterOptions",factory:pae,permissionBytes:["private_getEnterOptions"],copyToWx:!1},{name:"chooseInvoiceTitleDirectly",factory:iae,permissionBytes:["private_chooseInvoiceTitleDirectly"],copyToWx:!1},{name:"getPhoneNumberDirectly",factory:oae,permissionBytes:["private_getPhoneNumberDirectly"],copyToWx:!1},{name:"openCardDirectly",factory:aae,permissionBytes:["private_openCardDirectly"],copyToWx:!1},{name:"launchTrialMiniProgram",factory:hae,permissionBytes:["private_launchTrialMiniProgram"],copyToWx:!1},{name:"navigateToDevMiniProgram",factory:fae,permissionBytes:[],copyToWx:!1},{name:"createTCPServer",factory:gae,permissionBytes:["TCPServer"],copyToWx:!1},{name:"faceVerifyForPay",factory:nO,permissionBytes:[],copyToWx:!1},{name:"requestPersonalPay",factory:uP,permissionBytes:[],copyToWx:!1},{name:"requestOrderPaymentForPlugin",factory:vae,permissionBytes:["requestOrderPaymentForPlugin"],copyToWx:!0},{name:"operateCallToneForPlugin",factory:_ae,permissionBytes:[],copyToWx:!1}],Sae=(e,t,r)=>{Promise.all((t||[]).map((t=>(t=>new Promise((r=>le(e,t,0,r))))(t)))).then((e=>{r(e.every((e=>e)))}))},kae=e=>{var t={};return Iae.forEach((r=>{var n=r.factory(e);t[r.name]=function(t){Sae(e,r.permissionBytes,(e=>{e?n(t):Rc(r.name,t,"no permission",void 0)}))}})),t},Cae=(e,t)=>{var r=!0===z.debug,n="devtools"===z.platform;(r||n)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),AY(`${e} (${t})`)},Eae=()=>{var e={};return Iae.forEach((t=>{t.copyToWx&&(e[t.name]=function(e){var r=Gp(this);Cae(t.name,r),Sae(r,t.permissionBytes,(n=>{n?t.factory(r)(e):Rc(t.name,e,"no permission",void 0)}))})})),e},Aae=(e={})=>{xc("getRandomValues",e,{length:0})&&((!Number.isInteger(e.length)||e.length<=0||e.length>1048576)&&Rc("getRandomValues",e,"invalid length"),gu("getRandomValues",e))},Tae={SUCCESS:0,INVALID_ARGUMENT:ic,SESSION_UNAVAILABLE:fc,SYSTEM_ERROR:nc,DEVICE_NOT_SUPPORTED:sc,OS_NOT_SUPPORTED:oc,NO_SYSTEM_CAMERA_ACCESS:gc,NO_MINIPROGRAM_CAMERA_ACCESS:vc},Pae={SUCCESS:0,INVALID_ARGUMENT:-1,SESSION_UNAVAILABLE:-2,SYSTEM_ERROR:-3,DEVICE_NOT_SUPPORTED:-4,OS_NOT_SUPPORTED:-5,NO_SYSTEM_CAMERA_ACCESS:-6,NO_MINIPROGRAM_CAMERA_ACCESS:-7},xae={[Pae.INVALID_ARGUMENT]:Tae.INVALID_ARGUMENT,[Pae.SESSION_UNAVAILABLE]:Tae.SESSION_UNAVAILABLE,[Pae.SYSTEM_ERROR]:Tae.SYSTEM_ERROR,[Pae.DEVICE_NOT_SUPPORTED]:Tae.DEVICE_NOT_SUPPORTED,[Pae.OS_NOT_SUPPORTED]:Tae.OS_NOT_SUPPORTED,[Pae.NO_SYSTEM_CAMERA_ACCESS]:Tae.NO_SYSTEM_CAMERA_ACCESS,[Pae.NO_MINIPROGRAM_CAMERA_ACCESS]:Tae.NO_MINIPROGRAM_CAMERA_ACCESS},Mae={UNAVAILABLE:0,RUNNING:1,PAUSE:2},Rae={PLANE:0,MARKER:1,OSD:2,FACE:3,MANUAL:4,BODY:5,OCR:6,HAND:7},Dae={ON_ADD_ANCHORS:1,ON_UPDATE_ANCHORS:2,ON_REMOVE_ANCHORS:3,FRAME_SIZE_CHANGED:4},Oae={VKSession:Symbol("VKSession"),VKAnchor:Symbol("VKAnchor"),VKCamera:Symbol("VKCamera"),VKFrame:Symbol("VKFrame"),VKLightEstimate:Symbol("VKLightEstimate"),VKMesh:Symbol("VKMesh"),VKReference:Symbol("VKReference")},Lae={UNKNOWN:0,WEVISION:1,ARKIT:2,WEVISION_6DOF:3,WEVISION_3DOF:4,WEVISION_VIO:5,WEVISION_MARKER:6,WEVISION_OSD:7,WEVISION_FACE:8,WEVISION_BODY:9,WEVISION_OCR:10,WEVISION_HAND:11},Nae={V1:"v1",V2:"v2"},Bae=Oae.VKReference,Fae={};class Wae{constructor(e=0,t){this[Bae]={webviewId:e,native:t}}destroy(){this[Bae].native=null}}class jae extends Wae{}class Vae extends Wae{}function Uae(e=0,t){if(!t)return null;Fae[e]||(Fae[e]=new WeakMap);var r=Fae[e];if(r.has(t))return r.get(t);var n=null;return t instanceof Oh.ARImageReference?n=new jae(e,t):t instanceof Oh.ARObjectReference&&(n=new Vae(e,t)),r.set(t,n),n}function $ae(e){return e[Bae].native}function zae(e=0){Fae[e]={}}var qae=Oae.VKMesh;class Hae{constructor(e=0,t){this[qae]={webviewId:e,native:t}}get vertices(){return this[qae].native?this[qae].native.getVertices():null}get uvs(){return this[qae].native?this[qae].native.getUVs():null}get triangles(){return this[qae].native?this[qae].native.getTriangles():null}destroy(){this[qae].native=null}}var Gae=Oae.VKAnchor,Kae={},Jae={},Xae=1e4;class Yae{constructor(e=0,t){this[Gae]={webviewId:e,native:t,reference:null,mesh:null}}get id(){return this[Gae].native?this[Gae].native.id:null}get type(){return this[Gae].native?this[Gae].native.type:null}get transform(){return this[Gae].native?this[Gae].native.transform:null}get reference(){if(!this[Gae].native)return null;if(!this[Gae].reference){var e=this[Gae].native.reference;this[Gae].reference=Uae(this[Gae].webviewId,e)}return this[Gae].reference}get mesh(){if(!this[Gae].native)return null;if(!this[Gae].mesh){var e=this[Gae].native.mesh;this[Gae].mesh=new Hae(this[Gae].webviewId,e)}return this[Gae].mesh}get size(){if(!this[Gae].native||!this[Gae].native.size)return null;var e=Array.from(this[Gae].native.size);return{width:e[0],height:e[1]}}destroy(){this[Gae].native=null,this[Gae].reference&&(this[Gae].reference.destroy(),this[Gae].reference=null),this[Gae].mesh&&(this[Gae].mesh.destroy(),this[Gae].mesh=null)}}class Qae extends Yae{get alignment(){return this[Gae].native?this[Gae].native.alignment:null}}class Zae extends Yae{get markerId(){return this[Gae].native?this[Gae].native.markerID:null}get path(){return this[Gae].native?Jae[this[Gae].native.markerID]||"":null}}class eoe extends Yae{get markerId(){return this[Gae].native?this[Gae].native.markerID:null}get path(){return this[Gae].native?Jae[this[Gae].native.markerID]||"":null}get origin(){if(!this[Gae].native||!this[Gae].native.origin)return null;var e=Array.from(this[Gae].native.origin);return{x:e[0],y:e[1]}}}class toe extends Yae{get text(){return this[Gae].native?this[Gae].native.text:null}}class roe extends Yae{get detectId(){return this[Gae].native?this[Gae].native.detectId:null}get origin(){if(!this[Gae].native||!this[Gae].native.origin)return null;var e=Array.from(this[Gae].native.origin);return{x:e[0],y:e[1]}}get confidence(){return this[Gae].native?this[Gae].native.confArray:null}}class noe extends roe{get points(){return this[Gae].native?this[Gae].native.points106:null}get angle(){return this[Gae].native?this[Gae].native.angleArray:null}}class ioe extends roe{get points(){return this[Gae].native?this[Gae].native.pointsArray:null}get score(){return this[Gae].native?this[Gae].native.score:null}}class aoe extends roe{get points(){return this[Gae].native?this[Gae].native.pointsArray:null}get score(){return this[Gae].native?this[Gae].native.score:null}get gesture(){return this[Gae].native?this[Gae].native.gesture:null}}function ooe(e=0,t){if(!t)return null;Kae[e]||(Kae[e]={});var r=Kae[e];if(r[t.id])return r[t.id];var n=null;return t.type===Rae.PLANE?n=new Qae(e,t):t.type===Rae.MARKER?n=new Zae(e,t):t.type===Rae.OSD?n=new eoe(e,t):t.type===Rae.FACE?n=new noe(e,t):t.type===Rae.BODY?n=new ioe(e,t):t.type===Rae.OCR?n=new toe(e,t):t.type===Rae.HAND&&(n=new aoe(e,t)),r[t.id]=n,n}function soe(e){return e[Gae].native}function coe(e=0,t){Jae[e]||(Jae[e]={});var r=++Xae;return Jae[e][r]=t,r}function loe(e=0){Kae[e]&&Object.keys(Kae[e]).forEach((t=>{var r=Kae[e][t];r&&r.destroy()}));Kae[e]={},Jae[e]={}}var uoe=Oae.VKCamera;class doe{constructor(e){this[uoe]={native:e}}get _transform(){return this[uoe].native?this[uoe].native.transform:null}get viewMatrix(){return this[uoe].native?this[uoe].native.viewMatrix:null}get intrinsics(){return this[uoe].native?this[uoe].native.intrinsics:null}destroy(){this[uoe].native=null}getProjectionMatrix(e,t){return this[uoe].native?this[uoe].native.getProjectionMatrix(e,t):null}}var poe=Oae.VKLightEstimate;class hoe{constructor(e){this[poe]={native:e}}get ambientIndensity(){return this[poe].native?this[poe].native.ambient_indensity:null}destroy(){this[poe].native=null}}var foe=Oae.VKFrame,goe=Oae.VKSession,voe=!0,moe=!1;function yoe(){moe=!0,z.onReady((()=>{Lh({experimentId:"clicfg_wa_ar_iosurface_switch",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(voe=!1)}})}))}class boe{constructor(e=0,t,r){this[foe]={webviewId:e,native:t,session:r,camera:null,lightEstimate:null},he&&!moe&&yoe()}get timestamp(){return this[foe].native?this[foe].native.timestamp:null}get camera(){if(!this[foe].native)return null;if(!this[foe].camera){var e=this[foe].native.camera;this[foe].camera=new doe(e)}return this[foe].camera}get lightEstimate(){if(!this[foe].native)return null;if(!this[foe].lightEstimate){var e=this[foe].native.lightEstimate;this[foe].lightEstimate=new hoe(e)}return this[foe].lightEstimate}destroy(){this[foe].native=null,this[foe].camera&&(this[foe].camera.destroy(),this[foe].camera=null),this[foe].lightEstimate&&(this[foe].lightEstimate.destroy(),this[foe].lightEstimate=null),this[foe].session=null}getCameraRawTextureData(e="yuv"){if("yuv"===e)return this[foe].native.getCameraYUVBuffer()}getCameraBuffer(e,t){if(!e||!t||!this[foe].native)return null;if(e%16==0){if(this[foe].session[goe].options.gl)return this[foe].native.getCameraBuffer(e,t)}else console.error("getCameraBuffer fail: invalid parameter, the width needs to be an integer multiple of 16. width 需要是 16 的整数倍")}getCameraTexture(e,t="yuv"){if(!this[foe].native||!this[foe].session)return null;"string"==typeof e&&(t=e,e=null);var r=this[foe].session;if(!(e=e||r[goe].options.gl))return null;if("yuv"===t){var n=r[goe].yTexture;n||(n=e.createTexture());var i,a=r[goe].uvTexture;a||(a=e.createTexture());var o=!1;return he&&voe&&(o=this[foe].native.updateCameraYUVTextureIOS(n,a,e)),o||(i=this[foe].native.getCameraYUVBuffer()),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,i.width,i.height,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8Array(i.yAddress)),r[goe].yTexture=n,n._gl=e,e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE_ALPHA,i.width/2,i.height/2,0,e.LUMINANCE_ALPHA,e.UNSIGNED_BYTE,new Uint8Array(i.uvAddress)),r[goe].uvTexture=a,a._gl=e,e.bindTexture(e.TEXTURE_2D,null),{yTexture:n,uvTexture:a}}return null}getDisplayTransform(){return this[foe].native?this[foe].native.getDisplayTransform():null}getAllAnchors(){}}var _oe={},woe=[],Ioe=null;function Soe(e=0){return _oe[e]}function koe(e=0,t){_oe[e]=t}function Coe(e=0){_oe[e]=null}function Eoe(e=0){if(Ioe){var t=Soe(Ioe);t&&t.stop()}Ioe=e}function Aoe(e=0){Ioe===e&&(Ioe=null)}function Toe(e=0){Ioe===e&&(Ioe=null),Coe(e)}function Poe(){return Ioe}function xoe(e=0){return-1!==woe.indexOf(e)}function Moe(e=0){var t=Soe(e);t&&(t.stop(),xoe(e)||woe.push(e))}function Roe(e=0){var t=Soe(e);if(t&&(t.start(),xoe(e))){var r=woe.indexOf(e);woe.splice(r,1)}}var Doe=UN(),Ooe=e=>setTimeout(e,0,1e3*Doe.since()),Loe=e=>clearTimeout(e),Noe=null;he&&!Te()?(Noe||(Noe=QF()),Ooe=e=>Noe.requestAnimationFrame(e),Loe=e=>Noe.cancelAnimationFrame(e)):pe||Te()?(Ooe=e=>Oh.requestAnimationFrame(e),Loe=e=>Oh.cancelAnimationFrame(e)):de&&(Ooe=e=>window.requestAnimationFrame((()=>e(1e3*Doe.since()))),Loe=e=>window.cancelAnimationFrame(e));var Boe=Oae.VKSession,Foe=function(){};class Woe{constructor(e=0,t={},r=""){this[Boe]={webviewId:e,pluginId:r,native:null,options:t,version:t.version||Nae.V1,implType:Lae.WEVISION,lastFrame:null,eventMap:{},trigger:(e,t=[])=>{var r=this[Boe].eventMap[e];r&&r.length&&r.forEach((r=>{C.surroundThirdByTryCatch(r,`at VKSession's ${e} handler`)(...t)}))},commonCmd:(e,...t)=>{this[Boe].native.commonCmd(JSON.stringify(e),...t)},yTexture:null,uvTexture:null,rgbaTexture:null}}get state(){return this[Boe].native?this[Boe].native.state:Mae.UNAVAILABLE}get cameraSize(){return this[Boe].native?this[Boe].native.getCameraSize():null}get config(){return this[Boe].native?this[Boe].native.config:null}set config(e){this[Boe].native.config=e}get version(){return this[Boe].version}get requestAnimationFrame(){return this[Boe].native?Ooe:Foe}get cancelAnimationFrame(){return this[Boe].native?Loe:Foe}static isSupport(e){if(de)return!1;if(e===Nae.V2){var t=he?Lae.ARKIT:Lae.WEVISION_VIO;return Oh.ARSession.isSupportARImplType(t)}return e===Nae.V1}start(e){if("function"!=typeof e&&(e=Foe),this.state===Mae.RUNNING)return e(null);var t=this[Boe].version;if(!Woe.isSupport(t))return console.error(`VKSession.start:fail The current device does not support version "${t}"`),void e(Tae.DEVICE_NOT_SUPPORTED);if(this[Boe].native){Eoe(this[Boe].webviewId);var r=this[Boe].native.start();r===Tae.SUCCESS?e(null):e(xae[r])}else{var n=this[Boe].options,i=n.track||{};if(i.plane?i.plane&&"number"==typeof i.plane.mode&&(i.plane.mode=i.plane.mode<<1):i.plane={mode:2},i.threeDof&&(n.arImplType=Lae.WEVISION_3DOF),n.track=i,i.marker)n.arImplType=Lae.WEVISION_MARKER;else if(i.OSD)n.arImplType=Lae.WEVISION_OSD;else if(i.face&&i.face.mode>0){n.arImplType=Lae.WEVISION_FACE;var a="object"==typeof i.face?i.face:{};n.forbidCamera=2===a.mode}else if(i.body&&i.body.mode>0){n.arImplType=Lae.WEVISION_BODY;var o="object"==typeof i.body?i.body:{};n.forbidCamera=2===o.mode}else if(i.hand&&i.hand.mode>0){n.arImplType=Lae.WEVISION_HAND;var s="object"==typeof i.hand?i.hand:{};n.forbidCamera=2===s.mode}else if(this[Boe].version===Nae.V2)n.arImplType=he?Lae.ARKIT:Lae.WEVISION_VIO;else if(i.OCR){var c="object"==typeof i.OCR?i.OCR:{};n.arImplType=Lae.WEVISION_OCR,n.forbidCamera=2===c.mode}this[Boe].implType=n.arImplType;var l=e=>e.map((e=>ooe(this[Boe].webviewId,e))).filter((e=>!!e)),u=()=>{if(!Oh.ARSession)return e(Tae.DEVICE_NOT_SUPPORTED);Oh.ARSession.create(n,(t=>{if("number"==typeof t){var r=xae[t]||Tae.SYSTEM_ERROR;return pe&&r===Tae.NO_SYSTEM_CAMERA_ACCESS?void QC({title:"相机权限未开启",content:"请前往“设置>应用>微信>权限”中允许微信访问你的摄像头和麦克风。",confirmText:"前往设置",cancelText:"我知道了",success:t=>{t.confirm&&Ey(),e(r)}}):e(r)}t.onEvent(Dae.ON_ADD_ANCHORS,(e=>this[Boe].trigger("addAnchors",[l(e)]))),t.onEvent(Dae.ON_UPDATE_ANCHORS,(e=>this[Boe].trigger("updateAnchors",[l(e)]))),t.onEvent(Dae.ON_REMOVE_ANCHORS,(e=>this[Boe].trigger("removeAnchors",[l(e)]))),t.onEvent(Dae.FRAME_SIZE_CHANGED,(()=>this[Boe].trigger("resize"))),this[Boe].native=t,Eoe(this[Boe].webviewId);var n=t.start();return n===Tae.SUCCESS?(e(null),setTimeout((()=>pD(this[Boe].pluginId,"VKSession.start")))):e(xae[n]),null}),(e=>{"string"==typeof e&&(e=JSON.parse(e));var t=e.event,r=e.params;switch(t){case"onAddFaceAnchor":case"onAddBodyAnchor":case"onAddOCRAnchor":case"onAddHandAnchor":var n=r.anchors;this[Boe].trigger("addAnchors",[l(n)]);break;case"onUpdateFaceAnchor":case"onUpdateBodyAnchor":case"onUpdateOCRAnchor":case"onUpdateHandAnchor":var i=r.anchors;this[Boe].trigger("updateAnchors",[l(i)]);break;case"onRemoveFaceAnchor":case"onRemoveBodyAnchor":case"onRemoveHandAnchor":case"onRemoveOCRAnchor":var a=r.anchors;this[Boe].trigger("removeAnchors",[l(a)])}}))};if(n.forbidCamera)u();else HR(this[Boe].pluginId)({scope:"scope.camera",success:u,fail:()=>{e(Tae.NO_MINIPROGRAM_CAMERA_ACCESS)}})}return null}stop(){this[Boe].native&&this.state!==Mae.PAUSE&&(this[Boe].native.stop(),Aoe(this[Boe].webviewId))}destroy(){this[Boe].native&&(this[Boe].native.destroy(),loe(this[Boe].webviewId),zae(this[Boe].webviewId),Toe(this[Boe].webviewId),this[Boe].native=null,this[Boe].lastFrame&&(this[Boe].lastFrame.destroy(),this[Boe].lastFrame=null),this[Boe].eventMap=null,["yTexture","uvTexture","rgbaTexture"].forEach((e=>{var t=this[Boe][e];if(t&&t._gl){var r=t._gl;t._gl=null,r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(t)}this[Boe][e]=null})))}getVKFrame(e,t){if(!this[Boe].native)return null;loe(this[Boe].webviewId);var r=this[Boe].native.getARFrame(e,t);if(r){var n=new boe(this[Boe].webviewId,r,this);return this[Boe].lastFrame&&(this[Boe].lastFrame.destroy(),this[Boe].lastFrame=null),this[Boe].lastFrame=n,n}return null}removeAnchor(e){if(this[Boe].native){var t=soe(e);this[Boe].native.removeAnchor(t)}}hitTest(e,t,r=!0){if(!this[Boe].native)return null;var n=this[Boe].native.hitTest(e,t,r);return n?n.map((e=>({anchor:ooe(this[Boe].webviewId,e.anchor),transform:e.transform}))):[]}addMarker(e){var t,r;if(!0!==(null===(t=this[Boe].options)||void 0===t||null===(r=t.track)||void 0===r?void 0:r.marker))return console.error("[VKSession.addMarker] Declare track.marker as true when invoke createVKSession and then call addMarker"),null;if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_MARKER)return null;if(!e||"string"!=typeof e)return console.error("[VKSession.addMarker] invalid path"),null;var n=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|store)\//.test(e)||(e=zd(ul.lastRoute,e,!1));var i=coe(this[Boe].webviewId,n);return this[Boe].native.addARMarker(i,e),i}removeMarker(e){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_MARKER)return null;this[Boe].native.removeARMarker(e)}getAllMarker(){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_MARKER)return null;var e=this[Boe].native.getAllARMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}addOSDMarker(e){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_OSD)return null;if(!e||"string"!=typeof e)return console.error("[VKSession.addOSDMarker] invalid path"),null;var t=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|store)\//.test(e)||(e=zd(ul.lastRoute,e,!1));var r=coe(this[Boe].webviewId,t);return this[Boe].native.addOSDMarker(r,e),r}removeOSDMarker(e){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_OSD)return null;this[Boe].native.removeOSDMarker(e)}getAllOSDMarker(){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_OSD)return null;var e=this[Boe].native.getAllOSDMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}updateOSDThreshold(e){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_OSD)return null;this[Boe].native.updateOSDThreshold(e)}detectFace({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:i,modelMode:a=1}={}){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_FACE)return null;this[Boe].commonCmd({action:"detectFace",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:i,modelMode:a}},e)}detectBody({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:i}={}){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_BODY)return null;this[Boe].commonCmd({action:"detectBody",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:i}},e)}runOCR({frameBuffer:e,width:t,height:r}={}){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_OCR)return null;this[Boe].commonCmd({action:"runOCR",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}detectHand({frameBuffer:e,width:t,height:r,scoreThreshold:n,algoMode:i}={}){if(!this[Boe].native||this[Boe].implType!==Lae.WEVISION_HAND)return null;this[Boe].commonCmd({action:"runHand",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,algoMode:i}},e)}on(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[Boe].eventMap;if(r){var n=r[e]=r[e]||[];-1===n.indexOf(t)&&n.push(t)}}}off(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[Boe].eventMap;if(r){var n=r[e]=r[e]||[],i=n.indexOf(t);i>=0&&n.splice(i,1)}}}}function joe(e){var t=Poe();t!==e&&Moe(t)}function Voe(e){xoe(e)&&Roe(e)}function Uoe(e={}){var t=Gp(this),r=ul.currentWebviewId,n=Soe(r),i=e.version||Nae.V1;return Woe.isSupport(i)||console.error(`createVKSession:fail The current device does not support version "${i}"`),n||koe(r,n=new Woe(r,e,t)),n}function $oe(e={}){var t=ul.currentWebviewId,{type:r,config:n={}}=e,i=null;return"image"===r?i=new Oh.ARImageReference(n):"object"===r&&(i=new Oh.ARObjectReference(n)),Uae(t,i)}function zoe(e){return Woe.isSupport(e)}rk((()=>{Voe(ul.currentWebviewId)})),hk((()=>joe())),XS((e=>{var t=e.webviewId;joe(t),Voe(t),CI(t,(()=>{var e=Soe(t);e&&e.destroy(),loe(t),zae(t)}),"AR")}));var qoe=1;z.onReady((()=>{try{"number"==typeof z.wxAppInfo.maxWorkerConcurrent&&(qoe=z.wxAppInfo.maxWorkerConcurrent)}catch(e){}}));var Hoe=function(e,t={}){var{useExperimentalWorker:r}=t,n={workerUrl:e,appid:z.accountInfo.appId,useExperimentalWorker:r&&Ph("WeAppWorker")},i="workers.js",a=CB.service,o=Gp(this);if(o&&(i=Hd(o,"workers.js"),a=CB.plugin,n.pluginId=o),TB.getSizeByType(a)>=qoe)throw new Error("createWorker: exceed max concurrent workers limit.");var{workerId:s,useWKWorker:c}=w.create(i,n);if(setTimeout((()=>{E.reportIDKey({key:c?"createWKWorker":"createNormalWorker"})}),0),s>0)return new tF(s,e,{useWKWorker:c,contextType:a,pluginId:n.pluginId});throw-1===s?new Error(`createWorker: Worker "${e}" does not exists.`):new Error("createWorker: unknown error.")},Goe="weapp://wechat-game-runtime",Koe="readFile";function Joe(e={}){var t,{filePath:r,encoding:n}=e,i=new XMLHttpRequest;i.open("POST",`${Goe}/wxfs/${btoa(r)}`,!0),i.setRequestHeader("content-type","application/json"),i.responseType="string"==typeof n?"text":"arraybuffer",i.onload=()=>{t="string"==typeof n?i.responseText:i.response,Oc({name:Koe,args:e,res:{data:t}})},i.onerror=t=>{Rc(Koe,e,t.message)},i.send(JSON.stringify({}))}function Xoe({filePath:e,encoding:t}){var r=new XMLHttpRequest;return r.open("POST",`${Goe}/wxfs/${btoa(e)}`,!1),r.setRequestHeader("content-type","application/json"),r.responseType="string"==typeof t?"text":"arraybuffer",r.send(JSON.stringify({})),"string"==typeof t?r.responseText:r.response}var Yoe={},Qoe=new WeakSet,Zoe=null,ese=null;function tse(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&(!!r.configurable&&(!(!t||"_"===t[0])&&(!Bh.includes(t)&&r)))}function rse(e,...t){isFunction(e)&&e(...t)}function nse(e,t,r,n=!1){var i=xg(),a=Date.now();return(o,s,c=!1)=>{fte(e,i,t,null===s?0:1,a,0,s,r,n),!c&&fte(e,i,t,o?1:0,a,1,s,r,n,!0)}}function ise(e,t){dse("",e,1,t,!1)}var ase=Map,ose=Math.random,sse=(e,t)=>!!ote(e)||!ste(e)&&(!Yoe[e]&&(!Xe(t)||!("success"in t||"fail"in t||"complete"in t)||void 0));function cse(e){var t;return function(){return t=t||e.apply(this)}}function lse(e,t,r,n,i,a,o){var s=function(c,...l){var u,d,p=!1,h=getApiReportStrategy(e),f=null!==(u=null==h?void 0:h.ratio)&&void 0!==u?u:i,g=1===(null==h?void 0:h.ratio)||o,m=ose()<f,y=guid(),b=T.getAsyncCallApiRelatedEvent();(d=T.getTrackUserAction())&&T.pushApiToEventApiList(e,y);var _=Date.now(),w=l.length?[c,...l]:c,I=!0;Promise.resolve().then((()=>{I=!1}));var S=()=>!I,k=t=>{var r;checkPointFullReportRule(e,{res:t}).then((r=>{g=g||r||p,(r||m||p)&&(!g||!E.isLimitReport(21688))&&report(e,y,w,1,_,1,t,a,g,S())})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),Zoe.includes(e)&&T.reportInteractionAPI({api:e,result:0,res:t}),"request"!==e&&T.traceApi(e,c,t,null,y,Date.now()-_,!0),d&&(r=T.setAsyncCallApiRelatedEvent(d)),rse(c&&c.success,t),d&&!1!==r&&setTimeout((()=>T.clearAsyncCallApiRelatedEvent(d)),T.getAsyncCallbackJoinEventInterval())},C=t=>{var r;(checkPointFullReportRule(e,{res:t}).then((r=>{g=g||r||p,(r||m||p)&&(!g||!E.isLimitReport(21688))&&report(e,y,w,0,_,1,t,a,g,S())})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),Zoe.includes(e)&&T.reportInteractionAPI({api:e,result:1,res:t}),"request"!==e&&T.traceApi(e,c,t,!0,y,Date.now()-_,!0,{errMsg:t.errMsg,errno:t.errno}),t.errno&&E.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[e,t.errno].join(",")}),isFunction(c&&c.fail))?(d&&(r=T.setAsyncCallApiRelatedEvent(d)),rse(c&&c.fail,t),d&&!1!==r&&setTimeout((()=>T.clearAsyncCallApiRelatedEvent(d)),T.getAsyncCallbackJoinEventInterval())):console.warn("call failed:,",t)};try{var A,P=arguments.length?[sse(e,c)?c:Object.assign({},c,_objectSpread(_objectSpread({},"request"===e?{__wx_inner_uuid__:y,__wx_inner_invokeTime__:_,__wx_inner_request_network_type__:_getCurrentNetworkType(),__wx_request_route_path__:T.getCurrentRoutePath()}:{}),{},{success:k,fail:C})),...l]:[];A=this instanceof s?Reflect.construct(t,P,t):Reflect.apply(t,r,P),T.traceApi(e,c,A,null,y,Date.now()-_,!1,{relatedEvent:b});var x=null===A?0:1,M=checkPointFullReportRule(e,{req:w,res:A});return M.then((t=>{t&&(p=!0),g=g||t,(t||m)&&(!g||!E.isLimitReport(21688))&&report(e,y,w,x,_,0,A,a,g)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),n&&isObject(A)&&!Qoe.has(A)&&(use(e,A,!1,i,a,g,!1),Qoe.add(A)),A}catch(t){T.traceApi(e,c,null,!0,y,Date.now()-_,!1,{errMsg:t,relatedEvent:b});var R=checkPointFullReportRule(e,{req:w});throw R.then((r=>{r&&(p=!0),g=g||r,(r||m)&&(!g||!E.isLimitReport(21688))&&report(e,y,w,0,_,0,t,a,g)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),t}};return s}function use(e,t,r,n,i,a,o){if(!isObject(t))return t;var s,c=new ase;for(var l of Object.getOwnPropertyNames(t))(s=tse(t,l))&&c.set(l,s);var u=Object.getPrototypeOf(t);for(var d of Object.getOwnPropertyNames(u))(s=tse(u,d))&&!s.get&&c.set(d,s);return c.forEach(((s,c)=>{if(o&&s.get)Object.defineProperty(t,c,{get:cse((function(){var l=s.get.apply(this);return isFunction(l)?lse(`${e}${e?".":""}${c}`,l,t,r&&"Sync"!==c.slice(-4),n,i,a):isObject(l)&&o?use(`${e}${e?".":""}${c}`,l,r,n,i,a,o):void 0})),set:s.set,enumerable:s.enumerable,configurable:s.configurable});else{var l=s.value;if(!s.writable)return;isFunction(l)?t[c]=lse(`${e}${e?".":""}${c}`,l,t,r&&"Sync"!==c.slice(-4),n,i,a):isObject(l)&&o&&(t[c]=use(`${e}${e?".":""}${c}`,l,r,n,i,a,o))}})),t}function dse(e,t,r,n,i=!1){if(Xe(t)){var a=new ase;for(var o of Object.getOwnPropertyNames(t))if(tse(t,o)){var s=Object.getOwnPropertyDescriptor(t,o);if(s.get||!s.writable||!et(t[o]))return;a.set(o,t[o])}var c=Object.getPrototypeOf(t);for(var l of Object.getOwnPropertyNames(c))if(!tse(c,l)){var u=Object.getOwnPropertyDescriptor(c,l);if(u.get||!u.writable||!et(c[l]))return;a.set(l,c[l])}a.forEach(((a,o)=>{var s;t[o]=new Proxy(t[o],{construct(t,a){var o,c=ate(e),l=null!==(o=null==c?void 0:c.ratio)&&void 0!==o?o:r,u=1===(null==c?void 0:c.ratio)||i,d=ose()<l,p=vg(),h=Date.now(),f=xg();s=a;try{var g=Reflect.construct(t,a);return d&&fte(e,f,a,null===g?0:1,h,p,0,g,n,u),g}catch(t){throw d&&fte(e,f,s,0,h,p,0,t,n,u),t}},get:(e,t)=>t===Symbol.hasInstance?t=>t instanceof e:e[t]})}))}}var pse=!1;function hse(e){if(e.createCanvas){var t=e.createCanvas;e.createCanvas=()=>{var r=t.call(e);if(r&&r.getContext){var n=r.getContext;r.getContext=(...e)=>{var t=n.call(r,...e);if(t&&t.compressedTexImage2D){var i=t.compressedTexImage2D;t.compressedTexImage2D=(...e)=>{pse||(pse=!0,report("WebGLRenderingContext.compressedTexImage2D",guid(),{},1,Date.now(),_getCurrentNetworkType(),0,void 0)),i.call(t,...e)}}return t}}return r}}}function fse(e,t=0){use("",e,!0,.05,t,!1,!0),hse(e)}var gse={},vse=e=>{var t;return"string"!=typeof e?t=new Error("WebAssembly.instantiate: first argument must be a string"):/^(wxfile|https?):/.test(e)?t=new Error("WebAssembly.instantiate: not support wxfile: or http: path"):/\.wasm(\.br)?$/.test(e)||(t=new Error("WebAssembly.instantiate: only support file type .wasm or .wasm.br")),t},mse=e=>Ph("allowBufferWASM")&&Wb(e,"allowBufferWASM"),yse=(e,t,r,n)=>new Promise(((i,a)=>{e({compressionAlgorithm:"br",filePath:t,success(e){gse.instantiate(e.data,r).then((e=>{n(!0,e),i(e)}),(e=>{n(!1,e),a(e)}))},fail({errMsg:e}){var t=new Error(e.replace(/^\w+:fail\s*/,""));n(!1,t,!ke),a(t)}})})),bse=(e,t,r)=>{var n=e(t);return new gse.Instance(n,r)},_se=e=>(t,r,n)=>{if(gse.Module&&t instanceof gse.Module)return e?new gse.Instance(t,r):gse.instantiate(t,r);var i,a,o,s=nse("instantiate",{file:t,imports:r},!1,!1);if(mse(n)||/^(wxfile:\/\/__wxprivate__)/.test(t)||(i=vse(t)),i){if(s(!1,i,!0),e)throw i;return Promise.reject(i)}if(ke||(he||pe)&&"string"==typeof t&&t.startsWith("wxfile://")){var c,l;if(e)return/\.br$/.test(t)?(c=_f,l={filePath:t,compressionAlgorithm:"br"}):(c=zh,l=t),bse(c,l,r,s);var u=/\.br$/.test(t)?bf:$h;return yse(u,t,r,s)}if(he||pe){if(e)return new gse.Instance(t,r);var d=gse.instantiate(t,r);return"Promise"===Fe(d)?(s(!0,d),d):(s(!0,d,!0),Promise.resolve(d))}if(e)return/\.br$/.test(t)?(a=_f,o={filePath:t,compressionAlgorithm:"br"}):(a=zh,o=t),bse(a,o,r,s);var p=/\.br$/.test(t)?bf:$h;return yse(p,t,r,s)},wse=_se(!1),Ise=_se(!0);function Sse(e){var t=vse(e);if(t)return Promise.reject(t);if(ke)return new Promise(((t,r)=>{Joe({filePath:e,success(e){t(gse.compile(e.data))},fail({errMsg:e}){r(new Error(e.replace(/^\w+:fail\s*/,"")))}})}));var r=/\.br$/.test(e)?bf:$h;return new Promise(((t,n)=>{r({compressionAlgorithm:"br",filePath:e,success(e){t(gse.compile(e.data))},fail({errMsg:e}){n(new Error(e.replace(/^\w+:fail\s*/,"")))}})}))}class kse{constructor(){}}var Cse=(e,t)=>{var r;return"string"==typeof e&&(e.startsWith("wxfile://")?mse(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(r=new Error("WebAssembly.instantiate: not support wxfile: or http: path")):-1!==e.indexOf(`__plugin__/${t}/`)||(e=Hd(t,e))),{error:r,finalFile:e}},Ese=e=>{Mse();var t={Table:gse.Table,Memory:gse.Memory,Global:gse.Global,Instance:function(t,r={}){var{error:n,finalFile:i}=Cse(t,e);if(n)throw n;return Ise(i,r,e)},instantiate(t,r={}){var{error:n,finalFile:i}=Cse(t,e);return n?Promise.reject(n):wse(i,r,e)}};return gse.compile&&(t.compile=e=>Sse(e)),gse.Module&&(t.Module=kse),t},Ase=()=>{Mse();var e={Table:gse.Table,Memory:gse.Memory,Global:gse.Global};ise(e,!1);var t=O()(O()({},e),{},{Instance:function(e,t={}){return Ise(e,t,void 0)},instantiate:(e,t={})=>wse(e,t,void 0)});return gse.compile&&(t.compile=e=>Sse(e)),gse.Module&&(t.Module=kse),t},Tse=null,Pse=({provider:e}={})=>e?Ese(e):(Tse||(Tse=Ase()),Tse),xse=!1;function Mse(){if(!xse)throw new Error("WebAssembly not ready")}var Rse=new Proxy({},{get:(e,t,r)=>(Mse(),Reflect.get(e,t,r))});function Dse(e={}){console.warn("wx.initFaceDetect 即将废弃，请使用 wx.createVKSession"),gu("faceProcessInit",e,{beforeFail:e=>{var t=Nse(e.errCode),r=Bse(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"initFaceDetect:$2")}})}function Ose(e={}){console.warn("wx.faceDetect 即将废弃，请使用 wx.createVKSession"),gu("faceDetect",e,{beforeFail(e){var t=Nse(e.errCode),r=Bse(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"faceDetect:$2")}})}function Lse(e={}){console.warn("wx.stopFaceDetect 即将废弃，请使用 wx.createVKSession"),gu("faceProcessStop",e,{beforeFail:e=>{var t=Nse(e.errCode),r=Bse(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"stopFaceDetect:$2")}})}function Nse(e){switch(e){case 0:return xr;case 1:case 3:return lc;case 2:return uc;case 5:return pc;case 6:return hc;case 4:case 7:return cc}}function Bse(e){switch(e){case 1:case 3:return"faceDetect:fail face detection does not initialize";case 2:return"faceDetect:fail face detection has duplicated initialization";case 5:return"faceDetect:fail face not detected or detection failed";case 6:return"faceDetect:fail stop face detection failed";default:return"faceDetect:fail unknown error"}}h.onLoad((()=>{xse=!0;var e=globalThis;void 0!==Oh.WebAssembly?gse=Oh.WebAssembly:void 0!==e.WebAssembly&&(gse=e.WebAssembly);try{e.WebAssembly&&delete e.WebAssembly}catch(e){}gse.Module&&(kse.customSections=gse.Module.customSections,kse.exports=gse.Module.exports,kse.imports=gse.Module.imports);var t={Table:gse.Table,Memory:gse.Memory,Global:gse.Global,Instance:gse.Instance,compile:gse.compile,compileStreaming:gse.compileStreaming,instantiateStreaming:gse.instantiateStreaming,validate:gse.validate,CompileError:gse.CompileError,LinkError:gse.LinkError,Module:gse.Module,RuntimeError:gse.RuntimeError,instantiate:(e,t,r)=>Promise.resolve(gse.instantiate(e,t,r))};Object.assign(Rse,t)}));var Fse=r1,Wse=s1,jse=c1,Vse=yF,Use=u1,$se=l1,zse=gO,qse=vO,Hse=TM,Gse=xM,Kse=RM,Jse=DM,Xse=OM,Yse=OY,Qse=LY,Zse=DY,ece=uY,tce=dY,rce=SY,nce=kY,ice=CY,ace=y1,oce=GY,sce=KY,cce=JY,lce=XY,uce=YY,dce=ZY,pce=eQ,hce=tQ,fce=nE,gce=aE,vce=oE,mce=ZC,yce=sE,bce=ZH,_ce=eG,wce=tG,Ice=aG,Sce=oG,kce=cG,Cce=lG,Ece=Tx,Ace=xx,Tce=Mx,Pce=Lx,xce=$M,Mce=pI,Rce=fI,Dce=Pp,Oce=vI,Lce=gI,Nce=fx,Bce={getAccountInfoSync:vne,request:bre.request,uploadFile:bre.uploadFile,downloadFile:bre.downloadFile,connectSocket:bre.connectSocket,getStorage:lne.getStorage,getStorageSync:lne.getStorageSync,removeStorage:lne.removeStorage,removeStorageSync:lne.removeStorageSync,setStorage:lne.setStorage,setStorageSync:lne.setStorageSync,createAudioContext:dne.createAudioContext,createCameraContext:dne.createCameraContext,createMapContext:dne.createMapContext,createVideoContext:dne.createVideoContext,createInnerAudioContext:dne.createInnerAudioContext,createLivePlayerContext:dne.createLivePlayerContext,createLivePusherContext:dne.createLivePusherContext,createSelectorQuery:mne,createIntersectionObserver:yne,createMediaQueryObserver:bne,nextTick:_ne,createCanvasContext:gne.createCanvasContext,createOffscreenCanvas:gne.createOffscreenCanvas,drawCanvas:gne.drawCanvas,canvasToTempFilePath:gne.canvasToTempFilePath,canvasGetImageData:gne.canvasGetImageData,canvasPutImageData:gne.canvasPutImageData,createAnimation:hK,reportAnalytics:wne,chooseImage:Hse,chooseMedia:gQ,previewImage:Gse,getImageInfo(e){return Kse(e,bre.downloadFile.bind(this))},saveImageToPhotosAlbum:Jse,compressImage:Xse,startRecord:Yse,stopRecord:Qse,getRecorderManager:Zse,playVoice:rce,pauseVoice:nce,stopVoice:ice,getBackgroundAudioManager:HY,setInnerAudioOption:nQ,chooseVideo:ece,saveVideoToPhotosAlbum:tce,createMediaContainer:RQ,createMediaRecorder:dZ,createVideoDecoder:zQ,createMediaAudioPlayer:uQ,createWorker:Hoe,getLocation:bJ,getFuzzyLocation:LJ,openLocation:IJ,chooseLocation:_J,choosePoi:wJ,onLocationChange:kJ,offLocationChange:CJ,onLocationChangeError:AJ,offLocationChangeError:TJ,startLocationUpdate:xJ,stopLocationUpdate:MJ,getNetworkType:dg,onNetworkStatusChange:pg,offNetworkStatusChange:hg,onNetworkWeakChange:fg,offNetworkWeakChange:gg,getSystemInfo:Iy,getSystemInfoSync:vy,startAccelerometer:A0,stopAccelerometer:T0,onAccelerometerChange:M0,offAccelerometerChange:x0,startCompass:O0,stopCompass:L0,onCompassChange:F0,offCompassChange:B0,getClipboardData:G0,setClipboardData:K0,makePhoneCall:W0,makeVoIPCall:j0,startGyroscope:m6,stopGyroscope:y6,onGyroscopeChange:b6,offGyroscopeChange:_6,startDeviceMotionListening:I6,stopDeviceMotionListening:S6,onDeviceMotionChange:k6,offDeviceMotionChange:C6,scanCode:V0,scanItem:q0,makeBluetoothPair:V3,isBluetoothDevicePaired:U3,openBluetoothAdapter:S1,closeBluetoothAdapter:D1,getBluetoothAdapterState:O1,onBluetoothAdapterStateChange:dq,offBluetoothAdapterStateChange:pq,startBluetoothDevicesDiscovery:L1,stopBluetoothDevicesDiscovery:N1,getBluetoothDevices:B1,getConnectedBluetoothDevices:W1,createBLEConnection:t3,closeBLEConnection:r3,getBLEDeviceServices:n3,getBLEDeviceCharacteristics:i3,getBLEDeviceRSSI:F1,setBLEMTU:$3,getBLEMTU:J3,notifyBLECharacteristicValueChanged:a3,notifyBLECharacteristicValueChange:o3,readBLECharacteristicValue:s3,writeBLECharacteristicValue:c3,onBluetoothDeviceFound:f3,offBluetoothDeviceFound:g3,onBLEConnectionStateChanged:u3,offBLEConnectionStateChanged:d3,onBLEConnectionStateChange:sq,offBLEConnectionStateChange:cq,onBLECharacteristicValueChange:p3,offBLECharacteristicValueChange:h3,onBLEMTUChange:G3,offBLEMTUChange:K3,createBLEPeripheralServer:B3,onBLEPeripheralConnectionStateChanged:W3,offBLEPeripheralConnectionStateChanged:j3,getHCEState:T2,startHCE:P2,stopHCE:x2,sendHCEMessage:M2,onHCEMessage:R2,offHCEMessage:D2,getNFCAdapter:t6,startBeaconDiscovery:J0,stopBeaconDiscovery:X0,getBeacons:Y0,onBeaconUpdate:Q0,offBeaconUpdate:Z0,onBeaconServiceChange:e1,offBeaconServiceChange:t1,startWifi:u2,stopWifi:d2,getWifiList:p2,getConnectedWifi:f2,connectWifi:g2,presetWifiList:v2,setWifiList:m2,onGetWifiList:y2,onWifiConnected:_2,offGetWifiList:b2,offWifiConnected:w2,onEvaluateWifi:k2,onWifiConnectedWithPartialInfo:E2,offWifiConnectedWithPartialInfo:A2,addPhoneCalendar:P6,addPhoneRepeatCalendar:x6,getRandomValues:Aae,captureScreen:Fse,onUserCaptureScreen:Wse,offUserCaptureScreen:jse,setKeepScreenOn:Vse,setScreenBrightness:Use,getScreenBrightness:$se,vibrateShort:zse,vibrateLong:qse,addPhoneContact:ace,login:gie,pluginLogin:mie,getUserInfo:vie,getNativeUserInfo:fie,openSetting:ib,getSetting:yie,operateWXData:Hre,requestPluginPayment:Ex,requestFacetoFacePayment:tP,requestPersonalPay:dP,openEmbeddedMiniProgram:rH,showModal:mce,showToast:_ie,hideToast:fce,showLoading:gce,hideLoading:vce,showActionSheet:yce,pageScrollTo:rK,setPageStyle:sK,setPageOrientation:Uq,startPullDownRefresh:nK,stopPullDownRefresh:iK,setNavigationBarTitle:bce,showNavigationBarLoading:_ce,hideNavigationBarLoading:wce,setNavigationBarColor:Ice,setNavigationBarAlpha:Sce,setNavigationBarRightButton:kce,onTapNavigationBarRightButton:Cce,getShareInfo:Ece,showShareMenu:Ace,hideShareMenu:Tce,updateShareMenu:Pce,showShareImageMenu:xce,setBackgroundColor:PK,setBackgroundTextStyle:xK,navigateTo:Mce,redirectTo:Rce,navigateBack:Dce,switchTab:Oce,reLaunch:Lce,getBackgroundAudioPlayerState:oce,playBackgroundAudio:sce,pauseBackgroundAudio:cce,seekBackgroundAudio:lce,stopBackgroundAudio:uce,onBackgroundAudioPlay:dce,onBackgroundAudioPause:pce,onBackgroundAudioStop:hce,setCookies:Nne,getCookies:Bne,chooseShareGroup:D4,arrayBufferToBase64:C.surroundThirdByTryCatch(Ow),base64ToArrayBuffer:C.surroundThirdByTryCatch(Lw),openBusinessView:Fne,joinVoIPChat:Gne,exitVoIPChat:Jne,updateVoIPChatMuteConfig:Xne,onVoIPChatMembersChanged:Qne,offVoIPChatMembersChanged:Zne,onVoIPChatSpeakersChanged:eie,offVoIPChatSpeakersChanged:tie,onVoIPChatInterrupted:aie,offVoIPChatInterrupted:oie,subscribeVoIPVideoMembers:sie,onVoIPVideoMembersChanged:lie,offVoIPVideoMembersChanged:uie,onVoIPChatStateChanged:pie,offVoIPChatStateChanged:hie,createRewardedVideoAd:Mne,createInterstitialAd:Rne,updateWeChatApp:nee,reportPerformance:Wne,getPerformance:jne,getLaunchOptionsSync:FO,getEnterOptionsSync:WS,onThemeChange:UD,offThemeChange:zD,getVideoInfo:pY,compressVideo:hY,createUDPSocket:Pie,createTCPSocket:bre.createTCPSocket,getRealtimeLogManager:bie,getPublicLibVersion:i5,startLocalServiceDiscovery:o6,stopLocalServiceDiscovery:s6,onLocalServiceFound:c6,offLocalServiceFound:l6,onLocalServiceLost:u6,offLocalServiceLost:d6,onLocalServiceDiscoveryStop:p6,offLocalServiceDiscoveryStop:h6,onLocalServiceResolveFail:f6,offLocalServiceResolveFail:g6,loadFontFace:IY,getBatteryInfo:S0,getBatteryInfoSync:k0,getAvailableAudioSources:rQ,onAudioInterruptionBegin:aU,offAudioInterruptionBegin:oU,onAudioInterruptionEnd:cU,offAudioInterruptionEnd:lU,previewMedia:mQ,openVideoEditor:gZ,saveFileToDisk:wie,openDocument:Sh,getMenuButtonBoundingClientRect:LK,version:D$(),chooseAddress:kD,chooseInvoice:rO,chooseInvoiceTitle:ND,publishWeChatState:KO,navigateToMiniProgram:Nce,createVKSession:Uoe,createVKReference:$oe,isVKSupport:zoe,faceDetect:Ose,initFaceDetect:Dse,stopFaceDetect:Lse,getLocalIPAddress:O6,openSystemBluetoothSetting:Cy,openAppAuthorizeSetting:Ey,getSystemSetting:Py,getAppAuthorizeSetting:xy,getDeviceInfo:Fy,getWindowInfo:jy,getAppBaseInfo:Uy,setVisualEffectOnCapture:d1,createInferenceSession:eg,getXrFrameSystem:Bie},Fce=Eae();Object.keys(Fce).forEach((e=>{Bce[e]=Fce[e]}));var Wce=(e,t)=>new ane(Bce,e,t),jce=()=>"undefined"==typeof BaseConsole?new S.BaseConsole:new BaseConsole,Vce=e=>Pse({provider:e});sre();var Uce=Vp.pluginInfos,$ce={};z.onReady((()=>{"object"==typeof z.env&&($ce.USER_DATA_PATH=z.env.USER_DATA_PATH)}));var zce=$ce,qce=(e,t)=>({vdSync(t,r){e("vdSync",t,r)},vdSyncBatch(t,r){e("vdSyncBatch",t,r)},onVdSync(e){t("vdSync",e)},onVdSyncBatch(e){t("vdSyncBatch",e)}}),Hce=function(e,t,r){for(var n in t){if("exportToAppServiceSDK"===n)return;e[n]=t[n]}["onPageReload"].forEach((n=>{t[n]&&(e[n]=e=>{t[n].call(r,e)})}))},Gce=Ut("AppUnhang"),Kce=Gce.internalOnMethod,Jce=Gce.onMethod,Xce;function Yce(){uk()}Tt("onAppUnhang",((e={})=>{Gce.emit(e)})),qk((e=>{ip()||(dk(e),lk(e),pk(e))}));var Qce=()=>Xce,Zce=e=>Xce=e,ele={cheat:null},tle=(e={})=>{if(Ph("allowUseWePay")){var{result:t,data:r}=e;"boolean"==typeof t?Pq({extraData:{result:t,data:r},fail(t){e.fail&&e.fail({errMsg:"notifyPayResult: fail navigateBackMiniProgram error"})},success:e.success}):e.fail&&e.fail({errMsg:"notifyPayResult: fail result must be boolean"})}else e.fail&&e.fail({errMsg:"notifyPayResult: fail no permission"})},rle,nle,ile=()=>(nle=new Promise(((e,t)=>{rle=e})),nle),ale=()=>!!rle,ole=function(){var e=cp()((function*(e){if(rle)if(!1!==(null==e?void 0:e.result)){var t=yield sle(Xce.prepayId,Xce.platformId);"NOTPAY"===t.state?rle({result:!1,retry:!0}):"SUCCESS"===t.state?rle({result:!0}):rle({result:!1,errMsg:t.errMsg}),rle=null,nle=null,Xce=void 0}else rle({result:!1,errMsg:e.errMsg})}));return function(t){return e.apply(this,arguments)}}(),sle=function(){var e=cp()((function*(e,t){var r,n,i,a,o=yield Yu({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformPayResult",json_req:JSON.stringify({prepay_id:null!==(r=null===(n=ele.cheat)||void 0===n?void 0:n.verifyState)&&void 0!==r?r:e,platform_prepay_id:t})}});return{state:null===(i=o.data.state_info)||void 0===i?void 0:i.state,errMsg:null===(a=o.data.base_resp)||void 0===a?void 0:a.err_msg}}));return function(t,r){return e.apply(this,arguments)}}();function cle(e){if("appLaunch"===e.openType){var t=WO();ek(t),YS(cle)}}function lle(e){tk(e)}zS((e=>{ip()||(ale()&&ole(e.referrerInfo.extraData),ek(e))})),XS(cle);var ule=Ut("AppService-Error"),dle=Ut("AppService-UnhandledRejection"),ple=ule.onMethod,hle=ule.offMethod,fle=dle.onMethod,gle=dle.offMethod;E.registerThirdErrorListener((e=>{ule.emit(e)})),E.registerThirdUnhandledRejectionListener(((e,t)=>{dle.emit({reason:e,promise:t})}));var vle=Ut("AppRouteResized"),mle=vle.internalOnMethod,yle=vle.internalOffMethod;Kt("onAppRouteResized",(e=>{"object"==typeof e&&null!==e&&kK(e),vle.emit({})}));var ble=Object.hasOwnProperty,_le=Ut("AppRouteNotFound"),wle=_le.onMethod,Ile=_le.offMethod,Sle=_le.emit,kle=(e,t)=>{v.info(`[rewriteRoute] (webviewId=${t}) ${e}`)},Cle={},Ele=(e,t)=>{var r=0;if(ble.call(e,"originalWebviewId")){var n;r=e.originalWebviewId,kle(`Found originalWebviewId=${r}`,t),null===(n=b.clientManager)||void 0===n||n.emit("clientIdChanged",r,t)}else{if(1!==Object.keys(Cle).length)return kle(`No originalWebviewId found and we have ${Object.keys(Cle).length} backup data, guess failed, cleaning backups and giving up`,t),Cle={},e;r=Object.keys(Cle)[0],kle(`No originalWebviewId found and guess it=${r}`,t)}var i=Cle[r];return delete Cle[r],["openType","wxMaterial","location","prerender"].forEach((t=>{e[t]=i[t]})),e},Ale=(e,{needHtmlSuffix:t})=>{var r=qd(e.replace(/\.html(\?|$)/i,(e=>e.slice(5))));if("/"===r[0]&&(r=r.slice(1)),!t)return r;var n=r.indexOf("?");return n<0&&(n=r.length),r.slice(0,n)+".html"+r.slice(n)},Tle=(e,t=0)=>{if(["dismissPip","navigateBack"].includes(e.openType))return{rewritten:!1,triggerNotFound:!1};if("rewriteRoute"===e.openType&&(e=Ele(e,t)),!e.notFound)return{rewritten:!1,triggerNotFound:!1};for(var r=!1,n=e.rawPath;/^[-_+a-z]+:\/\//i.test(n);){kle(`${n} has protocol, try rewriting`,t);try{n=Ale(n,{needHtmlSuffix:!0}),r=!0}catch(e){return E.reportIDKey({key:"pageNotFound",force:!0}),"AppServiceSdkKnownError"===e.type&&console.error(e.message),gu("pageNotFoundCallback",{hasHandler:!1,webviewId:t}),{rewritten:!1,triggerNotFound:!1}}}return r?(Cle[t]=e,kle(`rewriteRoute from "${e.rawPath}" to "${n}"`,t),gu("rewriteRoute",{url:n,webviewId:t,fail(e){"rewriteRoute:fail:not supported"===e.errMsg&&(kle(`rewriteRoute from "${e.rawPath}" to "${n}" not supported, fallback to redirectTo`,t),fI({url:n}))}}),{rewritten:!0,triggerNotFound:!1}):{rewritten:!1,triggerNotFound:!0}},Ple=Ut("PageNotFound"),xle=Ple.onMethod,Mle=Ple.offMethod,Rle={page:void 0,time:0,count:0};Tt("onPageNotFound",(()=>{v.info("Ignored onPageNotFound.")})),wle(((e,t=0)=>{v.info(`Page not found by onAppRoute.notFound, webviewId=${t}`),ul.lastRoute="","string"==typeof e.path&&e.path.endsWith(".html")&&(e.path=Md(e.path)),Rle.page&&Rle.page===e.path?Rle.count++:Rle={page:e.path,time:Date.now(),count:1};var r=!0;Date.now()-Rle.time<=3e3&&Rle.count>3?(r=!1,console.error(`onPageNotFound error: page "${e.path}" is not found.`)):Ple.emit(e);var n=Ple.getGlobalListeners().length>0&&r;n||E.thirdErrorReport({error:new Error(`onPageNotFound error: page "${e.path}" is not found.`),extend:" at onPageNotFound"}),gu("pageNotFoundCallback",{hasHandler:n,webviewId:t})}));var Dle=function(e,t,r){var n=z.global&&z.global.window&&z.global.window.restartStrategy,i=z.page&&z.page[e+".html"]&&z.page[e+".html"].window&&z.page[e+".html"].window.restartStrategy,a=String(i||n||"");if(a){var o={type:a,path:t,extraData:r?r.data:void 0,expireTimeStamp:(r?r.expireTimeStamp:0)||Date.now()+864e5};z.accountInfo.appId,bp("saveExitState",{appId:z.accountInfo.appId,data:o},[ul.currentWebviewId],(e=>{}))}},Ole=function(e){bp("loadExitState",{appId:z.accountInfo.appId},[ul.currentWebviewId],(t=>t&&t.expireTimeStamp>Date.now()?e(t.type,t.path,t.extraData):e()))},Lle=Ut("LazyLoadError"),Nle=Lle.onMethod,Ble=Lle.offMethod;Xc((()=>{Kc.onLazyLoadError((e=>{Lle.emit(e)}))}));var Fle=(e,t)=>{"number"==typeof t&&Kc.setLazyLoadTimeout(t),Nle(e)},Wle={};gr("media_banned",(e=>{var{index:t,permissionByte:r}=e;Wle[t]=r}));var jle=()=>Wle,Vle=[];function Ule(e,t){Vle.forEach((r=>{try{r(e,t)}catch(e){console.error(e)}}))}function $le(e){Vle.push(e)}var zle=null,qle=(e={})=>{if(xc("showAuthorize",e,{apply:""})){var t=z.accountInfo.nickname,r=z.accountInfo.icon,n=JSON.stringify({nickname:t,icon:r,apply:e.apply,overlay:e.overlay}),i=LT((e=>{[IT.BottomBackButton,IT.NavigationBackInterceptionType,IT.NavigateBackCall].includes(e.type)&&zle&&(zle.handleCancel(),zle=null)}));__sclEngine__.initScl((t=>{(zle=t.mainRoot.append("authorize",{input:n})).addListener("confirm",(()=>{NT(i),Oc({name:"showAuthorize",args:e})})),zle.addListener("cancel",(()=>{NT(i),Rc("showAuthorize",e,"cancel")}))}))}},Hle=["width","left"],Gle=new Map;function Kle({component:e,getVisibleAera:t}){Gle.has(e)||Gle.set(e,t)}function Jle(e){Gle.delete(e)}function Xle(){return[...Gle.entries()].map((([e,t])=>{var{width:r,height:n,left:i,top:a}=t(e);return{width:r,height:n,left:i,top:a}}))}function Yle({left:e,width:t}){return e+t}function Qle({top:e,height:t}){return e+t}function Zle(e,t){var r=Math.max(e.left,t.left),n=Math.max(r,Math.min(Yle(e),Yle(t))),i=Math.max(e.top,t.top),a=Math.max(i,Math.min(Qle(e),Qle(t)));return r!==n&&i!==a}function eue(e,t){var r;null!==(r=t)&&void 0!==r||(t=Xle());var n=t.findIndex((t=>Zle(t,e)));return-1!==n&&t[n]}Gle.set({},(()=>LK()));var tue=8;function rue({height:e,width:t,align:r="right",padding:n=tue}){for(var i,a=null!==(i=z.screenWidth)&&void 0!==i?i:375,o=a/2,s=Xle(),c=s.map((e=>{var{width:t,left:r}=e,n=dS()(e,Hle);return O()(O()({width:t,left:r},n),{},{align:t>o?"center":r<o?"left":"right"})})).filter((({align:e})=>r===e||"center"===e)).sort(((e,t)=>e.top-t.top)),l=c[c.length-1],u={height:e,width:t,left:"left"===r?0:a-t,top:l?l.height+l.top+n:0},d=eue(u,s);d;)u.top=d.top+d.height+n,d=eue(u,s);return u}var nue=null;function iue(e={},t){if(nue)return t&&t(nue);var{top:r}=rue({height:20,width:180,align:"right"}),{right:n}=LK(),i=z.screenWidth-n,a=JSON.stringify(e);__sclEngine__.initScl((e=>{Kle({component:nue=e.mainRoot.append("verify-tip",{top:r,right:i,info:a}),getVisibleAera:e=>e.__wxSlotChildren[0].__wxSlotChildren[0].childNodes[0].getBoundingClientRect()}),nue.addListener("destroy",(()=>{Jle(nue),nue=null})),t&&t(nue)}))}var aue=new Lp("Keyboard"),oue=new Lp("",!0),sue=new Set,cue=["onKeyboardInput","onKeyboardConfirm","onKeyboardComplete","onStoreEmoticonSelect","onKeyboardHeightChange"];function lue(e,t){aue.emit(e,t),oue.emit(e,t),sue.forEach((r=>{oue.emit(`${r}-${e}`,t)}))}cue.forEach((e=>{Kt(e,(t=>{lue(e,t)}))}));var uue=(e,t,r)=>{sue.add(e),oue.on(`${e}-${t}`,r)},due=(e,t,r)=>{oue.off(`${e}-${t}`,r)},pue=e=>oue.on("onKeyboardInput",e),hue=e=>oue.off("onKeyboardInput",e),fue=e=>oue.on("onKeyboardConfirm",e),gue=e=>oue.off("onKeyboardConfirm",e),vue=e=>t=>uue(e,"onKeyboardConfirm",t),mue=e=>t=>due(e,"onKeyboardConfirm",t),yue=e=>oue.on("onKeyboardComplete",e),bue=e=>oue.off("onKeyboardComplete",e),_ue=e=>t=>uue(e,"onKeyboardComplete",t),wue=e=>t=>due(e,"onKeyboardComplete",t),Iue=e=>aue.on("onKeyboardHeightChange",e),Sue=e=>aue.off("onKeyboardHeightChange",e),kue=e=>oue.on("onKeyboardHeightChange",e),Cue=e=>oue.off("onKeyboardHeightChange",e),Eue=e=>t=>uue(e,"onKeyboardHeightChange",t),Aue=e=>t=>due(e,"onKeyboardHeightChange",t),Tue=e=>aue.on("onStoreEmoticonSelect",e),Pue=e=>aue.off("onStoreEmoticonSelect",e),xue=null,Mue=!1,Rue="",Due=0,Oue=null,Lue=({value:e})=>{Rue&&xue.setData({[Rue]:e})},Nue=({value:e})=>{Mue=!1,Rue&&xue.setData({[Rue]:e})},Bue=({detail:e})=>{Rue===e.key&&Mue||(Rue=e.key,Mue?gu("hideKeyboard",{success:()=>{Mue=!1,setTimeout((()=>{gu("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===Rue?"identity":"text",style:{height:"50px"},success:()=>{Mue=!0}})}),800)}}):gu("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===Rue?"identity":"text",style:{height:"50px"},success(){Mue=!0,xue.setData({open:Mue,key:Rue})}}))},Fue=({height:e})=>{e<100?xue.setData({keyboardHeight:0}):xue.setData({keyboardHeight:e+50})};function Wue(e={},t){var r;if(clearInterval(Oue),Due=null!==(r=e.remainSeconds)&&void 0!==r?r:Due,Oue=setInterval((()=>{Due>0&&Due--}),1e3),xue)return t&&t(xue);__sclEngine__.initScl((r=>{xue=r.mainRoot.append("verify-modal",e),Kt("onKeyboardHeightChange",Fue),xue.addListener("destroy",(({detail:t})=>{xue=null,hue(Lue),gue(Nue),Yt("onKeyboardHeightChange",Fue),e.des&&e.des(null==t?void 0:t.reason),"success"===(null==t?void 0:t.reason)&&e.reportkv({UIArea:1511,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1})})),xue.addListener("click",Bue),xue.addListener("confirm",(({detail:t})=>(gu("hideKeyboard",{success:()=>{Mue=!1}}),e.confirm(O()(O()({},t),{},{showModal:(...e)=>xue.showModal(...e)}))))),xue.addListener("switchPage",(({detail:t})=>{Mue&&gu("hideKeyboard",{success:()=>{Mue=!1}});var{page:r}=t,n=e.half?1508:1507;"help"===r?n=1509:"fail"===r?n=1510:"succ"===r&&(n=1511),e.reportkv({UIArea:n,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1}),xue.setData(O()({},t))})),xue.addListener("close",(({detail:t})=>{!e.isSoftMode&&Due<=0?Bq():(xue.des(null==t?void 0:t.reason),"fail"===(null==t?void 0:t.reason)?e.reportkv({UIArea:1510,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1}):"cancel"===(null==t?void 0:t.reason)&&(gu("hideKeyboard",{success:()=>{Mue=!1}}),e.reportkv({UIArea:e.half?1508:1507,PositionID:3,ActionID:2,Status:e.isSoftMode?3:1})))})),xue.addListener("report",(({detail:t})=>{e.reportkv(t)})),pue(Lue),fue(Nue),t&&t(xue)}))}function jue(e,t,r,n=0){E.reportKeyValue({key:"Handoff",value:[z.appType+1e3,z.appLaunchInfo.scene,e,t,r,n,vg(),""].join(",")})}var Vue=e=>{gu("checkHandoffEnabled",e)},Uue=(e={})=>{var{path:t,fromButton:r}=e;r?Ph("handoff")?Vue({success({isEnabled:e,errCode:r}){e?(jue(2,2,2),qle({apply:"在电脑端微信打开小程序",success(){jue(2,2,1),gu("startHandoff",{path:t,actionId:2},{beforeSuccess:()=>jue(2,1,1),beforeFail:({errCode:e})=>jue(2,1,0,e)})},fail(){jue(2,2,0)}})):jue(2,1,0,r)}}):console.warn("startHandOff:fail no permission"):gu("startHandoff",{path:t,actionId:1},{beforeSuccess:()=>jue(1,1,1),beforeFail:({errCode:e})=>jue(1,1,0,e)})},$ue={appEvent:7,orientation:10,startEvent:11,stopEvent:12,customAttrEvent:13},zue={navigateTo:1,redirectTo:2,navigateBack:3,switchTab:4,appLaunch:5,reLaunch:6,autoReLaunch:7,appShow:20,appHide:21,initState:30,showModal:40,closeModal:41,showActionSheet:42,closeActionSheet:43,showToast:44,hideToast:45,onShareAppMessage:46,doShareAppMessage:47,onShareTimeline:48,doShareTimeline:49,keyBoardHeightChange:50,pageStaytime:60,weSession:80};function que(e){return{type:$ue.appEvent,data:e,timestamp:Date.now()}}function Hue(e,{method:t,headers:r,body:n}){return new Promise(((i,a)=>{Xb({url:e,method:t,header:r,data:null!=n&&n.buffer?n.buffer:n,success:i,fail:a})}))}function Gue(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Kue(){var e=JSON.parse(JSON.stringify(z));return delete e.appLaunchInfo.openId,e}var Jue="wxfile://__wxprivate__/obs",Xue=`${Jue}/meta.json`,Yue=Ru(qh),Que=Ru($h),Zue=Ru(Zh),ede=Ru(Gh);function tde(){return rde.apply(this,arguments)}function rde(){return(rde=cp()((function*(){try{yield Zue({path:Jue})}catch(e){try{yield ede({dirPath:Jue,recursive:!0})}catch(e){}}try{var e,t,r;try{t=(t=yield Que({filePath:Xue,encoding:"utf-8"})).data}catch(e){}if(t&&(t=JSON.parse(t)),null!==(e=t)&&void 0!==e&&e.userIdentifier)return null===(r=t)||void 0===r?void 0:r.userIdentifier}catch(e){}var n={userIdentifier:Gue()};return Yue({filePath:Xue,data:JSON.stringify(n)}),n.userIdentifier}))).apply(this,arguments)}var nde=2,ide=4,ade=4,ode=1;function sde(){var e=new Uint8Array(nde);new DataView(e.buffer).setUint16(0,ode)}function cde(e,t){var r=ude(e),n=new Uint8Array(ide+r.length+ade+t.length),i=new DataView(n.buffer);return i.setInt32(0,r.length),n.set(r,ide),i.setInt32(ide+r.length,t.length),n.set(t,ide+r.length+ade),n}function lde(e,t){var r=0,n=e?nde:0,i=[];for(var a of t){var o=ude(a[0]);i.push([o,a[1]]),n+=o.length+a[1].length+ide+ade}var s=new Uint8Array(n),c=new DataView(s.buffer);for(var[l,u]of(e&&(c.setInt16(0,ode),r+=nde),i))c.setInt32(r,l.length),r+=ide,s.set(l,r),r+=l.length,c.setInt32(r,u.length),r+=ade,s.set(u,r);return s}function ude(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}var dde=l(41),pde=l.n(dde),hde={},fde;function gde(e){var t=JSON.stringify(e);if(hde[t]){if(hde[t].expireTs>Date.now())return hde[t].authorization;delete hde[t]}var r=Math.round(Date.now()/1e3),n=r+3600,i=`${r};${n}`,a=pde().HmacSHA1(i,e.secretKey).toString(),o=[];for(var s of Object.keys(e.query)){var c=e.query[s]?encodeURIComponent(e.query[s]):"";o.push([encodeURIComponent(s).toLowerCase(),c])}o.sort(((e,t)=>e[0]===t[0]?0:e[0]>t[0]?1:-1));var l=o.map((e=>e[0])).join(";"),u=o.map((e=>`${e[0]}=${e[1]}`)).join("&"),d=[];d.push([encodeURIComponent("host"),encodeURIComponent(e.headers.host)]);var p=d.map((e=>e[0])).join(";"),h=d.map((e=>`${e[0]}=${e[1]}`)).join("&"),f=`${e.method.toLowerCase()}\n${e.pathname}\n${u}\n${h}\n`,g=["sha1",i,pde().SHA1(f).toString(),""].join("\n"),v=pde().HmacSHA1(g,a).toString(),m=["q-sign-algorithm=sha1","q-ak="+e.secretId,"q-sign-time="+i,"q-key-time="+i,"q-header-list="+p,"q-url-param-list="+l,"q-signature="+v].join("&");return hde[t]={authorization:m,expireTs:1e3*n},m}function vde(e){fde=e}function mde(e){return yde.apply(this,arguments)}function yde(){return yde=cp()((function*(e){try{var t=`${fde.bucket}.cos.${fde.region}.myqcloud.com`,r=gde({secretId:fde.secretid,secretKey:fde.secretkey,method:"post",pathname:`/${e.key}`,query:{append:"",position:e.position+""},headers:{host:t}}),n=yield Hue(`https://${t}/${e.key}?append&position=${e.position}`,{method:"POST",headers:{authorization:r,"x-cos-security-token":fde.token},body:e.body});if(n.status<300){var i={};for(var a of Object.keys(n.header))i[a.toLowerCase()]=n.header[a];return{status:n.status,headers:i}}throw new Error(`appendObject status ${n.status} ${JSON.stringify(n)}`)}catch(e){throw new Error(`appendObject fetch fail ${e}`)}})),yde.apply(this,arguments)}function bde(e){return _de.apply(this,arguments)}function _de(){return _de=_asyncToGenerator((function*(e){try{var t=`${fde.bucket}.cos.${fde.region}.myqcloud.com`,r=sign({secretId:fde.secretid,secretKey:fde.secretkey,method:"put",pathname:`/${e.key}`,query:{},headers:{host:t}}),n=yield fetch(`https://${t}/${e.key}`,{method:"PUT",headers:{authorization:r,"x-cos-security-token":fde.token},body:e.body});if(n.statusCode<300){var i={};for(var a of Object.keys(n.header))i[a.toLowerCase()]=n.header[a];return{status:n.statusCode,headers:i}}throw new Error(`putObject status ${n.status} ${JSON.stringify(n)}`)}catch(e){throw new Error(`putObject fetch fail ${e}`)}})),_de.apply(this,arguments)}function wde(e){return Ide.apply(this,arguments)}function Ide(){return Ide=cp()((function*(e){try{var t=`${fde.bucket}.cos.${fde.region}.myqcloud.com`,r=gde({secretId:fde.secretid,secretKey:fde.secretkey,method:"head",pathname:`/${e.key}`,query:{},headers:{host:t}}),n=yield Hue(`https://${t}/${e.key}`,{method:"HEAD",headers:{authorization:r,"x-cos-security-token":fde.token}});if(404===n.statusCode)return null;if(n.statusCode>=400)throw new Error(`headObject status ${n.status} ${JSON.stringify(n)}`);var i={};for(var a of Object.keys(n.header))i[a.toLowerCase()]=n.header[a];return{status:n.statusCode,headers:i}}catch(e){throw new Error(`headObject fetch fail ${JSON.stringify(e)}`)}})),Ide.apply(this,arguments)}var Sde={Raw:"0",Compressed:"1.0",CompressedAndAesCbc:"2.0"};function kde(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}var Cde=[],Ede=function(e){};function Ade(){try{var e=new MessageChannel,t=e.port1,r=e.port2;t.onmessage=function(){if(Cde.length>0){var e=Cde.shift();e&&e()}},Ede=function(e){Cde.push(e),r.postMessage(null)}}catch(e){}}Ade();var Tde=Uint8Array,Pde=Uint16Array,xde=Uint32Array,Mde=new Tde([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Rde=new Tde([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Dde=new Tde([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ode=function(e,t){for(var r=new Pde(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new xde(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},Lde=kde(Ode(Mde,2),2),Nde=Lde[0],Bde=Lde[1];Nde[28]=258,Bde[258]=28;var Fde=kde(Ode(Rde,0),2);Fde[0];for(var Wde=Fde[1],jde=new Pde(32768),Vde=0;Vde<32768;++Vde){var Ude=(43690&Vde)>>>1|(21845&Vde)<<1;Ude=(52428&Ude)>>>2|(13107&Ude)<<2,Ude=(61680&Ude)>>>4|(3855&Ude)<<4,jde[Vde]=((65280&Ude)>>>8|(255&Ude)<<8)>>>1}for(var $de=function(e,t,r){for(var n=e.length,i=0,a=new Pde(t);i<n;++i)e[i]&&++a[e[i]-1];var o,s=new Pde(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(r){o=new Pde(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var l=i<<4|e[i],u=t-e[i],d=s[e[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)o[jde[d]>>>c]=l}else for(o=new Pde(n),i=0;i<n;++i)e[i]&&(o[i]=jde[s[e[i]-1]++]>>>15-e[i]);return o},zde=new Tde(288),Vde=0;Vde<144;++Vde)zde[Vde]=8;for(var Vde=144;Vde<256;++Vde)zde[Vde]=9;for(var Vde=256;Vde<280;++Vde)zde[Vde]=7;for(var Vde=280;Vde<288;++Vde)zde[Vde]=8;for(var qde=new Tde(32),Vde=0;Vde<32;++Vde)qde[Vde]=5;var Hde=$de(zde,9,0);$de(zde,9,1);var Gde=$de(qde,5,0);$de(qde,5,1);var Kde=function(e){return(e+7)/8|0},Jde=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?Pde:4==e.BYTES_PER_ELEMENT?xde:Tde)(r-t);return n.set(e.subarray(t,r)),n},Xde=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Yde=function(e,t,r){var n=new Error(t||Xde[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Yde),!r)throw n;return n},Qde=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},Zde=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},epe=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[spe,0];if(1==i){var o=new Tde(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],c=r[1],l=0,u=1,d=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=r[r[l].f<r[d].f?l++:d++],c=r[l!=u&&r[l].f<r[d].f?l++:d++],r[u++]={s:-1,f:s.f+c.f,l:s,r:c};var p=a[0].s;for(n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new Pde(p+1),f=tpe(r[u-1],h,0);if(f>t){n=0;var g=0,v=f-t,m=1<<v;for(a.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));n<i;++n){var y=a[n].s;if(!(h[y]>t))break;g+=m-(1<<f-h[y]),h[y]=t}for(g>>>=v;g>0;){var b=a[n].s;h[b]<t?g-=1<<t-h[b]++-1:++n}for(;n>=0&&g;--n){var _=a[n].s;h[_]==t&&(--h[_],++g)}f=t}return[new Tde(h),f]},tpe=function(e,t,r){return-1==e.s?Math.max(tpe(e.l,t,r+1),tpe(e.r,t,r+1)):t[e.s]=r},rpe=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Pde(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[r.subarray(0,n),t]},npe=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},ipe=function(e,t,r){var n=r.length,i=Kde(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},ape=function(e,t,r,n,i,a,o,s,c,l,u){Qde(t,u++,r),++i[256];for(var d=kde(epe(i,15),2),p=d[0],h=d[1],f=kde(epe(a,15),2),g=f[0],v=f[1],m=kde(rpe(p),2),y=m[0],b=m[1],_=kde(rpe(g),2),w=_[0],I=_[1],S=new Pde(19),k=0;k<y.length;++k)S[31&y[k]]++;for(k=0;k<w.length;++k)S[31&w[k]]++;for(var C=kde(epe(S,7),2),E=C[0],A=C[1],T=19;T>4&&!E[Dde[T-1]];--T);var P,x,M,R,D=l+5<<3,O=npe(i,zde)+npe(a,qde)+o,L=npe(i,p)+npe(a,g)+o+14+3*T+npe(S,E)+(2*S[16]+3*S[17]+7*S[18]);if(D<=O&&D<=L)return ipe(t,u,e.subarray(c,c+l));if(Qde(t,u,1+(L<O)),u+=2,L<O){P=$de(p,h,0),x=p,M=$de(g,v,0),R=g;var N=$de(E,A,0);Qde(t,u,b-257),Qde(t,u+5,I-1),Qde(t,u+10,T-4),u+=14;for(k=0;k<T;++k)Qde(t,u+3*k,E[Dde[k]]);u+=3*T;for(var B=[y,w],F=0;F<2;++F){var W=B[F];for(k=0;k<W.length;++k){var j=31&W[k];Qde(t,u,N[j]),u+=E[j],j>15&&(Qde(t,u,W[k]>>>5&127),u+=W[k]>>>12)}}}else P=Hde,x=zde,M=Gde,R=qde;for(k=0;k<s;++k)if(n[k]>255){j=n[k]>>>18&31;Zde(t,u,P[j+257]),u+=x[j+257],j>7&&(Qde(t,u,n[k]>>>23&31),u+=Mde[j]);var V=31&n[k];Zde(t,u,M[V]),u+=R[V],V>3&&(Zde(t,u,n[k]>>>5&8191),u+=Rde[V])}else Zde(t,u,P[n[k]]),u+=x[n[k]];return Zde(t,u,P[256]),u+x[256]},ope=new xde([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),spe=new Tde(0),cpe=function(e,t,r,n,i,a){var o=e.length,s=new Tde(n+o+5*(1+Math.ceil(o/7e3))+i),c=s.subarray(n,s.length-i),l=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d>=o&&(c[l>>3]=a),l=ipe(c,l+1,e.subarray(u,d))}else{for(var p=ope[t-1],h=p>>>13,f=8191&p,g=(1<<r)-1,v=new Pde(32768),m=new Pde(g+1),y=Math.ceil(r/3),b=2*y,_=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&g},w=new xde(25e3),I=new Pde(288),S=new Pde(32),k=0,C=0,E=(u=0,0),A=0,T=0;u<o;++u){var P=_(u),x=32767&u,M=m[P];if(v[x]=M,m[P]=x,A<=u){var R=o-u;if((k>7e3||E>24576)&&R>423){l=ape(e,c,0,w,I,S,C,E,T,u-T,l),E=k=C=0,T=u;for(var D=0;D<286;++D)I[D]=0;for(D=0;D<30;++D)S[D]=0}var O=2,L=0,N=f,B=x-M&32767;if(R>2&&P==_(u-B))for(var F=Math.min(h,R)-1,W=Math.min(32767,u),j=Math.min(258,R);B<=W&&--N&&x!=M;){if(e[u+O]==e[u+O-B]){for(var V=0;V<j&&e[u+V]==e[u+V-B];++V);if(V>O){if(O=V,L=B,V>F)break;var U=Math.min(B,V-2),$=0;for(D=0;D<U;++D){var z=u-B+D+32768&32767,q=z-v[z]+32768&32767;q>$&&($=q,M=z)}}}B+=(x=M)-(M=v[x])+32768&32767}if(L){w[E++]=268435456|Bde[O]<<18|Wde[L];var H=31&Bde[O],G=31&Wde[L];C+=Mde[H]+Rde[G],++I[257+H],++S[G],A=u+O,++k}else w[E++]=e[u],++I[e[u]]}}l=ape(e,c,a,w,I,S,C,E,T,u-T,l),!a&&7&l&&(l=ipe(c,l+1,spe))}return Jde(s,0,n+Kde(l)+i)};!function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}}();var lpe=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=0|r.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}},upe=function(e,t,r,n,i){return cpe(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},dpe=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ppe=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)};function hpe(e,t){t||(t={});var r=lpe();r.p(e);var n=upe(e,t,2,4);return ppe(n,t),dpe(n,n.length-4,r.d()),n}var fpe="undefined"!=typeof TextEncoder&&new TextEncoder,gpe="undefined"!=typeof TextDecoder&&new TextDecoder,vpe=0;try{gpe.decode(spe,{stream:!0}),vpe=1}catch(e){}var mpe=function(e){for(var t="",r=0;;){var n=e[r++],i=(n>127)+(n>223)+(n>239);if(r+i>e.length)return[t,Jde(e,r-1)];i?3==i?(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&i?String.fromCharCode((31&n)<<6|63&e[r++]):String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(n)}};function ype(e,t){if(t){for(var r=new Tde(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(fpe)return fpe.encode(e);var i=e.length,a=new Tde(e.length+(e.length>>1)),o=0,s=function(e){a[o++]=e};for(n=0;n<i;++n){if(o+5>a.length){var c=new Tde(o+8+(i-n<<1));c.set(a),a=c}var l=e.charCodeAt(n);l<128||t?s(l):l<2048?(s(192|l>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++n))>>18),s(128|l>>12&63),s(128|l>>6&63),s(128|63&l)):(s(224|l>>12),s(128|l>>6&63),s(128|63&l))}return Jde(a,0,o)}function bpe(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}if(gpe)return gpe.decode(e);var i=kde(mpe(e),2),a=i[0];return i[1].length&&Yde(8),a}var _pe={};function wpe(e,t){return Ipe.apply(this,arguments)}function Ipe(){return Ipe=cp()((function*(e,t){var r=null!=t?t:Xpe(),{recorderParams:n,events:i,pending:a}=e;if(!a&&0!==i.length){var{sdkVersion:o,projectId:s,uuid:c}=n;i.length;var l=[...i];i.splice(0,i.length),e.pending=!0;var u={record:{uuid:c,event:JSON.stringify(l),path:"",projectKey:s,sdkVersion:o,timestamp:Date.now(),weSessionId:r}},d=JSON.stringify(u),p=!1,h=!1;if(n.compress)try{d=hpe(ype(d)),p=!0}catch(e){n.compress=!1}if(p&&n.encrypt)try{var f={data:Array.from(d),useBinary:!0,isArrayData:!0,tokenInfo:{encryptKeyBytes:Array.from(ype(n.encrypt.key)),ivBytes:Array.from(ype(n.encrypt.iv))}};d=new Uint8Array(yield tm().runTask("aesEncrypt",f)),h=!0}catch(e){}try{yield Spe(d,e,{encryped:h,compressed:p})}catch(e){}try{yield Cpe(d,e,{encryped:h,compressed:p}),e.pending=!1}catch(t){e.pending=!1,i.unshift(...l),JSON.stringify(t)}}})),Ipe.apply(this,arguments)}function Spe(e,t,r){return kpe.apply(this,arguments)}function kpe(){return kpe=cp()((function*(e,t,{encryped:r,compressed:n}){var i,{recorderParams:a}=t,{projectId:o,uuid:s}=a,c=`${o}/${s}-appservice`,l=_pe[s];if(!l){var u=yield wde({key:c});l=u?Number(u.headers["content-length"]||0):0}var d=r?`encrypt:${a.encrypt.version}`:"raw:1";i=lde(0===l,[[d,e]]),e.length,i.length;try{var p=yield mde({key:c,headers:{"Content-Type":"application/octet-stream"},body:i,position:l}),h=p.headers["x-cos-next-append-position"];h&&(_pe[s]=Number(h))}catch(e){}})),kpe.apply(this,arguments)}function Cpe(e,t,r){return Epe.apply(this,arguments)}function Epe(){return Epe=cp()((function*(e,t,{encryped:r,compressed:n}){var{recorderParams:i}=t,{sdkVersion:a}=i;return yield Hue(i.url,{method:"POST",headers:{"x-wx-ob-env":"appservice","x-wx-ob-sdkversion":a||"","x-wx-ob-pack-version":r?Sde.CompressedAndAesCbc:n?Sde.Compressed:Sde.Raw,"x-wx-ob-project-key":t.recorderParams.projectId},body:e})})),Epe.apply(this,arguments)}var Ape=!1,Tpe=null,Ppe={uuid:null,projectId:null,unloadedWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",cosInfo:{bucket:null,region:null,secretid:null,secretkey:null,token:null,prefix:null}},xpe=e=>{},Mpe=[],Rpe=null,Dpe=e=>{if(!Gpe()&&"string"==typeof e.projectId&&""!==e.projectId){(Ppe=Object.assign(Ppe,e)).sdkVersion=D$().version||"";Rpe={recorderParams:Ppe,events:[],pending:!1},vde(Ppe.cosInfo),xpe=e=>{Ape&&Rpe.events.push(e)},Ppe.autoStart&&Ope(),qpe(Rpe),Wpe(Rpe),zpe(Rpe),setInterval(wpe.bind(null,Rpe),De()?1e3:5e3)}},Ope=()=>{if(Gpe()&&!Ape){Ape=!0;var e=Bpe();xpe({timestamp:Date.now(),type:$ue.startEvent,data:{webviews:ul.getWebviewIds(),shouldCapture:e}})}},Lpe=()=>{null!==Ppe.uuid&&(xpe({timestamp:Date.now(),type:$ue.stopEvent,data:{}}),Ape=!1,Fpe())};function Npe(e){if(Ape){Ppe.unloadedWebviewIds.push(e);var t=Mpe.indexOf(e);t>=0&&Mpe.splice(t,1),Ppe.reporter===e&&(Mpe.length?Ppe.reporter=Mpe[0]:Ppe.reporter=void 0)}}function Bpe(){var e=ul.currentWebviewId;return!!(Ape&&Mpe.indexOf(e)<0&&Rpe.recorderParams.shouldCapturePage(ul.lastRoute,ul.query))&&(Mpe.push(e),void 0===Ppe.reporter&&(Ppe.reporter=e),bp("recordUserBehavior",Ppe,[e],(()=>f.info("[wxobs appservice] trigger recordUserBehavior"))),!0)}function Fpe(){bp("stopRecordUserBehavior",Ppe,Mpe,(()=>f.info("[wxobs appservice] trigger stop all webview recordUserBehavior"))),Mpe=[]}function Wpe(e){var{events:t}=e;XC(function(){var e=cp()((function*(e,r){Ape&&Object.keys(zue).includes(e)&&t.push(que({type:zue[e],payload:r}))}));return function(t,r){return e.apply(this,arguments)}}())}function jpe(e,t){return Vpe.apply(this,arguments)}function Vpe(){return(Vpe=cp()((function*(e,t){Ape&&Object.keys(zue).includes(e)&&xpe(que({type:zue[e],payload:t}))}))).apply(this,arguments)}function Upe(e){return $pe.apply(this,arguments)}function $pe(){return $pe=cp()((function*(e){Ape&&xpe({type:$ue.customAttrEvent,timestamp:Date.now(),data:e})})),$pe.apply(this,arguments)}function zpe(e){var{events:t}=e,[r,n]=[0,Date.now()];XS((e=>{var r,n=Bpe();Ppe.unloadedWebviewIds.length>0&&(bp("uploadEventsFromClosedWebview",Ppe),Ppe.unloadedWebviewIds=[]),zue[e.openType]&&t.push(que({type:zue[e.openType],path:e.path,webviewId:e.webviewId,query:e.query,pageConfig:null===(r=z.page)||void 0===r?void 0:r[e.path],shouldCapture:n}))})),Kt("onKeyboardHeightChange",((e,r=0)=>{Ape&&t.push(que({type:zue.keyBoardHeightChange,payload:e}))})),rk((e=>{r+=Date.now()-n;var i=O()(O()({type:zue.appShow},e),{},{inactiveTime:r});delete i.shareTicket,setTimeout((()=>{t.push(que(i))}),0)})),mk((()=>{n=Date.now(),t.push(que({type:zue.appHide})),wpe(e)}))}function qpe(e){return Hpe.apply(this,arguments)}function Hpe(){return Hpe=cp()((function*(e){var{events:t}=e;t.push(que({type:zue.initState,launchOptions:FO(),config:Kue(),identifier:yield tde()})),De()&&wpe(e)})),Hpe.apply(this,arguments)}var Gpe=()=>null!==Ppe.uuid;function Kpe(e){return Jpe.apply(this,arguments)}function Jpe(){return(Jpe=cp()((function*(e){Ape&&2===e.event_id&&xpe(que({type:zue.pageStaytime,path:e.pagepath.replace(".html",""),query:e.query,staytime:e.staytime})),e.sessionid!==Tpe&&Ape&&wpe(Rpe,Tpe),Tpe=e.sessionid}))).apply(this,arguments)}var Xpe=()=>Tpe,Ype=(e,t)=>{gu("getAppConfig",e,t)},Qpe=function(e){Tt("onAppConfig",e)},Zpe=function(e){Tt("onPullDownRefresh",e)},ehe=function(e){Tt("onShareAppMessage",e)},the=function(e){Tt("onAddToFavorites",e)},rhe=function(e){Tt("onStartHandoff",e)},nhe=(e,t)=>{gu("addToFavorites",e,t)},ihe=function(e){Tt("onTabItemTap",e)},ahe=(e,t)=>{lr("analyticsConfig",e,t)},ohe=(e,t)=>{gu("reportRealtimeAction",e,t)},she=(e,t)=>{gu("shareAppMessage",e,t)},che=(e,t)=>{gu("shareAppMessageDirectly",e,t)},lhe=(e,t)=>{gu("shareAppMessageToSpecificContactDirectly",e,t)},uhe=(e,t)=>{gu("shareAppMessageForFakeNative",e,t)},dhe=(e,t)=>{gu("shareAppMessageToSpecificContactForFakeNativeDirectly",e,t)},phe=(e,t)=>{gu("checkHandoffEnabled",e,t)},hhe=e=>{gr("analyticsReport",e)},fhe=e=>{gr("recycleStatistics",e)},ghe=e=>{gr("savePageState",e)},vhe=e=>{gr("tapShareButton",e)},mhe=e=>{gr("tapHandoffButton",e)},yhe=e=>{gr("tapShareTimeLineButton",e)},bhe=(e,t)=>{gu("showUpdatableMessageSubscribeButton",e,t)},_he=e=>Tt("onShareTimeline",e),whe=(e,t)=>gu("shareTimeline",e,t),Ihe=e=>gu("showShareTimelineMenu",e),She=QH,khe=xx,Che=Px,Ehe=fS,Ahe=PI,The=xI,Phe=function(e){TI.call(this,e)},xhe=VG,Mhe=(e,t)=>{lr("functionalPage",e,t)},Rhe=(e,t)=>{lr("pageScrollTo",e,t)},Dhe=(e,t)=>{lr("telecontrol",e,t)},Ohe=(e,t)=>{lr("__updateAppData",e,t)},Lhe=e=>{gr("subjectChangeInfo",e)},Nhe=e=>{Xu({apiName:"webapi_report_data",reqData:e})},Bhe=(e,t={})=>{Xu(O()({apiName:"webapi_reportwxacityservicescreenshot",reqData:O()({report_type:2},e)},t))},Fhe=e=>{gr("vdCallComponentMethodForWxs",e)},Whe=(...e)=>Xm("ad")===Gm.uninjected?[]:ADSDK.getPreloadAdUnitIds(...e),jhe=()=>z.subPackages||z.subpackages,Vhe=Symbol("Cache"),Uhe={OFF:0,ON:1,UNKNOWN:2},$he={WEAK_NETWORK:"weakNetwork",ALWAYS:"always",NONE:"none"},zhe=["ALL","GET","POST","PATCH","PUT","DELETE"],qhe=6048e5,Hhe=2592e6,Ghe={JS_AUTHORIZE:1157,JS_AUTHORIZE_CONFIRM:1158,JS_OPERATE_WX_DATA:1133},Khe=["login","checkSession","getSetting"],Jhe={ENTER_WEAK_NETWORK:1,EXIT_WEAK_NETWORK:2,REQUEST:3,EXIT_MINIPROGRAM:4,USE_CACHE_MANAGER:5,CACHE_MATCH:6,ENTER_WEAK_NETWORK_4_OLD:7,EXIT_WEAK_NETWORK_4_OLD:8,REQUEST_4_OLD:9,EXIT_MINIPROGRAM_4_OLD:10,PROXY_AUTHORIZE:11,PROXY_OPERATE_WX_DATA:12,PROXY_AUTHORIZE_SUCCESS:13,CALL_CONTAINER:20,ACCESS:30,PREDICT:31},Xhe=l(308),Yhe=l.n(Xhe),Qhe=Object.prototype.hasOwnProperty;function Zhe(e,t){Object.keys(e).forEach((r=>{var n=e[r];n instanceof RegExp?t[r]=n.toString():"object"==typeof n&&null!==n?(t[r]={},Zhe(n,t[r])):t[r]=n}))}function efe(e){var t={};return Zhe(e,t),Yhe()(JSON.stringify(t))}function tfe({url:e,method:t,data:r=""}){return r&&(r=JSON.stringify(r)),`${t}-${e}-${r}`}function rfe(e,t){return Yhe()(`${e}|${t}`)}function nfe(e){return Yhe()("string"==typeof e?e:JSON.stringify(e))}function ife(e){if(e){var t=e.split("/"),r=[],n=t.map((e=>":"===e[0]?(r.push(e),"(\\w+)"):e)).join("/");return{params:r,regExp:new RegExp(`^${n}$`,"ig")}}}function afe(e){if(e)return Object.keys(e).map((t=>({key:t,value:e[t]})))}function ofe(e,t,r,n){if(void 0!==t){if("function"==typeof t)return t(r);if(t instanceof RegExp)return r=null==r?"":r.toString(),t.test(r);if("object"===e)return lfe(t,r,n);if(r!==t)return!1}return!0}function sfe(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===e?e:"object"===t?{}:void 0}function cfe({type:e="any",value:t},r,n,i){var a,o=-1!==e.indexOf("[]"),s=Array.isArray(n);if(e=e.replace("[]",""),o&&!s)return!1;if(o&&"any"!==e){a=typeof n[0];for(var c=1,l=n.length;c<l;c++)if(typeof n[c]!==a)return!1}else a=typeof n;var u=o?n[0]:n;if("any"!==e)switch(e){case"string":case"number":case"boolean":if(a!==e)return!1;break;case"null":if(null!==u)return!1;break;case"object":if(a!==e||Array.isArray(u)||null===u)return!1}if(o){i[r]=[];for(var d=0,p=n.length;d<p;d++){var h=sfe(n[d]);if(!ofe(e,t,n[d],h))return!1;i[r].push(h)}}else{var f=sfe(n);if(!ofe(e,t,n,f))return!1;i[r]=f}return!0}function lfe(e,t,r){if(!Array.isArray(e))return!1;for(var n=0,i=e.length;n<i;n++){var{name:a,schema:o}=e[n];if(a&&o){if(!Qhe.call(t,a))return!1;var s=t[a];if(Array.isArray(o)){for(var c=!1,l=0,u=o.length;l<u;l++){if(c=cfe(o[l],a,s,r))break}if(!c)return!1}else if("object"==typeof o&&!cfe(o,a,s,r))return!1}}return!0}function ufe(){var e=null,t=null,r=r=>{if(e){for(var n=e;n.next&&n.time<r.time;)n=n.next;n.next?n.time>=r.time&&(r.next=n,r.prev=n.prev,n.prev&&(n.prev.next=r),n.prev=r,n===e&&(e=r)):(n.next=r,r.prev=n,r.next=null,t=r)}else e=r,t=r},n=r=>{var n=(t=>{if(e)for(var r=e;r;){if(r.key===t)return r;r=r.next}})(r);if(n){var{prev:i,next:a}=n;return i&&(i.next=a),a&&(a.prev=i),n===e&&(e=a),n===t&&(t=i),n.prev=n.next=null,n}};return{addMap:e=>{for(var t=Object.keys(e),n=0,i=t.length;n<i;n++){var a=t[n];r({key:a,time:e[a][1]})}},add:(r,i)=>{var a=n(r)||{key:r};a.time=i,e?(t.next=a,a.prev=t,t=a):(e=a,t=a)},del:n,each:t=>{if(e)for(var r=e;r;)t(r.key),r=r.next},eliminate:r=>{for(var n=[];e&&r;)n.push(e.key),e=e.next,r--;return e?e.prev=null:t=null,n}}}var dfe=c0.cache,pfe=ufe(),hfe={};function ffe(e,t,r){pfe.add(t,r),hfe[t]=[e,r],dfe.setStorage({key:"cache|meta",data:hfe})}function gfe(e,t){var r=rfe(e,t);dfe.removeStorage({key:r,success(){pfe.del(r),delete hfe[r],dfe.setStorage({key:"cache|meta",data:hfe})}})}function vfe(e,t){var r=e.length,n=0,i=()=>{++n>=r&&(dfe.setStorage({key:"cache|meta",data:hfe}),t&&t())};e.forEach((e=>{dfe.removeStorage({key:e,success(){pfe.del(e),delete hfe[e],i()},fail:i})}))}function mfe(e){var t=[];pfe.each((r=>{hfe[r][0]===e&&t.push(r)})),t&&t.length&&vfe(t)}function yfe(e){dfe.getStorageInfo({success(t){var{keys:r,currentSize:n,limitSize:i}=t;if(r.length>100||n>.66*i){var a=pfe.eliminate(5);a.length?vfe(a,e):e()}else e()}})}function bfe(e,t,r,n){dfe.setStorage({key:t,data:r,success:()=>ffe(e,t,n)})}function _fe(e,t){var r=Date.now(),n=e.rule.id,i=tfe(e),a=rfe(n,i);yfe((()=>bfe(n,a,t,r)))}function wfe(e){var t=e.rule.id,r=tfe(e),n=rfe(t,r);try{var i=dfe.getStorageSync(n);if(i){var a=Date.now(),o=e.rule.maxAge;if(a-i.ts<o)return ffe(t,n,a),O()({cacheId:r},i);dfe.removeStorage({key:n,success:()=>gfe(t,r)})}else dfe.removeStorage({key:n})}catch(e){}return null}function Ife(e,t={},r,n){var i=`cache|${e}`;t=nfe(t),yfe((()=>{dfe.setStorage({key:i,data:{args:t,data:r,expire:n}})}))}function Sfe(e,t){var r=`cache|${e}`;t=nfe(t);try{var n=dfe.getStorageSync(r);return!n||n.args!==t||Date.now()>n.expire?void dfe.removeStorage({key:r}):n.data}catch(e){}return null}z.onReady((()=>{dfe.getStorage({key:"cache|meta",success:e=>{e&&(hfe=e.data,pfe.addMap(hfe)),dfe.getStorageInfo({success(e){e.keys.forEach((e=>{0!==e.indexOf("cache|")&&(hfe[e]||dfe.removeStorage({key:e}))}))}})}})}));var kfe=!1,Cfe=!1,Efe=0,Afe=!1,Tfe="",Pfe=0,xfe=0,Mfe=0,Rfe=[Jhe.ENTER_WEAK_NETWORK_4_OLD,Jhe.EXIT_WEAK_NETWORK_4_OLD,Jhe.REQUEST_4_OLD,Jhe.EXIT_MINIPROGRAM_4_OLD],Dfe=[Jhe.ENTER_WEAK_NETWORK,Jhe.EXIT_WEAK_NETWORK,Jhe.EXIT_MINIPROGRAM,Jhe.ENTER_WEAK_NETWORK_4_OLD,Jhe.EXIT_WEAK_NETWORK_4_OLD,Jhe.EXIT_MINIPROGRAM_4_OLD],Ofe=!1,Lfe=0,Nfe=!1;function Bfe(){var e=J7(j7.AppRoute_Begin);return{fr:J7(j7.Real_Init_Ready)-e,fp:J7(j7.FP)-e,fcp:J7(j7.FCP)-e}}function Ffe(e){Cfe||(Efe=Date.now(),Cfe=!0,!Afe&&Efe-Pfe<5e3&&(Afe=!0),Vfe(Jhe.ENTER_WEAK_NETWORK,e))}function Wfe(e){Cfe&&(Cfe=!1,Vfe(Jhe.EXIT_WEAK_NETWORK,e,{duration:Date.now()-Efe}))}function jfe(){Cfe&&Vfe(Jhe.EXIT_MINIPROGRAM,null,{duration:Date.now()-Efe}),Ofe&&Vfe(Jhe.EXIT_MINIPROGRAM_4_OLD,null,{duration:Date.now()-Lfe})}XS(((e={})=>{Pfe=Date.now(),Afe=Cfe,Nfe=Ofe,Tfe=e.path||e.rawPath||""})),mk(((e={})=>{3===e.targetAction&&jfe(),kfe&&(Vfe(Jhe.CACHE_MATCH,null,{matchCount:xfe,matchSuccessCount:Mfe}),xfe=0,Mfe=0)}));var Vfe=function(){var e=cp()((function*(e,t,{isSuccess:r=!1,costTime:n=0,duration:i=0,matchCount:a=0,matchSuccessCount:o=0,extra1:s}={}){t=t||vg()||"";var c={},l=yield Z7;-1!==Dfe.indexOf(e)&&(c=Bfe());var u=-1!==Rfe.indexOf(e),d=u?Nfe:Afe,p=[t,0,(u?Ofe:Cfe)?1:0,e,encodeURIComponent(Tfe),i,r?1:0,n,d?1:0,c.fr||0,c.fp||0,c.fcp||0,(null==l?void 0:l.duration)||0,a,o,s||""].join(",");E.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:p})}));return function(t,r){return e.apply(this,arguments)}}();function Ufe(e){if(Cfe||Ofe){var{url:t,complete:r}=e,n=Date.now();e.complete=e=>{r&&"function"==typeof r&&r(e);var i=e.errMsg||"",a=encodeURIComponent(t||"");Cfe&&Vfe(Jhe.REQUEST,null,{isSuccess:-1!==i.indexOf("ok"),costTime:Date.now()-n,extra1:a}),Ofe&&Vfe(Jhe.REQUEST_4_OLD,null,{isSuccess:-1!==i.indexOf("ok"),costTime:Date.now()-n,extra1:a})}}}function $fe(e){Cfe&&Vfe(Jhe.CALL_CONTAINER,null,e)}function zfe(){kfe=!0,Vfe(Jhe.USE_CACHE_MANAGER)}function qfe(e){xfe++,e&&Mfe++}function Hfe(e,t){Vfe(e,null,{extra1:t})}mg((e=>{"offline"!==e&&"none"!==e||Kfe(e)}));var Gfe={isWeakNetwork:Cfe,weakNetworkStartTs4Old:Lfe};function Kfe(e){Ofe||(Lfe=Date.now(),Ofe=!0,!Nfe&&Lfe-Pfe<5e3&&(Nfe=!0),Vfe(Jhe.ENTER_WEAK_NETWORK_4_OLD,e))}function Jfe(e){Ofe&&(Ofe=!1,Vfe(Jhe.EXIT_WEAK_NETWORK_4_OLD,e,{duration:Date.now()-Lfe}))}pg((e=>{var{networkType:t=""}=e;"offline"===t||"none"===t?Kfe(t):Jfe(t)})),fg((e=>{e.weakNet?Kfe():Jfe()}));var Xfe=Object.prototype.hasOwnProperty,Yfe=new WeakMap;function Qfe(){var e=new Map,t={},r=$he.WEAK_NETWORK,n=Uhe.UNKNOWN,i="",a=qhe,o=t=>{if("string"==typeof t){var r=t.split(/\s+/gi);if(1===r.length)return o({url:r[0]});if(2===r.length)return o({url:r[1],method:r[0]})}else{if(t instanceof RegExp)return o({url:t});if("object"==typeof t){var{id:n,method:s,url:c}=t,l=c instanceof RegExp;if(n="string"==typeof n?n.trim():null,s="string"==typeof s&&s.trim().toUpperCase()||"ALL",c=l?c:"string"==typeof c?c.trim():null,n&&e.has(n))return;if(-1===zhe.indexOf(s))return;if(!c)return;var u={};if(l)u={isRegExp:l,regExp:c};else{if(-1===c.indexOf("://")&&("/"!==c[0]&&(c=`/${c}`),c=i+c),-1===c.indexOf("://"))return;var{protocol:d,host:p,path:h,query:f}=Dd(c);u={isRegExp:l,protocol:d,host:p,path:ife(h),query:afe(f)}}if(u.method=s,u.dataSchema=t.dataSchema,u.maxAge=Math.min(t.maxAge||a,Hhe),!n&&(n=efe(u),e.has(n)))return;return u.id=n,u}}},s=(t,r,n="GET")=>{var a,o=e.values();n=n.toUpperCase();var{protocol:s,host:c,path:l,query:u}=Dd(t),d=`${s}://${c}`,p=[],h={};for(var f of o)if("ALL"===f.method||f.method===n){if(f.isRegExp){f.regExp.lastIndex=0;var g=f.regExp.exec(t);if(!g){if(i!==d)continue;if(f.regExp.lastIndex=0,!(g=f.regExp.exec(t.replace(`${s}://${c}`))))continue}}else{if(s!==f.protocol)continue;if(c!==f.host)continue;if(f.path.regExp.lastIndex=0,!f.path.regExp.exec(l))continue;if(f.query){var v=!0;for(var m of(p.length=0,f.query)){var{key:y,value:b}=m;if(!u||!Xfe.call(u,y)||b&&u[y]!==b){v=!1;break}var _=b||u[y];p.push(`${y}${_?"="+encodeURIComponent(_):""}`)}if(!v)continue}}if(f.dataSchema){if(!r||"object"!=typeof r)continue;if(!lfe(f.dataSchema,r,h))continue}a=f;break}if(a)return{rule:a,url:`${d}${l}${p.length?"?"+p.join("&"):""}`,data:h,method:n}},c={start:()=>{n=Uhe.ON},stop:()=>{n=Uhe.OFF},config:(e={})=>{i=e.origin||"",r=e.mode||$he.WEAK_NETWORK,a=Math.min(e.maxAge||qhe,Hhe),r===$he.ALWAYS&&c.start()},emit:(e,r)=>{var n=t[e],i=[];if(n&&n.length)for(var a=n.length-1;a>=0;a--){var o=n[a];o=C.surroundThirdByTryCatch(o,`at cache's ${e} event callback function`),i.push(o(r))}return i},checkNeedStore:(e,t,r,n)=>{try{n=JSON.stringify(n)}catch(e){}Promise.resolve().then((()=>{var i=s(e,t,r);i&&_fe(i,{ts:Date.now(),res:n})}))}},l=t=>{if(Array.isArray(t)){var r=[];return t.forEach((t=>{var n=o(t);if(n){var i=n.id;e.set(i,n),r.push(i)}else r.push(null)})),r}},u=t=>{Array.isArray(t)&&t.forEach((t=>{e.has(t)&&(e.delete(t),mfe(t))}))},d=()=>{var t=e.keys();for(var r of t)mfe(r)},p={set mode(e){r=e||$he.WEAK_NETWORK},get mode(){return r},set origin(e){i=e||""},get origin(){return i},set maxAge(e){a=e||qhe},get maxAge(){return a},get state(){return n},addRules:l,addRule:e=>l([e])[0],deleteRules:u,deleteRule:e=>{u([e])},clearRules:()=>{d(),e.clear()},on:(e,r)=>{"string"==typeof e&&"function"==typeof r&&(e=e.trim())&&(t[e]=t[e]||[],t[e].push(r))},off:(e,r)=>{if("string"==typeof e&&"function"==typeof r&&(e=e.trim())){var n=t[e];if(n&&n.length){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}}},start:()=>{r===$he.NONE&&c.start()},stop:()=>{r===$he.NONE&&c.stop()},match:e=>{var{url:t,data:r,method:n}=e,i=s(t,r,n);if(i){var a={};a.ruleId=i.rule.id,a.maxAge=i.rule.maxAge;var o=wfe(i);if(o){var{cacheId:c,ts:l,res:u}=o;a.cacheId=c,a.createTime=l,a.data=u;try{a.data=JSON.parse(a.data)}catch(e){}"object"==typeof u&&(u.fromCache=!0)}return qfe(!!o),a}qfe(!1)},deleteCaches:t=>{if(Array.isArray(t)){var r=e.keys(),n=function(e){t.forEach((t=>gfe(e,t)))};for(var i of r)n(i)}},deleteCache:t=>{var r=e.keys();for(var n of r)gfe(n,t)},clearCaches:d};return Yfe.set(p,c),p}var Zfe=Qfe(),ege=Yfe.get(Zfe),tge=l(105),rge=l.n(tge),nge="\nmessage SKBuiltinString_t {\n  optional string String = 1;\n}\n\nmessage BaseRequest {\n  required bytes SessionKey = 1;\n  required uint32 Uin = 2;\n  required bytes DeviceID = 3;\n  required int32 ClientVersion = 4;\n  required bytes DeviceType = 5;\n  optional uint32 Scene = 6;\n}\n\nmessage BaseResponse {\n  required int32 Ret = 1;\n  required SKBuiltinString_t ErrMsg = 2;\n}\n",ige=`\n${nge}\nmessage JSAPIBaseResponse {\n\toptional int32 errcode = 1;\n\toptional string errmsg = 2;\n}\n\nmessage ScopeInfo\n{\n\toptional string scope = 1;\n\toptional string desc = 2;\n\toptional uint32 auth_state = 3;\n  optional string ext_desc = 4;\n  optional string auth_desc = 5;\n\toptional string sub_desc = 6;\n\toptional string auth_wording = 7;\n}\n\nmessage WxaExternalInfo\n{\n\toptional string host_appid = 1;\n\toptional uint32 scene = 2;\n\toptional uint32 source_env = 3;\n}\n\nmessage WxaPluginAppInfo\n{\n\toptional string plugin_appid = 1;\n\toptional string custom_version = 2;\n\toptional uint32 inner_version = 3;\n}\n\nmessage JSAuthorizeRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 version_type = 4;\n\toptional WxaExternalInfo ext_info = 5;\n\toptional string jsapi_name = 6;\n\toptional WxaPluginAppInfo plugin_info = 7;\n}\n\nmessage JSAuthorizeResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeInfo scope_list = 3;\n\toptional string appname = 4;\n\toptional string appicon_url = 5;\n\toptional string cancel_wording = 6;\n\toptional string allow_wording = 7;\n\toptional string apply_wording = 8;\n\toptional AlertPrivacyInfo privacy_info = 9;\n\toptional string jsapi_scope = 11;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 12;\n}\n\nmessage ScopeRiskWxaAppInfo\n{\n\toptional string username = 1;\n\toptional string path = 2;\n\toptional uint32 version = 3;\n\toptional uint32 scene = 4;\n\toptional uint32 type = 5;\n}\n\nmessage ScopeRiskPopUpInfo\n{\n\toptional int32 route_type = 1;\n\toptional bytes wording = 2;\n\toptional bytes left_button_wording = 3;\n\toptional bytes right_button_wording = 4;\n\toptional bytes right_button_h5_url = 5;\n\toptional ScopeRiskWxaAppInfo wxa_app_info = 6;\n\toptional int32 native_route_type = 7;\n}\n\nmessage ScopeRiskInfo\n{\n\toptional string scope = 1;\n\toptional ScopeRiskPopUpInfo risk_popup_info = 2;\n}\n\nmessage UserPrivacyProtectInfo\n{\n\toptional bool need_show = 1;\n\toptional string wording = 2;\n}\n\nmessage JSAuthorizeConfirmRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 opt = 4;\n\toptional uint32 version_type = 5;\n\toptional WxaExternalInfo ext_info = 6;\n\toptional bool privacy_protect_info_checked = 7;\n}\n\nmessage JSAuthorizeConfirmResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeRiskInfo risk_info_list = 3;\n}\n\nmessage JSOperateWxDataRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\toptional bytes data = 3;\n\toptional string grant_scope = 4;\n\toptional uint32 opt = 5;\n\toptional uint32 version_type = 6;\n\toptional WxaExternalInfo ext_info = 7;\n\toptional uint32 avatar_id = 8;\n\n\toptional string session_id = 9;\n\toptional uint32 avatar_opt = 10;\n\toptional bool privacy_protect_info_checked = 11;\n}\n\nmessage UserAvatarItem\n{\n    optional uint32 id = 1;\n    optional string nickname = 2;\n    optional string avatarurl = 3;\n    optional string desc = 4;\n}\n\nmessage UserAvatarInfo\n{\n\trepeated UserAvatarItem avatar_list = 1;\n\toptional bool is_ban_modify_avatar = 2;\n\toptional uint32 avatar_limit = 3;\n\toptional uint32 default_avatar_id = 4;\n\toptional string default_headimg_url = 5;\n\toptional string default_headimg_fileid = 6;\n\toptional string avatar_wording = 7;\n\toptional string limit_wording = 8;\n}\n\nmessage AlertPrivacyInfo\n{\n\toptional bool need_show_privacy = 1;\n\toptional string privacy_wording = 2;\n}\n\nmessage JSOperateWxDataResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\toptional bytes data = 3;\n\toptional ScopeInfo scope = 4;\n\toptional string appname = 5;\n\toptional string appicon_url = 6;\n\n\tmessage DebugInfo\n\t{\n\t\toptional string data = 1;\n\t\toptional string session_key = 2;\n\t}\n\toptional DebugInfo debug_info = 7;\n  optional bool need_hold_longconn = 8;\n\toptional string cancel_wording = 9;\n\toptional string allow_wording = 10;\n\toptional string apply_wording = 11;\n\toptional UserAvatarInfo avatar_info = 12;\n\toptional AlertPrivacyInfo privacy_info = 13;\n\toptional uint32 long_polling_timeout = 14;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 15;\n}\n`,age={},oge={getLocation:"userLocation",chooseLocation:"userLocation",enableLocationUpdate:"userLocation",startRecord:"record",joinVoIPChat:"record",operateRecorder:"record",insertCamera:"camera",insertXWebCamera:"camera",openBluetoothAdapter:"bluetooth",createBLEPeripheralServer:"bluetooth",saveImageToPhotosAlbum:"writePhotosAlbum",saveVideoToPhotosAlbum:"writePhotosAlbum"},sge={userLocation:"地理位置",record:"麦克风",camera:"摄像头",bluetooth:"蓝牙",writePhotosAlbum:"添加到相册"},cge={userLocation:"获取你的位置信息",record:"使用你的麦克风",camera:"使用你的摄像头",bluetooth:"使用你的蓝牙",writePhotosAlbum:"保存图片或视频到你的相册"},lge={},uge={jsapi_camera:"camera",jsapi_location:"userLocation",jsapi_photos_album:"writePhotosAlbum",jsapi_record:"record",webapi_bluetooth:"bluetooth"},dge={[Ghe.JS_AUTHORIZE]:{req:"JSAuthorizeRequest",resp:"JSAuthorizeResponse",process(e){Hfe(Jhe.PROXY_AUTHORIZE);var t=e.jsapi_name,r=oge[t];"authorize"!==t&&t||!e.scope||!e.scope.length||(r=(e.scope[0]||"").replace("scope.",""));var n={errcode:-12e3,errmsg:"need confirm"},i={sub_desc:lge[r]||" "};if(r&&cge[r]){i.scope=`scope.${r}`,i.desc=cge[r];var a=age[i.scope]||0;1===a?n={errcode:0,errmsg:"has authorized"}:2===a&&(n={errcode:-12006,errmsg:"user deny"}),Hfe(Jhe.PROXY_AUTHORIZE_SUCCESS,r);var{nickname:o,icon:s}=z.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:n,scope_list:[i],appname:o,appicon_url:s,cancel_wording:"拒绝",allow_wording:"允许",apply_wording:"申请",privacy_info:{need_show_privacy:!0,privacy_wording:`你授权后，小程序引用的插件开发者将收集你的${sge[r]}信息，为你提供相关服务。开发者严格按照《${o}小程序隐私保护指引》处理你的个人信息，但由于当前处于弱网环境，无法在线展示该隐私保护指引，你可在正常网络条件下通过点击小程序右上角“…”->点击小程序名称->“更多资料”中进行查询。如你发现开发者不当处理你的个人信息，可在“更多资料”页面进行投诉。`},risk_info:[],jsapi_scope:""}}},content:ige},[Ghe.JS_AUTHORIZE_CONFIRM]:{req:"JSAuthorizeConfirmRequest",resp:"JSAuthorizeConfirmResponse",process(e){var t=e.scope,r=e.opt;return t&&t.length&&t.forEach((e=>age[e]=r)),{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},risk_info_list:[]}},content:ige},[Ghe.JS_OPERATE_WX_DATA]:{req:"JSOperateWxDataRequest",resp:"JSOperateWxDataResponse",process(){Hfe(Jhe.PROXY_OPERATE_WX_DATA)},content:ige}};function pge(){return l(105)()}var hge={};function fge(e){var t=nfe(e);return hge[t]||(hge[t]=pge()(e)),hge[t]}function gge(e){if(dge[e])return dge[e].proto||(dge[e].proto=fge(dge[e].content)),dge[e]}function vge(){var e,t,r=null==z||null===(e=z.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxa_privacy_list;r&&r.length&&r.forEach((e=>{var t=uge[e.scope];t&&(lge[t]=e.sub_desc||"")})),Tt("onClientRequest",(e=>{var t=gge(e.api),r=!1,n=!1,i=null;if(t){r=!0;var a=null;try{a=t.proto[t.req].decode(new Uint8Array(e.data)),n=!0}catch(e){return}try{var o=t.process(a);o&&(i=t.proto[t.resp].encode(o))}catch(e){return}}gu("responseClientRequest",{id:e.id,support:r&&n&&!!i,data:i&&i.buffer})}))}function mge(){age={}}var yge=function(){var e=cp()((function*(e,{costTime1:t=0,costTime2:r=0,total:n=0,match:i=0,extra1:a}={}){var o=["",0,0,e,"",t,0,r,0,0,0,0,0,n,i,a||""].join(",");E.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:o})}));return function(t){return e.apply(this,arguments)}}();function bge(e,t,r,n){yge(Jhe.ACCESS,{costTime1:e,costTime2:t,total:r,match:n})}function _ge(e,t,r,n){yge(Jhe.PREDICT,{costTime1:e,costTime2:t,total:r,match:n})}var wge="predict",Ige="access",Sge=864e5,kge=.2,Cge="",Ege=null;function Age(e){if(Ege){var t=e.sessionid||e.sessionId;t!==Cge&&(Mge(),Cge=t)}}function Tge(){return new Promise((e=>{Lh({experimentId:"clicfg_weapp_weak_net_predict_local",experimentType:"Expt",success:t=>{Ege=!(!t||1!==Number(t.testConfig)),e()},fail:()=>{Ege=!1,e()}})}))}function Pge(e){return new Promise((t=>bp("getPredictFromGlobalStorage",{key:e},void 0,t)))}function xge(e,t){return new Promise((r=>bp("setPredictToGlobalStorage",{key:e,data:t},void 0,r)))}function Mge(){return Rge.apply(this,arguments)}function Rge(){return Rge=cp()((function*(){var e,t=yield Pge(Ige);t=t||{};var r=null===(e=z.accountInfo)||void 0===e?void 0:e.appId;if(r){var n=Date.now(),i=t[r]||[];if(i.push(n),i.length)for(var a=i.length-1;a>=0;a--){n-i[a]>=2592e6&&i.splice(a,1)}i.length>100&&(i=i.slice(i.length-100)),i.length?t[r]=i:t[r]&&delete t[r]}var o=Object.keys(t);if(o.length>50){var s="",c=0;o.forEach((e=>{var r=t[e],n=r[r.length-1];(!s||n<c)&&(s=e,c=n)})),s&&delete t[s]}yield xge(Ige,t)})),Rge.apply(this,arguments)}function Dge(e,t){return Oge.apply(this,arguments)}function Oge(){return Oge=cp()((function*(e,t){var r={},n=Date.now();t.length&&t.forEach((t=>{var n=e[t];if(!(n.length<10)){for(var i=[],a=0;a<48;a++)i.push([]);n.forEach((e=>{var t=new Date(e),r=t.getHours(),n=t.getMinutes(),a=t.getSeconds();i[2*r+(n>30?1:0)].push(3600*r+60*n+a)}));for(var o=i.map((e=>e.length)),s=0,c=o.length;s<c;s++){var l=o[s];if(null!==l)if(l){if(s>0){for(var u=!1,d=s-1;d>=0;d--){var p=o[d];if(null!==p){if(!(p<l*kge)){if(l<p*kge){u=!0;break}break}o[d]=null}}if(u){o[s]=null;continue}}if(s<c-1){for(var h=!1,f=s+1;f<=c-1;f++){var g=o[f];if(null!==g){if(!(g<l*kge)){if(l<g*kge){h=!0;break}break}o[f]=null}}if(h){o[s]=null;continue}}}else o[s]=null}var v=[];o.forEach(((e,t)=>{if(e){var r=i[t],n=r.reduce(((e,t)=>e+t),0)/r.length;v.push(n)}})),r[t]=v}}));var i=Date.now()-n;yield xge(wge,{time:n,cost:i,predict:r})})),Oge.apply(this,arguments)}function Lge(e,t,r){return Nge.apply(this,arguments)}function Nge(){return Nge=cp()((function*(e,t,r){var n=0,i=0,a=0,o=0,s=Date.now();if(r.length){var c=e.predict,l=e.time;r.forEach((e=>{var r=t[e],s=c[e];if(s&&s.length){var u=r.filter((e=>e>l)).map((e=>{var t=new Date(e);return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds()}));if(u.length){var d=[],p=[];s.forEach((e=>{var t=e-900,r=e+900;u.forEach((n=>{var i=n>=t&&n<=r;i&&-1===d.indexOf(n)&&d.push(n),i&&-1===p.indexOf(e)&&p.push(e)}))})),n+=u.length,i+=d.length,o+=p.length,a+=s.length}}}))}var u=Date.now()-s;bge(e.cost,u,n,i),_ge(e.cost,u,a,o)})),Nge.apply(this,arguments)}function Bge(){return Fge.apply(this,arguments)}function Fge(){return Fge=cp()((function*(){if("boolean"!=typeof Ege&&(yield Tge()),Ege){var e=Date.now(),t=yield Pge(wge);if(!(t&&e-t.time<Sge)){var r=yield Pge(Ige),n=Object.keys(r);t&&(yield Lge(t,r,n)),yield Dge(r,n)}}})),Fge.apply(this,arguments)}ik((e=>{"develop"===z.envVersion||"trial"===z.envVersion||("boolean"!=typeof Ege?Tge().then((()=>Age(e))):Age(e))}));var Wge=!1,jge=!1,Vge=Khe.reduce(((e,t)=>(e[t]=!0,e)),{});function Uge(){return Wge&&(he||pe||de)}function $ge(e){if(e&&e.extra){var t=e.extra.apiList;Array.isArray(t)&&(Vge={},t.forEach((e=>{e=e.replace("wx.",""),Khe.indexOf(e)>=0&&(Vge[e]=!0)})))}}var zge=()=>Vge;function qge(e,t){e&&!e.reason&&(Zfe.mode===$he.WEAK_NETWORK&&(e.switch?ege.start():ege.stop()),e.switch?(jge=!0,ege.emit("enterWeakNetwork"),Ffe()):t&&(jge=!1,mge(),ege.emit("exitWeakNetwork"),Wfe()))}Tt("onToggleWxappLibServerMode",(e=>qge(e,!0))),z.onReady((()=>{qge(z.serverMode),vge(),Bge()}));var Hge=(e,t,r,n,i,a,o,s,c)=>{var l=ege.emit("request",{url:t,data:r,method:n,request:()=>new Promise(((t,r)=>{var n=O()({},i);n.success=t,n.fail=r,n.complete=null,e(n)}))});if(l.length){var u=l.find((e=>e&&"function"==typeof e.then));if(u)return u.then((e=>{a&&"function"==typeof a&&a(e),s&&"function"==typeof s&&s(e)})).catch((e=>{o&&"function"==typeof o&&o(e),s&&"function"==typeof s&&s(e)})),{abort:()=>{},onChunkReceived:()=>{},offChunkReceived:()=>{},onHeadersReceived:()=>{},offHeadersReceived:()=>{}}}c&&(o&&"function"==typeof o&&o(c),s&&"function"==typeof s&&s(c))};function Gge(e){var t=e.request;e.__defineGetter__("request",(()=>function(e={}){if(initOfflineCacheReport(e),!Uge())return t(e);var{url:r,data:n,method:i,success:a,fail:o,complete:s}=e,c=e=>{privateCacheManager.checkNeedStore(r,n,i,e),a&&"function"==typeof a&&a(e)};if(cacheManager.state===STATE.UNKNOWN)e.success=e=>{a&&"function"==typeof a&&c(e),s&&"function"==typeof s&&s(e)},e.fail=c=>Hge(t,r,n,i,e,a,o,s,c),e.complete=null;else if(cacheManager.state===STATE.ON){var l=Hge(t,r,n,i,e,a,o,s);if(l)return l}else cacheManager.state===STATE.OFF&&(e.success=c);return t(e)})),DEFAULT_CACHE_API_LIST.forEach((t=>{var r=e[t];e.__defineGetter__(t,(()=>function(e={}){if(!Uge()||!Vge[t])return r(e);var{success:n,fail:i,complete:a}=e,o=!n&&!i&&!a,s={};if(Object.keys(e).forEach((t=>{"function"!=typeof e[t]&&(s[t]=e[t])})),!jge){var c=Date.now()+cacheManager.maxAge;return o?r(e).then((e=>(setApi(t,s,e,c),e))):(e.success=function(e){setApi(t,s,e,c),"function"==typeof n&&n(e)},r(e))}var l=getApi(t,s);return l?("object"==typeof l&&(l.fromCache=!0),o?new Promise((e=>e(l))):"function"==typeof n?(n(l),void a(l)):void 0):r(e)}))})),initOfflineCacheReport(e)}function Kge(e){return zfe(),$ge(e),ege.config(e),Wge=!0,Zfe}ul.appStatus=zc.FORE_GROUND,ul.hanged=!1,ik((e=>{Date.now()})),mk((e=>{Date.now()})),zS((()=>{ul.appStatus=zc.FORE_GROUND})),qk((e=>{"hide"===e.mode?ul.appStatus=zc.LOCK:ul.appStatus=zc.BACK_GROUND,"close"===e.mode?ul.hanged=!1:"hang"===e.mode&&(ul.hanged=!0)})),Jce((()=>{ul.hanged=!1}));var Jge=function(){var e=cp()((function*(e){var t;e||(e=yield um(null,!0));var r=[];return e.forEach((e=>{var n=e.cliParamList;n&&(r.push(e),n.forEach((e=>{var{pre_proc:r,preset_data:n}=e;if("screenshot"===n&&r){var{param:i}=r;i&&i.forEach((e=>{"shortEdge"===e.key&&(t=e.value)}))}})))})),{shortEdge:t,configs:r}}));return function(t){return e.apply(this,arguments)}}(),Xge=0,Yge=e=>{if(Xge!==(e?1:2)){var t=0!==Xge;Xge=e?1:2,gu("setSecuritySnapshotStrategy",{enabledSnapshot:e,snapshotIntervalMillis:100,shortEdge:cw(),success(){t||Qge()},fail(e){Jge().then((t=>{var{configs:r}=t;r.length&&dI(r,null,null,e)}))}})}},Qge=()=>{Kt("onDumpSecuritySnapshot",(e=>{Yge(!1),Jge().then((t=>{var{configs:r}=t;dI(r,e.buffer,[e.shape[1],e.shape[0]])}))}))},Zge={},eve=(e,t=0)=>{var{afterLoadInterval:r,afterLoadMaxCnt:n,mostCnt:i}=e;if(!("number"!=typeof r||r<=0)&&T){var a=T.getCurrentFullyRoutePath();Zge[a]||(Zge[a]=!0,setTimeout(cp()((function*(){var r=T.getCurrentFullyRoutePath();if(e.currentCnt>i)Zge[a]=!1;else if(a===r)try{e.currentCnt+=1,yield uI(11),pe&&(yield tve()),t<n?eve(e,t+1):Zge[a]=!1}catch(e){Zge[a]=!1}else Zge[a]=!1})),r))}},tve=()=>{Yge(!0)},rve=function(){var e=cp()((function*(){var e=yield um(null,!0);if(e&&e.length){var{configs:t,shortEdge:r}=yield Jge(e),n=null==t?void 0:t[0];if(n){aw(r);var{afterLoadMaxCnt:i,afterLoadInterval:a}=n;ow({maxCnt:i,interval:a})}eve(e[0])}}));return function(){return e.apply(this,arguments)}}(),nve=new Set;function ive(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i=r[n].split("=");if(i.length>1)try{t[i[0]]=decodeURIComponent(i[1])}catch(e){}}return t}var ave=e=>{e&&"string"==typeof e.query&&(e.query=ive(e.query))};function ove(e,t){if(!Te()&&e&&t&&!ul.navigationBarTitleMap[e]){var r="";z.page[t]&&z.page[t].window&&je(z.page[t].window.navigationBarTitleText)?r=z.page[t].window.navigationBarTitleText:z.global&&z.global.window&&je(z.global.window.navigationBarTitleText)&&(r=z.global.window.navigationBarTitleText),ul.navigationBarTitleMap[e]=r}}Kt("onAppRoute",BG.useTracedEnd(((e,t=0)=>{var n,i,a;e.__ts__=Date.now();var o=null==e||null===(n=e.singlePageData)||void 0===n?void 0:n.pageId;if(t=void 0!==o?o:void 0!==e.webviewId?e.webviewId:t,e.webviewId=t,BG.traceBeginEvent("Framework",`AppRoute#${e.openType}`,e),ave(e),z.appLaunchInfo&&z.appLaunchInfo.inBackground&&"appLaunch"===e.openType)return ap(!0),void U8(!0);op()&&"autoReLaunch"===e.openType&&(e.openType="appLaunch",setTimeout((()=>ap(!1)),0)),v.info(`[WABaseLib.Critical] onAppRoute with webviewId=${t}, res=${JSON.stringify(e)} ${Date.now()}`),Pl.appRoute=!0,Pl.appRouteDone=!1;var s=Tle(e,t);if(!s.rewritten){if(s.triggerNotFound){E.reportIDKey({key:"pageNotFound",force:!0});var c=e.path;if(Sle(e,t),"string"==typeof c&&!c.endsWith(".html")&&e.notFound)return void v.warn(`path: "${c}", .html suffix is required`)}if(void 0!==T){T.checkIsWebviewPageDetach();var l=e.query;T.traceRoutePathWithoutQuery(e.path);var u=T.getSafeRoutePath(e.path,l,z.appLaunchInfo.scene);T.traceRoutePath(u),T.traceFullyRoutePath(e.path,l),T.updateWebviewPageInfo()}if(e.path=Md(e.path),e.renderer=e.renderer||"webview",ir(t,e.renderer),null!=z&&null!==(i=z.tabBar)&&void 0!==i&&i.custom){var d=e.openType;if("appLaunch"===d||"reLaunch"===d||"autoReLaunch"===d){var p=()=>{ur("initTabBar",e,[Kc.SCL_TABBAR_VIEW_ID])};Rre(z.tabBar)?Dre().then(p):p()}}if("skyline"===e.renderer){var h,f;BG.traceBeginEvent("Framework","dispatchViewRoute");var g=null===(h=e.singlePageData)||void 0===h?void 0:h.windowId,m=!(null===(f=e.singlePageData)||void 0===f||!f.isNewEngineHomePage),y={};if("navigateTo"===e.openType){var b,_=Pre(o,null==e||null===(b=e.singlePageData)||void 0===b?void 0:b.routeType);y.routeConfigId=_?Ere(_):-1}var w=!1;z.tabBar&&Array.isArray(z.tabBar.list)&&z.tabBar.list.forEach((t=>{Md(t.pagePath)===e.path&&(w=!0)})),"function"==typeof Kc.setPageRootCompPath&&Kc.setPageRootCompPath(o,e.path),Kc.setPageType(o,e.renderer),Ire.instance.handleAppRoute(o,g),ur("viewRoute",{pageId:o,windowId:g,path:e.path,routeConfig:y,openType:e.openType,isTab:w,isNewEngineHomePage:m},[o]),BG.traceEndEvent()}if("dismissPip"!==e.openType&&(ul.lastRoute=e.path||"",ul.lastRawQuery=JSON.parse(JSON.stringify(e.query||{}))),ul.lastOpenType=e.openType,["appLaunch","autoReLaunch"].includes(e.openType)&&nve.add(t),!nve.has(t))for(var I in e.query)try{e.query[I]=decodeURIComponent(e.query[I])}catch(e){}if("dismissPip"!==e.openType&&(v.info("[onAppRoute] set global query"),ul.query=e.query,v.info("[onAppRoute] set global currentWebviewId to "+t),ul.currentWebviewId=t),void 0!==r&&r.features&&r.features.pruneWxConfigByPage){var S=e.preloadRule||z._preloadRule&&z._preloadRule[e.path],k=e.page||z._page&&z._page[e.path+".html"];if(S&&(z.updatePreloadRule(e.path,S),e.preloadRule,z.preloadRule),k){var C=z.global&&z.global.window||{};k.window=Object.assign({},C,k.window),T.traceRawRoutePath(e.path),z.updatePage(e.path,k),e.page,z.page}}lr("pingWebView",{t:Date.now()},[e.webviewId]);var A=ul.getWebviewIds();A.includes(e.webviewId)||A.push(e.webviewId),lr("onAppRoute",e,A),rve(),bS()&&mS.emitter.emit("onAppRoute",e);try{BG.traceBeginEvent("Framework","onAppRouteCallback",e),QS(e)}finally{BG.traceEndEvent()}"appLaunch"!==e.openType&&"boolean"==typeof(null===(a=e.qualityData)||void 0===a?void 0:a.isWebviewPreload)&&(E.reportFrameworkIDKey(7),E.reportFrameworkIDKey(e.qualityData.isWebviewPreload?8:9))}}))),Kt("onAppRouteDone",BG.useTracedEnd(((e,t=0)=>{var r;v.info(`[WABaseLib.Critical] onAppRouteDone with webviewId=${t}, res=${JSON.stringify(e)} ${Date.now()}`),e.__ts__=Date.now();var n=null==e||null===(r=e.singlePageData)||void 0===r?void 0:r.pageId;t=void 0!==n?n:void 0!==e.webviewId?e.webviewId:t,e.webviewId=t,BG.traceBeginEvent("Framework","AppRouteDone",e),Pl.appRoute=!1,Pl.appRouteDone=!0,xl();var i="";ul.navigatorLock=!1,e.path&&(i=e.path,e.path=Md(e.path)),"dismissPip"!==ul.lastOpenType&&(ul.lastRoute=e.path||""),GM(e),lr("onAppRouteDone",{frameset:e.frameset,webviewId:e.webviewId},[t]),ove(e.path,i)})));var sve=(e={})=>{xc("getLabInfo",e,{labId:""})&&gu("getLabInfo",e)},cve=(e={})=>{xc("setLabInfo",e,{labId:"",enabled:Boolean()})&&gu("setLabInfo",e)},lve={voip1v1:1},uve={};Object.keys(lve).forEach((e=>{uve[lve[e]]=e}));var dve=(e={})=>{if(lve[e.msgType]){var t=ed("sendChannelMessage","webapi_sendwxachannelmsg",(e=>({msg_type:lve[e.msgType],receiver_openid:e.receiver,msg_content:JSON.stringify(e.data||{})})),(e=>{e.msgId=e.msg_id,delete e.msg_id}));t(e)}else Rc("sendChannelMessage",e,"lock of message type")},pve=Ut("receiveMsgChannel"),hve=pve.onMethod,fve=pve.offMethod;Tt("onReceiveMsgChannel",(e=>{try{e.msgType=uve[e.msgType],e.data=JSON.parse(e.msgContent),delete e.msgContent,pve.emit(e)}catch(t){v.error("[WABaseLib.Critical] onReceiveMsgChannel parse content fail ",t," raw content: ",JSON.stringify(e))}}));var gve=Ut("receiveCacheMsgChannel"),vve=gve.onMethod,mve=gve.offMethod;Tt("onReceiveCacheMsgChannelBatch",(e=>{try{var t=JSON.parse(e.cacheList);t.forEach((e=>{e.msgType=uve[e.msgType],e.data=JSON.parse(e.msgContent),delete e.msgContent})),gve.emit(t)}catch(t){v.error("[WABaseLib.Critical] onReceiveCacheMsgChannelBatch parse content fail ",t," raw content: ",JSON.stringify(e))}}));var yve=["对方版本暂不支持发起视频通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的视频通话请求","对方正在通话中，请稍后再播"],bve=["已接通","对方已挂断，通话结束","已拒绝，通话结束"],_ve=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","对方已切换到语音通话，请使用听筒接听","已切换到语音通话，请使用听筒接听","余额不足，通话结束"],wve=["对方版本暂不支持发起语音通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的语音通话请求","对方正在通话中，请稍后再播","对方设备未开启通话选项"],Ive=["已接通，请使用听筒接听","对方已挂断，通话结束","已拒绝，通话结束"],Sve=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","声音将通过扬声器播放","声音将通过听筒播放","余额不足，通话结束"],kve="在移动网络环境下会影响视频通话质量，并产生手机流量，确定继续？",Cve=(e=[],t={})=>{Xe(e)&&(e=Object.keys(e));var r={};return e.forEach((e=>{e in t&&void 0!==t[e]&&(r[e]=t[e])})),r},Eve=new Nt({maxListeners:2e5}),Ave={onTextViewClick:"click",onImageViewClick:"click",onTextViewDrag:"drag",onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel"};Object.keys(Ave).forEach((e=>{Kt(e,(t=>{var r=Ave[e];try{var n=JSON.parse(t.data).id;Eve.emit(`${r}-${n}`,t)}catch(e){}}))}));var Tve=32768,Pve;class xve{constructor(e={}){var{props:t={},style:r={},position:n={},dataset:i={}}=e;this.parent=null,this.parentId=0,this.children={},this.events=[],this.id=++Tve,this.props=t,this.style=r,this.position=n,this.dataset=i,this.bubbleHandler()}bubbleHandler(){["touchstart","touchmove","touchend","touchcancel","click"].forEach((e=>{this.on(e,(t=>{if(this.props.bubbles&&this.parent&&!this.parent.props.transEvt){var r=this.position.left,n=this.position.top;if("click"===e){if(!this.parent.props.clickable)return;this.parent.emit(e)}else if("touchstart"===e||"touchend"===e){if(!this.parent.props.gesture)return;var i=Object.assign({},t.touch);i.x+=r,i.y+=n,i.id=this.parent.id,this.parent.emit(e,{viewId:this.parent.id,touch:i})}else{if(!this.parent.props.gesture)return;var a=t.touches.map((e=>({x:e.x+r,y:e.y+n,id:this.parent.id})));this.parent.emit(e,{viewId:this.parent.id,touches:a})}}}))}))}getAbsolutePositon(){if(!this.parent)return{left:0,top:0};var e=this.parent.getAbsolutePositon(),{left:t,top:r}=this.position;return{left:t+e.left,top:r+e.top}}hide(){return this.props.hide=!0,this.update()}show(){return this.props.hide=!1,this.update()}insert(){var e=this.insertView(),t=[];return Object.keys(this.children).forEach((e=>{var r=this.children[e];t.push(r.insert())})),Promise.all([e,...t]).then((()=>{this.emit("ready")}),(e=>{this.emit("ready")}))}update(){return this.updateView()}remove(){this.parent&&this.parent.removeChild(this);var e=[];Object.keys(this.children).forEach((t=>{var r=this.children[t];this.removeChild(r),e.push(r.remove())})),this.removeListeners();var t=this.removeView();return Promise.all([t,...e]).catch((e=>{}))}insertView(){return Promise.resolve()}updateView(){return Promise.resolve()}removeView(){return Promise.resolve()}removeListeners(){this.events.forEach((e=>{Eve.removeAllListeners(`${e}-${this.id}`)}))}appendChild(e){e.parent=this,e.parentId=this.id,this.props.independent&&(e.props.independent=!0),this.children[e.id]=e}empty(){Object.keys(this.children).forEach((e=>{var t=this.children[e];this.removeChild(t),t.remove()}))}removeChild(e){delete this.children[e.id],e.parent=null,e.parentId=0}emit(e,t){Eve.emit(`${e}-${this.id}`,t)}on(e,t){Eve.on(`${e}-${this.id}`,t)}off(e,t){Eve.off(`${e}-${this.id}`,t)}once(e,t){Eve.once(`${e}-${this.id}`,t)}}var Mve="insertTextView",Rve="updateTextView",Dve="removeTextView",Ove="animateCoverView",Lve=(Pve=class extends xve{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultLabel(),n=this.getDefaultStyle();this.events=["click","drag","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor);var i=this.props.label;this.style=Object.assign(n,Cve(n,this.style)),this.props=Object.assign(t,Cve(t,this.props)),this.label=Object.assign(r,Cve(r,i)),this.label.lineHeight=this.label.lineHeight||1.2*this.label.fontSize}getDefaultProps(){return{hide:!1,clickable:!1,gesture:!1,transEvt:!1,sendTo:"appservice",fullscreen:!1,independent:!1,bubbles:!1,draggable:!1,dragConfig:{}}}getDefaultLabel(){return{content:"",color:"#000000",fontSize:12,textAlign:"left",fontWeight:"normal",lineHeight:0,lineBreak:"clip",whiteSpace:"nowrap"}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,overflow:"hidden",rotate:0,scaleX:1,scaleY:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,draggable:this.props.draggable,dragConfig:this.props.dragConfig,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,data:JSON.stringify({id:this.id}),label:this.label,fullscreen:this.props.fullscreen,independent:this.props.independent,zIndex:this.style.zIndex,fixed:this.style.fixed,style:this.style,notCoverRect:!0};Object.assign(t,e),gu(Mve,t)}updateView(e){var t={viewId:this.id,position:this.position,hide:this.props.hide,label:this.label,independent:this.props.independent,style:this.style,fixed:this.style.fixed,zIndex:this.style.zIndex,notCoverRect:!0,draggable:this.props.draggable,dragConfig:this.props.dragConfig};Object.assign(t,e);gu(Rve,t,{beforeFail(e){}})}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);gu(Dve,t,{beforeFail(e){}})}animate(e){var t=this,r={duration:300,easing:"linear",viewId:this.id,finalStyle:{},independent:this.props.independent},n=Object.assign(r,e);gu(Ove,n,{beforeSuccess(){Object.keys(n.finalStyle).forEach((e=>{e in t.position?t.position[e]=n.finalStyle[e]:e in t.style&&(t.style[e]=n.finalStyle[e])}))},beforeFail(e){v.error("animateView fail",t.id,n,e)}})}measureText(e=""){var t=0,r={text:e,fontSize:this.label.fontSize,fontWeight:this.label.fontWeight,fontStyle:"normal",fontFamily:"sans-serif",complete(e){t=e.width||0}};return gu("measureText",r),t}fadeIn(e=300,t="linear"){return this.show().then((()=>this.animate({finalStyle:{opacity:1},duration:e,easing:t})))}fadeOut(e=300,t="linear"){return this.animate({finalStyle:{opacity:0},duration:e,easing:t}).then((()=>this.hide()))}fadeTo(e,t=300,r="linear"){return this.animate({finalStyle:{opacity:e},duration:t,easing:r})}slideUp(e=300,t="linear"){return this.animate({finalStyle:{height:0},duration:e,easing:t})}slideDown(e=300,t="linear"){var r=this.position.height;return this.position.height=0,this.update(),this.animate({finalStyle:{height:r},duration:e,easing:t})}},F()(Pve.prototype,"insertView",[wt],Object.getOwnPropertyDescriptor(Pve.prototype,"insertView"),Pve.prototype),F()(Pve.prototype,"updateView",[wt],Object.getOwnPropertyDescriptor(Pve.prototype,"updateView"),Pve.prototype),F()(Pve.prototype,"removeView",[wt],Object.getOwnPropertyDescriptor(Pve.prototype,"removeView"),Pve.prototype),F()(Pve.prototype,"animate",[wt],Object.getOwnPropertyDescriptor(Pve.prototype,"animate"),Pve.prototype),Pve),Nve,Bve="insertImageView",Fve="updateImageView",Wve="removeImageView",jve=(Nve=class extends xve{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultStyle();this.events=["click","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor),this.style=Object.assign(r,Cve(r,this.style)),this.props=Object.assign(t,Cve(t,this.props))}getDefaultProps(){return{hide:!1,iconPath:"",clickable:!1,gesture:!1,transEvt:!1,bubbles:!1,sendTo:"appservice",independent:!1}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,iconPath:this.props.iconPath,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,independent:this.props.independent,data:JSON.stringify({id:this.id}),style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,notCoverRect:!0};Object.assign(t,e),gu(Bve,t)}updateView(e){var t={viewId:this.id,position:this.position,iconPath:this.props.iconPath,hide:this.props.hide,style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,independent:this.props.independent,notCoverRect:!0};Object.assign(t,e),gu(Fve,t)}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);gu(Wve,t)}},F()(Nve.prototype,"insertView",[wt],Object.getOwnPropertyDescriptor(Nve.prototype,"insertView"),Nve.prototype),F()(Nve.prototype,"updateView",[wt],Object.getOwnPropertyDescriptor(Nve.prototype,"updateView"),Nve.prototype),F()(Nve.prototype,"removeView",[wt],Object.getOwnPropertyDescriptor(Nve.prototype,"removeView"),Nve.prototype),Nve),Vve,Uve="insertCamera",$ve="updateCamera",zve="removeCamera",qve=(Vve=class extends xve{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,Cve(t,this.props))}getDefaultProps(){return{independent:!1,mode:"normal",devicePosition:"front",resolution:"medium",hide:!1}}insertView(e){var t={parentId:this.parentId,cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,resolution:this.props.resolution,hide:this.props.hide};Object.assign(t,e),gu(Uve,t)}updateView(e){var t={cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,hide:this.props.hide};Object.assign(t,e),gu($ve,t)}removeView(e){var t=Object.assign({cameraId:this.id,independent:this.props.independent},e);gu(zve,t)}},F()(Vve.prototype,"insertView",[wt],Object.getOwnPropertyDescriptor(Vve.prototype,"insertView"),Vve.prototype),F()(Vve.prototype,"updateView",[wt],Object.getOwnPropertyDescriptor(Vve.prototype,"updateView"),Vve.prototype),F()(Vve.prototype,"removeView",[wt],Object.getOwnPropertyDescriptor(Vve.prototype,"removeView"),Vve.prototype),Vve),Hve,Gve="insertVoIPView",Kve="updateVoIPView",Jve="removeVoIPView",Xve=(Hve=class extends xve{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,Cve(t,this.props))}getDefaultProps(){return{independent:!1,self:!0,configCamera:"front",openid:""}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),gu(Gve,t)}updateView(e){var t={viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),gu(Kve,t)}removeView(e){var t=Object.assign({viewId:this.id,independent:this.props.independent,openId:this.props.openid},e);gu(Jve,t)}},F()(Hve.prototype,"insertView",[wt],Object.getOwnPropertyDescriptor(Hve.prototype,"insertView"),Hve.prototype),F()(Hve.prototype,"updateView",[wt],Object.getOwnPropertyDescriptor(Hve.prototype,"updateView"),Hve.prototype),F()(Hve.prototype,"removeView",[wt],Object.getOwnPropertyDescriptor(Hve.prototype,"removeView"),Hve.prototype),Hve),Yve=function(){var e,t="inherit",r="row",n="row-reverse",i="column",a="column-reverse",o="flex-start",s="center",c="flex-start",l="center",u="flex-end",d="stretch",p="relative",h="absolute",f={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},g={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},v={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},m={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function y(e){return void 0===e}function b(e){return e===r||e===n}function _(e,t){if(void 0!==e.style.marginStart&&b(t))return e.style.marginStart;var r=null;switch(t){case"row":r=e.style.marginLeft;break;case"row-reverse":r=e.style.marginRight;break;case"column":r=e.style.marginTop;break;case"column-reverse":r=e.style.marginBottom}return void 0!==r?r:void 0!==e.style.margin?e.style.margin:0}function w(e,t){if(void 0!==e.style.marginEnd&&b(t))return e.style.marginEnd;var r=null;switch(t){case"row":r=e.style.marginRight;break;case"row-reverse":r=e.style.marginLeft;break;case"column":r=e.style.marginBottom;break;case"column-reverse":r=e.style.marginTop}return null!=r?r:void 0!==e.style.margin?e.style.margin:0}function I(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&b(t))return e.style.borderStartWidth;var r=null;switch(t){case"row":r=e.style.borderLeftWidth;break;case"row-reverse":r=e.style.borderRightWidth;break;case"column":r=e.style.borderTopWidth;break;case"column-reverse":r=e.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function S(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&b(t))return e.style.borderEndWidth;var r=null;switch(t){case"row":r=e.style.borderRightWidth;break;case"row-reverse":r=e.style.borderLeftWidth;break;case"column":r=e.style.borderBottomWidth;break;case"column-reverse":r=e.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function k(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&b(t))return e.style.paddingStart;var r=null;switch(t){case"row":r=e.style.paddingLeft;break;case"row-reverse":r=e.style.paddingRight;break;case"column":r=e.style.paddingTop;break;case"column-reverse":r=e.style.paddingBottom}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+I(e,t)}function C(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&b(t))return e.style.paddingEnd;var r=null;switch(t){case"row":r=e.style.paddingRight;break;case"row-reverse":r=e.style.paddingLeft;break;case"column":r=e.style.paddingBottom;break;case"column-reverse":r=e.style.paddingTop}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+S(e,t)}function E(e,t){return I(e,t)+S(e,t)}function A(e,t){return _(e,t)+w(e,t)}function T(e,t){return k(e,t)+C(e,t)}function P(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function x(e,t){if("rtl"===t){if(e===r)return n;if(e===n)return r}return e}function M(e,t){return function(e){return e===i||e===a}(e)?x(r,t):i}function R(e){return e.style.position?e.style.position:"relative"}function D(e){return R(e)===p&&e.style.flex>0}function O(e,t){return e.layout[m[t]]+A(e,t)}function L(e,t){return void 0!==e.style[m[t]]&&e.style[m[t]]>=0}function N(e,t){return void 0!==e.style[t]}function B(e,t){return void 0!==e.style[t]?e.style[t]:0}function F(e,t,r){var n={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],i={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],a=r;return void 0!==i&&i>=0&&a>i&&(a=i),void 0!==n&&n>=0&&a<n&&(a=n),a}function W(e,t){return e>t?e:t}function j(e,t){void 0===e.layout[m[t]]&&L(e,t)&&(e.layout[m[t]]=W(F(e,t,e.style[m[t]]),T(e,t)))}function V(e,t,r){t.layout[g[r]]=e.layout[m[r]]-t.layout[m[r]]-t.layout[v[r]]}function U(e,t){return void 0!==e.style[f[t]]?B(e,f[t]):-B(e,g[t])}function $(S,$,q){var H=function(e,r){var n;return(n=e.style.direction?e.style.direction:t)===t&&(n=void 0===r?"ltr":r),n}(S,q),G=x(function(e){return e.style.flexDirection?e.style.flexDirection:i}(S),H),K=M(G,H),J=x(r,H);j(S,G),j(S,K),S.layout.direction=H,S.layout[f[G]]+=_(S,G)+U(S,G),S.layout[g[G]]+=w(S,G)+U(S,G),S.layout[f[K]]+=_(S,K)+U(S,K),S.layout[g[K]]+=w(S,K)+U(S,K);var X=S.children.length,Y=T(S,J);if(function(e){return void 0!==e.style.measure}(S)){var Q=!y(S.layout[m[J]]),Z=e;Z=L(S,J)?S.style.width:Q?S.layout[m[J]]:$-A(S,J),Z-=Y;var ee=!L(S,J)&&!Q,te=!L(S,i)&&y(S.layout[m[i]]);if(ee||te){var re=S.style.measure(Z);ee&&(S.layout.width=re.width+Y),te&&(S.layout.height=re.height+T(S,i))}if(0===X)return}var ne,ie,ae,oe,se=function(e){return"wrap"===e.style.flexWrap}(S),ce=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(S),le=k(S,G),ue=k(S,K),de=T(S,G),pe=T(S,K),he=!y(S.layout[m[G]]),fe=!y(S.layout[m[K]]),ge=b(G),ve=null,me=null,ye=e;he&&(ye=S.layout[m[G]]-de);for(var be=0,_e=0,we=0,Ie=0,Se=0,ke=0;_e<X;){var Ce,Ee=0,Ae=0,Te=0,Pe=0,xe=he&&ce===o||!he&&ce!==s,Me=xe?X:be,Re=!0,De=X,Oe=null,Le=null,Ne=le,Be=0;for(ne=be;ne<X;++ne){if((ae=S.children[ne]).lineIndex=ke,ae.nextAbsoluteChild=null,ae.nextFlexChild=null,(He=P(S,ae))===d&&R(ae)===p&&fe&&!L(ae,K))ae.layout[m[K]]=W(F(ae,K,S.layout[m[K]]-pe-A(ae,K)),T(ae,K));else if(R(ae)===h)for(null===ve&&(ve=ae),null!==me&&(me.nextAbsoluteChild=ae),me=ae,ie=0;ie<2;ie++)oe=0!==ie?r:i,!y(S.layout[m[oe]])&&!L(ae,oe)&&N(ae,f[oe])&&N(ae,g[oe])&&(ae.layout[m[oe]]=W(F(ae,oe,S.layout[m[oe]]-T(S,oe)-A(ae,oe)-B(ae,f[oe])-B(ae,g[oe])),T(ae,oe)));var Fe=0;if(he&&D(ae)?(Ae++,Te+=ae.style.flex,null===Oe&&(Oe=ae),null!==Le&&(Le.nextFlexChild=ae),Le=ae,Fe=T(ae,G)+A(ae,G)):(Ce=e,ge||(Ce=L(S,J)?S.layout[m[J]]-Y:$-A(S,J)-Y),0===we&&z(ae,Ce,H),R(ae)===p&&(Pe++,Fe=O(ae,G))),se&&he&&Ee+Fe>ye&&ne!==be){Pe--,we=1;break}xe&&(R(ae)!==p||D(ae))&&(xe=!1,Me=ne),Re&&(R(ae)!==p||He!==d&&He!==c||y(ae.layout[m[K]]))&&(Re=!1,De=ne),xe&&(ae.layout[v[G]]+=Ne,he&&V(S,ae,G),Ne+=O(ae,G),Be=W(Be,F(ae,K,O(ae,K)))),Re&&(ae.layout[v[K]]+=Ie+ue,fe&&V(S,ae,K)),we=0,Ee+=Fe,_e=ne+1}var We=0,je=0,Ve=0;if(Ve=he?ye-Ee:W(Ee,0)-Ee,0!==Ae){var Ue,$e,ze=Ve/Te;for(Le=Oe;null!==Le;)(Ue=ze*Le.style.flex+T(Le,G))!==($e=F(Le,G,Ue))&&(Ve-=$e,Te-=Le.style.flex),Le=Le.nextFlexChild;for((ze=Ve/Te)<0&&(ze=0),Le=Oe;null!==Le;)Le.layout[m[G]]=F(Le,G,ze*Le.style.flex+T(Le,G)),Ce=e,L(S,J)?Ce=S.layout[m[J]]-Y:ge||(Ce=$-A(S,J)-Y),z(Le,Ce,H),ae=Le,Le=Le.nextFlexChild,ae.nextFlexChild=null}else ce!==o&&(ce===s?We=Ve/2:"flex-end"===ce?We=Ve:"space-between"===ce?(Ve=W(Ve,0),je=Ae+Pe-1!=0?Ve/(Ae+Pe-1):0):"space-around"===ce&&(We=(je=Ve/(Ae+Pe))/2));for(Ne+=We,ne=Me;ne<_e;++ne)R(ae=S.children[ne])===h&&N(ae,f[G])?ae.layout[v[G]]=B(ae,f[G])+I(S,G)+_(ae,G):(ae.layout[v[G]]+=Ne,he&&V(S,ae,G),R(ae)===p&&(Ne+=je+O(ae,G),Be=W(Be,F(ae,K,O(ae,K)))));var qe=S.layout[m[K]];for(fe||(qe=W(F(S,K,Be+pe),pe)),ne=De;ne<_e;++ne)if(R(ae=S.children[ne])===h&&N(ae,f[K]))ae.layout[v[K]]=B(ae,f[K])+I(S,K)+_(ae,K);else{var He,Ge=ue;if(R(ae)===p)if((He=P(S,ae))===d)y(ae.layout[m[K]])&&(ae.layout[m[K]]=W(F(ae,K,qe-pe-A(ae,K)),T(ae,K)));else if(He!==c){var Ke=qe-pe-O(ae,K);Ge+=He===l?Ke/2:Ke}ae.layout[v[K]]+=Ie+Ge,fe&&V(S,ae,K)}Ie+=Be,Se=W(Se,Ne),ke+=1,be=_e}if(ke>1&&fe){var Je=S.layout[m[K]]-pe,Xe=Je-Ie,Ye=0,Qe=ue,Ze=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(S);Ze===u?Qe+=Xe:Ze===l?Qe+=Xe/2:Ze===d&&Je>Ie&&(Ye=Xe/ke);var et=0;for(ne=0;ne<ke;++ne){var tt=et,rt=0;for(ie=tt;ie<X;++ie)if(R(ae=S.children[ie])===p){if(ae.lineIndex!==ne)break;y(ae.layout[m[K]])||(rt=W(rt,ae.layout[m[K]]+A(ae,K)))}for(et=ie,rt+=Ye,ie=tt;ie<et;++ie)if(R(ae=S.children[ie])===p){var nt=P(S,ae);if(nt===c)ae.layout[v[K]]=Qe+_(ae,K);else if(nt===u)ae.layout[v[K]]=Qe+rt-w(ae,K)-ae.layout[m[K]];else if(nt===l){var it=ae.layout[m[K]];ae.layout[v[K]]=Qe+(rt-it)/2}else nt===d&&(ae.layout[v[K]]=Qe+_(ae,K))}Qe+=rt}}var at=!1,ot=!1;if(he||(S.layout[m[G]]=W(F(S,G,Se+C(S,G)),de),G!==n&&G!==a||(at=!0)),fe||(S.layout[m[K]]=W(F(S,K,Ie+pe),pe),K!==n&&K!==a||(ot=!0)),at||ot)for(ne=0;ne<X;++ne)ae=S.children[ne],at&&V(S,ae,G),ot&&V(S,ae,K);for(me=ve;null!==me;){for(ie=0;ie<2;ie++)oe=0!==ie?r:i,!y(S.layout[m[oe]])&&!L(me,oe)&&N(me,f[oe])&&N(me,g[oe])&&(me.layout[m[oe]]=W(F(me,oe,S.layout[m[oe]]-E(S,oe)-A(me,oe)-B(me,f[oe])-B(me,g[oe])),T(me,oe))),N(me,g[oe])&&!N(me,f[oe])&&(me.layout[f[oe]]=S.layout[m[oe]]-me.layout[m[oe]]-B(me,g[oe]));ae=me,me=me.nextAbsoluteChild,ae.nextAbsoluteChild=null}}function z(e,t,r){e.shouldUpdate=!0;var n=e.style.direction||"ltr";!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===n?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=n,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),$(e,t,r),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:$,computeLayout:z,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();function Qve(e){Yve.fillNodes(e),Yve.computeLayout(e)}var Zve=l(547),eme={view:Lve,image:jve,voip:Xve,camera:qve},tme;class rme{constructor(e,t){this.elementClassMap={},this.root=null;var r=Zve(e).root;this.addStyle(r,t),Qve(r),this.root=this.compose(r)}querySelector(e=""){return this.querySelectorAll(e)[0]||null}querySelectorAll(e=""){return e.startsWith(".")?this.elementClassMap[e.slice(1)]||[]:null}addStyle(e,t){var r=e.attributes,n={},i=["id","class","name"];e.tagName=e.name,Object.keys(r).forEach((a=>{var o=r[a];if(""===o||"true"===o?r[a]=!0:"false"===o&&(r[a]=!1),a.startsWith("data-")){i.push(a);var s=a.slice(5);n[s]=r[a]}"class"===a&&(e.class=o&&o.trim().split(/\s+/)||[],e.style=e.class.reduce(((e,r)=>{var n=t[r]||{};return Object.assign(e,n)}),{}))})),i.forEach((e=>delete r[e])),e.dataset=n,e.children.forEach((e=>{this.addStyle(e,t)}))}compose(e){var t=e.tagName,r=eme[t],{layout:n,attributes:i,dataset:a,content:o,style:s}=e;if(i.hidden)return null;"view"===t&&(i.label=s,i.label.content=o,i.label.padding=s.labelPadding);var c=new r({position:n,props:i,dataset:a,style:s});return e.class.forEach((e=>{this.elementClassMap[e]||(this.elementClassMap[e]=[]),this.elementClassMap[e].push(c)})),e.children.forEach((t=>{e.attributes.independent&&(t.attributes.independent=!0);var r=this.compose(t);r&&c.appendChild(r)})),c}}var nme="insertHTMLVConsoleView",ime="updateHTMLVConsoleView",ame="deleteHTMLVConsoleView",ome="sendToHTMLVConsoleView",sme=(tme=class extends xve{constructor(e={}){super(e),this._hide=!0,this.handleWindowResize=()=>{var{position:e}=this.getDefaultProps();e.left=this._hide?e.width:0,this.props.position=e,this.update()};var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,Cve(t,this.props))}getDefaultProps(){var{screenHeight:e=0,screenWidth:t=0,screenTop:r=0}=vy();return{independent:!0,hide:!0,position:{top:r,left:t,width:t,height:e}}}show(){var e=this;return cp()((function*(){if(e._hide)return e._hide=!1,e.props.position.left=0,e.update()}))()}hide(){var e=this;return cp()((function*(){if(!e._hide)return e._hide=!0,e.props.position.left=e.props.position.width,e.update()}))()}insertView(e){var t={htmlId:this.id,position:this.props.position,independent:this.props.independent};Object.assign(t,e),gu(nme,t),EK(this.handleWindowResize)}updateView(e){var t={htmlId:this.id,position:this.props.position,independent:this.props.independent};Object.assign(t,e),gu(ime,t)}removeView(e){var t=Object.assign({htmlId:this.id,independent:this.props.independent},e);gu(ame,t),AK(this.handleWindowResize)}postMessage(e){return new Promise(((t,r)=>{gu(ome,{htmlId:this.id,independent:this.props.independent,data:JSON.stringify(e),success:t,fail:r})}))}},F()(tme.prototype,"insertView",[wt],Object.getOwnPropertyDescriptor(tme.prototype,"insertView"),tme.prototype),F()(tme.prototype,"updateView",[wt],Object.getOwnPropertyDescriptor(tme.prototype,"updateView"),tme.prototype),F()(tme.prototype,"removeView",[wt],Object.getOwnPropertyDescriptor(tme.prototype,"removeView"),tme.prototype),tme),cme="https://res.wx.qq.com/op_res/QTADvaCvE516_xRgOJ7MxnMeM_I-9bk-ngeQrOE4O6SjCk0zj-YeAVwoWDzJEFsA",lme="https://res.wx.qq.com/op_res/uv-tkcFVNYmjSLo8oYLi6eHVUT_JFSWYhjoYd77-hNkfpHKJrm4qL1nTZBE7JdfM",ume="https://res.wx.qq.com/op_res/MMZ7ikr1yDWDciblT6cTjGEYi5X7nUBkmxeFiAYY6pTrTZTcVWlcLB8_CsIP---k",dme="https://res.wx.qq.com/op_res/VgAFtpPeKJeLoWBJ0QXzjP7ebzWqPqfVnfKclugzcpfp6_PkGC12B-uwBakQhvhP",pme="https://res.wx.qq.com/op_res/eG0naaMvi5-ResXXogaG1JfWqr7axjp_DgJu1Q-Al-_KPOFwDImGlDAd1y8rHxv2",hme="https://res.wx.qq.com/op_res/abRQv44fOA20modJp4dTaplyqzBvee7vYikt8Um1XjPwg4gGibt6kvjqG_ZgN4tl",fme="https://res.wx.qq.com/op_res/Wvt127UTzax9olBJldzRshntgwJBswVtASV7AoLiSSsx85W_g2Umr33qRtOElgvD",gme="https://res.wx.qq.com/op_res/ZjsLKqozyScMcOTIqmL1LHdV6M95Hz9luJu65Tf4jmzrYgBPKFKxKxDGw6GAaki9",vme="https://res.wx.qq.com/op_res/tqnj65wMmdaQDVBAia5726VAaVtTVOcFF9PgeVrkis1gJWt_C2k7pHYWC_pjaGjR",mme="https://res.wx.qq.com/op_res/7f8h7wvyZo92NU4yaA3Kwp4yXLkdgj8jsA4GFUO7G6r3rBObYxqqEeDP9pgm1O2k",yme="https://res.wx.qq.com/op_res/TnkjDXCOtdoxzei_oGVMdSiYu-0a3TBEgas1qwql8YYMyn8zwsFMDB0W272fSFZk",bme="https://res.wx.qq.com/op_res/XWPIP9W-ZHRXSdZMoQH_RzjZ2msJo3gNU7H9HkkV8ect4MGc6KJmXRjwBqr01Mb1",_me="https://res.wx.qq.com/op_res/wKk3iTI51g49P2MX1rfvuwvi-JfjpNM2z4wHFmXEwS8xOm0WZu0zcKnDR78QvoVo62u8fNsQEJ0rZFyWT_7K7A",wme="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABPFJREFUeAHtnF2IVkUYx/e1NI3AMrpSaI2UMkKwi6AgQRCCLtILwaSL8sIiwUTrRvrQoAgqPyD6EDQvVMyr8FaI9sLwQr0QK7WgJKKLvlZsdXNb335/nFme9+y++75zOrPvHJ0H/jzPzJkz88z/fWbOzJyz29eXJTOQGcgMZAYyA3VloFHG8WazOZ37NoA1YCG4HUwDVUmzooqGqOcHcADsajQaI6H1BhPkyDlKQ0tDG+tx+QHaXx5KUplfXZFTN3L028hn+R4kZSLoJC0sca1cRX8BLrp0amo2Dq0AM5xjp4igR6I6yRC7BLwcjtpYBZXj6OfeWfSl0CrLDDFNyF4GvZGwttFtfe/K5TIE2Xuqetp05WwFhazvXVUXfENXtd5AhTJBHX7MTFAvCOJp0Q8Ogn3gng4+JH351kjefUy9T7q6F0DSE6w/RiO1FbXaWENMezUvj2Fs9Ym66VgEvQER/xoythBFddyeVLoDH+OD4fQ1iW1jGdd3+vshaY7Jq4UZK4LU+XfAVzKczEPv9QmvIe0ZcBl8C/p9fm01nbDy6WQdoeBc8Lu9Afslfw/2NGD3du/6a1Vp6t8NxiS03pgR1MdQ+wWH1hac+gBvH3Z589F3mOv/GDsJMypB6iEkHUF9aHo7E/sQJM1CP2DyZX5XSPc8GZ0g18NX0adNbxdh7wAPmjyZZwvpnidjLRRbOkYUDRMxq8k8AfyRwwvYOi/2opOBcz6Rip6qCNJQ0/DZWOj4/SZ9gTJXTDoJMxpBRMw8cAb8AY6Dz+ix1kE/tul5cvOP/Iw5xLQOesiR8ShamEySm3/kbLQIou4Lk7ExwbWbLoLehIS/wDKgp1U/aPeDaILW9iQ5iTbEmHCv0dvtDn3MQVr/LARa+4gwr2/D1lvPb9DJSTSCij2FgGHytBay66FiseTS7UI+OUd75VAmqAPzmaBMUAcGOlzOEdSBoCl7inXwY9xllgUvkvky0BmRFpFaaXt93j0VyYorSRIEOdqifAQarvuLCzRco8xP5ImwL8FOt+7CrFaSJIguPg48ORP1WFPDfQ5Poe8Cr4PKJdU5SKvsELk3pHBI2VQjqHjS6PukoxK9KBCBgrYuv4ItIIqkSlC7CJoPC4PMN89HYWOCSpMbYky+OpK1Q+b7gt87KKMz7SmR5Aii1xo2doLeTfoTw8YsbL0VmWnyopkpElScf/Qo3wTscYjeq70fjRVTcYoEFeefs8w5V/B5NRg2vq8nip426ShmigTpAM3L3xh6cumtyBnUZtlG9kDSXJOu3EyRIM03GlaKmnV2hYyt1bU+XPdyN4a+GkmnHzhjRWuSKRUanwN+tk5gv9bOCa6l+/FCO6f/Tz5R9Cf3Pwt05u1lK0ToS7bKJZ3QDOgaJA1Q/G1zyy3Yb5l0ZWYtCXK934Y+ZpgYMXZlZqpbjY4dJIpGGVYrKfgemAGi7MdqS5AYhKTfUM/JjiV1HmKxOGmpNxPUQsf4RCZoPCctOWUIsusPu+tuqTjRRDPUrzIEXTaNzDZ2qqb1cSjUyTJPsfM0ssQ1tIJH7WFs/Wlm8K/j6oilFN13Arvjt99EdtVuGYIOUrMnSOuPVV21lEahA6FuBM8hRMx0GjkKloY21uPyA7Qf/x8LsDjTkn45eAWcAjqzsRM3ySREPsk3+Shfg8nhniyZgcxAZiAzkBmoMQP/Af+8lwiMNw+aAAAAAElFTkSuQmCC";function Ime(e){var t=`\n    <view class="container" independent="true" clickable="true">\n      <view class="overlay"></view>\n      <view class="navigationBar" clickable="true">${e.title}</view>\n\n      <view class="maxWindow"> \n        <view class="cameraContainer" hidden="${e.isVoiceRoom}">\n          <camera class="camera"></camera>\n        </view>\n        <view class="voipContainer" hidden="${e.isVoiceRoom}">\n          <view class="previewWindowSelfContainer"></view>\n          <view class="previewWindowOtherContainer"></view>\n        </view>\n\n        <image class="maskBottom" hidden="${e.isVoiceRoom}" iconPath="${yme}"></image>\n        <image class="maskTop" hidden="${e.isVoiceRoom}" iconPath="${bme}"></image>\n        <image class="maskVoice" hidden="${!e.isVoiceRoom}" iconPath="${_me}"></image>\n\n        <view class="mainContainer">\n          <view class="videoInfoWindowNicknameCenter" hide="true" hidden="${e.isVoiceRoom}">${e.nickname}</view>\n          <view class="videoInfoWindow" hidden="${e.isVoiceRoom}">\n            <view class="videoInfoWindowInfo">\n              <view class="videoInfoWindowNickname">${e.nickname}</view>\n              <view class="videoInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你视频通话"}</view>\n            </view>\n            ${e.headImage?`<image class="videoInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n          </view>\n\n          <view class="operationContainer videoOperationArea" hide="true" hidden="${e.isVoiceRoom}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon switchVoiceBtn" iconPath="${ume}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切到语音通话</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${pme}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon switchCameraBtn" iconPath="${cme}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切换摄像头</view>\n            </view>\n          </view>\n\n          <view class="voiceInfoWindow" hide="${!e.isVoiceRoom}" hidden="${e.disableSwitchVoice}">\n            ${e.headImage?`<image class="voiceInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n            <view class="voiceInfoWindowNickname">${e.nickname}</view>\n            <view class="voiceInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你语音通话"}</view>\n          </view>\n\n          <view class="operationContainer voiceOperationArea" hide="true" hidden="${e.disableSwitchVoice}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon muteBtn" iconPath="${fme}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">静音</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${pme}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon handsFreeBtn" iconPath="${gme}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">免提</view>\n            </view>\n          </view>\n\n          <view class="operationContainer callArea" hidden="${!e.isCaller}">\n            <view class="operationItemContainer callItemContainer">\n              <view class="operationItemTop switchVoiceBtn callSwitchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${lme}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon cancelBtn" iconPath="${pme}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">取消</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="operationContainer listenArea" hidden="${e.isCaller}">\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop"></view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon refuseBtn" iconPath="${pme}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">拒绝</view>\n              </view>\n            </view>\n            <view class="operationItemContainer listenItemContainer"></view>\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop switchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${lme}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon listenBtn" iconPath="${dme}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">接听</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="tips" hide="true">已接通</view>\n          <view class="duration" hide="true">00:01</view>\n          <view class="minPreviewWindowMask" clickable="true"></view>\n\n          <view class="scaleBtn" clickable="true">\n            <image class="scaleBtnIcon" iconPath="${wme}" clickable="true" bubbles="true"></image>\n          </view>\n        </view>\n      </view>\n    </view>\n  `,r=`\n    <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n      <view class="minWindowContainer">\n        <view class="minWindowLeft" clickable="true">\n          ${e.isVoiceRoom?"":`<view class="minWindowVoipContainer" transEvt="true">\n              <image class="minWindowHeadImage" iconPath="${e.headImage}"></image>\n              <view class="minWindowVoip"></view>\n            </view>`}\n          <view class="minWindowInfo" transEvt="true">\n            <view class="minWindowNickname">${e.nickname}</view>\n            <view class="minWindowDuration">等待接听</view>\n          </view> \n        </view>\n        <view class="minWindowRight minWindowHangupBtn" clickable="true">\n          <image class="minWindowHangupIcon" iconPath="${hme}" clickable="true" bubbles="true"></image>\n          <view class="minWindowHangupText" transEvt="true">挂断</view>\n        </view>\n      </view>\n    </view>\n  `;return 2===e.minWindowType&&(r=`\n      <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n        <view class="minWindowContainer">\n          <view class="minWindowVoipContainer" clickable="true">\n            ${e.isVoiceRoom?`<image class="minWindowHeadImage" iconPath="${hme}" clickable="true" bubbles="true"></image>`:`<image class="minWindowHeadImage" iconPath="${e.headImage}" clickable="true" bubbles="true"></image>\n            <view class="minWindowVoip" transEvt="true"></view>`}\n          </view>\n          <view class="minWindowInfo" clickable="true">\n            <view class="minWindowNickname" transEvt="true">${e.nickname}</view>\n            <view class="minWindowDuration" transEvt="true">等待接听</view>\n          </view>\n        </view>\n      </view>\n    `),{maxWindowTemplate:t,minWIndowTemplate:r}}var Sme={CALL:0,CANCEL:1,HANG_UP:2,SWITCH_VOICE:3,REFUSE:4,ACCEPT:5,ACCEPT_AND_SWITCH_VOICE:6,RECEIVE_CALL:7,BUSY:8,NETWORK_DISCONNECT:9,NETWORK_SIGNAL_WEAK:10,DEVICE_NOT_SUPPORT:11,DISABLE_CHAT:12,ARREAR:13,SYSTEM_ERROR:14,OFFLINE_RECOVERY:15},kme="voip1v1",Cme=6e4;class Eme{constructor(e){var{roomType:t="video",roomId:r="",groupId:n=0,disableSwitchVoice:i=!1,command:a=-1,caller:o={},listener:s={},sender:c=""}=e;this.roomType=t,this.roomId=r,this.groupId=n,this.disableSwitchVoice=i,this.command=a,this.caller=o,this.listener=s,this.sender=c}}function Ame(){var{screenWidth:e,screenHeight:t,statusBarHeight:r}=tb(),n=he?44:46,i=r+n+12,a=t-i,o=e-32,s=o-32-24,c=t-105,l=t-226,u=e-151,d=z.menuButtonInfo&&z.menuButtonInfo.zIndex||1e3,p={left:e-87,top:24,width:75,height:162},h={left:0,top:0,width:e,height:a};return{styleTree:{container:{width:e,height:t,zIndex:d-1},overlay:{position:"absolute",left:0,top:0,width:e,height:t,backgroundColor:"#000000",opacity:0},navigationBar:{marginTop:r,width:e,height:n,color:"#ffffff",lineHeight:n,fontSize:17,textAlign:"center",opacity:0},maxWindow:{position:"absolute",left:0,top:t,width:e,height:a+16,borderRadius:16,backgroundColor:"#262930"},cameraContainer:{position:"absolute",left:0,top:0,width:e,height:a},camera:{position:"absolute",left:0,top:0,width:e,height:a},voipContainer:{position:"absolute",left:0,top:0,width:e,height:a},mainContainer:{position:"absolute",left:0,top:0,width:e,height:a},videoAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},voiceAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},previewWindow:{width:e,height:a},scaleBtn:{position:"absolute",left:0,top:0,width:60,height:60},scaleBtnIcon:{position:"absolute",left:16,top:24,width:24,height:24},videoInfoWindow:{flexDirection:"row",justifyContent:"flex-end",position:"absolute",right:16,top:24,height:64,width:s},videoInfoWindowNicknameCenter:{position:"absolute",textAlign:"center",color:"#ffffff",lineHeight:20,fontSize:14,height:20,width:e,top:24,left:0},voiceInfoWindow:{position:"absolute",top:234,left:0,width:e,height:200,alignItems:"center"},voiceInfoWindowHeadImage:{width:96,height:96,borderRadius:16,marginBottom:8},voiceInfoWindowNickname:{width:e,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"center"},voiceInfoWindowTips:{marginTop:4,width:e,height:20,color:mae("rgba(255,255,255,0.9)"),lineHeight:20,fontSize:14,textAlign:"center"},duration:{position:"absolute",bottom:177,width:e,height:16,color:"#ffffff",lineHeight:16,fontSize:14,textAlign:"center"},tips:{position:"absolute",left:e/2-33,bottom:225,width:66,labelPadding:[0,12,0,12],height:28,color:"#ffffff",lineHeight:28,fontSize:14,textAlign:"center",backgroundColor:mae("rgba(0,0,0,0.5)"),borderRadius:6},operationContainer:{position:"absolute",flexDirection:"row",justifyContent:"space-between",bottom:0,width:e,height:149,paddingLeft:38,paddingRight:38},operationItemContainer:{width:84,height:149,alignItems:"center"},listenItemContainer:{height:235},listenArea:{height:235},callItemContainer:{height:235},callArea:{height:235,justifyContent:"center"},switchVoiceText:{marginTop:8},operationItemTop:{width:84,height:57,alignItems:"center"},operationItemBottom:{position:"absolute",bottom:0,left:0,width:84,height:149,alignItems:"center"},callBtnArea:{position:"absolute",bottom:0,left:0,width:e,height:149,alignItems:"center"},operationItemBtn:{borderRadius:32,justifyContent:"center",alignItems:"center",width:64,height:64},operationItemIcon:{width:64,height:64},switchVoiceIcon:{width:32,height:32},operationItemText:{marginTop:16,color:"#ffffffe5",lineHeight:17,fontSize:12,textAlign:"center",width:104,height:17,overflow:"visible"},videoInfoWindowInfo:{width:s-60,height:64},videoInfoWindowTips:{marginTop:6,width:s-60,height:20,color:mae("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14,textAlign:"right"},videoInfoWindowNickname:{width:s-60,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"right"},videoInfoWindowHeadImage:{marginLeft:12,width:64,height:64,borderRadius:8},minPreviewWindowMask:O()({position:"absolute"},p),previewWindowSelfContainer:O()(O()({position:"absolute"},p),{},{zIndex:2}),previewWindowOtherContainer:O()(O()({position:"absolute"},h),{},{zIndex:1}),maskTop:{position:"absolute",left:0,top:0,width:e,height:145},maskBottom:{position:"absolute",left:0,top:a-201,width:e,height:201},maskVoice:{position:"absolute",left:0,top:0,width:e,height:a}},minWindowStyle1:{minWindow:{position:"absolute",left:16,top:c,height:72,width:o,backgroundColor:mae("rgba(38,41,48,1)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:72,width:o},minWindowLeft:{flexDirection:"row",paddingLeft:12,paddingRight:12,height:48,width:s},minWindowVoipContainer:{paddingRight:12,width:56,height:48,borderRadius:6},minWindowHeadImage:{width:48,height:48,borderRadius:6},minWindowVoip:{position:"absolute",left:0,top:0,width:48,height:48,borderRadius:6},minWindowInfo:{paddingLeft:4,width:s-64,height:48},minWindowNickname:{width:s-64,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:4,width:s-64,height:20,color:mae("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14},minWindowRight:{width:32,height:51},minWindowHangupIcon:{width:32,height:32},minWindowHangupText:{marginTop:2,width:32,height:17,color:mae("rgba(255, 255, 255, 0.9)"),lineHeight:17,fontSize:12,textAlign:"center"}},minWindowStyle2:{minWindow:{position:"absolute",top:l,left:u,height:64,width:135,backgroundColor:mae("rgba(44,44,44,0.70)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:64,width:135},minWindowVoipContainer:{paddingLeft:12,paddingRight:12,width:64,height:40},minWindowHeadImage:{width:40,height:40,borderRadius:4},minWindowVoip:{position:"absolute",left:12,top:0,width:40,height:40,borderRadius:4},minWindowInfo:{width:59,height:43},minWindowNickname:{width:59,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:3,width:59,height:16,color:mae("rgba(255, 255, 255, 0.7)"),lineHeight:16,fontSize:14}},maxPreviewWindowPosition:h,minPreviewWindowPosition:p,minPreviewWindowVoipPosition:{left:0,top:0,width:75,height:162},screenWidth:e,minWindowLeft2:u,maxWindowTop:i,maxWindowHeight:a}}var Tme={},Pme=!1,xme=()=>{Pme||(Object.assign(Tme,Ame()),Pme=!0)},Mme=(e={})=>{var t=ed("getCloudSession","webapi_getcloudimsession",(e=>({use_pluginid:void 0!==e.pluginId})),(e=>{e.sessionKey=e.session_key,delete e.session_key}));e.pluginId=Gp(void 0),t(e)},Rme=(e={})=>{var t=ed("generateRoomId","webapi_join1v1voiproom",(e=>({use_pluginid:void 0!==e.pluginId,groupid:e.groupId,room_type:"join"===e.type?2:1,target_openid:e.targetOpenid||""})),(e=>{e.targetSupport=0===e.target_version,delete e.target_version,e.roomId=e.imroomid,delete e.imroomid,e.groupId=e.groupid,delete e.groupid}));e.pluginId=Gp(void 0),t(e)},Dme=(e={})=>{var t=ed("setVoIPChatRecord","webapi_set1v1voipcallrecord",(e=>({use_pluginid:void 0!==e.pluginId,caller_openid:e.callerOpenid,receiver_openid:e.listenerOpenid,video_time:e.videoTime||0,voice_time:e.voiceTime||0})),(()=>{}));e.pluginId=Gp(void 0),t(e)},Ome=(e={})=>{var t=operateWXDataFactory("getVoIPChatRecord","webapi_getapp1v1voipstatus",(e=>({use_pluginid:void 0!==e.pluginId,begin_date:e.begin,end_date:e.end})),(e=>{var t=e.voip_status||{},r={};r.voiceCount=t.voice_count||0,r.voiceTime=t.voice_time||0,r.videoCount=t.video_count||0,r.videoTime=t.video_time||0,e.status=r,delete e.voip_status}));e.pluginId=getPluginId(void 0),t(e)},Lme=(e={})=>{console.log("@@ deductVoIPCallPay: ",e);var t=ed("deductVoIPCallPay","webapi_deductapp1v1voipcallpay",(e=>({op_type:e.operationType,call_type:e.callType,use_pluginid:void 0!==e.pluginId,roomid:e.roomId,session_key:e.sessionKey})),(e=>{delete e.rawData}));e.pluginId=Gp(void 0),t(e)},Nme=Ru(RD),Bme=Ru(GR),Fme=Ru(Kne),Wme=Ru(Rme),jme=Ru(Mme),Vme=Ru(Lme),Ume={0:"#262930ff",1:"#FA5151ff",2:"#FA9D3Bff",3:"#3D7257ff",4:"#1485EEff",5:"#6467F0ff"},$me={enable:!1,ignoreSelfVersion:!1,minWindowType:1,popupDuration:300,userSessionInfo:{},widget:null,backgroundColor:Ume[0],occupied:!1},zme=(e,t)=>{var r=e.sender,n=$me.userSessionInfo.openid,i=Object.assign({},e,{sender:n,command:t});dve({msgType:kme,receiver:r,data:i,complete(e){JSON.stringify(i)}})},qme=()=>!(pe&&z.clientVersion>=654315520||he&&z.clientVersion>=402653184);hve((e=>{var{msgType:t,data:r}=e,n=$me.widget;t===kme&&(JSON.stringify(e),n?r.sender===n.sessionInfo.otherOpenid?n.handleReceiveMessage(r.command):n.sendMessage(Sme.BUSY):r.command===Sme.CALL&&Kme().then((()=>{qme()&&!$me.ignoreSelfVersion?zme(r,Sme.DEVICE_NOT_SUPPORT):$me.enable?wae({complete(e){$me.occupied=e.join,$me.occupied?zme(r,Sme.BUSY):Vme({roomId:r.roomId,sessionKey:$me.userSessionInfo.sessionKey,callType:"video"===r.roomType?1:0,operationType:1}).then((e=>{var t=parseInt(e.errcode,10),n=parseInt(e.unused_quota_count,10);0===t&&n>0?$me.widget=new Hme(O()({role:"listener",minWindowType:$me.minWindowType,backgroundColor:$me.backgroundColor},r)):zme(r,Sme.ARREAR)})).catch((e=>{console.log("[1v1 voip] deductVoIPCallPay fail: ",e),zme(r,Sme.SYSTEM_ERROR)}))}}):zme(r,Sme.DISABLE_CHAT)})))})),vve((e=>{JSON.stringify(e);var t=new Set,r=null===$me.widget;e.filter((e=>e.msgType===kme)).forEach((e=>{var{sendTime:n,data:i}=e;t.has(i.sender)||Date.now()-n>Cme||i.command===Sme.CALL&&r&&(t.add(i.sender),zme(i,Sme.OFFLINE_RECOVERY))}))})),pg((e=>{$me.widget&&$me.widget.onNetworkStatusChange(e)})),aie((e=>{$me.widget&&$me.widget.onVoIPChatInterrupted(e)})),Qne((e=>{$me.widget&&$me.widget.onVoIPChatMembersChanged(e)}));class Hme{constructor(e){var t={};t.roomType=e.roomType||"video",t.isVoiceRoom="voice"===e.roomType,t.isCaller="caller"===e.role,t.groupId=e.groupId,t.roomId=e.roomId,t.disableSwitchVoice=e.disableSwitchVoice||!1,t.minWindowType=e.minWindowType||1,t.caller=e.caller,t.listener=e.listener,t.lifespan=$me.userSessionInfo.lifespan,t.sessionKey=$me.userSessionInfo.sessionKey,t.createSessionTime=$me.userSessionInfo.createSessionTime,t.handsFree=!t.isVoiceRoom,t.muteConfig={muteMicrophone:!1,muteEarphone:!1},t.backgroundColor=e.backgroundColor,this.node={container:null,overlay:null,navigationBar:null,maxWindow:null,scaleBtn:null,hangupBtns:null,muteBtn:null,handsFreeBtn:null,cancelBtn:null,refuseBtn:null,listenBtn:null,switchVoiceBtns:null,switchCameraBtn:null,cameraContainer:null,voipContainer:null,videoOperationArea:null,voiceOperationArea:null,videoInfoWindow:null,voiceInfoWindow:null,videoInfoWindowNicknameCenter:null,callArea:null,listenArea:null,minPreviewWindowMask:null,previewWindowSelfContainer:null,previewWindowOtherContainer:null,previewWindowSelf:null,previewWindowOther:null,tips:null,camera:null,duration:null,minWindow:null,minWindowLeft:null,minWindowInfo:null,minWindowHangupBtn:null,minWindowDuration:null,minWindowVoipContainer:null,minWindowVoip:null,minWindowHeadImage:null,videoInfoWindowTips:null,voiceInfoWindowTips:null,maskBottom:null,maskTop:null,maskVoice:null,callSwitchVoiceBtn:null,mainContainer:null},this.statistics={videoStartTime:0,videoEndTime:0,voiceStartTime:0,voiceEndTime:0},this.callback={success:e.success,fail:e.fail,complete:e.complete},t.isCaller?(t.selfOpenid=e.caller.openid,t.otherOpenid=e.listener.openid):(t.otherOpenid=e.caller.openid,t.selfOpenid=e.listener.openid),this.sessionInfo=t,this.isPreviewWindowOtherMax=!0,this.hasOtherReceiveCall=!1,this.showMinWindow=!1,this.onDraging=!1,this.onCalling=!1,this.destoryed=!1,this.hasJoinVoIPChat=!1,this.startChatTime=0;var{maxWindowTemplate:r,minWIndowTemplate:n}=this.compileTemplate(t);xme(),Tme.styleTree.maxWindow.backgroundColor=t.isVoiceRoom?t.backgroundColor:Ume[0];var i=new rme(r,Tme.styleTree),a=this.isMinWindowTypeMax()?Tme.minWindowStyle1:Tme.minWindowStyle2;a.minWindow.backgroundColor=t.backgroundColor;var o=new rme(n,a);Object.keys(this.node).forEach((e=>{this.node[e]=i.querySelector(`.${e}`)}));["minWindow","minWindowLeft","minWindowRight","minWindowHangupBtn","minWindowDuration","minWindowInfo","minWindowVoipContainer","minWindowHeadImage","minWindowVoip","minWindowContainer"].forEach((e=>{this.node[e]=o.querySelector(`.${e}`)})),this.node.hangupBtns=i.querySelectorAll(".hangupBtn"),this.node.switchVoiceBtns=i.querySelectorAll(".switchVoiceBtn"),this.bindEvent(),this.node.container.insert(),this.node.minWindow.insert(),this.startWaitAnimation(),t.isCaller||(this.startVibrateLong(),this.sendMessage(Sme.RECEIVE_CALL)),t.isCaller&&(setTimeout((()=>{this.destoryed||this.onCalling||this.showMinWindow||this.showTips(yve[1],2e4)}),2e4),setTimeout((()=>{this.destoryed||this.onCalling||(this.sendMessage(Sme.CANCEL),this.showTipsThenDestory(yve[2]))}),6e4),this.call()),this.payTimer=setInterval((()=>{this.onCalling&&Vme({roomId:t.roomId,sessionKey:t.sessionKey,callType:t.isVoiceRoom?0:1,operationType:2}).then((e=>{var t=parseInt(e.errcode,10);3===t?(this.sendMessage(Sme.ARREAR),this.showTipsThenDestory(_ve[8])):0!==t&&(this.sendMessage(Sme.SYSTEM_ERROR),this.showTipsThenDestory(_ve[2]))})).catch((e=>{this.sendMessage(Sme.SYSTEM_ERROR),this.showTipsThenDestory(_ve[2])}))}),Cme)}bindEvent(){var{container:e,overlay:t,navigationBar:r,scaleBtn:n,maxWindow:i,minWindow:a,minWindowLeft:o,minWindowInfo:s,minWindowHangupBtn:c,cancelBtn:l,refuseBtn:u,listenBtn:d,muteBtn:p,handsFreeBtn:h,minPreviewWindowMask:f,switchCameraBtn:g,hangupBtns:v,switchVoiceBtns:m,minWindowVoipContainer:y,minWindowContainer:b,mainContainer:_}=this.node;e.on("ready",(()=>{this.popupMaxWindow(),r.fadeTo(.9,$me.popupDuration),t.fadeTo(.87,$me.popupDuration),this.changeStatusBarColor()})),n&&n.on("click",(()=>{this.resetStatusBarColor(),this.showMinWindow=!0;var n=this.sessionInfo.isVoiceRoom;r.hide(),t.fadeOut(),_.hide(),this.popDownMaxWindow().then((()=>{e.hide()})),this.showMinWindowVoipPreviewWindow(),!n&&this.onCalling&&this.hideOtherVoipPreviewWindow(),setTimeout((()=>{n?(this.hideMask(),b.style.opacity=0,b.update(),a.fadeIn(5),b.fadeTo(1,200)):a.fadeIn(200)}),200)}));var w=()=>{var e=this.onCalling?_ve[5]:yve[4],t=this.onCalling?Sme.HANG_UP:Sme.CANCEL;this.sendMessage(t),this.showTipsThenDestory(e,0)},I=()=>{if(!this.onDraging){this.showMinWindow=!1;var{isVoiceRoom:n}=this.sessionInfo;!n&&this.onCalling&&this.showOtherVoipPreviewWindow(),this.hideMinWindowVoipPreviewWindow(),e.show(),n?b.fadeTo(0,100).then((()=>{this.showMask(),a.fadeOut(5).then((()=>{b.style.opacity=1,b.update()}))})):a.fadeOut(100),t.show(),t.fadeTo(.87,$me.popupDuration),this.popupMaxWindow().then((()=>{this.node.maxWindow.style.borderRadius=16,this.node.maxWindow.update(),r.show(),_.show()})),this.changeStatusBarColor()}};c&&c.on("click",(()=>{w()})),o&&o.on("click",(()=>{I()})),s&&s.on("click",(()=>{this.isMinWindowTypeMax()||I()})),y&&y.on("click",(()=>{var{isVoiceRoom:e}=this.sessionInfo;this.isMinWindowTypeMax()||(e?w():I())})),a&&a.on("drag",(e=>{var t=a.position.width/2,r=Tme.screenWidth/2,n=e.stage,o=e.drag;"dragging"===n&&(this.onDraging=!0),"end"===n&&this.onDraging&&(this.onDraging=!1,a.position.left=16,o.left+t>r&&!this.isMinWindowTypeMax()&&(a.position.left=Tme.minWindowLeft2),a.position.top=o.top,a.animate({finalStyle:O()({},a.position),duration:100}),i.position=Object.assign({},a.position),i.update())})),p&&p.on("click",(()=>{var e=this.sessionInfo.muteConfig,t=!e.muteMicrophone;e.muteMicrophone=t,Xne({muteConfig:{muteMicrophone:t}});var r=t?vme:fme;p.props.iconPath=r,p.update()})),l&&l.on("click",(()=>{this.sendMessage(Sme.CANCEL),this.showTipsThenDestory(yve[4])})),u&&u.on("click",(()=>{this.stopVibrateLong(),this.sendMessage(Sme.REFUSE),this.showTipsThenDestory(bve[2])})),v.forEach((e=>{e.on("click",(()=>{this.sendMessage(Sme.HANG_UP),this.showTipsThenDestory(_ve[5])}))})),h&&h.on("click",(()=>{this.toggleHandsFree();var{handsFree:e}=this.sessionInfo;this.showTips(Sve[e?6:7])})),m.forEach((e=>{e.on("click",(()=>{var{isCaller:e}=this.sessionInfo;this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.onCalling||e?(this.switchToVoiceCall(),this.showTips(_ve[7]),this.sendMessage(Sme.SWITCH_VOICE)):(this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),this.toggleHandsFree(),this.showTips(_ve[7]),this.sendMessage(Sme.ACCEPT_AND_SWITCH_VOICE),this.showDuration()})))}))})),d&&d.on("click",(()=>{this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{var{isVoiceRoom:e}=this.sessionInfo,t=e?Ive[0]:bve[0];this.onCalling=!0,this.stopWaitAnimation(),this.showTips(t),this.showDuration(),this.pullUpCallingInterface(),this.sendMessage(Sme.ACCEPT)}))})),g&&g.on("click",(()=>{var e=this.node.previewWindowSelf,t="front"===e.props.configCamera?"back":"front";e.props.configCamera=t,e.update()})),f&&f.on("click",(()=>{this.switchVoipPreviewWindow()}))}toggleHandsFree(){var{handsFree:e,muteConfig:t}=this.sessionInfo,r=!e;Xne({muteConfig:t,handsFree:r});var{handsFreeBtn:n}=this.node;n&&(n.props.iconPath=r?mme:gme,n.update()),this.sessionInfo.handsFree=r}isMinWindowTypeMax(){return 1===this.sessionInfo.minWindowType}call(){var e=this.callback;Date.now();Wme({type:"create",targetOpenid:this.sessionInfo.otherOpenid}).then((t=>{Date.now();this.sessionInfo.groupId=t.groupId,this.sessionInfo.roomId=t.roomId,Vme({roomId:this.sessionInfo.roomId,sessionKey:$me.userSessionInfo.sessionKey,callType:"video"===this.sessionInfo.roomType?1:0,operationType:1}).then((t=>{var r=parseInt(t.errcode,10),n=parseInt(t.unused_quota_count,10);if(0===r&&n>0)Fme(O()({},this.sessionInfo)).then((t=>{this.hasJoinVoIPChat=!0,this.playCallTone();Date.now();this.sendMessage(Sme.CALL);var r="join1v1Chat:ok";e.success&&e.success({errMsg:r,errCode:0}),e.complete&&e.complete({errMsg:r,errCode:0})})).catch((t=>{this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("join1v1VoIPChat","join1v1Chat");e.fail&&e.fail({errMsg:r,errCode:t.errCode}),e.complete&&e.complete({errMsg:r,errCode:t.errCode})}));else{this.showTipsThenDestory(_ve[8]);var i=`join1v1Chat:fail ${t.errmsg}`;e.fail&&e.fail({errMsg:i,errCode:r}),e.complete&&e.complete({errMsg:i,errCode:r})}})).catch((t=>{this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("deductVoIPCallPay","join1v1Chat");e.fail&&e.fail({errMsg:r}),e.complete&&e.complete({errMsg:r})}))}))}reCall(){this.onCalling,this.onCalling||this.sendMessage(Sme.CALL)}listenerJoinVoIPChat(){return Wme({type:"join",groupId:this.sessionInfo.groupId}).then((e=>(this.sessionInfo.groupId=e.groupId,this.sessionInfo.roomId=e.roomId,Fme(O()({},this.sessionInfo)).then((e=>{this.hasJoinVoIPChat=!0})).catch((e=>{this.showTipsThenDestory("接听失败"),v.error(e)})))))}onVoIPChatInterrupted(){this.showTipsThenDestory(_ve[2])}onVoIPChatMembersChanged(e){var t=e.openIdList,{selfOpenid:r,isCaller:n}=this.sessionInfo,{callSwitchVoiceBtn:i}=this.node;2===t.length&&n&&(i&&i.hide(),this.showDuration()),this.onCalling&&1===t.length&&t[0]===r?this.showTipsThenDestory(_ve[4]):n||1!==t.length||t[0]!==r||this.showTipsThenDestory(_ve[4])}sendMessage(e){if(!this.destoryed){var{otherOpenid:t,selfOpenid:r}=this.sessionInfo,n=new Eme(O()(O()({},this.sessionInfo),{},{sender:r,command:e}));dve({msgType:kme,receiver:t,data:n,complete(e){}})}}handleReceiveMessage(e){var{isVoiceRoom:t}=this.sessionInfo;switch(e){case Sme.CALL:this.sendMessage(Sme.BUSY);break;case Sme.ACCEPT:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),!t&&this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()),this.showTips(yve[3]);break;case Sme.SWITCH_VOICE:this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.switchToVoiceCall(),this.showTips(_ve[6]);break;case Sme.ACCEPT_AND_SWITCH_VOICE:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.pullUpCallingInterface(),this.toggleHandsFree(),this.showTips(_ve[6]);break;case Sme.RECEIVE_CALL:this.hasOtherReceiveCall=!0;break;case Sme.CANCEL:this.showTipsThenDestory(bve[1]);break;case Sme.REFUSE:var r=t?wve[5]:yve[5];this.showTipsThenDestory(r);break;case Sme.HANG_UP:this.showTipsThenDestory(_ve[4]);break;case Sme.NETWORK_SIGNAL_WEAK:this.showTips(_ve[0]);break;case Sme.BUSY:this.showTipsThenDestory(yve[6]);break;case Sme.DEVICE_NOT_SUPPORT:this.showTipsThenDestory(wve[0]);break;case Sme.DISABLE_CHAT:this.showTipsThenDestory(wve[7]);break;case Sme.ARREAR:case Sme.SYSTEM_ERROR:break;case Sme.OFFLINE_RECOVERY:this.reCall()}}onNetworkStatusChange(e){var{isConnected:t,networkType:r}=e,{isVoiceRoom:n}=this.sessionInfo;t?("2g"===r||!n&&"3g"===r)&&(this.sendMessage(Sme.NETWORK_SIGNAL_WEAK),this.showTips(_ve[1])):this.showTipsThenDestory(_ve[3])}switchToVoiceCall(){this.toggleHandsFree();var{videoInfoWindowNicknameCenter:e,voipContainer:t,cameraContainer:r,switchVoiceBtns:n,videoInfoWindow:i,voiceInfoWindow:a,voiceInfoWindowTips:o,videoOperationArea:s,voiceOperationArea:c,minWindowVoipContainer:l,minWindowInfo:u,minWindowHeadImage:d,maskBottom:p,maskTop:h}=this.node,{isCaller:f}=this.sessionInfo;p&&(p.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),this.isMinWindowTypeMax()?(l&&l.remove(),u.position=Object.assign({},u.position,{left:16,top:0}),u.update()):(d.props.iconPath=hme,d.update()),this.onCalling?(f||(this.statistics.videoEndTime=Date.now(),this.statistics.voiceStartTime=Date.now()),t&&t.remove(),this.node.voipContainer=null,e.hide(),o.hide(),a.show(),s.hide(),c.show()):(r&&r.remove(),this.node.cameraContainer=null,i.hide(),a.show(),n.forEach((e=>e.hide())))}pullUpCallingInterface(){if(this.onCalling){var{isVoiceRoom:e}=this.sessionInfo,{videoInfoWindow:t,videoOperationArea:r,listenArea:n,callArea:i,videoInfoWindowNicknameCenter:a,voiceInfoWindow:o,voiceInfoWindowTips:s,voiceOperationArea:c,cameraContainer:l,minWindowVoipContainer:u,minWindowInfo:d,minWindowHeadImage:p,maskTop:h,maskBottom:f}=this.node;i&&i.hide(),n&&n.hide(),t&&t.hide(),l&&l.remove(),this.node.cameraContainer=null,e?(f&&(f.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),o.show(),s.hide(),c.show(),this.isMinWindowTypeMax()?(u&&u.remove(),d.position=Object.assign({},d.position,{left:16,top:0}),d.update()):(p.props.iconPath=hme,p.update())):(this.showVoipPreViewWindow(),o&&o.hide(),a.show(),r.show(),this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()))}}destory(){clearInterval(this.payTimer),this.hideDuration(),this.resetStatusBarColor(),this.stopWaitAnimation(),this.onCalling=!1,this.destoryed=!0,this.hasJoinVoIPChat&&Jne(),this.node.container.remove(),this.node.minWindow.remove(),$me.widget=null}showTipsThenDestory(e,t=2e3){this.stopCallTone(),this.stopVibrateLong(),0===t?this.destory():this.showTips(e,t).then((()=>this.destory()))}showTips(e,t=2e3){if(this.showTipsTimier&&clearTimeout(this.showTipsTimier),this.showMinWindow)return rE({title:e,icon:"none",duration:t}),new Promise((e=>{setTimeout((()=>{e()}),t)}));var r=this.node.tips,n=r.measureText(e)+28,i=(Tme.screenWidth-n)/2;return r.label.content=e,r.position.left=i,r.position.width=n,r.props.hide=!1,r.update(),new Promise((e=>{this.showTipsTimier=setTimeout((()=>{this.destoryed||r.hide(),e()}),t)}))}changeStatusBarColor(){gu("setStatusBarStyle",{color:"white"})}resetStatusBarColor(){var e=sG().frontColor;gu("setStatusBarStyle",{color:"#ffffff"===e?"white":"black"})}showVoipPreViewWindow(){var{otherOpenid:e,selfOpenid:t}=this.sessionInfo;this.createVoipPreviewWindow({self:!1,openid:e,size:"max"}),this.createVoipPreviewWindow({self:!0,openid:t,size:"min"})}showOtherVoipPreviewWindow(){var{otherOpenid:e}=this.sessionInfo,t=this.isPreviewWindowOtherMax?"max":"min";this.createVoipPreviewWindow({self:!1,openid:e,size:t})}hideOtherVoipPreviewWindow(){var{previewWindowOther:e}=this.node;e&&e.remove()}showMinWindowVoipPreviewWindow(){var{otherOpenid:e,isVoiceRoom:t}=this.sessionInfo,{minWindowVoip:r,cameraContainer:n}=this.node;if(!t){r&&r.empty(),n&&n.empty();var i=this.isMinWindowTypeMax()?48:40,a=this.isMinWindowTypeMax()?48:40,o=null;this.onCalling&&(o=new Xve({position:{left:0,top:0,width:a,height:i},props:{independent:!0,self:!1,openid:e}})),o&&(r.appendChild(o),o.insert())}}hideMinWindowVoipPreviewWindow(){var{minWindowVoip:e,cameraContainer:t}=this.node;if(e&&e.empty(),!this.onCalling&&t){var r=new qve({position:{left:0,top:0,width:Tme.screenWidth,height:Tme.maxWindowHeight}});t.appendChild(r),t.insert()}}switchVoipPreviewWindow(){var{previewWindowOther:e,previewWindowSelf:t}=this.node;if(t&&e){var r=this.isPreviewWindowOtherMax?"max":"min",n=this.isPreviewWindowOtherMax?"min":"max";this.adjustVoipPreviewWindow(t,r),this.adjustVoipPreviewWindow(e,n),this.isPreviewWindowOtherMax=!this.isPreviewWindowOtherMax}}adjustVoipPreviewWindow(e,t){var r="max"===t,n=e.parent,i=r?Tme.maxPreviewWindowPosition:Tme.minPreviewWindowPosition,a=r?Tme.maxPreviewWindowPosition:Tme.minPreviewWindowVoipPosition,o=r?1:2;n.position=i,e.position=a,n.style.zIndex=o,n.update(),e.update()}createVoipPreviewWindow(e){var{size:t,self:r,openid:n}=e,{previewWindowSelfContainer:i,previewWindowOtherContainer:a}=this.node,o="max"===t?Tme.maxPreviewWindowPosition:Tme.minPreviewWindowVoipPosition,s=r?i:a,c=new Xve({position:o,props:{independent:!0,self:r,openid:n}});this.node[r?"previewWindowSelf":"previewWindowOther"]=c,s.appendChild(c),c.insert()}startWaitAnimation(){this.sessionInfo.isCaller&&(this.waitCount=0,this.waitTimer=setInterval((()=>{var{voiceInfoWindowTips:e,videoInfoWindowTips:t}=this.node,r=`正在等待对方接收邀请${new Array(++this.waitCount).fill(".").join("")}`;this.waitCount%=3,t&&(t.label.content=r,t.update()),e&&(e.label.content=r,e.update())}),800))}stopWaitAnimation(){clearInterval(this.waitTimer)}playCallTone(){bae({type:"play"})}stopCallTone(){bae({type:"stop"})}startVibrateLong(){this.vibrateLongTimer=setInterval((()=>{vO()}),2e3)}stopVibrateLong(){clearInterval(this.vibrateLongTimer)}showDuration(){var{duration:e,minWindowDuration:t}=this.node,{isVoiceRoom:r,isCaller:n}=this.sessionInfo;n||(r?this.statistics.voiceStartTime=Date.now():this.statistics.videoStartTime=Date.now()),this.startChatTime||(this.startChatTime=Date.now()),e.show(),this.durationTimer=setInterval((()=>{if(!this.destoryed){var n=Math.ceil((Date.now()-this.startChatTime)/1e3),i=yae(n);e.label.content=i,e.update();var a=this.isMinWindowTypeMax()?r?`音频通话中 ${i}`:`通话中 ${i}`:i;t.label.content=a,t.update()}}),1e3)}hideDuration(){var{isCaller:e,isVoiceRoom:t,caller:r,listener:n}=this.sessionInfo;if(this.onCalling&&!e){t?this.statistics.voiceEndTime=Date.now():this.statistics.videoEndTime=Date.now();var{videoEndTime:i,videoStartTime:a,voiceEndTime:o,voiceStartTime:s}=this.statistics,c=Math.ceil((i-a)/1e3),l=Math.ceil((o-s)/1e3);Dme({callerOpenid:r.openid,listenerOpenid:n.openid,videoTime:c,voiceTime:l,complete(e){}})}clearInterval(this.durationTimer)}popupMaxWindow(){return this.node.maxWindow.animate({finalStyle:{top:Tme.maxWindowTop,left:0,width:Tme.screenWidth,height:Tme.maxWindowHeight},duration:$me.popupDuration})}changeMaxWindowBackground(){var{maxWindow:e}=this.node;e.style.bgColor=this.sessionInfo.backgroundColor,e.update()}hideMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.hide(),t&&t.hide(),r&&r.hide()}showMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.show(),t&&t.show(),r&&r.show()}popDownMaxWindow(){var{minWindow:e,minWindowVoip:t}=this.node,{isVoiceRoom:r}=this.sessionInfo,n={},i=9.6;return r?Object.assign(n,e.position):(n={left:e.position.left+12,top:e.position.top+12,width:t.position.width,height:t.position.height},i=Tme.minWindowStyle1?6:4),this.node.maxWindow.style.borderRadius=i,this.node.maxWindow.update(),this.node.maxWindow.animate({finalStyle:O()({},n),duration:$me.popupDuration})}compileTemplate(){var e=this.sessionInfo,t=e.isCaller?e.listener:e.caller;return Ime({title:z.accountInfo.nickname,nickname:t.nickname,headImage:t.headImage,disableSwitchVoice:e.disableSwitchVoice,isVoiceRoom:e.isVoiceRoom,isCaller:e.isCaller,minWindowType:e.minWindowType})}}var Gme=["on call","wechat has no camera authorization","wechat has no record authorization","miniprogram has no record authorization","miniprogram has no camera authorization","device not support","not open 1v1 Chat","system error","occupied by other miniprogram"],Kme=()=>{var e=Math.ceil(Date.now()/1e3),{lifespan:t,createSessionTime:r}=$me.userSessionInfo;return r&&t&&e<r+t?Promise.resolve():jme().then((t=>{Object.assign($me.userSessionInfo,{openid:t.openid,lifespan:t.lifespan,sessionKey:t.sessionKey,createSessionTime:e-3600})}),(e=>{}))},Jme=(e={})=>{if(xc("setEnable1v1Chat",e,{enable:!0})){Kme();var t="ok",r=0;if(qme()&&!e.ignoreSelfVersion)return r=-20001,t=Gme[5],void Rc("setEnable1v1Chat",e,t,r);if(!e.enable)return $me.enable=!1,$me.ignoreSelfVersion=e.ignoreSelfVersion||!1,void Oc({name:"setEnable1v1Chat",args:e});var{cameraAuthorized:n,microphoneAuthorized:i}=vy();if(!n||!i)return n||(r=-30001,t=Gme[1]),i||(r=-30002,t=Gme[2]),void ZC({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){Rc("setEnable1v1Chat",e,t,r)}});Nme().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?($me.enable=!0,$me.ignoreSelfVersion=e.ignoreSelfVersion||!1,$me.minWindowType=Ve(e.minWindowType)?e.minWindowType:1,$me.backgroundColor=Ve(e.backgroundType)?Ume[e.backgroundType]:Ume[0],Oc({name:"setEnable1v1Chat",args:e})):a?i||Bme({scope:"scope.camera"}).then((()=>{Jme(e)}),(()=>{r=-30004,t=Gme[4],Rc("setEnable1v1Chat",e,t,r)})):Bme({scope:"scope.record"}).then((()=>{Jme(e)}),(()=>{r=-30003,t=Gme[3],Rc("setEnable1v1Chat",e,t,r)}))}))}},Xme=e=>{var t="ok",r=0;if(qme()&&!e.ignoreSelfVersion?(r=-20001,t=Gme[5]):$me.widget?(r=-20002,t=Gme[0]):$me.occupied&&(r=-20003,t=Gme[8]),"ok"===t){var{cameraAuthorized:n,microphoneAuthorized:i}=vy();if(!n||!i)return n||(t=Gme[1],r=-30001),i||(t=Gme[2],r=-30002),void ZC({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){Rc("join1v1Chat",e,t,r)}});Nme().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?Kme().then((()=>{wae({complete(n){if($me.occupied=n.join,$me.occupied)t=Gme[8],Rc("join1v1Chat",e,t,r=-20003);else{var i=Object.assign({role:"caller"},e);i.backgroundColor=Ve(e.backgroundType)?Ume[e.backgroundType]:Ume[0],i.caller.openid=$me.userSessionInfo.openid,$me.widget=new Hme(i)}}})}),(()=>{t=Gme[7],Rc("join1v1Chat",e,t,r=-3e4)})):a?i||Bme({scope:"scope.camera"}).then((()=>{Xme(e)}),(()=>{t=Gme[4],Rc("join1v1Chat",e,t,r=-30004)})):Bme({scope:"scope.record"}).then((()=>{Xme(e)}),(()=>{t=Gme[3],Rc("join1v1Chat",e,t,r=-30003)}))}))}else Rc("join1v1Chat",e,t,r)},Yme=!1;z.onReady((()=>{Yme=Yme||1055===(z.appLaunchInfo||{}).scene})),zS((e=>{Yme=Yme||1055===e.scene}));var Qme=e=>{Yme?gu("navigateBackH5",e):Rc("navigateBackH5",e,"not HTML5 page can navigate back.")},Zme=e=>{if(xc("openBusinessView",e,{businessType:""})){var t=Object.assign({},e);delete t.sourcetype,delete t.preScene,delete t.preSceneNote,delete t.agentId,delete t.privateExtraData,delete t.scene,delete t.sceneNote,gu("openBusinessView",t)}},eye=(e={})=>{if(De()){var t="";Xe(e.extraData)&&(t=JSON.stringify(e.extraData)),gu("navigateBackApplication",Object.assign({},e,{extraData:t}))}else Rc(e,"permission denied",1)},tye=(e={})=>{var t="";Xe(e.extraData)&&(t=JSON.stringify(e.extraData)),he&&z.clientVersion<=385877035||pe&&z.clientVersion<=654312491?Rc("navigateBackNative",e,"does not exist."):gu("navigateBackNative",Object.assign({},e,{extraData:t}))};class rye extends EC{constructor({id:e,parentId:t,style:r,props:n={},type:i="text",name:a="",autoInsert:o=!1,eventType:s="touch",clickState:c=!1,bubbleEvent:l=!1,independent:u=!1}={}){super({id:e,style:r,props:Object.assign(n,{fullscreen:!1}),name:a,parentId:t}),this.type="text"===i?"TextView":"ImageView",this.eventType=s,this.autoInsert=o,this.bubbleEvent=l,this.independent=u,"touch"===this.eventType&&c&&this.ready().then((()=>{this.mask=new rye({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click",independent:this.independent}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var d=Date.now(),p={x:0,y:0};this.on("touchstart",(e=>{c&&this.mask&&(this.mask.style.hidden=!1),d=Date.now(),p=e}));var h=e=>{c&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var r={x:0,y:0};Array.isArray(e)?r=e.pop():e.x&&e.y&&(r=e);var n={absoluteX:t.left+p.x,absoluteY:t.top+p.y,relativeX:p.x,relativeY:p.y,absoluteEndX:t.left+r.x,absoluteEndY:t.top+r.y,relativeEndX:r.x,relativeEndY:r.y,pressInterval:Date.now()-d};this.emit("click",n)};this.on("touchend",h),this.on("touchcancel",h),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=mC(this.computedStyle[t])),e)),{});t.bgColor=mC(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var r={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(r={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(r.width=0,r.height=0),this.mask&&(this.mask.style.width=r.width,this.mask.style.height=r.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:r,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed,independent:this.independent}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,r)=>{gu(`insert${this.type}`,Object.assign(e,{success:e=>{dC(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:r}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,r)=>{gu(`update${this.type}`,Object.assign(e,{success:t,fail:r}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id};return new Promise(((t,r)=>{gu(`remove${this.type}`,Object.assign(e,{success:t,fail:r}))}))}animate({left:e,top:t,opacity:r,scaleWidth:n,scaleHeight:i,rotate:a=0,duration:o=500}={}){var s={dest:this.dest,viewId:this.id,easing:"ease-in",duration:o,finalStyle:{left:e,top:t,opacity:r,rotate:a,scaleX:n,scaleY:i},independent:this.independent};return new Promise(((e,t)=>{gu("animateCoverView",Object.assign(s,{success:e,fail:t}))})).then((o=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==n&&(this.style.scaleWidth=n),void 0!==i&&(this.style.scaleHeight=i),void 0!==r&&(this.style.opacity=r),void 0!==a&&(this.style.rotate=a),o))).catch((e=>{v.error("animateCoverView fail",e)}))}}class nye extends rye{constructor({id:e,style:t,value:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s,independent:c=!1}={}){super({id:e,style:t,props:{value:r},type:"text",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s,independent:c})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}var iye=(e,t)=>{var r=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((n=>{r=r||t.layoutBox[n]!==e.layout[n],t.layoutBox[n]=e.layout[n]})),t.shouldUpdate=t.shouldUpdate||r,e.children.forEach((e=>{var r=t.children[e.id];r&&iye(e,r)}))},aye=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var r=e.children[t];return aye(r)})))))},oye=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var r=e.children[t];return oye(r)}))};class sye extends EC{constructor({style:e,name:t,auto:r=!0}={}){super({style:e,id:0,name:t});var n=null;this.auto=r,this.on("layout",(()=>{this.auto&&(clearTimeout(n),n=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(){var e={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return Qve(e),iye(e,this),this.onebyone?aye(this).then((()=>this.emit("update-done"))):(oye(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var cye=new sye({name:"webview-layout"});cye.dest=0;var lye=new sye({name:"nativeview-layout",auto:!1});lye.onebyone=!1,lye.dest=1;var uye="RefreshRuntimeSession",dye=()=>Yu({apiName:uye,sdkApiName:uye,reqData:{}}),pye=e=>{var t=0,r=0,n=()=>{++t>=e&&dye().then((e=>{var{errMsg:t,respData:r}=e;if(0!==r.err_no)throw t;ay(n)})).catch((e=>{++r>=2&&ay(n)}))};iy(n)},hye=e=>new Promise((t=>setTimeout(t,e)));class fye{constructor(e,t=!1){var r=286;this.orientation=e,this.animating=!1;var{screenWidth:n}=vy(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=t;var a=new rye({id:i,style:{position:"absolute",left:(n-r)/2,top:this.getTop(),width:r,height:38,backgroundColor:"#000000",opacity:0,zIndex:1000001,borderRadius:5,fixed:!Te()}}),o=new nye({id:i+1,style:{left:0,top:0,width:r,height:38,textAlign:"center",lineHeight:38,fontSize:15,color:"#ffffff"},value:`该${Te()?"小游戏":"小程序"}业务及数据已由新开发者承接`});a.add(o),cye.add(a),this.banner=a,this.bannerWidth=r}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.7,duration:300})))).then((()=>(this.animating=!1,hye(5e3)))).then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>hye(3e3))).then((()=>cye.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=vy();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=vy();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var gye=(e,t)=>Yu({sdkApiName:"getSubjectalterInfo",apiName:"getSubjectalterInfo",reqData:{}}).then((r=>{var n=JSON.parse(r.rawData),{need_show:i,runtime_refresh_clicks:a}=n;if(a&&Ee()&&pye(a),i){var o=new fye(e,t);return o.show(),o}})).catch((()=>{})),vye=e=>new Promise((t=>setTimeout(t,e)));class mye{constructor(e,t,r=!1){this.orientation=t,this.animating=!1;var{screenWidth:n}=vy(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=r;var a=n-30,o=new rye({id:i,style:{display:"flex",alignItems:"center",position:"fixed",left:(n-a)/2,top:this.getTop(),width:a,height:38,backgroundColor:"#FA5151",opacity:0,zIndex:1000001,borderRadius:5,fixed:!0}}),s=new nye({id:i+1,style:{width:a-30,height:38,lineHeight:38,textAlign:"center",fontSize:13,color:"#ffffff"},value:e,bubbleEvent:!1,clickState:!1}),c=new nye({id:i+2,style:{position:"absolute",left:a-44,top:-2,width:30,height:38,lineHeight:38,fontSize:18,color:"#ffffff"},value:"×",eventType:"touch",bubbleEvent:!0,clickState:!0});s.add(c),o.add(s),cye.add(o),o.on("touchstart",(()=>{this.hide()})),this.banner=o,this.bannerWidth=a}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.9,duration:300})))).then((()=>{this.animating=!1})).catch((()=>{}))}hide(){eC(+new Date),this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>vye(3e3))).then((()=>cye.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=vy();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=vy();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var yye=(e,t)=>{Zk((r=>{var n=(+new Date-(r||0))/1e3/60,i=z&&z.appContactInfo&&z.appContactInfo.operationInfo&&z.appContactInfo.operationInfo.jsonInfo&&z.appContactInfo.operationInfo.jsonInfo.warning_info&&z.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner&&z.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner.wording||"";if(!Te()&&i&&n>30){var a=new mye(i,e,t);return a.show(),a}}))},bye=(()=>{var e,t=t=>{e="halfPage"===t.mode};return zS((e=>t(e))),z.onReady((()=>t(z.appLaunchInfo||{}))),()=>e})(),_ye=(()=>{var e,t=[1175,1177],r=r=>{e=t.includes(r.scene)};return zS((e=>r(e))),z.onReady((()=>r(z.appLaunchInfo||{}))),()=>e})(),wye=(()=>{var e,t=[1011,1012,1013,1124,1125,1126],r=r=>{e=t.includes(r.scene)};return zS((e=>r(e))),z.onReady((()=>r(z.appLaunchInfo||{}))),()=>e})(),Iye=(e={})=>wye()&&e.query&&e.query.q&&e.query.scancode_time,Sye=e=>{if(pe&&Iye(e)){var t=z.accountInfo&&z.accountInfo.appId;bp("getPatchWrongQueryFromGlobalStorage",{appId:t},void 0,(r=>{r="number"==typeof r?r:0;var n=e.path+".html",i=Object.keys(e.query||{}).reduce(((t,r,n)=>t+`${0===n?"":"&"}${r}=${e.query[r]}`),"");Yu({apiName:"webapi_checkwxa3rdqrcodescaninfo",reqData:{retry_time:r,path:n,query:i}}).then((n=>{v.info("webapi_checkwxa3rdqrcodescaninfo res=",n);var{is_restart:i,replace_query:a,replace_appid:o}=n.data;i?o?QC({content:"无法启动小程序，请重试",confirmText:"确认",showCancel:!1,success(){bp("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{Bq()}))},fail(){bp("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{Bq()}))}}):(r++,bp("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:r},void 0,(()=>{QC({content:"信息已更新，需要重启小程序",confirmText:"确认",showCancel:!1,success(){gu("restart",{url:a,scene:e.scene})},fail(){gu("restart",{url:a,scene:e.scene})}})}))):"number"==typeof r&&r>0&&bp("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)})).catch((e=>{v.error("patchWrongQuery fail",e),"number"==typeof r&&r>0&&bp("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)}))}))}},kye="game:verifystate",Cye="game_live_default_condition",Eye=v.createLogger("common reportUserBehavior"),Aye=Ru(QC),Tye=Ru($h),Pye=Ru(qh),xye="wxfile://ad",Mye=`${xye}/verifystate.json`,Rye=kye,Dye=null;function Oye(e){return Lye.apply(this,arguments)}function Lye(){return Lye=cp()((function*(e){try{if(Dye=e,Eye.log("set verifydata",JSON.stringify(Dye)),de)return;me||pe?yield vu("setGlobalStorage",{key:Rye,data:JSON.stringify(e)}):he&&(yield Pye({filePath:Mye,data:JSON.stringify(e),encoding:"utf8"}))}catch(e){Eye.log("set cache fail",e.message)}})),Lye.apply(this,arguments)}function Nye(){return Bye.apply(this,arguments)}function Bye(){return Bye=cp()((function*(){try{if(de)return;if(me||pe){var{data:e}=yield vu("getGlobalStorage",{key:Rye});Eye.log("get verifydata",e),Dye=JSON.parse(e)}else if(he){var{data:t}=yield Tye({filePath:Mye,encoding:"utf8"});Eye.log("get verifydata",t),Dye=JSON.parse(t)}}catch(e){Eye.log("get cache fail",e.message,e)}})),Bye.apply(this,arguments)}var Fye=!1,Wye=0,jye=null,Vye=0,Uye=new Lp("Verify",!0);function $ye(e=!0){var t;null!==(t=Dye)&&void 0!==t&&t.isSoftMode||(e&&(Dye=null),jye&&(jye.des(),jye=null))}var zye=null;function qye(e){Oc({args:zye,name:"getRealNameVerifyMethod",success:e}),zye=null}function Hye(e,{ContentType:t,ContentID:r}={}){if(Dye){var n=null;"function"==typeof e?n=e:zye=e;var{url:i,weapp:a,inlineCertMode:o}=Dye.urlInfo||{},{isSoftMode:s,remainSeconds:c}=Dye;if(o)return Jye({UIArea:o===Gye.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:s?3:1,ContentType:t}),void mbe({inlineCertMode:o,isSoftMode:s,remainSeconds:c,ContentType:t,ContentID:r});a?KP({appId:a.appid,path:a.path,extraData:a.extraData,success:n}):i&&jT({url:i,isNativeStyle:!0,success:n}),$ye()}}var Gye={INLINE_CERT_MODE_DIALOG:1,INLINE_CERT_MODE_HALF_SCREEN:2};function Kye(){return!1}function Jye({UIArea:e,PositionID:t,ActionID:r,Status:n,ExpID:i="",ContentType:a=0,ContentID:o=0,ExternInfo:s,SourceID:c=Wye}){E.reportKeyValue({key:"GameAdsSkipCard",value:[vg(),z.appLaunchInfo.scene,0,15,e,t,r,"",0,/landscape/.test(z.deviceOrientation)?2:1,n,c,"",i,0,"",Vye,0,"",a,o,0,s?encodeURIComponent(JSON.stringify(s)):""].join(",")}),2===r&&(Wye=e)}var Xye=0,Yye="",Qye="",Zye={},ebe,tbe=!1,rbe=0,nbe=null,ibe=!1,abe=!1,obe=!1,sbe=null,cbe=null,lbe=0,ube=3e5,dbe=null,pbe={isSupportWebview:!0,isSupportOnLoad:!1,loaded:!1};function hbe(e,t,{coldBoot:r=!1,realnameInfo:n}={},{appType:i,deviceOrientation:a}=z){lbe=Date.now();var o={onShow:1,heartbeat:2,onHide:3,retryLogin:4};return Fye?Nye().then(s).then(c).catch((e=>{Eye.error("report fail",e)})):Ebe.then(Nye).then(s).then(c).catch((e=>{Eye.error("report fail",e)}));function s(){var a={version:6,callbackData:ebe,type:o[e],duration:t/1e3,scene_note:Qye,scene:Xye,realnameInfo:n,referrerInfo:{appId:Yye,extraData:Zye},appServiceType:i,isColdStart:r};return Te()||(a.isWxaAdultOnly=ibe),Yu({sdkApiName:"reportUserBehavior",apiName:"jsapi_reportuserbehav",reqData:a}).catch((e=>{var t;if(Te()&&1!==(null===(t=Dye)||void 0===t?void 0:t.action))return{data:{action:3,alertMsg:"网络已断开，请检查网络状态后重试"}};throw e}))}function c(e){var t=e.data;Oye(t);var{action:r,alertMsg:n,heartbeatInterval:i,jumpRule:o={},realnameResult:s}=t;if(o.gameStartRule&&(xP.setShouldExecuteFirstSkipLimitStrategy(!0),xP.setAttemptSkipMinTime(o.gameStartRule.blockJumpTimeInSeconds),xP.setModalMessage2(o.gameStartRule.jumpInfo.desc),xP.setModalConfirm2(o.gameStartRule.jumpInfo.jumpButtonLabel),xP.setModalSkipLink2(o.gameStartRule.jumpInfo.url),xP.setExpId2(o.gameStartRule.expId),xP.resumeLimitTimer(!0)),o.cancelRule&&(xP.setShouldExecuteSkipMaxLimitStrategy(!0),xP.setAttemptSkipMaxThreshold(o.cancelRule.maxCancelCount),xP.setModalMessage1(o.cancelRule.jumpInfo.desc),xP.setModalConfirm1(o.cancelRule.jumpInfo.jumpButtonLabel),xP.setModalSkipLink1(o.cancelRule.jumpInfo.url),xP.setExpId1(o.cancelRule.expId)),ebe=t.callbackData,i!==ube&&i>=1e4&&(ube=i,wbe()),s){var{code:l,failReason:u,certRemainTimes:d}=s;if(0===l)sbe.showSucc(),$ye();else if(0===d)sbe.showFail({failReason:u});else{var p;sbe.showModal({title:u+d?`（剩余${d}次机会）`:""}),Jye({ExpID:null==t||null===(p=t.urlInfo)||void 0===p?void 0:p.expId,UIArea:t.inlineCertMode===Gye.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:4,ActionID:4,Status:t.isSoftMode?3:1,ExternInfo:{number:d}})}}else switch(qye(1===r),pbe.isSupportOnLoad=pe&&z.clientVersion>=67109659||he&&O$(dbe.version,"8.0.30")>=0,r){case 1:break;case 2:setTimeout((()=>{Jye({UIArea:1518,PositionID:0,ActionID:1}),Aye({title:"提示",content:n,showCancel:!1}).then((()=>{Jye({UIArea:1518,PositionID:1,ActionID:2})}))}),/landscape/.test(a)?500:0);break;case 3:var{inlineUrl:h,needAdapterZk:f,expId:g}=t.urlInfo||{};if(h&&Te()&&pbe.isSupportWebview&&pbe.isSupportOnLoad){vbe({url:h,ExpId:g,DeviceModel:dbe.model,DeviceBrand:dbe.brand,OsName:dbe.platform,needAdapterZk:f}).catch((()=>{c(e)}));break}if(tbe)break;tbe=!0;var v=setTimeout(Bq,15e3);Jye({UIArea:1517,PositionID:0,ActionID:1}),Aye({title:"提示",content:n,showCancel:!1}).then((()=>{clearTimeout(v),tbe=!1,Jye({UIArea:1517,PositionID:1,ActionID:2}),Bq()}));break;case 4:var{url:m,name:y,inlineCertMode:b,inlineUrl:_,expId:w}=t.urlInfo||{},{remainSeconds:I}=t;if(_&&Te()&&pbe.isSupportWebview){vbe({url:_,ExpId:w,DeviceModel:dbe.model,DeviceBrand:dbe.brand,OsName:dbe.platform}).catch((()=>{c(e)}));break}if(b){Jye({ExpID:w,UIArea:b===Gye.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),mbe({alertMsg:n,inlineCertMode:b,isSoftMode:!1,remainSeconds:I,ContentType:1});break}var S=setTimeout(Bq,15e3);!tbe&&n&&m&&y&&(tbe=!0,Jye({ExpID:w,UIArea:1504,PositionID:0,ActionID:1,Status:1}),QC({title:"提示",content:n,confirmText:y,cancelText:"退出游戏",success(e){clearTimeout(S),e.confirm?(Jye({ExpID:w,UIArea:1504,PositionID:1,ActionID:2,Status:1}),Hye((()=>{obe=!0}))):e.cancel&&(Jye({ExpID:w,UIArea:1504,PositionID:2,ActionID:2,Status:1}),Bq()),tbe=!1},fail(e){Eye.error("show modal fail=",e),clearTimeout(S),Bq(),tbe=!1}}));break;case 5:var k,{name:C,inlineCertMode:E}=t.urlInfo||{},{remainSeconds:A}=t;if(E){var T;Jye({ExpID:null==t||null===(T=t.urlInfo)||void 0===T?void 0:T.expId,UIArea:E===Gye.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),mbe({alertMsg:n,inlineCertMode:E,isSoftMode:!0,remainSeconds:A,ContentType:1});break}Jye({ExpID:null==t||null===(k=t.urlInfo)||void 0===k?void 0:k.expId,UIArea:1505,PositionID:0,ActionID:0,Status:1}),setTimeout((()=>{tbe||QC({title:"提示",content:n,confirmText:C,cancelText:"继续游戏",success({confirm:e}){var r,n;e&&Jye({ExpID:null==t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1505,PositionID:1,ActionID:2,Status:1}),e||Jye({ExpID:null==t||null===(n=t.urlInfo)||void 0===n?void 0:n.expId,UIArea:1505,PositionID:2,ActionID:2,Status:1}),e&&Hye((()=>{obe=!0}))},complete(){tbe=!1}}),tbe=!0}),/landscape/.test(a)?1e3:0);break;case 6:var P,x,{inlineCertMode:M}=t.urlInfo||{},{remainSeconds:R,needAlert:D,alertMsg:O,isSoftAlert:L,isSoftMode:N}=t;if(L&&Uye.emit("notify",{alertMsg:O,remainSeconds:R,doVerify:()=>Hye()}),D){mbe({alertMsg:O,remainSeconds:R,isSoftMode:N,inlineCertMode:M,ContentType:1,ContentID:N?0===R?3:2:1});break}jye?null===(P=(x=jye).setData)||void 0===P||P.call(x,t):(jye=!0,setTimeout((()=>fbe(t,{ContentType:0})),he?2e3:0))}}}function fbe(e,{ContentID:t,ContentType:r}={}){null!==jye&&!0!==jye||iue(e,(n=>{var i;jye=n,Jye({ExpID:null==e||null===(i=e.urlInfo)||void 0===i?void 0:i.expId,UIArea:e.isSoftMode?1506:1501,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r}),setTimeout((()=>{var n;return jye&&Jye({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1502,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r})}),1e4),jye.addListener("stop",(()=>{var n;(hbe("heartbeat",rbe=Date.now()-lbe),e.isSoftMode)&&Jye({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1506,PositionID:0,ActionID:1,Status:3,ContentID:t,ContentType:r});$ye()})),jye.addListener("click",(()=>{var n,{showSeconds:i,remainSeconds:a}=jye.data;Jye({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:i?a?1502:1506:1501,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r,Time:a}),Hye((()=>{var e,t;obe=!(null===(e=Dye)||void 0===e||null===(t=e.urlInfo)||void 0===t||!t.inlineCertMode)}),{ContentID:t,ContentType:r})}))}))}var gbe=()=>ke&&"landscape"===z.deviceOrientation&&z.screenHeight>z.screenWidth?{width:z.screenHeight,height:z.screenWidth}:{width:z.screenWidth,height:z.screenHeight};function vbe({url:e,ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:i,needAdapterZk:a}){var o,s;if(null!==cbe)return Promise.resolve();e=e.replace("#wechat_redirect","");var c={ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:i,appid:z.accountInfo.appId,AppServiceType:null!==(o=z.appType)&&void 0!==o?o:4,versionType:null!==(s=z.versionType)&&void 0!==s?s:0,SDKVersion:z.SDKVersion,menuButtonBoundingClientRect:LK()};$$();var l,u=gbe(),d=a,p=0===e.indexOf("https://jiazhang.qq.com/healthy/");return cbe=new NC({src:Bd(e,c)+"#wechat_redirect",style:{left:0,top:0,width:u.width,height:u.height},zIndex:2000010,__skipDomainCheck__:!0,isGameWebview:d}),pbe.isSupportOnLoad&&(cbe.onload=()=>{pbe.loaded=!0,d&&cbe&&gu("updateGameHTMLWebView",{htmlId:cbe.id,evaluateJavascript:'function addScript() {\n            var childJs = document.createElement("script")\n            childJs.src = "https://game.weixin.qq.com/cgi-bin/minigame/static/minigame_minority/index.js"\n            document.body.appendChild(childJs);\n          }\n          addScript();'}),p&&Jye({UIArea:1522,PositionID:0,ActionID:1})}),cbe.onmessage=function(e){Eye.log("webview onMessage",e);var{type:t,appId:r,path:n,style:i}=e;"success"===t?(cbe&&cbe.destroy(),z$(),Sy({success(e){delete e.errMsg,"portrait"===(dbe=e).deviceOrientation&&"landscape"===l&&gu("setDeviceOrientation",{value:"landscape",success(e){Sy({success(e){delete e.errMsg,dbe=e}})}})}}),rbe=Date.now()-lbe,setTimeout((()=>{hbe("retryLogin",rbe)}),500),cbe=null):"exit"===t?(cbe&&(cbe.destroy(),cbe=null),p?(Jye({UIArea:1522,PositionID:1,ActionID:2}),setTimeout((()=>{Bq()}),200)):Bq()):"showModal"===t?Aye(e):"openWeapp"===t?KP({appId:r,path:n}):"updateStyle"===t?cbe&&(cbe.style=i):"setDeviceOrientation"===t?Sy({success(e){delete e.errMsg,"landscape"===(dbe=e).deviceOrientation&&(l=dbe.deviceOrientation,gu("setDeviceOrientation",{value:"portrait",success(e){Sy({success(e){delete e.errMsg,dbe=e,cbe.style={left:0,top:0,width:dbe.screenWidth,height:dbe.screenHeight}}})}}))}}):"openUrl"===t&&(p&&0===n.indexOf("https://support.qq.com/product/")?(Jye({UIArea:1522,PositionID:2,ActionID:2}),setTimeout((()=>{jT({url:n,isNativeStyle:!0})}),200)):jT({url:n,isNativeStyle:!0}))},new Promise(((e,t)=>{pbe.isSupportOnLoad?setTimeout((()=>{pbe.loaded?e():(pbe.isSupportWebview=!1,cbe&&(cbe.destroy(),cbe=null),t())}),5e3):e()}))}function mbe({inlineCertMode:e,alertMsg:t,isSoftMode:r=!1,isPay:n=!1,remainSeconds:i=0,ContentType:a,ContentID:o}){var s;null===(s=jye)||void 0===s||s.des(),jye=null,null===sbe&&setTimeout((()=>Wue({alertMsg:t,hor:/landscape/.test(z.deviceOrientation),reportkv:t=>{var n,i;return Jye(O()({UIArea:e===Gye.INLINE_CERT_MODE_DIALOG?1507:1508,ExpID:null===(n=Dye)||void 0===n||null===(i=n.urlInfo)||void 0===i?void 0:i.expId,Status:r?3:1,ContentType:a,ContentID:o},t))},remainSeconds:i,isSoftMode:r,isPay:n,half:e===Gye.INLINE_CERT_MODE_HALF_SCREEN,confirm:({name:t,id:n,showModal:i})=>{var s,c;t?n?/(^\d{15}$)|(^\d{17}([0-9]|[xX])$)/.test(n)?(Jye({ExpID:null===(s=Dye)||void 0===s||null===(c=s.urlInfo)||void 0===c?void 0:c.expId,UIArea:e===Gye.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:2,ActionID:2,Status:r?3:1,ContentType:a,ContentID:o}),hbe("retryLogin",rbe=Date.now()-lbe,{realnameInfo:{name:t,id:n}})):i({title:"身份证格式错误"}):i({title:"请输入身份证号"}):i({title:"请输入真实姓名"})},des(e){sbe=null,("cancel"===e&&Dye.isSoftMode||"fail"===e&&Dye.isSoftMode)&&setTimeout((()=>fbe(O()({},Dye),{ContentID:o,ContentType:a})),0),qye("succ"===e)}},(e=>{sbe=e}))),0)}var ybe=abe,bbe=abe,_be=abe||ibe,wbe=()=>{null!==nbe&&(clearInterval(nbe),Ibe())},Ibe=()=>{nbe=setInterval((()=>{rbe=Date.now()-lbe,ybe&&hbe("heartbeat",rbe)}),ube)},Sbe=(e,{coldBoot:t=!1}={})=>{xP.resumeLimitTimer(),Qye=e.scene_note||"",rbe=0,Xye=e.scene,e.referrerInfo&&(Yye=e.referrerInfo.appId,Zye=e.referrerInfo.extraData),Ibe(),obe?(hbe("retryLogin",rbe),obe=!1):_be&&hbe("onShow",rbe,{coldBoot:t})},kbe=()=>{xP.pauseLimitTimer(),rbe=Date.now()-lbe,clearInterval(nbe),nbe=null,bbe&&hbe("onHide",rbe)};z.onReady((()=>{var e=z.appLaunchInfo;dbe=tb(!0);try{z.appContactInfo&&z.appContactInfo.operationInfo&&z.appContactInfo.operationInfo.jsonInfo&&z.appContactInfo.operationInfo.jsonInfo.op_info&&(ibe=1===Number(z.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),abe=1===Number(z.appContactInfo.operationInfo.jsonInfo.op_info.grow_protect))}catch(e){Eye.error("get op_info fail",e.message)}ybe=Te()||abe,bbe=Te()||abe,_be=Te()||abe||ibe,Sbe(e,{coldBoot:!0}),Kt("onAppEnterForeground",(t=>{Sbe(e=t)})),Kt("onAppEnterBackground",(()=>{kbe()})),Kt("onAppRoute",(t=>{"autoReLaunch"===t.openType&&(tbe=!1,kbe(),setTimeout((()=>{Sbe(e)}),1e3))}))}));var Cbe=()=>{},Ebe=new Promise((e=>{Cbe=e})),Abe=()=>{Fye=!0,Cbe()};function Tbe(){var e,t;if(!Dye)return!0;if(Dye.isSoftMode)return!0;if(Dye.action<=3)return!0;var r,n,{inlineCertMode:i}=null!==(e=null===(t=Dye)||void 0===t?void 0:t.urlInfo)&&void 0!==e?e:{};return i?(Jye({ExpID:null===(r=Dye)||void 0===r||null===(n=r.urlInfo)||void 0===n?void 0:n.expId,UIArea:i===Gye.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:1,ContentType:3}),mbe({inlineCertMode:i,isSoftMode:!0,isPay:!0,ContentType:3}),!1):(Jye({UIArea:1503,PositionID:0,ActionID:1,Status:1}),_showModal({title:"提示",cancelText:"返回",content:"当前账号尚未实名，完成实名认证后才可进行充值",confirmText:Dye.urlInfo.name,success({confirm:e}){var t,r,n,i;e&&Hye(),e&&Jye({ExpID:null===(t=Dye)||void 0===t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1503,PositionID:1,ActionID:2,Status:1}),e||Jye({ExpID:null===(n=Dye)||void 0===n||null===(i=n.urlInfo)||void 0===i?void 0:i.expId,UIArea:1503,PositionID:2,ActionID:2,Status:1})}}),!1)}function Pbe(e){Uye.on("notify",e)}function xbe(e){Uye.off("notify",e)}z.onReady((()=>{var e="",t=setInterval((()=>{e&&(e&&clearInterval(t),r(e))}),1e3),r=e=>{var t=Object.keys(z.page).find((t=>t.startsWith(e))),n=z.page[t];if(t&&n&&n.window){var i=n.window.pageOrientation,a=!1;try{var o=n.window.navigationStyle||z.global.window.navigationStyle;a="custom"===o}catch(e){}if("landscape"===i){var s=!1;mle((()=>{s||(gye(i,a),yye(i,a),s=!0)}))}else{var c=gye("portrait",a),l=yye(i,a);"auto"===i&&EK((e=>{var{windowWidth:t,windowHeight:r}=e,n=t>r?"landscape":"portrait";c.then((e=>{e&&e.setOrientation&&e.setOrientation(n)})),l&&l.then((e=>{e&&e.setOrientation&&e.setOrientation(n)}))}))}HM(r)}};qM((t=>{"appLaunch"!==t.openType&&"autoReLaunch"!==t.openType||Sye(t),e=t.path})),Abe()}));var Mbe=(e={})=>{Rc("setWindowSize",e,"deprecated")},Rbe=null,Dbe=[],Obe=e=>{lr("onBanTapRules",{rules:Rbe},[e])};function Lbe(){z.onReady((()=>{jw().then((e=>{var t,r;Rbe=null!==(t=null==e||null===(r=e.data)||void 0===r?void 0:r.ban_event_rules)&&void 0!==t?t:[],Dbe.length&&(Dbe.forEach((e=>Obe(e))),Dbe.length=0)}))})),b.clientManager.on("clientConnected",(e=>{Rbe?Obe(e):Dbe.push(e)}))}var Nbe=(e={})=>{gu("bindGroup",e)},Bbe=(e={})=>{pe&&z.clientVersion<654316032||he?Xu({apiName:"wxaapi_wxajoinchatroom",reqData:{groupid:e.groupId,nonce_str:e.nonceStr,signature:e.signature},success(e){var t=e.data;gu("private_openUrl",{url:t.join_chatroom_url,isNativeStyle:!0})},fail({errMsg:e}){rE({title:e.replace(/^\w+:fail\s+/,""),icon:"none"})},complete(){Oc({name:"joinGroup",args:e})}}):gu("joinGroup",e)};function Fbe(){z.onReady((()=>{qk((()=>{E.flushReportKeyValueList(),E.flushReportIDKeyList()}))}))}var Wbe=!1,jbe=!1,Vbe=function(){if(!Wbe)return Wbe=!0,{invokeMethod:gu,onMethod:Tt,subscribe:gr,publish:lr,beforeInvokeFail:Rc,beforeInvokeCallback:Oc,getCurrentPagesByDomain:Yc.getCurrentPagesByDomain}},Ube=function(e){jbe||(jbe=!0,e.__defineGetter__("getBaseMethods",(()=>{if(WXConfig.exportBaseMethods)return Vbe})))};function $be(e={}){gu("openWCPayLQTDetail",e)}function zbe(e={}){gu("openWCPayLQTSave",e)}function qbe(e={}){gu("openWCPayLQTDepositPlan",e)}function Hbe(e={}){gu("openWCPayLQTDepositPlanAdd",e)}var Gbe=[{name:"quicklyAddBrandContact",permissionByte:"quicklyAddBrandContact"},{name:"privateScanItem",permissionByte:"privateScanItem"},{name:"privateSearchContacts",permissionByte:"privateSearchContacts"},{name:"setNavigateBackInterception",permissionByte:"private_setNavigateBackInterception"},{name:"stopNavigateBackInterception",permissionByte:"private_stopNavigateBackInterception"},{name:"getWebviewDebugInfo",permissionByte:"private_getWebviewDebugInfo"},{name:"openAddressWithLightMode",permissionByte:"openAddressWithLightMode"},{name:"editTextWithPopForm",permissionByte:"editTextWithPopForm"},{name:"jumpRedPacketEnvelopePreview",permissionByte:"jumpRedPacketEnvelopePreview"},{name:"quickSendRedPacket",permissionByte:"quickSendRedPacket"},{name:"openChannelsPostPage",permissionByte:"openChannelsPostPage"},{name:"sendRedCoverAppMsg",permissionByte:"sendRedCoverAppMsg"}],Kbe=e=>{var t=!0===z.debug,r="devtools"===z.platform;(t||r)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),AY(`wx.${e}`)},Jbe=(e,t,r)=>function(...n){return Kbe(e),t.apply(r,n)},Xbe=e=>{tl((()=>{Zc.define("__wx__/private-api",((t,r)=>{r.exports=e}))}))},Ybe=e=>{var t={};Gbe.forEach((r=>{var n=r.name,i=r.permissionByte,a=e[n];t[n]=function(...t){return Ph(i)?a.call(e,...t):Rc(n,t[0],"no permission")}.bind(e),r.deprecate?e[n]=Jbe(n,t[n],e):delete e[n]})),Xbe(t)},Qbe=e=>{if(ke){var t,r="";if(gu("createBufferURL",{buffer:e,success(e){r=e.bufferURL},fail(e){t=e.errMsg}}),t)throw new Error(t);return r}var n=Oh.createBufferURL(e)||(()=>"");return US.add(n,e),n},Zbe=(e={})=>{invokeMethod("createBufferURLAsync",{buffer:e.buffer,success:e.success,fail:e.fail,complete:e.complete})},e_e=e=>{if(!ke)return US.off(e),Oh.revokeBufferURL(e)||(()=>!1);var t;if(gu("revokeBufferURL",{blobUrl:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},t_e=(...e)=>Oh.createSignal?Oh.createSignal(...e):null,r_e=e=>({feedId:e.export_id,nonceId:e.nonce_id,description:e.description,playbackState:e.playback_state,status:e.status,headUrl:e.head_url,nickname:e.nickname,replayStatus:e.replay_status}),n_e=e=>{if("number"!=typeof e)return 1;var t=Math.floor(e/1e3);return t>0?t:1},i_e=ed("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:r,startTime:n,endTime:i})=>{var a={jsapi:r,export_id:e,finder_username:t};return"number"==typeof n&&"number"==typeof i&&(a.start_time=n,a.end_time=i),a}),(e=>{var t;if(null!==(t=e.live_info)&&void 0!==t&&t.length){var[r,...n]=e.live_info;Object.assign(e,r_e(r)),e.otherInfos=n.map(r_e)}delete e.live_info})),a_e="getChannelsLiveInfo";function o_e(e){var t,r,n=O()(O()({},e),{},{jsapi:a_e});if(("number"==typeof e.startTime||"number"==typeof e.endTime)&&(n.startTime=n_e(null!==(t=e.startTime)&&void 0!==t?t:0),n.endTime=n_e(null!==(r=e.endTime)&&void 0!==r?r:Date.now()),n.startTime>=n.endTime))return void Rc(a_e,e,"invalid time range");i_e(n)}var s_e=ed("getChannelsLiveState","webapi_getfinderviewlivestate",(({feedId:e,finderUserName:t,finderNickName:r})=>({finder_username:t,finder_nickname:r,export_id:e})),(e=>{e.liveInfoList=(e.live_info_list||[]).map((e=>({feedId:e.export_id,coverUrl:e.cover_url,thumbUrl:e.thumb_url,description:e.description,nickname:e.nickname,headUrl:e.head_url,status:e.status,nonceId:e.nonce_id}))),delete e.live_info_list})),c_e=ed("getChannelsLiveReservation","webapi_getfinderviewlivereservation",(({noticeId:e})=>({notice_id:e}))),l_e=ed("getChannelsLiveNoticeInfo","webapi_getfinerviewnoticeinfo",(({noticeId:e,finderUserName:t})=>({finder_username:t,notice_id:e})),(e=>{var[t,...r]=e.record_list||[];t&&(e.noticeId=t.notice_id,e.status=t.status,e.startTime=t.start_time,e.headUrl=t.head_url,e.nickname=t.nickname,e.reservable=t.can_reserve),e.otherInfos=r.map((e=>({noticeId:e.notice_id,status:e.status,startTime:e.start_time,headUrl:e.head_url,nickname:e.nickname,reservable:e.can_reserve}))),delete e.record_list}));function u_e(){if(void 0===Yc)return"";var e=Yc.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function d_e(e,t,r,n="",i=0,a="",o="",s=0){var c=[e||"",u_e(),t,r,n,i,z.appType+1e3,a,o,s].map(encodeURIComponent).join(",");E.reportKeyValue({key:"WeAppToChannels",value:c})}function p_e(e={}){gu("openChannelsLive",e)}function h_e(e={}){De()?p_e(e):i_e(Object.assign({},e,{jsapi:"openChannelsLive",success({nickname:t,feedId:r,nonceId:n}){QC({title:`即将打开${t?`“${t}”`:""}视频号直播`,confirmText:"允许",cancelText:"取消",success({confirm:t}){if(t){var i=2;"release"===z.envVersion&&(i=1),"trial"===z.envVersion&&(i=3),gu("openChannelsLive",Object.assign({},e,{feedId:r,nonceId:n,sceneNote:{scene:7,appid:z.accountInfo.appId,version_type:i}}),{beforeAll({errMsg:t}){d_e(e.finderUserName,1,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}})}else d_e(e.finderUserName,1,0,"cancel",5,e.feedId),Rc("openChannelsLive",e,"cancel")}})},fail({errMsg:t,errCode:r}){d_e(e.finderUserName,1,0,t,4,e.feedId),Rc("openChannelsLive",e,t,r)},complete:null}))}function f_e(e={}){gu("openChannelsUserProfile",e)}function g_e(e={}){De()?f_e(e):Yu({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}).then((({data:t})=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";QC({title:`即将打开${r}视频号`,confirmText:"允许",cancelText:"取消",success({confirm:r}){r?gu("openChannelsUserProfile",Object.assign({},e,{finderUserName:null==t?void 0:t.encrpyt_finder_username}),{beforeAll({errMsg:t}){d_e(e.finderUserName,2,/^\w+:ok/.test(t)?1:0,t,4)}}):(d_e(e.finderUserName,2,0,"cancel",5),Rc("openChannelsUserProfile",e,"cancel"))}})})).catch((({errMsg:t,errno:r})=>{d_e(e.finderUserName,2,0,r||t,4),Rc("openChannelsUserProfile",e,r||t)}))}function v_e(e={}){gu("openChannelsActivity",e)}function m_e(e={}){De()?v_e(e):i_e(Object.assign({},e,{jsapi:"openChannelsActivity",success({nickname:t,nonceId:r}){QC({title:`即将打开${t?`“${t}”`:""}视频号视频`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?gu("openChannelsActivity",Object.assign({},e,{nonceId:r}),{beforeAll({errMsg:t}){d_e(e.finderUserName,3,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}}):(d_e(e.finderUserName,3,0,"cancel"),Rc("openChannelsActivity",e,"cancel",5,e.feedId))}})},fail({errMsg:t,errCode:r}){d_e(e.finderUserName,3,0,t,4,e.feedId),Rc("openChannelsActivity",e,t,r)},complete:null}))}function y_e(e={}){var t={appId:z.accountInfo.appId,openIds:e.openIds},r=encodeURIComponent(JSON.stringify(t));gu("navigateToMiniProgram",{success:e.success,fail:e.fail,complete:e.complete,appId:"wx4bfd324d7e80de2e",path:"/pages/livecollection/index.html?bypass="+r+"&game_type=1&ssid=201",extraData:{entryScene:15,requestScene:Te()?5:4,pageTitle:Te()?"小游戏直播":void 0},privateExtraData:{sourceApi:"openChannelsLiveCollection"}},{beforeAll(e){e.errMsg=e.errMsg.replace(/^\w+/,"openChannelsLiveCollection"),d_e("",5,/^\w+:ok/.test(e.errMsg)?1:0,e.errMsg,4)}})}function b_e(e={}){Promise.all([Yu({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}),Yu({sdkApiName:"checkChannelsEvent",apiName:"webapi_checkfinderevent",reqData:{finder_username:e.finderUserName,event_id:e.eventId}})]).then((([{data:t}])=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";QC({title:`即将打开${r}视频号活动`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?gu("openChannelsTopic",Object.assign({},e,{topicType:7,eventEncryptedTopicId:e.eventId}),{beforeAll(t){t.errMsg=t.errMsg.replace("openChannelsTopic","openChannelsEvent"),d_e(e.finderUserName,6,/^\w+:ok/.test(t.errMsg)?1:0,t.errMsg,4)}}):Rc("openChannelsEvent",e,"cancel")}})})).catch((({errMsg:t,errno:r})=>{Rc("openChannelsEvent",e,r||t),d_e(e.finderUserName,6,0,r||t,4)}))}function __e(e={}){gu("reserveChannelsLive",Object.assign({},e,{wxData:{appid:z.accountInfo.appId,apptype:z.appType,notice_id:e.noticeId}}),{beforeAll({state:t,errMsg:r}){d_e("",4,/^\w+:ok/.test(r)?1:0,r,2,"",e.noticeId,t)}})}function w_e(e={},t){__sclEngine__.initScl((r=>{var n=r.mainRoot.append("toast",e);"function"==typeof t&&t(n)}))}Kt("onNavigateBackFromChannelsActivity",(e=>{lr("onNavigateBackFromChannelsActivity",e)}));var I_e=Object.assign,S_e=Object.create,k_e="https://mp.weixin.qq.com/intp/jump";function C_e(e={}){if(Ph("openPublicServicePayment")){var{jumpToken:t,destUrl:r,openId:n}=e;if(t&&r&&n){var i=`?appid=${z.accountInfo.appId}`;i+=`&jump_token=${encodeURIComponent(t)}`,i+=`&dest_url=${encodeURIComponent(r)}`,i+=`&openid=${encodeURIComponent(n)}`;var a=S_e(null);I_e(a,e),a.url=k_e+i,a.isNativeStyle=!0,w_e({loading:!0,title:"政务民生缴费"},(e=>{setTimeout((()=>{e.close(),gu("private_openUrl",a,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPublicServicePayment")}})}),1e3)}))}else Rc("openPublicServicePayment",e,"missing arguments")}else Rc("openPublicServicePayment",e,"permission denied")}function E_e(e){for(var t="",r=0;r<e.length;){var n=e[r],i=0;n>>>7==0?(t+=String.fromCharCode(e[r]),r+=1):252==(252&n)?(i=(3&e[r])<<30,i|=(63&e[r+1])<<24,i|=(63&e[r+2])<<18,i|=(63&e[r+3])<<12,i|=(63&e[r+4])<<6,i|=63&e[r+5],t+=String.fromCharCode(i),r+=6):248==(248&n)?(i=(7&e[r])<<24,i|=(63&e[r+1])<<18,i|=(63&e[r+2])<<12,i|=(63&e[r+3])<<6,i|=63&e[r+4],t+=String.fromCharCode(i),r+=5):240==(240&n)?(i=(15&e[r])<<18,i|=(63&e[r+1])<<12,i|=(63&e[r+2])<<6,i|=63&e[r+3],t+=String.fromCharCode(i),r+=4):224==(224&n)?(i=(31&e[r])<<12,i|=(63&e[r+1])<<6,i|=63&e[r+2],t+=String.fromCharCode(i),r+=3):192==(192&n)?(i=(63&e[r])<<6,i|=63&e[r+1],t+=String.fromCharCode(i),r+=2):(t+=String.fromCharCode(e[r]),r+=1)}return t}function A_e(e){for(var t,r=[],n=e.length,i=0;i<n;i++)(t=e.charCodeAt(i))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);for(var a=new Int8Array(r.length),o=0;o<r.length;o++)a[o]=r[o];return a.buffer}var T_e="START_CPU_PROFILE",P_e="STOP_CPU_PROFILE",x_e="TAKE_HEAP_SNAPSHOT",M_e="PERFDOG_METHOD",R_e="PERFDOG_METHOD_CALLBACK",D_e="LAN_DEBUG_GET_DEVICE_INFO",O_e="LAN_DEBUG_PLUGIN_GET_DEVICE_INFO",L_e={OPEN:"OPEN",CLOSED:"CLOSED",ERROR:"ERROR",CONNECTING:"CONNECTING"},N_e="LAN_DEBUG_STATUS_CHANGE",B_e=(e=6)=>{(e>=13||e<0)&&(e=13);for(var t=`${Date.now()}`.slice(-e).split(""),r=0;r<Math.floor(e/2);r++){var n=Math.floor(10*Math.random());t[r]="abcdefghij"[n]}return t.join("")},F_e=null,W_e=!1,j_e=()=>!0===W_e||("function"!=typeof getProfiler?(void 0!==Oh.Profiler&&(F_e=Oh.Profiler,W_e=!0),!0):((F_e=getProfiler())&&(W_e=!0),!0)),V_e=!1,U_e=()=>(j_e(),F_e?(V_e||(V_e=!0,F_e.startCpuProfiling()),!0):null),$_e=()=>{if(j_e(),!F_e)return null;if(V_e){V_e=!1;var e=F_e.stopCpuProfiling();return e}return null},z_e=()=>(j_e(),F_e?F_e.takeHeapSnapshot():null),q_e=!1;function H_e(e,t){var{model:r,version:n,system:i,SDKVersion:a}=Zy(),{accountInfo:o,isDevEdition:s}=z,{appId:c,nickname:l}=o,u={model:r,wechatVersion:n,system:i,SDKVersion:a,appId:c,nickname:l,isDevEdition:!!s};t(e,JSON.stringify(u))}function G_e(e){var t=l.g.LanDebug;t&&(Te||delete l.g.LanDebug,t.registerCallback?t.registerCallback(M_e,((t,r)=>{e(R_e,r)})):t.registerCallback)}function K_e(e,t,r){q_e||(q_e=!0,G_e(t),e(D_e,(()=>{H_e(D_e,t)})),e(O_e,(()=>{H_e(O_e,t)})),e(M_e,(e=>{var r="undefined"!=typeof getPerfDog?getPerfDog():void 0,n="PerfDog not found";r&&r.handle&&(n=r.handle(M_e,e)),t(R_e,n)})),e(T_e,(()=>{U_e()})),e(P_e,(()=>{var e=$_e();pe&&e&&(e.constructor.toString().includes("ArrayBuffer")?e=E_e(new Uint8Array(e)):"object"==typeof e&&(e=JSON.stringify(e))),t(P_e,e||"")})),e(x_e,(()=>{setTimeout((()=>{var e=z_e();if(t(`${x_e}:PROGRESS`,JSON.stringify({data:"start"})),!e)return t(x_e,""),t(`${x_e}:PROGRESS`,JSON.stringify({data:"error"})),!1;if(e.on){var n=r(x_e),i=!1;e.on("data",(e=>{i||(t(`${x_e}:PROGRESS`,JSON.stringify({data:"data"})),i=!0),n.send(e.slice())})),e.on("end",(()=>{t(`${x_e}:PROGRESS`,JSON.stringify({data:"end"})),n.end(new ArrayBuffer(0))})),e.on("error",(e=>{t(`${x_e}:PROGRESS`,JSON.stringify({data:"error"})),n.end(new ArrayBuffer(0))})),e.flush()}return!0}),100)})))}var J_e=0,X_e=D_(),Y_e="\n  message LanDebugHeader {\n    required int32 version = 0;         // 版本，用于升级时兼容用\n    required string method = 1;         // 命令字，代表该包行为\n    required int32 id = 2;              // 命令序号，client端每次给server发命令可以弄一个自增序号，这样方便server处理isEnd。\n    required bool isString = 3;         // 若开发者传输的原始数据是string，需要标识，用于服务端处理\n    required string clientId = 4;       // 客户端会唯一生成一个ID\n    optional bool notEnd = 5;           // 若isEnd为true，代表这次命令已经发送完毕\n    optional string options = 6;        // 预留字段，后续可能会有一些用\n  }\n",Q_e=null,Z_e=()=>Q_e||(Q_e=rge()()(Y_e)),ewe,twe=()=>{ewe||(ewe=B_e())},rwe=new Nt,nwe="LANDEBUG",iwe="MPHELPER",awe=null,owe=L_e.CLOSED,swe="",cwe=-1,lwe=!1,uwe=null,dwe=null,pwe=[],hwe=[],fwe=[];function gwe(e){var t;try{if("object"!=typeof e)return Promise.resolve(!1);if("string"!=typeof e.ip||"string"!=typeof e.token)return Promise.resolve(!1);t=e}catch(e){return Promise.resolve(!1)}if(owe===L_e.OPEN&&dwe)return Promise.resolve(dwe);if(owe===L_e.CONNECTING)return awe;var{ip:r,port:n,token:i,useStaticServer:a=!1,mode:o}=t;lwe=a,swe=r,cwe=n,owe=L_e.CONNECTING;var s="mpHelper"===o?iwe:nwe,c=Zy();return K_e(_we,ywe,bwe),awe=new Promise((e=>{twe(),(dwe=X_e.connectSocket({url:`ws://${r}:${n}`,protocols:[`${encodeURI(`${s}#${c.system}_v${c.version}_${ewe}`)}||${i}`]})).onOpen((()=>{dwe.send({data:"ping",success(){pwe.forEach((e=>{Iwe(e)}))},fail(e){}}),owe=L_e.OPEN,rwe.emit(N_e,owe),e(dwe)})),dwe.onMessage((e=>{if(!(e.data&&"pong"===e.data||e.data.length<4||"string"==typeof e.data)){var t,r=new Uint8Array(e.data),n=r.slice(0,4),i=new Uint32Array(n)[0],a=r.slice(4,4+i);try{t=Z_e().LanDebugHeader.decode(a)}catch(e){return e.message,void e.stack}var o,{isString:s,method:c}=t;if(s)o=E_e(r.slice(4+i));else o=r.slice(4+i).buffer;rwe.emit(c,o)}})),dwe.onClose((()=>{vwe(L_e.CLOSED),fwe.forEach((e=>{kwe(e)}))})),dwe.onError((e=>{vwe(L_e.ERROR),uwe=e,hwe.forEach((e=>{Swe(e)}))}))})),awe}function vwe(e){owe=e,rwe.emit(N_e,owe),swe="",cwe=-1,lwe=!1,dwe=null}function mwe(e,t,r="",n){if(void 0===r||"string"!=typeof r&&!r.constructor.toString().includes("ArrayBuffer"))return!1;var i=!1;return awe?("string"==typeof r&&(i=!0,r=A_e(r)),awe.then((a=>new Promise((o=>{if(!a)return o({errMsg:"sendSocketMessage:fail no client"});twe();var s=Z_e().LanDebugHeader.encode(Object.assign({version:2,method:t,id:e,isString:i,clientId:ewe,options:JSON.stringify({isDevEdition:z.isDevEdition})},n?{notEnd:!0}:{})),c=new Uint32Array([s.length]);a.send({data:new Uint8Array([...new Uint8Array(c.buffer),...new Uint8Array(s.buffer),...new Uint8Array(r)]).buffer,success(e){o(e)},fail(e){o(e)}})}))))):Promise.resolve({errMsg:"sendSocketMessage:failed"})}var ywe=function(e,t){return mwe(J_e++,e,t)},bwe=function(e){var t=J_e++;return{send:r=>mwe(t,e,r,!0),end:(r=new ArrayBuffer(0))=>mwe(t,e,r)}},_we=function(e,t){rwe.on(e,t)},wwe=function(e,t){rwe.off(e,t)},Iwe=function(e){try{e()}catch(e){e.message,e.stack}},Swe=function(e){try{e(uwe)}catch(e){e.message,e.stack}},kwe=function(e){try{e(uwe)}catch(e){e.message,e.stack}},Cwe=function(e){"function"==typeof e&&(owe===L_e.OPEN?Iwe(e):pwe.push(e))},Ewe=function(e){"function"==typeof e&&(owe===L_e.ERROR?Swe(e):hwe.push(e))},Awe=function(e){"function"==typeof e&&(owe===L_e.ERROR?kwe(e):fwe.push(e))},Twe={sendPackage:ywe,sendStream:bwe,onMessage:_we,offMessage:wwe,onReady:Cwe,onError:Ewe,onClose:Awe,get status(){return owe},get ip(){return swe},get port(){return cwe},get useStaticServer(){return lwe}};Object.defineProperty(Twe,"_start",{get:()=>(...e)=>gwe(...e)});var Pwe=e=>{setTimeout((()=>{var{ip:t,port:r,token:n,useStaticServer:i,useLanDebug:a}=(e.debugLaunchInfo||{}).lanDebugInfo||{};if((e.isDevEdition||a)&&(e.debugLaunchInfo,e.isDevEdition,t&&r&&n))return gwe({ip:t,port:r,token:n,useStaticServer:i})}),500)};z.onReady((()=>{Te()||ik((()=>{Pwe(z)}))}));var xwe="getLatestUserKey",Mwe={},Rwe=null;function Dwe(){return Mwe.expireTime&&Mwe.expireTime>Date.now()?Promise.resolve(Mwe):Rwe||(Rwe=Yu({apiName:"webapi_getuserencryptkey",reqData:{}}).then((e=>{var{encrypt_key:t,version:r,expire_in:n,iv:i}=e.data;return Mwe={encryptKey:t,version:r,expireTime:Date.now()+1e3*n,iv:i},Rwe=null,Mwe})).catch((e=>{throw Rwe=null,e})))}function Owe(e){Dwe().then((t=>(Oc({name:xwe,args:e,res:t}),null))).catch((t=>{Rc(xwe,e,t.message||t.errMsg)}))}var Lwe={getLatestUserKey:Owe,getRandomValues:Aae},Nwe=()=>Lwe,Bwe=(e={})=>{gu("operateSmCrypto",e)},Fwe=(e={})=>{gu("operateSmCryptoSensitive",e)},Wwe=yS((()=>new ArrayBuffer)),jwe=(e={})=>{Fwe(O()(O()({},e),{},{type:"sm2GenKeyPair"}))},Vwe=(e={})=>{xc("GMCryptoManager.SM2.generatePublicKey",e,{privateKey:new ArrayBuffer})&&Fwe(O()(O()({},e),{},{type:"sm2GenPublicKey"}))},Uwe=(e={})=>{xc("MCryptoManager.SM2.encrypt",e,{plaintext:Wwe(),publicKey:Wwe(),cipherMode:0})&&Bwe(O()(O()({},e),{},{type:"sm2EncryptWithMode"}))},$we=(e={})=>{xc("GMCryptoManager.SM2.decrypt",e,{ciphertext:Wwe(),privateKey:Wwe(),cipherMode:0})&&Fwe(O()(O()({},e),{},{type:"sm2DecryptWithMode"}))},zwe=(e={})=>{xc("MCryptoManager.SM2.sign",e,{message:Wwe(),uid:Wwe(),privateKey:Wwe(),publicKey:Wwe(),signMode:0})&&Fwe(O()(O()({},e),{},{type:"sm2SignWithMode"}))},qwe=(e={})=>{xc("GMCryptoManager.SM2.verify",e,{message:Wwe(),uid:Wwe(),signed:Wwe(),publicKey:Wwe(),signMode:0})&&Bwe(O()(O()({},e),{},{type:"sm2VerifyWithMode"}))},Hwe={CipherMode_C1C3C2_ASN1:0,CipherMode_C1C3C2:1,CipherMode_C1C2C3_ASN1:2,CipherMode_C1C2C3:3,CipherMode_04C1C3C2:4,CipherMode_04C1C2C3:5,SignMode_RS_ASN1:0,SignMode_RS:1,generateKeyPair:jwe,generatePublicKey:Vwe,encrypt:Uwe,decrypt:$we,sign:zwe,verify:qwe},Gwe=(e={})=>{xc("GMCryptoManager.SM3.digest",e,{message:Wwe()})&&Bwe(O()(O()({},e),{},{type:"sm3"}))},Kwe=(e={})=>{xc("GMCryptoManager.SM3.hmac",e,{message:Wwe(),key:Wwe()})&&Fwe(O()(O()({},e),{},{type:"sm3Hmac"}))},Jwe={digest:Gwe,hmac:Kwe},Xwe={cbc:"sm4CbcEncrypt",gcm:"sm4GcmEncrypt",ctr:"sm4CtrEncrypt"},Ywe={cbc:"sm4CbcDecrypt",gcm:"sm4GcmDecrypt",ctr:"sm4CtrDecrypt"},Qwe=(e={})=>{if(xc("GMCryptoManager.SM4.encrypt",e,{plaintext:Wwe(),key:Wwe(),iv:Wwe(),cipherMode:""})){var t=e.cipherMode;delete e.cipherMode,Fwe(O()(O()({},e),{},{type:Xwe[t]}))}},Zwe=(e={})=>{if(xc("GMCryptoManager.SM4.decrypt",e,{ciphertext:Wwe(),key:Wwe(),iv:Wwe(),cipherMode:""})){var t=e.cipherMode;delete e.cipherMode,Fwe(O()(O()({},e),{},{type:Ywe[t]}))}},eIe={encrypt:Qwe,decrypt:Zwe,CipherMode_CBC:"cbc",CipherMode_GCM:"gcm",CipherMode_CTR:"ctr"},tIe=(e={})=>{xc("GMCryptoManager.generateRandomBytes",e,{length:0})&&Bwe(O()(O()({},e),{},{type:"genRandomBytes"}))},rIe={SM2:Hwe,SM3:Jwe,SM4:eIe,generateRandomBytes:tIe},nIe=()=>{for(var e of(rIe.generateRandomBytes=At(rIe.generateRandomBytes),["SM2","SM3","SM4"]))for(var[t,r]of Object.entries(rIe[e]))"function"==typeof r&&(rIe[e][t]=At(r))},iIe=()=>rIe,aIe=()=>Math.floor(Date.now()/1e3),oIe=()=>{var e="0123456789abcdef",t=t=>{for(var r="";t--;)r+=e[Math.floor(Math.random()*e.length)];return r};return`${t(8)}-${t(4)}-4${t(3)}-8${t(3)}-${t(8)}`},sIe=(e,t)=>{var r=t.map((t=>`${t}=${e[t]}`)).join("&");return Yhe()(r).toUpperCase()},cIe=e=>{gu("private_openUrl",{url:`https://mp.weixin.qq.com/mp/waerrpage?appid=${e}&type=offshelf&offshelf_type=0#wechat_redirect`,isNativeStyle:!0}),zS((()=>{Bq()}))},lIe=c0.app,uIe="_private_@@financial_applet_events@@",dIe="https://open.fdep.cn",pIe="/api/v1/mop/runtime/external/check/app-packages",hIe="/api/v1/mop/runtime/data-report/apm/private",fIe={APPLET_START:"applet_start",DATA_DISCLOSURE:"data_disclosure",APPLET_CRASH:"applet_crash",SANDBOX_CRASH:"sandbox_crash",OPERATION_EXCEPTION:"operation_exception",ACCESS_EXCEPTION:"access_exception",START_FAIL:"start_fail"},gIe={applet_start:"小程序启动",data_disclosure:"数据泄露",applet_crash:"小程序崩溃",sandbox_crash:"安全沙箱崩溃",operation_exception:"运维异常",access_exception:"无法访问业务内容",start_fail:"启动失败"},vIe=new Promise((e=>z.onReady(e))),mIe=function(){var e=cp()((function*(){var e,t;yield vIe;var r=null==z||null===(e=z.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t?void 0:t.finance_app_info;return r?{appId:r.finance_appid,sdkFingerprint:r.finance_sdk_fingerprint,sdkKey:r.finance_sdk_key,sdkSecret:r.finance_sdk_secret,sdkBundleId:r.finance_sdk_bundleid,sdkVersion:r.finance_sdk_version,appPkgList:r.finance_app_pkg_list,appSequence:r.finance_app_seq,appVersion:r.finance_app_version,organId:r.finance_organ_id,encryptionType:r.finance_encryption_type,isGray:r.is_gray,shouldCheck:r.should_check,baseUrl:r.finance_base_url}:null}));return function(){return e.apply(this,arguments)}}(),yIe=function(){var e=cp()((function*(e){var t,r,n,i,a,o,s,c,l,u="wechat",d="sha256",p=Math.floor(Date.now()/1e3),h=oIe(),f=e.appPkgList.filter((e=>16===e.pkg_type))[0].pkg_sha256,g={source:u,identityType:d,apps:[{appId:e.appId,identity:f}],timestamp:p,uuid:h,sign:sIe({timestamp:p,uuid:h,source:u,identityType:d,secret:e.sdkSecret},["identityType","source","timestamp","uuid","secret"])},m={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},y=`${e.baseUrl||dIe}${pIe}`,b=yield new Promise(((e,t)=>{Xb({method:"POST",url:y,header:m,data:g,success:e,fail:t})}));if(v.info(`[mop verify response] errcode=${null==b||null===(t=b.data)||void 0===t?void 0:t.errcode} error=${null==b||null===(r=b.data)||void 0===r?void 0:r.error}`),["FS_BIND_NOT_FOUND","MOP_SDK_FINGERPRINT_CHECK_FAIL"].includes(null==b||null===(n=b.data)||void 0===n?void 0:n.errcode))return!1;if("OK"!==(null==b||null===(i=b.data)||void 0===i?void 0:i.errcode))throw new Error((null==b||null===(l=b.data)||void 0===l?void 0:l.error)||"mop verify failed");var _=null==b||null===(a=b.data)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.appList)||void 0===s?void 0:s[0];if(!_)throw new Error("cannot find app data in appList");if(["FS_APP_ID_NOT_FOUND","FS_IDENTITY_NOT_FOUND_ERR","FS_ORGAN_STATUS_INVALID","FS_COOPERATION_TERMINATED","FS_APP_NOT_ASS_BIND"].includes(null==_?void 0:_.errcode))return!1;if("OK"!==(null==_?void 0:_.errcode))throw new Error((null==_?void 0:_.error)||"mop verify failed");return!0===(null==_||null===(c=_.data)||void 0===c?void 0:c.identityValid)}));return function(t){return e.apply(this,arguments)}}(),bIe=function(){var e=cp()((function*(e,t){var r={applet_id:e.appId,applet_ver:e.appVersion,applet_sequence:e.appSequence,event_name:gIe[t],event_type:t,is_gray:e.isGray,organ_id:e.organId,basic_pack_version:z.SDKVersion,payload:{},timestamp:aIe()},n=lIe.getStorageSync(uIe);if((n=Array.isArray(n)?n:[]).push(r),lIe.setStorageSync(uIe,n),e.shouldCheck){var i=oIe(),a=aIe(),o={data:{app_info:{app_id:e.sdkBundleId,app_version:z.host.version+"",name:z.host.env,sdk_key:e.sdkKey,sdk_version:e.sdkVersion,finger:e.sdkFingerprint},device_info:{brand:z.brand,device_id:null,model:z.model,os:z.platform,os_version:z.system,screen_size:`${z.screenHeight}*${z.screenWidth}`},events:n},exp:{},timestamp:a,uuid:i,sign:sIe({timestamp:a,uuid:i,secret:e.sdkSecret},["timestamp","uuid","secret"])},s={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},c=`${e.baseUrl||dIe}${hIe}`;try{var l,u,d=yield new Promise(((e,t)=>{Xb({method:"POST",url:c,header:s,data:o,success:e,fail:t})}));if("OK"!==(null==d||null===(l=d.data)||void 0===l?void 0:l.errcode))throw new Error((null==d||null===(u=d.data)||void 0===u?void 0:u.error)||"report failed");var p=lIe.getStorageSync(uIe);p=(p=Array.isArray(p)?p:[]).slice(n.length),lIe.setStorageSync(uIe,p)}catch(e){}}}));return function(t,r){return e.apply(this,arguments)}}(),_Ie=()=>{z.onReady(cp()((function*(){yield new Promise((e=>setTimeout(e,0)));var e=yield mIe();if(e&&e.appId){var t="initial";try{if(e.shouldCheck)try{if(!(yield yIe(e)))return cIe(z.accountInfo.appId),void(t="rejected");t="passed"}catch(e){t="failed",v.error("[mop verify error]",e)}else t="skipped";bIe(e,fIe.APPLET_START).catch((e=>{v.error("[mop report error]",e)}))}catch(e){v.error("[init financial app error]",e)}finally{v.info("[financial check status]",t)}}})))},wIe=()=>{z.onReady((()=>{l.g.__isAppServiceRemoteDebugMode__&&l.g.__remoteDebug__.setAppserviceHandlers({getCurrentPages:Yc.getCurrentPagesByDomain,invokeWebviewMethod:bp,__appServiceEngine__:Yc,__appServiceSDK__:{_requestSkipCheckDomain:Xb},Reporter:E,__virtualDOM__:Kc,exparser:rl,wx:z2e.wx})}))},IIe=()=>l.g.__debuggerMessager__?l.g.__debuggerMessager__:{},SIe=(e={})=>{var t=["release","develop","trial"],r=ed("CreateWxaShortLink","webapi_createwxashortlink",(e=>({wxa_appid:e.appid,wxa_path:e.path,page_title:e.title,version:e.version,version_type:t.indexOf(e.envVersion)})),(e=>{e.shortLink=e.short_link,delete e.short_link}));r(e)},kIe=(e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",gu("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data)}})},CIe=(e={})=>{e.keyPath="WxaAppVersionInfo.VersionState",gu("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data),1===e.data&&(e.data=0)}})},EIe=(e={})=>{kIe({success(t){Oc({name:"getAppContact",args:e,res:t})},fail(t){CIe({success(t){Oc({name:"getAppContact",args:e,res:t})},fail(t){Oc({name:"getAppContact",args:e,res:t,success:!1})}})}})},AIe=null,TIe=e=>{AIe=e},PIe=()=>{AIe=null},xIe=Ru(SIe),MIe=Ru(EIe),RIe=e=>rE({icon:"none",title:e}),DIe=1500,OIe=new Map,LIe="请检查网络后重试",NIe="已复制",BIe=0;Tt("onCopyUrl",(e=>{if(e.webviewId!==ul.currentWebviewId)return console.warn("[onCopyUrl] error: webviewId loss"),void RIe("请检查网络后重试");var t=e.shortLinkEnable||!1,r=ul.lastRoute,n=ul.lastOpenType,i=JSON.parse(JSON.stringify(ul.lastRawQuery||{}));if("appLaunch"!==n&&"autoReLaunch"!==n)try{Object.keys(i).forEach((e=>{i[e]=decodeURIComponent(i[e])}))}catch(e){return void RIe(LIe)}var a=Te()?t?"":"index.html":`${r}.html`,o=Object.entries(i).map((e=>e.join("="))).join("&");if(t&&"function"==typeof AIe)try{o=(AIe()||{}).query||""}catch(e){console.warn("[onCopyUrl] error",e)}var s=o?`${a}?${o}`:a;if(t){OIe.has(BIe)&&OIe.set(BIe,!1);var c=++BIe,l=!1;OIe.set(c,!0);var u=e=>{!!OIe.get(c)&&(RIe(e),e===LIe&&gu("returnCopyUrl",{url:"",shortLinkEnable:t}),OIe.set(c,!1))};setTimeout((()=>{l=!0,u(LIe)}),DIe);var d=z.page[`${r}.html`],p=d&&d.window||{},h=z.global&&z.global.window||{},f=p.navigationBarTitleText||h.navigationBarTitleText||"";MIe().then((e=>{var r=e.data;return xIe({appid:z.accountInfo.appId,envVersion:z.envVersion,path:s,title:Te()?"":f,version:r}).then((e=>(console.log("createWxaShortLinkAsync, ",e),!!OIe.get(c)&&!l&&(gu("returnCopyUrl",{url:e.shortLink,shortLinkEnable:t,success(){RIe(NIe)},fail(){RIe(LIe)}}),OIe.set(c,!1)),null))).catch((e=>{u(LIe),console.log("[onCopyUrl]:",e)})),null})).catch((e=>{u(LIe),console.log("[onCopyUrl]: ",e)}))}else gu("returnCopyUrl",{url:s,shortLinkEnable:t,success(){RIe(NIe)},fail(){RIe(LIe)}})}));var FIe=["image","font"],WIe=(e={})=>{var t="preloadAssets";if(xc(t,e,{data:[{src:"",type:""}]})){for(var r=e.data,n=0;n<r.length;n++){var i=r[n];if(!i.type||!FIe.includes(i.type)||!i.src)return void Rc(t,e,Qr)}ul.currentWebviewIdPromise.then((()=>{bp("preloadAssets",r,[ul.currentWebviewId],(t=>{ou(t,"preloadAssets",e,{})}))}))}},jIe=!1,VIe=!1;function UIe(e=!1){var t,n,i=Oh.saveCodeCache;"function"==typeof i&&null!==(t=r)&&void 0!==t&&null!==(n=t.features)&&void 0!==n&&n.delayedServiceCodeCache&&(VIe||(VIe=e,jIe||(jIe=!0,setTimeout((()=>{Date.now();i(!1,VIe),Date.now(),jIe=!1}),0))))}function $Ie(){UIe(!0),YS($Ie)}h.onLoad((()=>{1===z.envPreloadType?setTimeout((()=>{UIe(!1)}),0):z.onReady((()=>{UIe(!1)}))})),XS($Ie);var zIe={},qIe,HIe;z.onReady((()=>{qIe=z.appLaunchInfo.scene,HIe=z.appLaunchInfo.sessionid||z.appLaunchInfo.sessionId,Object.assign(zIe,z.appLaunchInfo),Kt("onAppEnterForeground",(e=>{Object.assign(zIe,e),e&&e.scene&&(qIe=e.scene),e&&(e.sessionid||e.sessionId)&&(HIe=e.sessionid||e.sessionId),T.setAppServiceVariable({scene:qIe,scene_note:zIe.scene_note||zIe.sceneNote,instanceId:HIe}),T.updateWebviewPageInfo()})),T.setAppServiceVariable({scene:qIe,scene_note:zIe.scene_note||zIe.sceneNote,instanceId:HIe}),Kt("onAppEnterBackground",(()=>{T.checkIsWebviewPageDetach()}))}));var GIe=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8",de){var r=null;return gu("encodeArrayBufferSync",Object.assign(t,{success(e){r=e.buffer},fail(){}})),r}return Oh.encodeArrayBuffer(t.data,t.format)},KIe=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8",de){var r="";return gu("decodeArrayBufferSync",Object.assign(t,{success(e){r=e.result},fail(){}})),r}return Oh.decodeArrayBuffer(t.data,t.format)},JIe=Symbol("specialAdd");Kt("onAddToDesktop",(()=>{rE({icon:"loading",title:"加载中",duration:5e3}),XIe({timeout:5e3,special:JIe,fail(e){rE({icon:"error",title:"链接生成失败，请重试"}),v.info("onAddToDesktop addToDesktop occur error: ",e)},success(){gu("hideToast",null)}})}));var XIe=(e={})=>{var{special:t,timeout:r}=e;if(void 0===e.path||je(e.path))if(de||pe)Rc("addToDesktop",e,"not supported");else{var{path:n="",fail:i,success:a}=e;if(Ph("openUrlByExtBrowser2")||Ph("openUrlByExtBrowser")&&t===JIe){var o=!1;r&&setTimeout((()=>{o=!0,et(i)&&i({errMsg:"timeout"})}),r),Yu({apiName:"webapi_adduserurllink",reqData:O()({},{path:n})}).then((e=>{if(!o){if(0!==(e=e.data).base_resp.errcode)throw e.base_resp;var r=e.url_link;(t===JIe?r5:n5)({url:r,success(){et(a)&&a()},fail(e){et(i)&&i(e)}})}})).catch((e=>{o||(e.err_code&&(e.errno=e.err_code,delete e.err_code),et(i)&&i(e))}))}else Rc("addToDesktop",e,"no permission","-12001")}else Rc("addToDesktop",e,"invalid request data")},YIe=(e,t)=>{lr("getPassiveEvent",{},[e]),gr("getPassiveEventCb",((r,n)=>{e===n&&t(r)}))},QIe=(e,t)=>{lr("setPassiveEvent",t,[e])},ZIe=(e,...t)=>{et(e)&&e(...t)},eSe=Ru(qh),tSe=Ru($h),rSe=Ru(Zh),nSe=Ru(Gh),iSe=pe?"wxfile://__wxprivate__/pay":"wxfile://usr/__sdk_private_pay__",aSe=`${iSe}/meta.json`,oSe=5e3,sSe=function(){var e=cp()((function*(e={}){if(Ph("allowUseWePay")){var t,r=O()({},e),n=(t,r=!1)=>{Zce(void 0),ZIe(e.fail,r?t:{errMsg:"pay:fail "+t})};if(!!Qce())n("has other on-going payment");else try{var i;"wx8d3e80ba58488c78"!==p.accountInfo.appId&&"wx40f8626ddf43d362"!==p.accountInfo.appId||(t=e.cheat,ele.cheat=t);var{prepayId:a,wxPay:o}=e;if(!a)return void n("lose argument: prepay_id");var s=!1;aE();var c,l,u=setTimeout((()=>{oE(),s=!0,n("timeout")}),oSe);Zce({prepayId:a}),o&&(c=o.useOrder);try{if(l=yield Yu({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformList",json_req:JSON.stringify({prepay_id:a})}}),s)return;l=l.data}catch(e){return oE(),clearTimeout(u),void n(e.message)}var d=[];l.platform_list&&l.platform_list.forEach((e=>{var t=e.platform_info;d.push({h:t.name,src:t.icon_url,id:e.platform_id})})),null!==(i=t)&&void 0!==i&&i.multi&&d.push(...d),__sclEngine__.initScl((i=>{clearTimeout(u);try{var{windowHeight:l}=vy(),p=i.mainRoot.append("pay",{title:"请选择",content:d,windowHeight:l});p.addListener("hide-loading",(()=>{oE()})),p.addListener("select-pay",function(){var i=cp()((function*(i){try{var l,d,p=i.detail.id,h=i.detail.name;if(Qce().platformId=p,"微信支付"===h)return void(c?XT(O()(O()({},o),{},{fail(e){n(e,!0)},success(t){ZIe(e.success,t)}})):wA(O()(O()({},o),{},{fail(e){n(e)},success(t){ZIe(e.success,t)}})));try{aE(),d=yield Yu({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformPayArgs",json_req:JSON.stringify({platform_id:p,prepay_id:a})}})}catch(e){return oE(),void rE({title:`打开${h}失败，请重试`,icon:"error",duration:1500})}if(oE(),null!==(l=d.data.base_resp)&&void 0!==l&&l.errno)return s||clearTimeout(u),void n(d.data.base_resp.err_msg);var{appid:f,platform_prepay_id:g,platform_args:v,path:m}=d.data;try{yield rSe({path:iSe})}catch(e){try{yield nSe({dirPath:iSe,recursive:!0})}catch(e){}}try{var y,b,_,w,I,S,k;try{_=(_=yield tSe({filePath:aSe,encoding:"utf-8"})).data}catch(e){}if(_&&(_=JSON.parse(_)),null!==(y=_)&&void 0!==y&&null!==(b=y[f+h])&&void 0!==b&&b.hasInit)yield eH({__skip_tap_check__:qq,appId:f,path:m,extraData:{platform_prepay_id:g,platform_args:v},skipSceneSymbol:Hq,scene:1227,envVersion:null!==(w=null===(I=t)||void 0===I?void 0:I.envVersion)&&void 0!==w?w:"release"});else yield new Promise(((e,t)=>{ZC({title:`即将打开“${h}”小程序支付`,success:r=>{r.cancel?t(new Error("cancel")):e()},fail:t})})),yield gx({appId:f,path:m,extraData:{platform_prepay_id:g,platform_args:v},scene:1227,envVersion:null!==(S=null===(k=t)||void 0===k?void 0:k.envVersion)&&void 0!==S?S:"release"}),_=O()(O()({},_),{[f+h]:{hasInit:!0}}),yield eSe({filePath:aSe,data:JSON.stringify(_)})}catch(e){if("cancel"===(null==e?void 0:e.message))return void n("user cancel")}var C,E=yield ile();if(E.retry)return void sSe(r);if(null!=E&&E.result)A=h,Zce(void 0),ZIe(e.success,{errMsg:"pay: ok",pay:A});else n(null!==(C=null==E?void 0:E.errMsg)&&void 0!==C?C:"pay cancel")}catch(e){console.error("DEBUG Pay phrase 4 occur error:",e)}var A}));return function(e){return i.apply(this,arguments)}}()),p.addListener("cancel",(()=>{n("user cancel")}))}catch(e){}}))}catch(e){}}else ZIe(e.fail,{errMsg:"pay:fail no permission"})}));return function(){return e.apply(this,arguments)}}(),cSe={},lSe=(e,t)=>{cSe[e]=t},uSe=e=>cSe[e],dSe=Symbol("IS_SUB_PACKAGE_INJECT_API"),pSe=Symbol("EXIT_EXECUTE_SYMBOL"),hSe=(e,...t)=>{et(e)&&e(...t)},fSe=(e,t,...r)=>{isFunction(e)&&e.call(t,...r)},gSe=234234669135,vSe=234231453256,mSe=234532352353;function ySe(e){var t;return function(){return t=t||e.apply(this)}}function bSe(e,t){if("function"!=typeof e)return!1;var r=e.toString();return void 0!==e.prototype&&(e.prototype.constructor===e&&("class"===r.slice(0,5)||(Object.getOwnPropertyNames(e.prototype).length>=2||!/^function\s+\(|^function\s+anonymous\(/.test(r)&&(!(!t||!/^function\s+[A-Z]/.test(r))||!!/\b\(this\b|\bthis[\.\[]\b/.test(r)&&(!(t&&!/classCallCheck\(this/.test(r))||/^function\sdefault_\d+\s*\(/.test(r))))))}var _Se=[],wSe=e=>_Se.push(e),ISe=()=>_Se,SSe=e=>"[object Function]"===Object.prototype.toString.call(e)&&"function"==typeof e,kSe="break_callback_execute",CSe=Symbol("defineGeneralSymbol"),ESe=Object.assign,ASe=new WeakSet,TSe=(e,t,r={})=>{var n=[];return Object.keys(e).forEach((i=>{var a=e[i],o=a[t];if(SSe(o)){ESe(a,{metadatas:e},r);var s=o.bind(a);"paramHandler"===t&&a.modifyArgs&&(s.sendRawArgs=!0),n.push(s)}})),n};function PSe(e,t){return function(r,n,i){var a=i.value,o=O()({},t);if("noCondom"===e&&wSe(n),i.initializer){var s=i.initializer();if(i.value){var c=i.value.extraInfos[e];c?Object.assign(c,o):i.value.extraInfos[e]=o}else{if("noHook"===e)return void(i.initializer=()=>s);if("noExpose"===e)return void(i.initializer=()=>{});i.value={extraInfos:{generalMetadata:{},[e]:o}},i.initializer=()=>{var e,t=null===(e=i.value)||void 0===e?void 0:e.extraInfos;return t?(t.api=n,t.prefix="",{extraInfos:t,value:()=>MSe(t,s,this)}):s}}}else{var l;if(null!==(l=i.value)&&void 0!==l&&l.extraInfos){var u=i.value.extraInfos[e];u?Object.assign(u,o):i.value.extraInfos[e]=o}else i.value={extraInfos:{generalMetadata:{},[e]:o},value:a}}return i}}function xSe(e,t){return PSe("generalMetadata",{[e]:t})}function MSe(e,t,r,n=1){var i,a;if(!Xe(e))return t;var o,{api:s,prefix:c=""}=e;if((null!==(i=e.generalMetadata)&&void 0!==i&&i.handleObject||null!==(a=e.generalMetadata)&&void 0!==a&&a.handleSdkSubPackageObject||e.lazy)&&Xe(t))return VI(s,"")||1!==n?new Proxy(t,{get(r,i){var a,l=O()(O()({},e),{},{api:i,prefix:c||s+".",lazy:void 0});l.generalMetadata.handleObject=!1;var u=null===(a=e.lazy)||void 0===a?void 0:a.getter;return u?(o||(o=MSe(l,u(),t,n)),o[i]):r[i]},set(r,i,a){if(o)o[i]=a;else{var l,u=null===(l=e.lazy)||void 0===l?void 0:l.getter;if(u){var d=O()(O()({},e),{},{api:i,prefix:c||s+".",lazy:void 0});d.generalMetadata.handleObject=!1,(o=MSe(d,u(),t,n))[i]=a}else r[i]=a}return!0}}):(console.error(new kd(s+":fail rejected due to no permission currently")),null);if(!SSe(t))return t;var l=function(...r){r[r.length-2]===dSe&&(t=r[r.length-1],r=r.slice(0,-2));var i,a,o,l,u,d=Object.keys(e).reduce(((t,r)=>(Xe(e[r])?t[r]=O()({},e[r]):t[r]=e[r],t)),{}),p=!1,h=r[0],f=h,g=c+s;Xe(h);try{var v,m=!1;if(TSe(d,"beforeExecute",{api:s,prefix:c,originArgs:h}).forEach((e=>{var t=e();Array.isArray(t)&&t[0]===pSe&&(m=t)})),!1!==m){if(f[0]&&"object"==typeof f[0])return Rc(g,f[0],m);if(SSe(m[2]))return m[2]()}TSe(d,"paramHandler",{api:s,prefix:c}).forEach((e=>{e.sendRawArgs?e(r):e(...r)})),(!(null===(v=d.promised)||void 0===v||!v.promise)||!sse(g,r[0]))&&(p||(f=O()({},f),d.timeout&&(d.timeout.afterCopyArgs=f)),["complete","success","fail"].forEach((e=>{var t=TSe(d,e,{api:s,prefix:c}),r=f[e];f[`__origin_${e}__`]=r,t.length&&(f[e]=function(n){"fail"===e&&(i=n),"success"===e&&(l=n);try{t.forEach((e=>e(n)))}catch(e){if(e===kSe)return}SSe(r)&&r.call(h,n);var a="after"+e[0].toUpperCase()+e.slice(1);TSe(d,a).forEach((e=>e(n)))})})),p||(r[0]=f,p=!0)),TSe(d,"hookArgs",{api:s,prefix:c}).forEach((e=>e(f)));for(var y=!1,b=TSe(d,"breakDirectly",{api:s,prefix:c}),_=0;_<b.length;_++){var w=b[_](...r);if(w!==vSe){y=!0,o=w;break}}if(!y)try{o=t.call(this,...r)}catch(e){var I=!1;TSe(d,"errorHandler").forEach((t=>{t(e)===mSe&&(I=!0)})),I||(a=e)}var S={};if(Object.keys(d).forEach((e=>{var t=d[e];if(t.deep&&(!0===t.deep||n<t.deep)&&Xe(o)){var l=Object.getPrototypeOf(o);for(var u of Object.getOwnPropertyNames(o).concat(Object.getOwnPropertyNames(l))){var p=u in l?l:o,h=(c||"")+s,f=tse(p,u);if(f&&(!f.get&&f.writable&&SSe(p[u]))){var g={prefix:h+".",api:u};S[u]||(S[u]=g),S[u][e]=O()({},t)}}}var v=t.resultHandler;if(v){var m=v.call(t,o,r,{syncError:a,callbackError:i});m!==gSe&&(o=m)}})),!ASe.has(o)&&Xe(o)){for(var k of Object.getOwnPropertyNames(S))o[k]=MSe(S[k],o[k],o,n+1);ASe.add(o)}}catch(e){u=e,TSe(d,"uncaughtErrorHandler").forEach((t=>{t(e)===mSe&&(u=null)}))}var C=!0;if(TSe(d,"afterCallback",{api:s,prefix:c}).forEach((e=>{e(r,l||o,{syncError:a,callbackError:i})===mSe&&(C=!1)})),u)throw u;if(!a)return o;if(C)throw a};return n>1?l.bind(r):l}function RSe(e=!0){return function(t){var r=Object.getOwnPropertyDescriptors(e?t.prototype:t);for(var n in r)if("constructor"!==n){var i,a=r[n],o=null===(i=a.value)||void 0===i?void 0:i.extraInfos;o&&(o.api=n,o.prefix="",Object.assign(o,t.prototype[CSe]),Object.defineProperty(e?t.prototype:t,n,{value:MSe(o,a.value.value,e?t.prototype:t),configurable:!0}))}}}function DSe(e,t){return function(r){r.prototype[CSe]?r.prototype[CSe][e]=t:r.prototype[CSe]={[e]:t}}}function OSe(e){var t=e.prototype.constructor;return function(...r){var n=new t(...r),i=Object.getOwnPropertyDescriptors(n);return Object.keys(i).forEach((t=>{var r,a=i[t],o=null===(r=a.value)||void 0===r?void 0:r.extraInfos;o&&(Object.assign(o,e.prototype[CSe]),Object.defineProperty(n,t,{value:a.value.value()}))})),n}}var LSe=!0,NSe=function(e,t){var r,n=this.prefix+this.api,i=this.uuid,a=Date.now()-this.invokeTime,o=null===(r=this.params)||void 0===r?void 0:r[0],s=e?{}:{errMsg:t&&t.errMsg,errno:t&&t.errno};T.traceApi(n,o,t,e,i,a,!1,s)};function BSe(){return DSe("traceApiAction",{paramHandler(...e){this.params=e},success(e){var t=this.api;LSe&&"request"!==t&&T.traceApi(t,this.params[0],e,!1,this.uuid,Date.now()-this.invokeTime,!0),NSe.call(this,!0,e)},fail(e){var t=this.api;LSe&&"request"!==t&&T.traceApi(t,this.params[0],e,!0,this.uuid,Date.now()-this.invokeTime,!0,{errMsg:e&&e.errMsg,errno:e&&e.errno}),NSe.call(this,!1,e)},afterCallback(e,t,r){var{callbackError:n,syncError:i}=r;NSe.call(this,!(i||n),t)},beforeExecute(){this.invokeTime=Date.now(),this.uuid=xg()},hookArgs(e){"request"===this.api&&(e.__wx_inner_uuid__=this.uuid,e.__wx_inner_invokeTime__=this.invokeTime)}})}var FSe=function(e,t,r,n){var i,a=this.prefix+this.api,o=this.uuid,s=this.params,[c,...l]=s,u=this.invokeTime,d=this.subContext;Xe(c)?(i=O()({},c),["complete","success","fail"].forEach((e=>{var t;null===(t=i)||void 0===t||delete t[`__origin_${e}__`]}))):i=c,fte(a,o,l.length?[i,...l]:i,t?1:0,u,n?0:1,e,d,r,this.reportAsync())};function WSe(e,t=!1,r=0){return PSe("report",{paramHandler(...e){this.params=e},success(e){var r=this.prefix+this.api;Lee(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!E.isLimitReport(21688))&&FSe.call(this,e,!0,t)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)}))},fail(e){var r=this.prefix+this.api;Lee(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!E.isLimitReport(21688))&&FSe.call(this,e,!1,t)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),e.errno&&E.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[this.prefix+this.api,e.errno].join(",")})},afterCallback(e,r,n){var i=this.prefix+this.api,{callbackError:a,syncError:o}=n;Lee(i,{req:null==e?void 0:e[0],res:r}).then((e=>{this.hasCheckReq=e;var n=e||this.hasCheckReq||this.report;t=t||e||this.hasCheckReq,n&&(!t||!E.isLimitReport(21688))&&FSe.call(this,r,!(o||a),t,!0)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)}))},beforeExecute(){var r,n=this.prefix+this.api,i=ate(n),a=null!==(r=null==i?void 0:i.ratio)&&void 0!==r?r:e;t=1===(null==i?void 0:i.ratio)||t,this.report=Math.random()<a,this.invokeTime=Date.now(),this.uuid=xg(),this.shouldBelieveAsync=!0,Promise.resolve().then((()=>{this.shouldBelieveAsync=!1}))},reportAsync(){return!this.shouldBelieveAsync},subContext:r,deep:2})}function jSe(e=0){return WSe(1,!0,e)}function VSe(){return define("apiCache",{breakDirectly(){return this.cacheInfo.cache?this.cacheInfo.ret:NoBreakExecuteNumber},afterCallback(e,t,r){var{syncError:n,callbackError:i}=r,a=e[0];n||i||(this.cacheInfo.cache?tryRun(null==a?void 0:a.__origin_success__,this.cacheInfo.rawResult||t):(this.cacheInfo.cache=!0,this.cacheInfo.ret=t,setTimeout((()=>{this.cacheInfo.cache=!1,this.cacheInfo.ret=null,this.cacheInfo.rawResult=null}))))},cacheInfo:{cache:null,ret:null,rawResult:null}})}function USe(){return define("apiCache",{breakDirectly(...e){var t,r,n,i,a=e[0];return this.cacheInfo.isReleaseQueue?this.cacheInfo.doubleCacheList?void this.cacheInfo.doubleCacheList.push([(null===(t=this.metadatas.promised)||void 0===t?void 0:t.resolve)||(null==a?void 0:a.__origin_success__),(null===(r=this.metadatas.promised)||void 0===r?void 0:r.reject)||(null==a?void 0:a.__origin_fail__),null==a?void 0:a.__origin_complete__]):(this.cacheInfo.doubleCacheList=[],NoBreakExecuteNumber):this.cacheInfo.cacheList?void this.cacheInfo.cacheList.push([(null===(n=this.metadatas.promised)||void 0===n?void 0:n.resolve)||(null==a?void 0:a.__origin_success__),(null===(i=this.metadatas.promised)||void 0===i?void 0:i.reject)||(null==a?void 0:a.__origin_fail__),null==a?void 0:a.__origin_complete__]):(this.cacheInfo.cacheList=[],NoBreakExecuteNumber)},success(e){this.cacheInfo.isReleaseQueue=!0,this.cacheInfo.cacheList&&this.cacheInfo.cacheList.forEach((t=>{tryRun(t[0],e)}))},fail(e){this.cacheInfo.isReleaseQueue=!0,this.cacheInfo.cacheList&&this.cacheInfo.cacheList.forEach((t=>{tryRun(t[1],e)}))},complete(){this.cacheInfo.cacheList&&(this.cacheInfo.cacheList.forEach((e=>{tryRun(e[2])})),this.cacheInfo.cacheList=null),this.cacheInfo.isReleaseQueue=!1,this.cacheInfo.cacheList=this.cacheInfo.doubleCacheList,this.cacheInfo.doubleCacheList=null},cacheInfo:{isReleaseQueue:null,cacheList:null,doubleCacheList:null}})}function $Se(){return PSe("promised",{paramHandler(...e){var t=e[0]||{},{success:r,fail:n,complete:i}=t;r||n||i||(this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),this.promiseMetadata.promise=this.promise)},resultHandler(e){var t,r;if(null!==(t=this.metadatas.checkTapPermission)&&void 0!==t&&t.refuseExec)return gSe;if(null!==(r=this.metadatas.apiCache)&&void 0!==r&&r.cacheInfo.cache){if(this.promise)return lt(this.metadatas.apiCache.cacheInfo.ret)?this.metadatas.apiCache.cacheInfo.ret:(this.resolve(this.metadatas.apiCache.cacheInfo.ret),this.promise)}else if(this.promise){var n;return null!==(n=this.metadatas)&&void 0!==n&&n.apiCache&&(this.metadatas.apiCache.cacheInfo.rawResult=e),this.promise}return gSe},success(e){var t,r,n=null===(t=this.metadatas)||void 0===t||null===(r=t.apiCache)||void 0===r?void 0:r.cacheInfo.ret;this.resolve&&this.resolve(n||e)},fail(e){this.reject&&this.reject(e)},promiseMetadata:{promise:null}})}function zSe(e){return defineAll("catchErr",{afterCallback(t,r,n){var{syncError:i}=n;if(void 0!==i){var a=`wx.${this.api}`;if("[object Error]"===Object.prototype.toString.apply(i)&&"AppServiceSdkKnownError"!==i.type)return"ThirdScriptError"===i.type?(E.thirdErrorReport({error:i,extend:a}),CatchErrorNumber):(E.errorReport({key:e,error:i,extend:a}),CatchErrorNumber)}}})}function qSe(e){return(...t)=>{if(4===z.appType)return _d("tap"),e.apply(this,t),void wd();Kc.wrapTapMark((()=>{e.apply(this,t)}))}}function HSe(){return DSe("checkTapPermission",{paramHandler(...e){var t=this.api,r=md(t,"tap"),n=Id();this.status=r;var i=e[0];return 10!==r||n||(PP({name:t,scene:0,strategy:1}),!de&&xu(t))?((20===r&&n||30===r)&&("function"==typeof i?i=qSe.call(this,i):"object"==typeof i&&null!==i&&["success","fail","complete"].forEach((e=>{"function"==typeof i[e]&&(i[e]=qSe.call(this,i[e]))}))),(40!==r||4===z.appType||n)&&(50!==r||n)?void 0:(i&&(i.fail||i.complete)&&setTimeout((()=>{Rc(t,i,"can only be invoked by user TAP gesture.")}),0),void(this.refuseExec=!0))):(i&&(i.fail||i.complete)&&setTimeout((()=>{Rc(t,i,"can only be invoked by user TAP gesture.")}),0),void(this.refuseExec=!0))},breakDirectly(){if(!this.refuseExec)return vSe},afterCallback(){Te()&&[10,30,40,50].includes(this.status)&&wd()}})}function GSe(){return defineAll("protect",{beforeExecute(){checkWxInterfaceSupported(this.api)}})}var KSe=function(){if(!this.emitFail){if(this.isTimeout)throw kSe;clearTimeout(this.timer)}},JSe;function XSe(){return PSe("timeout",{paramHandler(...e){var t=e[0],r=null==t?void 0:t.timeout;"number"==typeof r&&(this.isTimeout=!1,this.timer=setTimeout((()=>{var e={errMsg:"request timeout"};this.isTimeout=!0,this.emitFail=!0,hSe(this.afterCopyArgs?this.afterCopyArgs.fail:t.fail,e),hSe(this.afterCopyArgs?this.afterCopyArgs.complete:t.complete,e),this.emitFail=!1}),r))},success(){KSe.call(this)},fail(){KSe.call(this)},complete(){KSe.call(this)},emitFail:!1})}function YSe(){return define("noCondom",{})}h.onLoad((()=>{JSe=$5()}));var QSe=new WeakMap,ZSe=0;function eke(){return DSe("callbackLogReport",{beforeExecute(){this.key=this.api,JSe.log(`wx.${this.key} api invoke${this.seqMsg}`),this.categoryValue=md(this.key,"log"),this.categoryValue&&!this.metadatas.generalMetadata.shouldNotTraceAPI&&(BG.traceBeginAPI(`wx.${this.key}`),this.hasTraceAPI=!0)},paramHandler(e){this.seqMsg="request"===this.key?` with seq ${ZSe}`:"";var t=e[0];3===this.categoryValue&&"function"==typeof t&&(/^off/.test(this.key)&&QSe.has(t)?e[0]=QSe.get(t):e[0]=function(...e){BG.traceBeginAPI(`wx.${this.key} callback`),t.apply(null,e),BG.traceEndAPI()},/^on/.test(this.key)&&(QSe.has(t)?e[0]=QSe.get(t):QSe.set(t,e[0])))},success(){1===this.categoryValue&&BG.traceBeginAPI(`wx.${this.key} success callback`)},fail(){1===this.categoryValue&&BG.traceBeginAPI(`wx.${this.key} fail callback`)},complete(){1===this.categoryValue&&BG.traceBeginAPI(`wx.${this.key} complete callback`)},afterSuccess(e){1===this.categoryValue&&(JSe&&JSe.logApiInvoke&&JSe.log(`wx.${this.key} success callback`+(e&&e.errMsg?" with msg "+e.errMsg:" ")+this.seqMsg),BG.traceEndAPI())},afterFail(e){1===this.categoryValue&&(JSe&&JSe.logApiInvoke&&JSe.log(`wx.${this.key} fail callback`+(e&&e.errMsg?" with msg "+e.errMsg:" ")+this.seqMsg),BG.traceEndAPI())},afterComplete(){1===this.categoryValue&&BG.traceEndAPI()},afterCallback(){2===this.categoryValue&&JSe&&JSe.logApiInvoke&&JSe.log(`wx.${this.key} return`),this.hasTraceAPI&&(BG.traceEndAPI(),this.hasTraceAPI=!1)},modifyArgs:!0})}function tke(e){if(et(e))return PSe("lazy",{getter:e})}var rke={quicklyAddBrandContact:"quicklyAddBrandContact",privateScanItem:"privateScanItem",privateSearchContacts:"privateSearchContacts",setNavigateBackInterception:"private_setNavigateBackInterception",stopNavigateBackInterception:"private_stopNavigateBackInterception",getWebviewDebugInfo:"private_getWebviewDebugInfo"};function nke(e){return PSe("privateApi",{beforeExecute(){if("declare"===e){var t,r,n,i,a=+(null===(t=z.appContactInfo)||void 0===t||null===(r=t.operationInfo)||void 0===r||null===(n=r.jsonInfo)||void 0===n||null===(i=n.privacy)||void 0===i?void 0:i.locationPrivateInfosCheckStatus),o=z.requiredPrivateInfos,s=o&&o.indexOf(this.api)>=0,c=!("release"!==z.envVersion||1!==a||o&&s),l="release"!==z.envVersion&&o&&!s;return!c&&!l||[pSe,"the api need to be declared in the requiredPrivateInfos field in app.json/ext.json",()=>console.error(`wx.${this.api} need to be declared in the requiredPrivateInfos field in app.json/ext.json`)]}if("permission"===e){var u=this.api,d=rke[u].permissionByte;if(Ph(d))return[pSe,"no permission"]}}})}function ike(){return PSe("weakNetworkOptimize",{beforeExecute(...e){var t=e[0]||{},{success:r,fail:n,complete:i}=t;this.usedPromise=!r&&!n&&!i,this.args={},Object.keys(t).forEach((e=>{"function"!=typeof t[e]&&(this.args[e]=t[e])}))},breakDirectly(){if(!Uge()||!zge()[this.api])return vSe;if(Gfe.isWeakNetwork){var e=Sfe(this.api,this.args);if(!e)return vSe;if("object"==typeof e&&(e.fromCache=!0),this.usedPromise)return this.metadatas.apiCache||(this.metadatas.apiCache={cacheInfo:{}}),void(this.metadatas.apiCache.cacheInfo.ret=e);if(!this.usedPromise)return e}return vSe},success(e){if(!Gfe.isWeakNetwork){var t=Date.now()+Zfe.maxAge;Ife(this.api,this.args,e,t)}}})}var ake=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,oke=[];function ske(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,n=oke.length-1,i=0;i>=0&&n>=0;){var a=r.length,o=0;for(var s in cke)if(cke[s]){var c=r.indexOf(cke[s],i);c<0||a<=c||(a=c,o=cke[s].length)}if(a>=r.length)break;var l=`at <${oke[n--].description}>`;r=r.slice(0,a)+l+r.slice(a+o),i=a+l.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var cke={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function lke(e){var t=((new Error).stack||"").match(/.+/gm),r="",n=0;t&&t.forEach((e=>{if(ake.test(e)&&2===(n+=1)){var t=e.match(/^(\s*)at /),i=t?t[1].length:0;return r=e.slice(i),!1}return!0})),cke[e]=r}function uke(){for(var e="",t=oke.length-1;t>=0;t--)oke[t].pluginAppId&&(e=oke[t].pluginAppId);return e}var dke=e=>{null===cke.wrapSystemFunction&&(cke.wrapSystemFunction="",fke("","",lke)("wrapSystemFunction")),oke.push({description:e})},pke=()=>{oke.pop()};function hke(e,t,r,n,i,a=!1){var o;null===cke.wrapSystemFunction&&(cke.wrapSystemFunction="",fke("","",lke)("wrapSystemFunction")),oke.push({description:t});try{o=r.apply(n,i)}catch(t){if(ske(t)){if("AppServiceSdkKnownError"===t.type)throw oke.pop(),t;if("ThirdScriptError"===t.type){var s=uke();E.thirdErrorReport({error:t,source:s,triggerErrorCallback:!a})}else E.errorReport({key:e,error:t,triggerErrorCallback:!a})}if(a)throw oke.pop(),t}return oke.pop(),o}function fke(e,t,r,n=!1){return function(...i){return hke(e,t,r,this,i,n)}}function gke(e,t,r,n,i,a=!1){var o;null===cke.wrapMiniProgramOrPluginFunction&&(cke.wrapMiniProgramOrPluginFunction="",mke("","",lke)("wrapMiniProgramOrPluginFunction")),oke.push({description:t,pluginAppId:e});try{o=r.apply(n,i)}catch(t){if(ske(t)&&E.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!a}),a)throw oke.pop(),t}return oke.pop(),o}function vke(e,t,r,n,i=!1){return gke(uke(),e,t,r,n,i)}function mke(e,t,r,n=!1){return function(...i){return gke(e,t,r,this,i,n)}}function yke(e,t,r=!1){return function(...n){return gke(uke(),e,t,this,n,r)}}function bke(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",i=e||function(){};return function(...e){return gke(uke(),n,i,i,e,!1)}}var _ke=e=>{if(ske(e)){if("AppServiceSdkKnownError"!==e.type){if("ThirdScriptError"===e.type){var t=uke();return E.thirdErrorReport({error:e,source:t,triggerErrorCallback:!1}),mSe}return E.errorReport({key:"appServiceSDKScriptError",error:e,triggerErrorCallback:!1}),mSe}oke.pop()}};function wke(){return DSe("apiCatchError",{beforeExecute(){var e=` at wx.${this.api}`;dke(e)},errorHandler:e=>_ke(e),uncaughtErrorHandler:e=>_ke(e),afterCallback(){pke()}})}function Ike(){return DSe("checkWxInterfaceSupportAndPermission",{beforeExecute(){var e=this.api,t=this.originArgs;if(VI(e,"",t));else{if("Sync"===e.slice(-4))throw new kd(e+":fail rejected due to no permission currently");t&&(t.fail||t.complete)&&(setTimeout((()=>{Rc(e,t,"rejected due to no permission currently")}),0),this.metadatas.generalMetadata.shouldNotTraceAPI=!0,this.refuseExec=!0)}},breakDirectly(){if(!this.refuseExec)return vSe}})}var Ske=Jb,kke=(e={})=>{if(Ufe(e),!Uge())return Ske(e);var{url:t,data:r,method:n,success:i,fail:a,complete:o}=e,s=e=>{ege.checkNeedStore(t,r,n,e),i&&"function"==typeof i&&i(e)};if(Zfe.state===Uhe.UNKNOWN)e.success=e=>{i&&"function"==typeof i&&s(e),o&&"function"==typeof o&&o(e)},e.fail=s=>Hge(Ske,t,r,n,e,i,a,o,s),e.complete=null;else if(Zfe.state===Uhe.ON){var c=Hge(Ske,t,r,n,e,i,a,o);if(c)return c}else Zfe.state===Uhe.OFF&&(e.success=s);return Ske(e)},Cke,Eke={},Ake=!1,Tke=e=>{Eke=e;try{Eke="string"==typeof e?JSON.parse(e).jsapi_list:e.jsapi_list,Ake=!0}catch(e){Eke={}}};Ake||(Ake="SDK"===(null===(Cke=z.host)||void 0===Cke?void 0:Cke.env));var Pke=e=>Eke&&Eke[e],xke;Kt("onThirdPlatformApiPermissionBytesUpdate",(e=>{Tke(pe?e:null==e?void 0:e.thirdPlatformApiPermissionBytes),void 0!==xke&&xke()}));var Mke=e=>{xke=e},Rke=()=>Ake;z.onReady((()=>{Tke(z.thirdPlatformApiPermissionBytes)}));var Dke=(e,t={},r={},n={})=>{var i,a=r.fail;"function"==typeof a&&(a=a.bind(r));var o=O()({},r);o.isThird=!0;try{i=su(t,e,o,n)}catch(e){return void("function"==typeof a&&a(`SDK error: ${e}`))}Pke(e)?wr(e,t,(e=>{try{i(e)}catch(e){console.error("invokeThird callback error:",e)}})):(console.warn(`没有权限调用JSAPI: ${e}`),"function"==typeof a&&a(`没有权限调用JSAPI: ${e}`))},Oke=(e,t)=>{Pke(e)?Jt(e,t):console.warn(`没有权限监听Event: ${e}`)},Lke=()=>({showTabBar(e){var t=e.renderer;if(t)return Kc.showTabBarByRenderer(t);var r=e.pageId;return r?Kc.showTabBar(r):void 0}}),Nke;!function(e){e[e.Inspector=0]="Inspector",e[e.RendererInspectee=1]="RendererInspectee",e[e.ServiceInspectee=2]="ServiceInspectee",e[e.AllInspectee=3]="AllInspectee"}(Nke||(Nke={}));var Bke=(e,t)=>e===t||e&t;class Fke{get inited(){return this._inited}constructor(e=Nke.AllInspectee){this.callbacks=new Map,this.type=e}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(e){this.send(e)}reply(e,t){this.send({id:e,result:t})}on(e,t){this.callbacks.has(e)||this.callbacks.set(e,[]),this.callbacks.get(e).push(t)}off(e,t){if(this.callbacks.has(e)){var r=this.callbacks.get(e);r=[...r.filter((e=>e!==t))]}}handleCDPMessage(e,t,r){var n,i,a;Bke(this.type,t)&&("id"in e?null===(n=this.callbacks.get("command"))||void 0===n||n.forEach((t=>t(e,r))):null===(i=this.callbacks.get("event"))||void 0===i||i.forEach((t=>t(e,r))),null===(a=this.callbacks.get("all"))||void 0===a||a.forEach((t=>t(e,r))))}}function Wke(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))}class jke{get enabled(){return this._enabled}disable(){return Wke(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return Wke(this,void 0,void 0,(function*(){this._enabled=!0}))}constructor(e){this._enabled=!1,this.bridge=e}}class Vke extends jke{constructor(){super(...arguments),this._enabled=!0}}class Uke{constructor(e=0){this._id=e}get id(){return this._id++}reset(){this._id=0}}var $ke=new WeakMap;class zke{constructor(){this._roots=[],this._rootExparserMap=new Map}get roots(){return this._roots}init(e){$ke.set(this,e)}getExparser(e){return this._rootExparserMap.get(e)}insertChild(e,t){var r,n;if(!this._rootExparserMap.has(e)){this._roots.push(e),this._rootExparserMap.set(e,t);var i=$ke.get(this);i&&(null===(r=i.handleChildNodeInserted)||void 0===r||r.call(i,e),null===(n=i.handleChildNodeCountUpdated)||void 0===n||n.call(i,this._roots.length))}}removeChild(e){var t,r;if(this._rootExparserMap.has(e)){this._roots=this._roots.filter((t=>t!==e)),this._rootExparserMap.delete(e);var n=$ke.get(this);n&&(null===(t=n.handleChildNodeRemoved)||void 0===t||t.call(n,e),null===(r=n.handleChildNodeCountUpdated)||void 0===r||r.call(n,this._roots.length))}}}var qke="#text",Hke=new Set(["class","is"]),Gke;function Kke(e){return e.id.startsWith("__wx_inspectee_highlight__")}!function(e){e[e.Unknown=0]="Unknown",e[e.TextNode=1]="TextNode",e[e.VirtualNode=2]="VirtualNode",e[e.Component=3]="Component",e[e.NativeNode=4]="NativeNode",e[e.Element=5]="Element",e[e.ShadowRoot=6]="ShadowRoot"}(Gke||(Gke={}));class Jke{get root(){return this._root()}getRoot(e){return this.root}get inspectedNode(){return this._inspectedNode}constructor({exparser:e,root:t,getSkylineEngine:r,getContextId:n,advanceMode:i=!1,hideVirtual:a=!0},o){this.name="mini-app",this.nodeId=new Uke(4),this.inspectedId=new Uke(0),this.nodeIdMap=new Map,this.idNodeMap=new Map,this.options={},this.sentNodeIdSet=new Set,this.exparser=e(),this._root=t instanceof zke?()=>t:t,this.emitter=o,this.skylineEngine=null==r?void 0:r(),n&&this.skylineEngine&&(this.skylineContextId=n()),this.options={advanceMode:i,hideVirtual:a},this.document={nodeId:1,backendNodeId:1,childNodeCount:1,children:[],nodeType:9,nodeName:"#document"},this.documentType={parentId:1,nodeId:2,backendNodeId:2,nodeType:10,nodeName:this.name}}getExparser(e){return this.exparser}isGlassEasel(e){return"ElementIteratorType"in e}getSkylineContext(){return this.skylineEngine.getRuntime().allContexts[this.skylineContextId]||{}}isAlreadySent(e){return this.sentNodeIdSet.has(e)}addToMap(e,t){this.nodeIdMap.set(e,t),this.idNodeMap.set(t,{node:e}),e.setAttribute&&e.setAttribute("wx:nodeid",t)}removeNode(e){var t,r=this.getNodeById(e);r!==this.root&&r&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r),this.nodeIdMap.delete(r),this.idNodeMap.delete(e))}getNodeById(e){var t;return null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.node}getCachedCDPNode(e){var t;return null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.cdpCache}requestIdForNode(e,t=!0){var r=this.nodeIdMap.get(e);return!r&&t&&(r=this.nodeId.id,this.addToMap(e,r)),r}isWxComponent(e){return this.getNodeType(e)!==Gke.TextNode&&this.isNamedNode(e)&&e.is.startsWith("wx-")}isElement(e){return this.getNodeType(e)===Gke.Element}isNativeNode(e){return this.getNodeType(e)===Gke.NativeNode}isTextNode(e){return this.getNodeType(e)===Gke.TextNode}isNamedNode(e){return"is"in e}getNodeType(e){var t=this.getExparser(e);return e instanceof t.TextNode?Gke.TextNode:e instanceof t.ShadowRoot?Gke.ShadowRoot:e instanceof t.VirtualNode?Gke.VirtualNode:e instanceof t.Component?Gke.Component:e instanceof t.NativeNode?Gke.NativeNode:e instanceof t.Element?Gke.Element:Gke.Unknown}getNodeName(e){var t;if(this.getNodeType(e)===Gke.TextNode)return"";var r=null!==(t=e.is)&&void 0!==t?t:"";return this.isWxComponent(e)?r.slice(3):r}getSlotName(e){var t=this.getExparser(e);return this.isGlassEasel(t)?t.Element.getSlotName(e):e.__slotName}getChildren(e){var t=[],r=this.getNodeType(e);if(void 0!==this.getSlotName(e))t.push(...this.getComposedChildren(e));else if(r===Gke.Component){if(this.options.advanceMode||!this.isWxComponent(e)){var n=e.shadowRoot;this.getNodeType(n)===Gke.ShadowRoot&&t.push(n)}t.push(...e.childNodes)}else t.push(...this.getComposedChildren(e));return t}domify({node:e,nodeId:t,currentDepth:r=1,depth:n=1,parentId:i,env:a={}}={}){if(e?this.nodeIdMap.has(e)||(t=this.nodeId.id,this.addToMap(e,t)):t?e=this.getNodeById(t):(e=this.root,this.addToMap(e,3)),!e)return null;t||(t=this.nodeIdMap.get(e));var o=this.getNodeType(e),s={type:o};if(this.observeNode({nodeId:t}),o===Gke.TextNode)return this.sentNodeIdSet.add(t),{nodeId:t,parentId:i,backendNodeId:t,nodeType:3,nodeName:qke,localName:qke,nodeValue:e.textContent};var c=e;s.parentId=i,s.nodeId=s.backendNodeId=t,o===Gke.ShadowRoot?(s.nodeType=11,s.nodeName=s.localName="#shadow-root"):(s.nodeType=1,s.nodeName=s.localName=this.getNodeName(e));var l=this.getChildren(c),u=[],d=this.getSlotName(e);if(this.options.hideVirtual&&o===Gke.VirtualNode&&void 0===d)return l.forEach(((e,t)=>{var a=this.domify({node:e,depth:n,currentDepth:r,parentId:i});a&&(Array.isArray(a)?u.push(...a):u.push(a))})),u;(r<=n||-1===n)&&(this.idNodeMap.get(t).cdpCache=s,this.sentNodeIdSet.add(t),l.forEach(((e,t)=>{var i=this.domify({node:e,depth:n,currentDepth:r+1,parentId:s.nodeId});i&&(Array.isArray(i)?u.push(...i):u.push(i))})),void 0!==d?(s.distributedNodes=u.map((e=>({backendNodeId:e.backendNodeId,nodeName:e.nodeName,nodeType:e.nodeType}))),s.childNodeCount=0,s.nodeName="SLOT",d.length>0&&(s.attributes=["name",d])):(s.children=r!==n&&u.length?u:void 0,s.childNodeCount=u.length));var p=this.getAttributes(c);return p.length&&(Array.isArray(s.attributes)?s.attributes.push(...p):s.attributes=p),s}getAttributes(e){var t,r=[];if(!this.isElement(e)&&!this.isNativeNode(e))return r;e.id&&r.push("id",e.id),e.slot&&r.push("slot",e.slot);var n=null===(t=e.classList)||void 0===t?void 0:t.getClassNames();n&&r.push("class",n);var i=e.style;if("string"==typeof i&&r.push("style",String(i)),e.attributes)for(var{name:a,value:o}of e.attributes)a&&this.checkAttr(a)&&r.push(a,null!=o?o:"");return this.getNodeName(e),r}checkAttr(e){return!/^(wx|exparser):/.test(e)&&!Hke.has(e)}removeAttributes(e,t){var r;"id"===t?e.id="":"slot"===t?e.slot="":"class"===t?null===(r=e.classList)||void 0===r||r.setClassNames(""):"style"===t?e.style="":e.removeAttribute(t)}getAttributeValue(e,t){var r,n;return"id"===t?e.id:"slot"===t?e.slot:"class"===t?null!==(n=null===(r=e.classList)||void 0===r?void 0:r.getClassNames())&&void 0!==n?n:"":"style"===t?e.style:e.getAttribute(t)}setAttributeValues(e,t,r){var n;"id"===t?e.id=r:"slot"===t?e.slot=r:"class"===t?null===(n=e.classList)||void 0===n||n.setClassNames(r):"style"===t?e.style=r:e.setAttribute(t,r)}setInspectedNode(e){return this._inspectedNode=this.getNodeById(e),this._inspectedNode?e:null}setInspectedNodeForExparser(e){var t,{node:r,variableName:n}=null!==(t=this.idNodeMap.get(e))&&void 0!==t?t:{};if(!r)return null;if(!n){for(n=`$$${this.inspectedId.id}`;Reflect.has(globalThis,n);)n=`$$${this.inspectedId.id}`;this.idNodeMap.get(e).variableName=n}return Reflect.set(globalThis,n,r),n}isVirtual(e){return this.getNodeType(e)===Gke.VirtualNode}isGenericVirtual(e){return e instanceof this.getExparser(e).VirtualNode}isShadowRoot(e){return this.getNodeType(e)===Gke.ShadowRoot}findNearestNonVirtualAncestor(e){for(var t=e.parentNode;t&&this.isVirtual(t);)t=t.parentNode;return t}findLogicalParent(e){return this.options.hideVirtual?this.findNearestNonVirtualAncestor(e):this.getNodeType(e)===Gke.ShadowRoot?e.getComposedParent():e.parentNode}findParent(e){return this.getNodeType(e)===Gke.ShadowRoot?e.getComposedParent():e.parentNode}getComposedParent(e){return e.getComposedParent?e.getComposedParent():e.__wxSlotParent}getComposedChildren(e){return e.getComposedChildren?e.getComposedChildren():e.__wxSlotChildren.slice()}getSibling(e,t="prev"){var{hideVirtual:r}=this.options,n=this.findParent(e);if(!n)return null;var i,a=this.getChildren(n),o=Array.prototype.indexOf.call(a,e);if(a.length<2||o<0||"next"===t&&o===a.length-1||"prev"===t&&0===o)return r&&this.isVirtual(n)?this.getSibling(n,t):null;if("prev"===t)for(i=a[o-1];r&&this.isVirtual(i);){var s=this.getChildren(i);i=s[s.length-1]}else for(i=a[o+1];r&&this.isVirtual(i);)i=this.getChildren(i)[0];return null!=i?i:null}observeNode({nodeId:e=-1}){var t,{node:r,observer:n}=null!==(t=this.idNodeMap.get(e))&&void 0!==t?t:{};if(r)return n||(n=this.getExparser(r).Observer.create((t=>{var n,i,a,o,s,c,l,u,d,p,h,f,g,v,m;if(r)switch(t.type){case"characterData":var y=r.textContent;null===(n=this.emitter)||void 0===n||n.call(this,{method:"DOM.characterDataModified",params:{nodeId:e,characterData:y}});break;case"properties":var b=t.propertyName,_=null!==(o=null!==(i=r[b])&&void 0!==i?i:null===(a=r.data)||void 0===a?void 0:a[b])&&void 0!==o?o:null===(s=r.dataset)||void 0===s?void 0:s[b];void 0!==_?null===(c=this.emitter)||void 0===c||c.call(this,{method:"DOM.attributeModified",params:{nodeId:e,name:b,value:_}}):null===(l=this.emitter)||void 0===l||l.call(this,{method:"DOM.attributeRemoved",params:{nodeId:e,name:b}});break;case"childList":var w=this.findLogicalParent(r),I=w&&null!==(u=this.nodeIdMap.get(w))&&void 0!==u?u:-1,{cdpCache:S}=this.idNodeMap.get(I),k=null!==(d=null==S?void 0:S.childNodeCount)&&void 0!==d?d:0;if(t.removedNodes)for(var C of(k-=t.removedNodes.length,t.removedNodes)){var E=null!==(p=this.nodeIdMap.get(C))&&void 0!==p?p:-1,{observer:A}=this.idNodeMap.get(E);null===(h=this.emitter)||void 0===h||h.call(this,{method:"DOM.childNodeRemoved",params:{parentNodeId:I,nodeId:E}}),this.nodeIdMap.delete(C),this.idNodeMap.delete(E),null==A||A.disconnect()}if(t.addedNodes)for(var T of(k+=t.addedNodes.length,t.addedNodes)){var P=this.findLogicalParent(T),x=P&&null!==(f=this.nodeIdMap.get(P))&&void 0!==f?f:-1,M=this.getSibling(T),R=M&&null!==(g=this.nodeIdMap.get(M))&&void 0!==g?g:-1,D=this.domify({node:T,parentId:x});if(null===(v=this.emitter)||void 0===v||v.call(this,{method:"DOM.childNodeInserted",params:{parentNodeId:x,previousNodeId:R,node:D}}),P){var O=this.domify({node:P,depth:1});k!==(null==S?void 0:S.childNodeCount)&&(null===(m=this.emitter)||void 0===m||m.call(this,{method:"DOM.childNodeCountUpdated",params:{nodeId:x,childNodeCount:O.childNodeCount}}))}}}})),n.observe(r,{properties:!0,childList:!0,characterData:this.getNodeType(r)===Gke.TextNode}),this.idNodeMap.set(e,{node:r,observer:n})),n.disconnect}getDocument({depth:e}={}){if(!this.root)return this.document;this.sentNodeIdSet.clear();var t=this.domify({depth:e,parentId:this.document.nodeId});return this.document.children=[this.documentType,t],this.document.childNodeCount=this.document.children.length,this.document}}var Xke=new Uke(1);function Yke({beforeInvoke:e,afterInvoke:t,console:r=globalThis.console}){var n={},i=r,a=function(){var[r,a]=o;n[r]="function"==typeof a&&"debug"!==r?function(...n){null==e||e({method:r,args:n,originConsole:i});var a=i[r](...n);return null==t||t({method:r,args:n,ret:a,originConsole:i}),a}:a};for(var o of Object.entries(r))a();return n}var Qke=e=>!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then,Zke=new WeakMap,eCe=new Map,tCe=new Map,rCe=new Map,nCe=()=>eCe.size,iCe=e=>rCe.get(e),aCe=e=>{var t=tCe.get(e);if(t)for(var r of t)eCe.delete(r),rCe.delete(r)},oCe=(e,t={})=>{var r,n,i={},a=typeof e,o="";try{o=null===(r=null==e?void 0:e.toString)||void 0===r?void 0:r.call(e)}catch(e){o={}.toString()}if("object"===a||"function"===a||"symbol"===a){if(Zke.has(e))i.objectId=Zke.get(e);else{i.objectId=Xke.id.toString();try{e&&e instanceof Object&&Zke.set(e,i.objectId)}catch(t){console.error("objectToRemoteIdMap fail",t,e)}eCe.set(i.objectId,e),t.objectGroup&&((e,t)=>{var r=tCe.get(t);r?r.push(e):tCe.set(t,[e]),rCe.set(e,t)})(i.objectId,t.objectGroup)}if("object"===a){var s,c=null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name;if(c&&(i.className=c),Array.isArray(e)?s="array":null===e?s="null":e instanceof RegExp?s="regexp":e instanceof Date?s="date":e instanceof Map?s="map":e instanceof Set?s="set":e instanceof WeakMap?s="weakmap":e instanceof WeakSet?s="weakset":e instanceof Error?s="error":Qke(e)?s="promise":function(e){try{return[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].some((t=>e instanceof t))}catch(e){return!1}}(e)?s="typedarray":e instanceof ArrayBuffer?s="arraybuffer":e instanceof DataView?s="dataview":globalThis.WebAssembly&&e instanceof globalThis.WebAssembly.Memory&&(s="webassemblymemory"),s&&(i.subtype=s),null!=e&&t.generatePreview){var l={type:a,description:o,properties:Object.keys(e).flatMap((r=>e===globalThis&&"BabelRuntimeHelpers"===r?[]:Object.assign({name:r},oCe(e[r],Object.assign(Object.assign({},t),{generatePreview:!1}))))),overflow:!0};s&&(l.subtype=s),"map"===s?l.entries=[...e].map((([e,r])=>({key:e,value:oCe(r,Object.assign(Object.assign({},t),{generatePreview:!1}))}))):"set"===s&&(l.entries=[...e].map((e=>({value:oCe(e,Object.assign(Object.assign({},t),{generatePreview:!1}))})))),i.preview=l}}}else i.value=e;return Object.assign({type:a,description:o},i)},sCe=e=>{eCe.get(e)&&eCe.delete(e)},cCe=e=>eCe.get(e),lCe=(e,t={})=>{var r=oCe(e,t);if(e instanceof Error){var{name:n,message:i}=e;return{text:n,exception:r}}return{text:"Unknown Error",exception:r}},uCe={printError:!0};class dCe{constructor(e,t=uCe){this.bindAdapter=(e,t)=>{var r=`${e}Adapter`;return Reflect.set(this,r,t),this},this.options=t,this.handler=this.handleCommand.bind(this),this.bridge=e,this.bridge.on("command",this.handler),this.fallbackAdapter=new Vke(e)}destroy(){this.bridge.off("command",this.handler)}handleCommand(e){var t,r;return Wke(this,void 0,void 0,(function*(){var n,{id:i,method:a,params:o}=e,[s,c]=a.split("."),l=`${s}Adapter`,u=null!==(t=Reflect.get(this,l))&&void 0!==t?t:this.fallbackAdapter;if(u.enabled||"enable"===c)try{n=null!==(r=yield u[c](o))&&void 0!==r?r:{}}catch(e){this.options.printError&&console.error(`inspectee ${a} error:`,e),n={message:"N/A"}}else n={message:"disabled, enable it first"};this.bridge.reply(i,n)}))}}class pCe extends jke{get executionContextId(){return this._executionContextId}get hookedConsole(){return this._hookedConsole}get remoteObjectAmount(){return nCe()}constructor(e,t){super(e),this._executionContextId=1;var{evalFn:r=globalThis.eval,executionContextId:n=1}=t;this.evalFn=r,this._executionContextId=n,this._hookedConsole=this.getHookedConsole(n)}getHookedConsole(e){return Yke({beforeInvoke:({method:e,args:t})=>this.callConsoleAPI(e,t)})}callConsoleAPI(e,t,r=Date.now(),n=this._executionContextId){this.bridge.emit({method:"Runtime.consoleAPICalled",params:{type:e,args:t.map((e=>oCe(e,{objectGroup:"console",generatePreview:!0}))),executionContextId:n,timestamp:r}})}hookConsole(){var e;null!==(e=Reflect.get(console,Symbol.for("hooked")))&&void 0!==e&&e||(console=this._hookedConsole),Reflect.set(console,Symbol.for("hooked"),!0)}awaitPromise(e){var t;return Wke(this,void 0,void 0,(function*(){var{promiseObjectId:r}=e,n=cCe(r),i=null!==(t=iCe(r))&&void 0!==t?t:"promise";if(Qke(n)){var a={objectGroup:i};try{return{result:oCe(yield n,a)}}catch(r){return{exceptionDetails:lCe(r,a),result:oCe(r,a)}}}var o="no such promise";return{exceptionDetails:lCe(o),result:oCe(o)}}))}callFunctionOn(e){throw new Error("Method not implemented.")}compileScript(e){throw new Error("Method not implemented.")}discardConsoleEntries(){throw new Error("Method not implemented.")}evaluate(e){return Wke(this,void 0,void 0,(function*(){var{expression:t,awaitPromise:r,returnByValue:n,generatePreview:i=!0,objectGroup:a}=e;try{var o=this.evalFn.call(globalThis,t);return r&&Qke(o)&&(o=yield o),{result:oCe(o,{returnByValue:n,generatePreview:i,objectGroup:a})}}catch(e){return{exceptionDetails:lCe(e),result:oCe(e,{objectGroup:a})}}}))}getIsolateId(){throw new Error("Method not implemented.")}getHeapUsage(){throw new Error("Method not implemented.")}getProperties(e){return Wke(this,void 0,void 0,(function*(){var{objectId:t,ownProperties:r=!0,accessorPropertiesOnly:n=!1}=e,i=cCe(t),a=iCe(t),o=[],s={result:o},c=[];if(!i)return s;for(var l of Object.keys(i)){var u=Reflect.getOwnPropertyDescriptor(i,l);u&&o.push(Object.assign(Object.assign({},u),{name:l,isOwn:!0}))}if(i instanceof Map){var d=[...i];o.push({name:"[[Entries]]",value:d.length?d.map((([e,t])=>({key:e,value:t}))):"no entry"}),d.length&&o.push({name:"size",value:i.size})}if(i instanceof Set){var p=[...i];o.push({name:"[[Entries]]",value:p.length?p:"no entry"}),p.length&&o.push({name:"size",value:i.size})}var h={objectGroup:a};if(o=o.flatMap((e=>{if(i===globalThis&&"BabelRuntimeHelpers"===e.name)return[];var{get:t,set:r,value:n}=e;return"value"in e&&(e["symbol"===n?"symbol":"value"]=oCe(n,h)),t&&(e.get=oCe(t,h)),r&&(e.set=oCe(r,h)),e})),n&&(o=o.filter((e=>e.get||e.set))),"object"==typeof i||"function"==typeof i){var f=Reflect.getPrototypeOf(i);c.push({name:"[[Prototype]]",value:oCe(f,h)})}return c.length&&(s.internalProperties=c),s}))}globalLexicalScopeNames(e){throw new Error("Method not implemented.")}queryObjects(e){throw new Error("Method not implemented.")}releaseObject(e){return Wke(this,void 0,void 0,(function*(){sCe(e.objectId)}))}releaseObjectGroup(e){return Wke(this,void 0,void 0,(function*(){aCe(e.objectGroup)}))}runIfWaitingForDebugger(){throw new Error("Method not implemented.")}runScript(e){throw new Error("Method not implemented.")}setAsyncCallStackDepth(e){throw new Error("Method not implemented.")}setCustomObjectFormatterEnabled(e){throw new Error("Method not implemented.")}setMaxCallStackSizeToCapture(e){throw new Error("Method not implemented.")}terminateExecution(){throw new Error("Method not implemented.")}addBinding(e){throw new Error("Method not implemented.")}removeBinding(e){throw new Error("Method not implemented.")}on(e,t){throw new Error("Method not implemented.")}}function hCe(e,t=1e3,r){var n;return function(...i){if(n&&clearTimeout(n),r){if(!n)return e.apply(this,i);n=setTimeout((()=>n=null),t)}else n=setTimeout((()=>e.apply(this,i)),t)}}function fCe(e){return function(...t){return new Promise((function(r,n){t.push((e=>{r(e)})),e.apply(null,t)}))}}var gCe=(e,t,...r)=>Wke(void 0,void 0,void 0,(function*(){return new Promise(((n,i)=>{var a=e[t];"function"==typeof a?a.call(e,...r,((...e)=>n(e))):i(`${t.toString()} is not a function`)}))}));class vCe extends Jke{get forest(){return this._root()}get roots(){return this.forest.roots}getRoot(e){var t,r;if(this._nodeExparserMap.has(e))return null===(t=this._nodeExparserMap.get(e))||void 0===t?void 0:t.root;var n=this.findExparserRoot(e),i=null!==(r=this.forest.getExparser(n))&&void 0!==r?r:super.getExparser(e);return this._nodeExparserMap.set(e,{root:n,exparser:i}),n}getExparser(e){var t,r;if(this._nodeExparserMap.has(e))return null===(t=this._nodeExparserMap.get(e))||void 0===t?void 0:t.exparser;var n=this.findExparserRoot(e),i=null!==(r=this.forest.getExparser(n))&&void 0!==r?r:super.getExparser(e);return this._nodeExparserMap.set(e,{root:n,exparser:i}),i}findExparserRoot(e){for(var t=e;t.ownerShadowRoot;)t=t.ownerShadowRoot.getHostNode();return t}removeNode(e){var t,r=this.getNodeById(e);r&&!this.roots.includes(r)&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r),this.nodeIdMap.delete(r),this.idNodeMap.delete(e))}constructor(e,t){super(e,t),this._nodeExparserMap=new Map;var r=this.document.nodeId;this.forest.init({handleChildNodeInserted:e=>{var t,n,i=this.roots[this.roots.length-2],a=null!==(t=this.nodeIdMap.get(i))&&void 0!==t?t:this.documentType.nodeId,o=this.domify({node:e,parentId:r});null===(n=this.emitter)||void 0===n||n.call(this,{method:"DOM.childNodeInserted",params:{previousNodeId:a,parentNodeId:r,node:o}})},handleChildNodeRemoved:e=>{var t,n,i=null!==(t=this.nodeIdMap.get(e))&&void 0!==t?t:-1,{observer:a}=this.idNodeMap.get(i);this.nodeIdMap.delete(e),this.idNodeMap.delete(i),this.sentNodeIdSet.delete(i),null==a||a.disconnect(),null===(n=this.emitter)||void 0===n||n.call(this,{method:"DOM.childNodeRemoved",params:{parentNodeId:r,nodeId:i}})},handleChildNodeCountUpdated:e=>null==t?void 0:t({method:"DOM.childNodeCountUpdated",params:{nodeId:this.document.nodeId,childNodeCount:e+1}})})}getDocument({depth:e}={}){if(!this.roots.length)return this.document;var t=this.roots.map((t=>this.domify({node:t,depth:e,parentId:this.document.nodeId})));return this.document.children=[this.documentType,...t],this.document.childNodeCount=this.document.children.length,this.document}domify(e){var{node:t,nodeId:r,currentDepth:n=1,depth:i=1,parentId:a,env:o}=e;return t||r?super.domify(e):null}}class mCe extends jke{constructor(e,t){super(e),this.tempId=new Uke(1),this.props=t,this.highlight=t.highlight}getExparserNodeFromParams(e){return Wke(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n,objectId:i}=e;if(r||n)t=this.tree.getNodeById(r||n);else if(i){var a=yield this.requestNode({objectId:i});t=this.tree.getNodeById(a.nodeId)}return t||null}))}scrollIntoViewIfNeeded(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}collectClassNamesFromSubtree(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}copyTo(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}describeNode(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}discardSearchResults(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}enable(){return Wke(this,void 0,void 0,(function*(){if(!this.tree){var e=this.props,t=e=>{this.bridge.emit(e)};e.root instanceof zke?this.tree=new vCe(e,t):this.tree=new Jke(e,t)}this._enabled=!0}))}focus(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getAttributes(e){return Wke(this,void 0,void 0,(function*(){var{nodeId:t}=e,r=yield this.getExparserNodeFromParams({nodeId:t});return r&&this.tree.getNodeType(r)===Gke.Component?{attributes:this.tree.getAttributes(r)}:{attributes:[]}}))}getBoxModel(e){throw new Error("Method not implemented.")}getContentQuads(e){throw new Error("Method not implemented.")}getDocument(e){return Wke(this,void 0,void 0,(function*(){var{depth:t=2}=e;try{return{root:this.tree.getDocument({depth:t})}}catch(e){throw console.error(e),e}}))}getFlattenedDocument(e){throw new Error("Method not implemented.")}getNodesForSubtreeByStyle(e){throw new Error("Method not implemented.")}getNodeForLocation(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getOuterHTML(e){throw new Error("Method not implemented.")}getRelayoutBoundary(e){throw new Error("Method not implemented.")}getSearchResults(e){throw new Error("Method not implemented.")}hideHighlight(){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}highlightNode(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}highlightRect(){throw new Error("Method not implemented.")}markUndoableState(){throw new Error("Method not implemented.")}moveTo(e){throw new Error("Method not implemented.")}performSearch(e){throw new Error("Method not implemented.")}pushNodeByPathToFrontend(e){throw new Error("Method not implemented.")}pushNodesByBackendIdsToFrontend(e){return Wke(this,void 0,void 0,(function*(){var{backendNodeIds:t}=e;return{nodeIds:t}}))}querySelector(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}querySelectorAll(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}redo(){throw new Error("Method not implemented.")}removeAttribute(e){return Wke(this,void 0,void 0,(function*(){var{nodeId:t,name:r}=e,n=yield this.getExparserNodeFromParams(e);n&&this.tree.isElement(n)&&(this.tree.removeAttributes(n,r),this.bridge.emit({method:"DOM.attributeRemoved",params:{nodeId:t,name:r}}))}))}setAttributeValue(e){return Wke(this,void 0,void 0,(function*(){var{nodeId:t,name:r,value:n}=e,i=yield this.getExparserNodeFromParams(e);i&&this.tree.isElement(i)&&(this.tree.setAttributeValues(i,r,n),this.bridge.emit({method:"DOM.attributeModified",params:{nodeId:t,name:r,value:n}}))}))}setAttributesAsText(e){return Wke(this,void 0,void 0,(function*(){var{name:t,nodeId:r,text:n}=e,i=yield this.getExparserNodeFromParams(e);if(!i||!this.tree.isElement(i))throw new Error("invalid name");if(i){for(var a={},o=n.match(/(\w+)(-\w+)?\s*=\s*['"]([^"]*)['"]/g)||[],s=0,c=o.length;s<c;s++){var l=o[s].split("="),u=l[0].trim(),d=l[1]?l[1].trim().replace(/^"/,"").replace(/"$/,""):"true";a[u]=d,this.tree.getAttributeValue(i,u)!==d&&this.setAttributeValue({nodeId:r,name:u,value:d})}t&&!a[t]&&this.removeAttribute({nodeId:r,name:t})}}))}removeNode(e){return Wke(this,void 0,void 0,(function*(){var{nodeId:t}=e;this.tree.removeNode(t)}))}requestChildNodes(e){return Wke(this,void 0,void 0,(function*(){var t,{nodeId:r,depth:n=2,pierce:i}=e;t=1===r?this.tree.getDocument({depth:2}).children:this.tree.domify({depth:n,nodeId:r}).children,this.bridge.emit({method:"DOM.setChildNodes",params:{parentId:r,nodes:null!=t?t:[]}})}))}requestNode(e){return Wke(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}resolveNode(e){return Wke(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n}=e;if(!r&&!n)throw new Error("invalid nodeId or backendNodeId");for(t=`temp${this.tempId.id}`;Reflect.has(globalThis,t);t=`temp${this.tempId.id}`);var i=this.tree.getNodeById(null!=r?r:n);return Reflect.set(globalThis,t,i),console.log(`%cNode saved as ${t}. If it warns, just ignore :)`,"color: #ffbb33"),console.log(t,i),{}}))}setFileInputFiles(e){throw new Error("Method not implemented.")}setNodeStackTracesEnabled(e){throw new Error("Method not implemented.")}getNodeStackTraces(e){throw new Error("Method not implemented.")}getFileInfo(e){throw new Error("Method not implemented.")}setInspectedNode(e){return Wke(this,void 0,void 0,(function*(){var{nodeId:t}=e;this.tree.setInspectedNode(t)}))}setNodeName(e){throw new Error("Method not implemented.")}setNodeValue(e){return Wke(this,void 0,void 0,(function*(){var{value:t}=e,r=yield this.getExparserNodeFromParams(e);r&&this.tree.isTextNode(r)&&this.tree.getNodeType(r)===Gke.TextNode&&(r.textContent=t)}))}setOuterHTML(e){throw new Error("Method not implemented.")}undo(){throw new Error("Method not implemented.")}getFrameOwner(e){throw new Error("Method not implemented.")}getContainerForNode(e){throw new Error("Method not implemented.")}}class yCe extends(null){scrollIntoViewIfNeeded(e){var r,n;return t(this,void 0,void 0,(function*(){var{nodeId:t,backendNodeId:i,objectId:a,rect:o}=e,s=yield this.getExparserNodeFromParams({nodeId:t,backendNodeId:i,objectId:a});null===(n=null===(r=null==s?void 0:s.$$)||void 0===r?void 0:r.scrollIntoView)||void 0===n||n.call(r)}))}getNodeForLocation(e){return t(this,void 0,void 0,(function*(){var{x:t,y:r}=e;if(!(null===document||void 0===document?void 0:document.elementFromPoint))throw new Error("Method not implemented.");var n=document.elementFromPoint(t,r).__wxElement;if(!n)throw new Error("");var i=this.tree.requestIdForNode(n);return{nodeId:i,backendNodeId:i,frameId:"n/a"}}))}hideHighlight(){var e;return t(this,void 0,void 0,(function*(){null===(e=this.highlight)||void 0===e||e.hide()}))}highlightNode(e){var r;return t(this,void 0,void 0,(function*(){if(this.highlight){var{nodeId:t,backendNodeId:n,objectId:i,selector:a,highlightConfig:o={}}=e||{},s=yield this.getExparserNodeFromParams({nodeId:t,backendNodeId:n,objectId:i});if(s){if(a&&!this.tree.isTextNode(s)&&(s=s.querySelector(a)),!s)throw new Error("can not found node");null===(r=this.highlight)||void 0===r||r.show(s,o)}}}))}querySelector(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e,n=yield this.getExparserNodeFromParams({nodeId:t});if(!n||this.tree.isTextNode(n))return{nodeId:t};var i=-1;return n.querySelector(r)&&(i=this.tree.requestIdForNode(n)),{nodeId:i}}))}querySelectorAll(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e,n=yield this.getExparserNodeFromParams({nodeId:t});if(!n||this.tree.isTextNode(n))return{nodeIds:[]};var i=n.querySelectorAll(r),a=[];return(null==i?void 0:i.length)&&(a=i.map((e=>this.tree.requestIdForNode(e)))),{nodeIds:a}}))}getBoxModel(e){return t(this,void 0,void 0,(function*(){var t=yield this.getExparserNodeFromParams(e),r=null==t?void 0:t.$$;if(!r||!("getBoundingClientRect"in r)){var n=Array(8).fill(0);return{model:{width:0,height:0,content:n,padding:n,border:n,margin:n}}}var{left:i,right:a,top:o,bottom:s,height:c,width:l}=r.getBoundingClientRect(),u=[i,o,a,o,a,s,i,s];return{model:{width:l,height:c,content:u,padding:u,border:u,margin:u}}}))}}class bCe extends(null){enable(){var e=Object.create(null,{enable:{get:()=>super.enable}});return t(this,void 0,void 0,(function*(){yield e.enable.call(this),this.skylineContext=this.tree.skylineEngine.getRuntime().allContexts[1]}))}scrollIntoViewIfNeeded(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,backendNodeId:r,objectId:n,rect:i}=e;(yield this.getExparserNodeFromParams({nodeId:t,backendNodeId:r,objectId:n})).$$.setScrollPosition({scrollLeft:0,scrollTop:10})}))}getNodeForLocation(e){var r;return t(this,void 0,void 0,(function*(){var{x:t,y:n}=e;if(!(null===(r=this.skylineContext)||void 0===r?void 0:r.getNodeFromPoint))throw new Error("Method getNodeFromPoint not implemented.");var i=(yield s(this.skylineContext.getNodeFromPoint)([t,n])).__wxElement;if(!i)throw new Error("");var a=this.tree.requestIdForNode(i);return{nodeId:a,backendNodeId:a,frameId:"n/a"}}))}hideHighlight(){return t(this,void 0,void 0,(function*(){this.highlight.hide()}))}highlightNode(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,backendNodeId:r,objectId:n,selector:i,highlightConfig:a={}}=e||{},o=yield this.getExparserNodeFromParams({nodeId:t,backendNodeId:r,objectId:n});if(!o)throw new Error("can not found node");this.highlight.show(o,a)}))}querySelector(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e;return yield this.getExparserNodeFromParams({nodeId:t}),{nodeId:1e3}}))}querySelectorAll(e){return t(this,void 0,void 0,(function*(){return{nodeIds:[]}}))}}class _Ce extends mCe{getBoxModel(e){return Wke(this,void 0,void 0,(function*(){var t=yield this.getExparserNodeFromParams(e);if(!(null==t?void 0:t.$$)){var r=Array(8).fill(0);return{model:{width:0,height:0,content:r,padding:r,border:r,margin:r}}}var[{left:n,top:i,height:a,width:o}]=yield gCe(t.$$,"getBoundingClientRect"),s=this.tree.getRoot(t).$$;if(null==s?void 0:s.getLocation){var[{position:c,frameSetRect:l}]=yield gCe(s,"getLocation");i+=l.top+c.top,n+=l.left+c.left}var u=[n,i,n+o,i,n+o,i+a,n,i+a];return{model:{width:o,height:a,content:u,padding:u,border:u,margin:u}}}))}getNodeByViewportPosition(e,t,r){var n;return Wke(this,void 0,void 0,(function*(){var i=this.tree.getRoot(e).$$;if(!(null==i?void 0:i.getLocation))return null;var[{position:a,frameSetRect:o}]=yield gCe(i,"getLocation"),s=a.top+o.top,c=a.left+o.left;if(r>=s&&r<=s+a.height&&t>=c&&t<=c+a.width){var l=null===(n=e.ownerShadowRoot)||void 0===n?void 0:n.getBackendContext();if(!(null==l?void 0:l.elementFromPoint))return null;var[u]=yield gCe(l,"elementFromPoint",t-c,r-s);return u}return null}))}getNodeForLocation(e){return Wke(this,void 0,void 0,(function*(){var t,{x:r,y:n}=e;if(this.tree instanceof vCe){var i=this.tree.roots.map((e=>this.getNodeByViewportPosition(e,r,n)));t=(yield Promise.all(i)).find((e=>!!e))}else{var a=this.tree.root;t=yield this.getNodeByViewportPosition(a,r,n)}if(!t)return console.warn("Node not found for given postion",r,n),{};var o=this.tree.requestIdForNode(t,!1),s=this.tree.isAlreadySent(o);if(!o||!s){for(var c=[],l=this.tree.findLogicalParent(t);l;){var u=this.tree.requestIdForNode(l),d=this.tree.isAlreadySent(u);if(c.push(u),d)break;l=this.tree.findLogicalParent(l)}for(;c.length;){var p=c.pop();this.requestChildNodes({nodeId:p,depth:2})}}return{nodeId:o=this.tree.requestIdForNode(t),backendNodeId:o,frameId:"n/a"}}))}}class wCe extends(null){constructor(e,t,r){super(e),this.domAdapter=t,this.highlight=r}get enabled(){return this.domAdapter.enabled&&this._enabled}disable(){return t(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return t(this,void 0,void 0,(function*(){if(!this.domAdapter.enabled)throw new Error("Enable DOM first.");this._enabled=!0}))}findExparserNode(e){for(;e&&!e.__wxElement;e=e.parentElement);if(e){for(var t=e.__wxElement,{root:r,exparser:n}=this.domAdapter.tree;t.ownerShadowRoot!==r.shadowRoot;)t=t instanceof n.VirtualNode?t.__wxSlotParent:t.parentNode;return t}}emitInspectNodeRequested(e){if(e){var{tree:t}=this.domAdapter,r=t.requestIdForNode(e),n=[];if(!t.getCachedCDPNode(r)){for(var i=t.findLogicalParent(e);!t.getCachedCDPNode(i);i=t.findLogicalParent(i))n.push(i);for(n.push(i);n.length;){var a=t.requestIdForNode(n.pop());this.domAdapter.requestChildNodes({nodeId:a,depth:1})}}this.bridge.emit({method:"Overlay.inspectNodeRequested",params:{backendNodeId:r}})}}getHighlightObjectForTest(e){throw new Error("Method not implemented.")}getGridHighlightObjectsForTest(e){throw new Error("Method not implemented.")}getSourceOrderHighlightObjectForTest(e){throw new Error("Method not implemented.")}hideHighlight(){throw new Error("Method not implemented.")}highlightFrame(e){throw new Error("Method not implemented.")}highlightNode(e){throw new Error("Method not implemented.")}highlightQuad(e){throw new Error("Method not implemented.")}highlightRect(e){throw new Error("Method not implemented.")}highlightSourceOrder(e){throw new Error("Method not implemented.")}setInspectMode(e){return t(this,void 0,void 0,(function*(){var{mode:t,highlightConfig:r}=e;switch(t){case"searchForNode":this.startInspect(r);break;case"none":this.stopInspect();break;default:throw new Error("Method not implemented.")}}))}setShowAdHighlights(e){throw new Error("Method not implemented.")}setPausedInDebuggerMessage(e){throw new Error("Method not implemented.")}setShowDebugBorders(e){throw new Error("Method not implemented.")}setShowFPSCounter(e){throw new Error("Method not implemented.")}setShowGridOverlays(e){throw new Error("Method not implemented.")}setShowFlexOverlays(e){throw new Error("Method not implemented.")}setShowScrollSnapOverlays(e){throw new Error("Method not implemented.")}setShowContainerQueryOverlays(e){throw new Error("Method not implemented.")}setShowPaintRects(e){throw new Error("Method not implemented.")}setShowLayoutShiftRegions(e){throw new Error("Method not implemented.")}setShowScrollBottleneckRects(e){throw new Error("Method not implemented.")}setShowHitTestBorders(e){throw new Error("Method not implemented.")}setShowWebVitals(e){throw new Error("Method not implemented.")}setShowViewportSizeOnResize(e){throw new Error("Method not implemented.")}setShowHinge(e){throw new Error("Method not implemented.")}on(e,t){throw new Error("Method not implemented.")}}class ICe extends(null){constructor(){super(...arguments),this.handleClickEvents=e=>{e.preventDefault();var{x:t,y:r}=e,n=this.hitTest(t,r);return this.emitInspectNodeRequested(n),!1}}hitTest(e,t){document.body.style.pointerEvents="";var r=document.elementFromPoint(e,t),n=r?this.findExparserNode(r):null;return document.body.style.pointerEvents="none",n}handleMouseDownEvents(e){document.body.dispatchEvent(new CustomEvent("touchcancel"))}handleMouseMoveEvents(e){var{x:t,y:r}=e,n=this.hitTest(t,r);if(n){var i=this.domAdapter.tree.requestIdForNode(n);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:i}}),this.highlight.show(n,this.highlightConfig)}}startInspect(e){document.body.style.pointerEvents="none",this.highlightConfig=e,this._handleMouseMoveEvents=o(this.handleMouseMoveEvents.bind(this),100),document.addEventListener("click",this.handleClickEvents),document.addEventListener("mousedown",this.handleMouseDownEvents),document.addEventListener("mousemove",this._handleMouseMoveEvents)}stopInspect(){document.body.style.pointerEvents="",this.highlightConfig=void 0,document.removeEventListener("click",this.handleClickEvents),document.removeEventListener("mousedown",this.handleMouseDownEvents),document.removeEventListener("mousemove",this._handleMouseMoveEvents),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}}class SCe extends(null){constructor(){super(...arguments),this.handleClickEvents=e=>{var{x:t,y:r}=e,n=this.hitTest(t,r);if(n)return this.emitInspectNodeRequested(n),!1}}hitTest(e,t){return this.domAdapter.tree.skylineContext.getNodeFromPoint(e,t)}handleMouseDownEvents(e){}handleMouseMoveEvents(e){var{x:t,y:r}=e,n=this.hitTest(t,r);if(n){var i=this.domAdapter.tree.requestIdForNode(n);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:i}}),this.highlight.show(n,this.highlightConfig)}}startInspect(e){document.body.style.pointerEvents="none",this.highlightConfig=e;var t=this.domAdapter.tree.skylineContextId;this.domAdapter.tree.skylineEngine.getRuntime().startTouchEventInterception(t,((e,t)=>{var r=t.touches[0];if(r){var n={x:r.clientX,y:r.clientY};"click"===e?this.handleClickEvents(n):"touchstart"===e||"mousedown"===e?this.handleMouseDownEvents(n):"touchmove"!==e&&"mousemove"!==e||this.handleClickEvents(n)}}))}stopInspect(){document.body.style.pointerEvents="",this.highlightConfig=void 0;var e=this.domAdapter.tree.skylineContextId;this.domAdapter.tree.skylineEngine.getRuntime().stopTouchEventInterception(e),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}}class kCe extends jke{get skylineRuntime(){return this.getSkylineRuntime()}constructor(e,t,r){super(e),this.domAdapter=t,this.getSkylineRuntime=r}emitInspectNodeRequested(e){if(e){var{tree:t}=this.domAdapter,r=t.requestIdForNode(e),n=[];if(!t.isAlreadySent(r)){for(var i=t.findLogicalParent(e);i;){var a=t.requestIdForNode(i),o=t.isAlreadySent(a);if(n.push(i),o)break;i=t.findLogicalParent(i)}for(;n.length;){var s=t.requestIdForNode(n.pop());this.domAdapter.requestChildNodes({nodeId:s,depth:2})}}this.bridge.emit({method:"Overlay.inspectNodeRequested",params:{backendNodeId:r}})}}startInspect(e){this.highlightConfig=e,this.skylineRuntime.startTouchEventInterception,this.skylineRuntime.startTouchEventInterception((e=>{var{type:t,target:r}=e;if(r&&"touchend"===t)try{this.emitInspectNodeRequested(r.__wxElement)}catch(e){console.error("emitInspectNodeRequested err",e)}}))}stopInspect(){this.highlightConfig=void 0,this.skylineRuntime.stopTouchEventInterception(1),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}getHighlightObjectForTest(e){throw new Error("Method not implemented.")}getGridHighlightObjectsForTest(e){throw new Error("Method not implemented.")}getSourceOrderHighlightObjectForTest(e){throw new Error("Method not implemented.")}hideHighlight(){throw new Error("Method not implemented.")}highlightFrame(e){throw new Error("Method not implemented.")}highlightNode(e){throw new Error("Method not implemented.")}highlightQuad(e){throw new Error("Method not implemented.")}highlightRect(e){throw new Error("Method not implemented.")}highlightSourceOrder(e){throw new Error("Method not implemented.")}setInspectMode(e){return Wke(this,void 0,void 0,(function*(){var{mode:t,highlightConfig:r}=e;switch(t){case"searchForNode":this.startInspect(r);break;case"none":this.stopInspect();break;default:throw new Error("Method not implemented.")}}))}setShowAdHighlights(e){throw new Error("Method not implemented.")}setPausedInDebuggerMessage(e){throw new Error("Method not implemented.")}setShowDebugBorders(e){throw new Error("Method not implemented.")}setShowFPSCounter(e){throw new Error("Method not implemented.")}setShowGridOverlays(e){throw new Error("Method not implemented.")}setShowFlexOverlays(e){throw new Error("Method not implemented.")}setShowScrollSnapOverlays(e){throw new Error("Method not implemented.")}setShowContainerQueryOverlays(e){throw new Error("Method not implemented.")}setShowPaintRects(e){throw new Error("Method not implemented.")}setShowLayoutShiftRegions(e){throw new Error("Method not implemented.")}setShowScrollBottleneckRects(e){throw new Error("Method not implemented.")}setShowHitTestBorders(e){throw new Error("Method not implemented.")}setShowWebVitals(e){throw new Error("Method not implemented.")}setShowViewportSizeOnResize(e){throw new Error("Method not implemented.")}setShowHinge(e){throw new Error("Method not implemented.")}}var CCe={objectGroup:"exparser"};class ECe extends jke{constructor(e,t){super(e),this.domAdapter=t}get enabled(){var e;return null!==(e=this.domAdapter.enabled)&&void 0!==e&&e}get tree(){return this.domAdapter.tree}logRemoteObject(e){return Wke(this,void 0,void 0,(function*(){return console.log(cCe(e.objectId))}))}setInspectedNode(e){return Wke(this,void 0,void 0,(function*(){var t=this.tree.setInspectedNodeForExparser(e.nodeId);if(t)return{variableName:t};throw new Error("Failed to set inspected node")}))}logToConsole(e){return Wke(this,void 0,void 0,(function*(){var{prefix:t,level:r="log"}=e,n=yield this.domAdapter.getExparserNodeFromParams(e);n&&(t?console[r](t,n):console[r](n))}))}getNodeData(e){var t;return Wke(this,void 0,void 0,(function*(){var r=yield this.domAdapter.getExparserNodeFromParams(e);return!r||this.tree.isWxComponent(r)?{data:{}}:{data:null!==(t=r.data)&&void 0!==t?t:{}}}))}getNodeDetails(e){var t,r;return Wke(this,void 0,void 0,(function*(){var n=yield this.domAdapter.getExparserNodeFromParams(e);if(!n)throw new Error("no such node");var i={},a={},o={};if(!this.tree.isWxComponent(n)){var{data:s}=yield this.getNodeData(e);for(var[c,l]of Object.entries(s))i[c]=oCe(l,CCe)}var u=null===(t=this.domAdapter)||void 0===t?void 0:t.tree.getExparser(n);if(u&&"listPublicProperties"in u.Component)for(var d of u.Component.listPublicProperties(n))Reflect.has(i,d)||(a[d]=oCe(n.__dataProxy._data[d],CCe));for(var[p,h]of Object.entries(null!==(r=n.__wxEvents)&&void 0!==r?r:{}))o[p]=oCe(h,CCe);return{data:i,events:o,props:a}}))}disable(){return Wke(this,void 0,void 0,(function*(){this.domAdapter.disable()}))}enable(){var e;return Wke(this,void 0,void 0,(function*(){null===(e=this.domAdapter)||void 0===e||e.enable()}))}}var ACe=()=>(ry(),new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot)))))),TCe=function(){var e=cp()((function*(e={}){return(yield ACe()).append("console-switch",O()({},e))}));return function(){return e.apply(this,arguments)}}(),PCe="vConsole_ready",xCe="vConsole_show",MCe="vConsole_hide",RCe="vConsole_showSwitch",DCe="vConsole_hideSwitch";class OCe{constructor(){this.switch=null,this.isInSkylinePage=!0,this.vConsoleWebview=new sme,this.vConsoleWebviewInited=!1,this.vConsoleReady=new Promise((e=>lJ(PCe,e)))}initVConsoleWebview(){var e=this;return cp()((function*(){try{yield e.vConsoleWebview.insert(),lJ(MCe,(()=>{var t;e.vConsoleWebview.hide(),e.isInSkylinePage&&(null===(t=e.switch)||void 0===t||t.show())})),lJ(xCe,(()=>{var t;null===(t=e.switch)||void 0===t||t.hide(),e.vConsoleWebview.show()})),lJ(DCe,(()=>{var t;return null===(t=e.switch)||void 0===t?void 0:t.hide()})),lJ(RCe,(()=>{var t;return null===(t=e.switch)||void 0===t?void 0:t.show()})),e.vConsoleWebviewInited=!0}catch(e){throw[PCe,xCe,MCe,RCe,DCe].forEach((e=>uJ(e))),e}}))()}init(e){var t=this;return cp()((function*(){try{yield t.initVConsoleWebview()}catch(e){return!1}var r=yield t.vConsoleReady;return t.switch=yield TCe({initialPos:r}),t.switch.addListener("toggle",cp()((function*(){t.vConsoleWebview._hide?t.show():t.hide()}))),t.switch.addListener("moved",(({detail:e})=>{t.vConsoleWebview.postMessage({data:O()({name:"vConsole_moved"},e)})})),e.bindVConsoleWebview(t.vConsoleWebview),!0}))()}show(){var e=this;return cp()((function*(){e.vConsoleWebview.postMessage({data:{name:"vConsole_show"}})}))()}hide(){var e=this;return cp()((function*(){e.vConsoleWebviewInited&&!e.vConsoleWebview._hide&&e.vConsoleWebview.postMessage({data:{name:"vConsole_hide"}})}))()}}class LCe extends Fke{constructor(e){super(Nke.ServiceInspectee),this.vConsoleWebview=void 0,this.cachedMsgs=[],this.init(),this.vConsoleWebview=e}_sendUnsafe(e,t=Nke.Inspector){this.vConsoleWebview.postMessage({data:{name:"vConsole_cdp",msg:e,target:t,source:this.type}})}send(e){this.vConsoleWebview?(this.consumeCachedLogs(),this._sendUnsafe(e)):(this.cachedMsgs.length>$c&&this.cachedMsgs.shift(),this.cachedMsgs.push(e))}initSubscription(e){lJ("vConsole_cdp",(t=>{var{msg:r,target:n,source:i}=t;e(r,n,i)}))}consumeCachedLogs(){this.cachedMsgs.length&&(this.cachedMsgs.forEach((e=>this._sendUnsafe(e))),this.cachedMsgs=[])}bindVConsoleWebview(e){this.vConsoleWebview=e,this.consumeCachedLogs()}}var NCe=new LCe,BCe=!1,FCe=e=>{if(!BCe){BCe=!0;var t=new dCe(NCe),r=new pCe(NCe,{evalFn:e});t.bindAdapter("Runtime",r),S.onDebugEnabledAfterBaseConsoleInjected(((e,t)=>{t(r),e.forEach((({method:e,log:t,timestamp:n})=>{r.callConsoleAPI(e,t,n)}));var n=null,i=!1;XS(function(){var e=cp()((function*(e){if(!i){var t,r,a="skyline"===e.renderer;if(n)if(n.isInSkylinePage=a,a)null===(t=n.switch)||void 0===t||t.show();else n.hide(),null===(r=n.switch)||void 0===r||r.hide();else a&&((n=new OCe).isInSkylinePage=a,i=!0!==(yield n.init(NCe)))}}));return function(t){return e.apply(this,arguments)}}())}));var n=new zke;S.setInspecteeRoots(n);var i=new _Ce(NCe,{root:n,exparser:()=>null});t.bindAdapter("DOM",i);var a=new ECe(NCe,i);t.bindAdapter("Exparser",a);var o=S.getSkylineRuntime,s=new kCe(NCe,i,o);t.bindAdapter("Overlay",s)}};function WCe(){return!!Yc.getPipPage()}function jCe(e){return PSe("sdkSubPackageInject",e)}var VCe=({packageName:e,cost:t,isAsync:r,isSuccess:n,appType:i,injectContext:a=0,errMsg:o}={})=>{var s=[e,t,r,n,i,a,o].map(encodeURIComponent).join(",");E.reportKeyValue({key:"WeAppSDKSubpackageInject",value:s,force:!0})},UCe="undefined"!=typeof __initHelper&&1===__initHelper,$Ce=null,zCe={},qCe=(e,...t)=>e.toUpperCase()+t.join(""),HCe=(e,t)=>{de?(b.devtools_miniprogram=!0,b[e]=()=>t()):globalThis[e]=()=>t()},GCe=(e,t,r)=>{var n;return de?(n=null!=e?e:b["subPackageShare"+t],r||delete b["subPackageShare"+t]):(n=null!=e?e:globalThis[t],r||delete globalThis[t]),n},KCe=(e,t)=>{var r=t.globalName;if(zCe[r])return zCe[r];if(2===I.isEmptyContext){if(!UCe)throw new Error("Fatal: unexpected loadSdkSubPackage case");return ZC({title:"请切换至真机调试2.0",content:"很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。"}),void console.warn("很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")}var n,i=`get${qCe(...e)}GlobalVar`;t.globalGetter&&HCe(i,t.globalGetter);var a=!1;try{var o,s=Date.now(),c=I.loadMainContextLibFile;t.injectSub&&(o="function"==typeof t.injectSub?t.injectSub():t.injectSub),o&&(a=!0,c=I.loadSubContextLibFile,I.publish("readyLoadSDKSubPackage",{getCloudSDKGlobalVar:t.globalGetter},[I.convertRealId2SdkId(o)])),c.call(I,t.waLibName,(e=>{t.resultGetter&&(n=t.resultGetter()),delete globalThis[i];var r=Date.now()-s;"success"===e?t.init=!0:"string"==typeof e&&e.includes("not supported")?de?(ZC({title:"请升级工具版本",content:"很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本"}),console.warn("很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")):console.warn("很抱歉，当前客户端版本不支持该基础库，请升级至最新版本"):console.error(`loadSubPackage: ${t.waLibName}:`,e),z.onReady((()=>{VCe({packageName:t.waLibName,cost:r,isAsync:1,isSuccess:"success"===e,appType:z.appType+1e3,errMsg:"success"===e?"":e})}))}),o)}catch(e){console.error(`${a?"loadSubContextLibFile":"loadMainContextLibFile"}: ${t.waLibName} err:`,e)}if("kanata"===e){var l=globalThis.Kanata;Object.defineProperty(globalThis,"_Kanata",{value:l})}t.loadedSubPackage=GCe(n,t.globalName,t.reserveGlobal),zCe[t.globalName]=t.loadedSubPackage,et(t.onInjectCallback)&&t.onInjectCallback(t.loadedSubPackage)},JCe=e=>{for(var t in e){var r=e[t];KCe(t,r)}},XCe=e=>{for(var t in e)if($Ce.includes(t)){var r=e[t];KCe(t,r)}},YCe={},QCe=(e,t)=>YCe[e].loadedSubPackage[t],ZCe=(e,t,r)=>{var{apiKey:n,call:i,cache:a}=t;if(a)return a;var o=QCe(e,n);if(et(o)){if(i){var s=o.call(r);return Xe(s)&&(t.cache=s),s}return o.bind(r)}return o},eEe=(e,t)=>function(){var r=YCe[e];return r.init||KCe(e,r),ZCe(e,t,this)},tEe=({name:e,waLibName:t,exportApis:r,globalName:n,globalGetter:i,onInjectCallback:a,provideInGlobal:o,reserveGlobal:s,fakeProvider:c,injectSub:l,resultGetter:u}={})=>{YCe[e]={waLibName:t,exportApis:r,globalGetter:i,init:!1,onInjectCallback:a,globalName:n,provideInGlobal:o,reserveGlobal:s,fakeProvider:c,injectSub:l,resultGetter:u}},rEe=()=>Object.entries(YCe).reduce(((e,[t,r])=>(r.provideInGlobal&&(e[t]=O()({api:()=>KCe(t,r),subPackageInfo:r,replaceGlobal:!0},r.fakeProvider?{fakeProvider:r.fakeProvider}:{}),!Xe(r.exportApis))||Object.entries(r.exportApis).forEach((([n,i])=>{n===t&&console.warn(`sdk warn: sdk subpackage: ${n} has same name with one item of exportApis`);var a=O()({},r);delete a.provideInGlobal,e[n]={api:eEe(t,i),apiInfo:i,subPackageInfo:a}})),e)),{}),nEe=()=>rEe(),iEe=e=>`_sdk_subPackage_load_${e}`,aEe=e=>{globalThis[iEe(e)]=!0},oEe=e=>{globalThis[iEe(e)]=!1},sEe=e=>globalThis[iEe(e)],cEe=(e,t)=>{var r={},n=function(n){var i=e[n];Object.defineProperty(r,n,{get(){if(i.call)return(...e)=>{var r=t();return null==r?void 0:r[i.key||n].call(r,...e)};var e=t();return null==e?void 0:e[i.key||n]}})};for(var i in e)n(i);return r},lEe=(e,t=!1)=>{var r=nEe();Object.entries(r).forEach((([r,n])=>{var i=e,{api:a,subPackageInfo:o,replaceGlobal:s,fakeProvider:c}=n;if(o.provideInGlobal){if(s){var l=o.provideInGlobal;return void Object.defineProperty(globalThis,l,{get:()=>c?(o.__fakeProviderCache||(o.__fakeProviderCache=cEe(c,(()=>{if(!sEe(l))return aEe(l),a(),oEe(l),o.loadedSubPackage}))),o.__fakeProviderCache):sEe(l)?void 0:(aEe(l),a(),oEe(l),o.loadedSubPackage),configurable:!0})}i=o.provideInGlobal}if(t){if(!!n.subPackageInfo.exportApis[r].noExportWx)return;var u=i[r];Object.defineProperty(i,r,{get(){if(Xe(u)){var t=a.call(e),n=uSe(r);return n&&n(t),t}return et(u)?(...t)=>{var r=a.call(e),n=[...t,dSe,r];return r.call(i,...n)}:u},configurable:!0})}else Object.defineProperty(i,r,{get:()=>a.call(e),configurable:!0})}))},uEe=()=>{Object.entries(nEe()).forEach((([e,t])=>{var{api:r,subPackageInfo:n,replaceGlobal:i}=t;if(n.provideInGlobal&&i){var a=n.provideInGlobal;Object.defineProperty(globalThis,a,{get(){if(!sEe(a))return aEe(a),r(),oEe(a),n.loadedSubPackage},configurable:!0})}else;}))},dEe=()=>YCe,pEe=O()(O()({},A),{},{wx:{}});tEe({name:"cloudSDK",waLibName:"WACloud.js",exportApis:{},globalName:"__cloudSDK__",globalGetter:()=>({WeixinJSBridge:b,wxConsole:f,Reporter:E,console:console,__appServiceSDK__:pEe,__wxConfig:z,Foundation:h,IS_APP:!0}),onInjectCallback:()=>{Jm("cloudSDK",Gm.injected)},resultGetter:()=>il,provideInGlobal:"__cloudSDKMain__",injectSub:()=>I.getAppSubContextId(),src:"./src/cloud/dist/cloud-sdk-subpackage.js"});var hEe=e=>{Object.assign(pEe,e)};K.onAppRoute=XS;var fEe={bridgeOn:K},gEe="undefined"!=typeof __initHelper?__initHelper:void 0;tEe({name:"sclEngine",waLibName:"WASubAppSclEngine.js",fakeProvider:{initScl:{call:!0}},globalName:"__sclEngine__",globalGetter:()=>({forSubLibEnv:fEe,WeixinJSBridge:b,wxConsole:f,wxNativeConsole:v,Reporter:E,__wxConfig:z,WebAssembly:Rse,packageChannel:ey,IS_APP_SUBPACKAGE:!0,__initHelper:gEe}),onInjectCallback:()=>{Jm("sclengine",Gm.injected)},provideInGlobal:"__sclEngine__",reserveGlobal:!0,src:"./src/scl-engine/dist/app-scl-engine.js"});var vEe=null,mEe=new Lp("touch",!0),yEe=new Lp("touch",!0),bEe={};var _Ee=bEe,wEe=!1,IEe=null;function SEe(){return new Promise(((e,t)=>{wEe||t(),wEe&&(IEe=setTimeout(t,3e3)),wEe&&Xu({apiName:"webapi_getadcardbalance",success({data:r}){var{errCode:n,balance:i}=r;!n&&i?(IEe&&clearTimeout(IEe),QC({title:"是否使用广告跳过卡",content:`当前还有${i}张`,confirmText:"使用",cancelText:"继续看",success({confirm:r}){r?Xu({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:r}){var{errCode:n}=r;n?(rE({title:"使用广告卡失败",icon:"error"}),t()):(rE({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))}z.onReady((()=>{Te()&&setTimeout((()=>{Xu({apiName:"webapi_getadcardbalance",success({data:e}){wEe=!e.errCode}})}),3e3)}));var kEe=e=>Number(e).toString()===e,CEe=(e,t)=>t.reduce(((t,r)=>(t[r]=e[r],t)),{}),EEe=(e,t)=>CEe(e,Object.keys(e).filter((e=>!t.includes(e)))),AEe=e=>e&&"object"==typeof e&&!Array.isArray(e);function TEe(e,...t){if(!t.length)return e;var r=t.shift();if(AEe(e)&&AEe(r))for(var n of Object.keys(r))AEe(r[n])?(e[n]||Object.assign(e,{[n]:{}}),TEe(e[n],r[n])):Object.assign(e,{[n]:r[n]});return TEe(e,...t)}var PEe=e=>{for(var t=new Set,r=e;r;){for(var n of Object.getOwnPropertyNames(r))t.add(n);r=Object.getPrototypeOf(r)}return[...t]},xEe=(e,t,r)=>{for(var n="string"==typeof t?t.split("."):t,i=e,a=0;i&&a<n.length;)i=i[n[a]],a+=1;return i||r},MEe=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...MEe(t)):e.push(t),e)),[]),REe=e=>JSON.parse(JSON.stringify(e)),DEe=e=>Object.keys(e),OEe=e=>{Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var r;try{r=e[t]}catch(e){}"object"!=typeof r&&"function"!=typeof r||Object.isFrozen(r)||OEe(r)}))},LEe="TIMEOUT_REJECT",NEe=(e,t)=>Promise.race([e,new Promise(((e,r)=>{setTimeout((()=>{r(LEe)}),t)}))]),BEe=(e,t)=>({idKey:e,idKeyGroup:t}),FEe=e=>e.idKey,WEe={COMMON:924,SPLASHAD:1288,CUSTOMAD:1390,CPSSHOPAD:1764,REWARDEDVIDEO:1963},jEe=e=>BEe(e,WEe.COMMON),VEe={AD_BANNER_LOAD_ERROR:jEe(5),AD_VIDEO_LOAD_ERROR:jEe(10),REWARDED_VIDEO_PARSE_ERROR:jEe(11),REWARDED_VIDEO_RENDER_ERROR:jEe(12),REWARDED_VIDEO_LOAD_ERROR:jEe(13),REWARDED_VIDEO_FOLLOW_SUCCESS:jEe(14),OPEN_URL_ERROR:jEe(21),OPEN_WXAPP_ERROR:jEe(22),OPEN_CANVAS_ERROR:jEe(23),ADD_CONTACT_ERROR:jEe(24),LAUNCH_APP_ERROR:jEe(25),OPEN_WEBAPPSTORE_ERROR:jEe(26),ADD_DOWNLOAD_TASK_ERROR:jEe(28),CLICK_REPORT_ERROR:jEe(32),EXPOSURE_REPORT_ERROR:jEe(33),FOLLOW_REPORT_ERROR:jEe(34),REWARDED_VIDEO_ANIMATE_ERROR:jEe(35),INTERSTITIALAD_ANIMATE_ERROR:jEe(36),AD_FOLLOWED:jEe(37),AD_INSTALLED:jEe(38),AD_INTERSTITIAL_LOAD_ERROR:jEe(39),INTERSTITIAL_AD_RENDER_ERROR:jEe(40),INTERSTITIAL_FOLLOW_SUCCESS:jEe(41),INTERSTITIAL_SHOW_FAIL1:jEe(42),INTERSTITIAL_SHOW_FAIL2:jEe(43),INTERSTITIAL_SHOW_FAIL3:jEe(44),INTERSTITIAL_SHOW_FAIL5:jEe(45),INTERSTITIAL_SHOW_SUCCESS:jEe(46),INTERSTITIAL_LIMIT_TIME:jEe(49),REWARDED_VIDEO_INSTANCE_BROKEN:jEe(50),PRELOAD_MINIENV_SUCCESS:jEe(86),PRELOAD_MINIENV_ERROR:jEe(87),AD_GRID_LOAD_SUCCESS:jEe(88),AD_GRID_LOAD_COUNT_ERROR:jEe(89),AD_GRID_LOAD_ERROR:jEe(90),PREDOWNLOAD_SUCCESS:jEe(96),PREDOWNLOAD_ERROR:jEe(97),INTERSTITIAL_VIDEO_LOAD:jEe(98),INTERSTITIAL_VIDEO_PLAY:jEe(99),INTERSTITIAL_IMAGE_LOAD:jEe(100),INTERSTITIAL_VIDEO_LOAD_ERROR:jEe(101),INTERSTITIAL_VIDEO_REPORT_ERROR:jEe(102),INTERSTITIAL_VIDEO_PLAY_SUCCESS:jEe(103),INTERSTITIAL_VIDEO_PLAY_SUCCESS_END:jEe(104),INTERSTITIAL_VIDEO_PRELOAD_SUCCESS:jEe(106),REWARDED_VIDEO_OTHER_SHOW_ERROR:jEe(105),INTERSTITIAL_VIDEO_PRELOAD_ERROR:jEe(107),INTERSTITIAL_RENDER_SUCCESS:jEe(108),INTERSTITIAL_RENDER_ERROR:jEe(109),INTERSTITIAL_RENDER_ERROR_ALTERNATE:jEe(110),BATCHLOAD_SUCCESS:jEe(112),BATCHLOAD_ERROR:jEe(113),REWARDED_VIDEO_BUTTON_WIDTH_ERROR:jEe(114),REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR:jEe(115),INTERSTITIAL_RELATION_FETCH_ERROR:jEe(116),BIND_GUIDE_SUCCESS:jEe(119),BIND_GUIDE_ERROR:jEe(120),REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR:jEe(121),INTERSTITIAL_CROSSPAGE_MATERIAL_CLICK:jEe(123),INTERSTITIAL_CROSSPAGE_CANCELBOX_CLICK:jEe(124),INTERSTITIAL_NO_CONTAINER:jEe(125),INTERSTITIAL_HIDE_ERROR:jEe(126),RIGHTBUTTON_HIDE_ERROR:jEe(127),REWARDED_VIDEO_RELATION_FETCH_ERROR:jEe(128),GET_DEVICEINFO_ERROR:jEe(129),THIRD_ERROR:jEe(130),GET_DEVICEINFO_SUCCESS:jEe(131),GET_WAID_SUCCESS:jEe(132),GET_WAID_ERROR:jEe(133),READ_ADINFOS_ERROR:jEe(134),AD_FETCH_SUCCESS:jEe(135),REWARDED_VIDEO_PRELOAD_ERROR:jEe(136),REWARDED_VIDEO_PRELOAD_SUCCESS:jEe(137),READ_ADINFOS_SUCCESS:jEe(138),ANALYSE_DEBUG_REPORT_ERROR:jEe(139),PRELOAD_CALL_ERROR:jEe(140),PRELOAD_LOAD_ERROR:jEe(141),PRELOAD_LOAD_SUCCESS:jEe(142),PRELOAD_USE_SUCCESS:jEe(143),PRELOAD_USE_ERROR:jEe(144),PRELOAD_DOWNLOAD_SUCCESS:jEe(145),PRELOAD_DOWNLOAD_ERROR:jEe(146),REPORT_VIDEO_FAILED:jEe(147),REWARD_GAUSS_EXISTS:jEe(148),REWARD_USE_GAUSS:jEe(149),REWARD_USE_EXPAND_STYLE:jEe(150),REWARD_USE_GAUSS_AND_EXPAND_STYLE:jEe(151),REWARDED_VIDEO_KEEP_ALIVE:jEe(152),INTERSTITIAL_KEEP_ALIVE:jEe(153),REWARDED_VIDEO_END:jEe(154),OPEN_CHANNELS_ACTIVITY_SUCCESS:jEe(156),OPEN_CHANNELS_ACTIVITY_FAILED:jEe(157),OPEN_CHANNELS_LIVE_SUCCESS:jEe(158),OPEN_CHANNELS_LIVE_FAILED:jEe(159),OPEN_CHANNELS_USER_PROFILE_SUCCESS:jEe(160),OPEN_CHANNELS_USER_PROFILE_FAILED:jEe(161),REWARD_CHANNELS_CALLBACK_SUCCESS:jEe(162),REWARD_CHANNELS_CALLBACK_FAILED:jEe(163),H5_PRELOAD_CARD_CLICKED:jEe(164),H5_PRELOAD_BUTTON_CLICKED:jEe(165),H5_PRELOAD_SUCCESS:jEe(166),H5_PRELOAD_FAILED:jEe(167),H5_PRELOAD_PLAYABLE_CLICKED:jEe(168),GET_CHANNELS_LIVE_STATUS_SUCCESS:jEe(169),GET_CHANNELS_LIVE_STATUS_FAILED:jEe(170),REWARDED_VIDEO_DURATION_ZERO:jEe(171),REWARDED_VIDEO_SNS_SUPPLEMENTARY_DATA_ERROR:jEe(173),INTERSTITIAL_TEMPLATE_RENDER_SUCCESS:jEe(178),INTERSTITIAL_TEMPLATE_RENDER_FAILED:jEe(179),INTERSTITIAL_SNS_SUPPLEMENTARY_DATA_ERROR:jEe(180),OPEN_WEBSTORE_ERROR:jEe(181),AD_FETCH_ERROR:jEe(182),CHECK_FLOW_ERROR:jEe(183),CHECK_AD_SKIP_CARD_SUCCESS:jEe(188),COPY_GIFT_CODE_SUCCESS:jEe(189),COPY_GIFT_CODE_FAIL:jEe(190),OPEN_MACHINE_MKT_SUCCESS:jEe(191),OPEN_MACHINE_MKT_ERROR:jEe(192),OPEN_SHOP_SCHEME_SUCCESS:jEe(193),OPEN_SHOP_SCHEME_ERROR:jEe(194),UPDATE_ADINFOXML_ERROR:jEe(195),IS_SWITCHED_HIDETEMPLATE:jEe(196),IS_SWITCHED_CHECKEXPOSURE:jEe(197),REWARDEDVIDEO_ANTIFRAUD:jEe(198),INTERSTITIAL_NO_VIDEO:jEe(199),INTERSTITIAL_JUDGE_SWITCH:jEe(202),INTERSTITIAL_JUDGE_SWITCH_CLOSE:jEe(203),REWARDEDVIDEO_SHARE_VALUE:jEe(204),REWARDEDVIDEO_NO_SHARE_VALUE:jEe(205),INTERSTITIAL_SHOW_BUT_NOT_READY:jEe(206),INTERSTITIAL_SHOW_BUT_NOT_READY_TEMPLATE:jEe(207),REWARDEDVIDEO_POPUP_SHOW_SUCCESS:jEe(208),REWARDEDVIDEO_POPUP_SHOW_FAIL:jEe(209),REWARDEDVIDEO_POPUP_CLICK_CONFIRM:jEe(210),REWARDEDVIDEO_POPUP_CLICK_CANCEL:jEe(211),REWARDED_ADDITION_FETCH_SUCCESS:jEe(212),REWARDED_ADDITION_FETCH_FAILED:jEe(213),REWARDED_ADDITION_FETCH_ALL_SUCCESS:jEe(214),REWARDED_ADDITION_FETCH_ALL_FAILED:jEe(215),REWARDED_VIDEO_ADDITION_PRELOAD_ERROR:jEe(216),REWARDED_VIDEO_FEED_SLIDE_TIPS_SHOW:jEe(217),REWARDED_VIDEO_FEED_SLIDE:jEe(218),REWARDED_VIDEO_FEED_EXPOSURE:jEe(219),REWARDED_VIDEO_FEED_CLICK:jEe(220),REWARDED_VIDEO_FEED_CLOSE:jEe(221),INTERSTITIAL_ONEKEY_FOLLOW:jEe(223),REPORT_SHARE_BEHAVIOR_SUCCESS:jEe(224),REPORT_SHARE_BEHAVIOR_FAILED:jEe(225),REPORT_CAROUSEL_INDEX_ERROR:jEe(226),REWARDED_VIDEO_ENDED_ERROR:jEe(227),INTERSTITIAL_SHOWTEMPLATE_NO_VIDEO:jEe(228),INTERSTITIAL_HIDETEMPLATE_NO_VIDEO:jEe(229),REWARDED_VIDEO_FEED_REPLAY:jEe(230),REWARDED_VIDEO_PLAYABLE_FETCHED:jEe(234),REWARDED_VIDEO_PLAYABLE_SHOWED:jEe(235),REWARDED_VIDEO_PLAYABLE_DURATION:jEe(236),REWARDED_VIDEO_PLAYABLE_PREDOWNLOAD_SUCCESS:jEe(237),REWARDED_VIDEO_PLAYABLE_PREDOWNLOAD_FAILED:jEe(238),REWARDED_VIDEO_PLAYABLE_INSERT_SUCCESS:jEe(239),REWARDED_VIDEO_PLAYABLE_INSERT_FAILED:jEe(240),REWARDED_VIDEO_PLAYABLE_REMOVE_FAILED:jEe(241),REWARDED_VIDEO_PLAYABLE_STATUS_CHANGE:jEe(242),OPEN_ENDED_CHANNELS_LIVE:jEe(243),REWARDED_VIDEO_VALIDATE_INDENTIFY_FAILED:jEe(244),REWARDED_VIDEO_LAND_CLICK:jEe(246),REWRADED_VIDEO_FEED_INTERVAL_ERROR:jEe(247),GETPAYAD_ERROR:jEe(250),PRELOADPAYAD_SUCC:jEe(251),PRELOADPAYAD_ERROR:jEe(252),REWARDED_VIDEO_NO_VIEWABLE_EXPOSURE:jEe(253)},UEe=e=>BEe(e,WEe.SPLASHAD),$Ee={dataLoadSuccess:UEe(0),dataLoadFail:UEe(1),dataPreloadSuccess:UEe(2),dataPreloadFail:UEe(3),handleDataFail:UEe(4),launchAcceptShouldShow:UEe(5),menuAcceptShouldShow:UEe(6),readFileFail:UEe(7),launchShowSplashAdSuccess:UEe(8),menuShowSplashAdSuccess:UEe(9),showSplashAdFail:UEe(10),firstRenderFail:UEe(11),firstInsertFail:UEe(12),secondRenderFail:UEe(13),secondInsertFail:UEe(14),iosThirdInsertFail:UEe(15),checkAdStateFail:UEe(16),adOfflineClose:UEe(17),readFileDataFail:UEe(18),firstShowSuccess:UEe(19),showSplashAdMenuSuccess:UEe(20),showSplashAdMenuFail:UEe(21),secondShowSuccess:UEe(22),removeFileDataFail:UEe(23),landingPageFail:UEe(24),frequencyControlFail:UEe(25),frequencyControlReturn:UEe(26),bulkCopyFileFail:UEe(27),getAdInfosFail:UEe(28),getAidFail:UEe(29),setExposureTagFail:UEe(30),NO_ADINFOS:UEe(31),NO_AID:UEe(32),MATERIAL_NOT_READY:UEe(33),CHECK_AD_STATUS_ERROR:UEe(34),CRT_ORIENTATION_NOT_SURE:UEe(35),EXPOSURE_TIMES_LIMIT:UEe(36),START_CHECK_AD_STATUS:UEe(37),CHECK_AD_STATUS_SUCCESS:UEe(38),OTHER_ADS_EMIT_FETCH:UEe(39),WRITE_ADINFOS_SUCCESS:UEe(40),WRITE_ADINFOS_FAIL:UEe(41),downloadFirstMaterialFail:UEe(52),HANDLE_MATERIAL_FAIL:UEe(53),LOCAL_SELECT_BEGIN:UEe(54),LOCAL_SELECT_OUTDATE:UEe(55),LOCAL_SELECT_NO_AID:UEe(56),LOCAL_SELECT_NO_FILE:UEe(57),LOCAL_SELECT_SUCCESS:UEe(58)},zEe=e=>BEe(e,WEe.CUSTOMAD),qEe={LOAD_FAILED:zEe(1),PRELOAD_SUCCESS:zEe(2),PRELOAD_FAILED:zEe(3),PARSE_FAILED:zEe(4),TPL_RENDER_SUCCESS:zEe(5),TPL_PARSE_FAILED:zEe(6),TPL_LOAD_FAILED:zEe(7),AD_LIMIT_TIME:zEe(8),AD_LIMIT_BOUNDARY:zEe(9),RELATION_FETCH_ERROR:zEe(10),SHOW_FAILED1:zEe(11),SHOW_FAILED2:zEe(12),AD_VIDEO_LOAD_FAILED:zEe(13),FOLLOW_SUCCESS:zEe(14),FOLLOW_FAILED:zEe(15),RENDER_SUCCESS:zEe(16),RENDER_FAILED:zEe(17),REFETCH_SUCCESS:zEe(18),REFETCH_FAILED:zEe(19),LOAD_SUCCESS:zEe(20),WIDTH_GET_ERROR:zEe(21),ORIGIN_EXPOSURE_ERROR:zEe(22),VIEWABLE_EXPOSURE_ERROR:zEe(23)},HEe=e=>BEe(e,WEe.CPSSHOPAD),GEe={PARSE_ERROR:HEe(1),CALL_ERROR:HEe(2),HAS_UUID:HEe(3),EXPURL_ERROR:HEe(4),EXPOSURE_NOFEEDBACK:HEe(5),CLICK_NOFEEDBACK:HEe(6),DEST_ERROR:HEe(7),CLICK_INOF_ERROR:HEe(8),CLICK_DATA:HEe(9),EXPOSURE_DATA:HEe(10)},KEe=e=>BEe(e,WEe.REWARDEDVIDEO),JEe={ANIMATION_CARD_EXPOSURE:KEe(0),ANIMATION_CARD_VIDEO_END:KEe(1),ANIMATION_CARD_EXPOSURE_LOOP:KEe(2),ANIMATION_CARD_VIDEO_END_LOOP:KEe(3)},XEe="",YEe="",QEe="",ZEe="{}",eAe="",tAe="",rAe="{}";function nAe(e){XEe?e&&e(XEe):pe&&z.clientVersion<654315827?gu("getOAID",{success(t){/:ok/.test(t.errMsg)?(XEe=t.result||"",e&&e(XEe)):e&&e("")},fail(){e&&e("")}}):e&&e("")}function iAe(e=""){return new Promise(((t,r)=>{pe&&z.clientVersion>=654315827||he&&z.clientVersion>=385879808?gu("getDeviceInfo",{waidPkg:e,success(e){XEe=e.oaid||"",YEe=e.imei||"",tAe=e.waid||"",eAe=e.ua||"",rAe=e.devIdInfo||"{}";try{ZEe=JSON.stringify(O()(O()({},JSON.parse(rAe)),eAe?{ua:eAe}:{}))}catch(e){r(e)}t({oaid:XEe,imei:YEe,commonid:ZEe,waid:tAe})},fail(e){r(e)}}):t({oaid:XEe,imei:YEe,commonid:ZEe,waid:tAe})}))}function aAe(e=""){return new Promise(((t,r)=>{var n="",i="";IS_ANDROID&&WXConfig.clientVersion>=654316032?invokeMethod("getDeviceInfo",{waidPkg:e,success(e){n=e.waid||"",i=e.imei||"",t({waid:n,imei:i})},fail(e){r(e)}}):t({waid:n,imei:i})}))}var oAe=()=>{var e=eb();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":z.deviceOrientation&&/^landscape/.test(z.deviceOrientation)?"landscape":z.deviceOrientation||"portrait"},sAe={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}]},cAe=e=>{var t=sAe[e.toString()];return t?t.concat([]):[]},lAe="",uAe=ue,dAe="",pAe="",hAe="",fAe="",gAe="",vAe="",mAe=!0,yAe="",bAe="";z.onReady((()=>{lAe=oAe()||"";var e=Zy();dAe=e.system,pAe=e.version,hAe=e.SDKVersion,gAe=e.model,vAe=e.brand,mAe=Te();try{bAe=z.accountInfo.appId,fAe=r.updateTime}catch(e){}}));var _Ae=({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),E.reportIDKeyDirectly({id:t||924,key:e,force:!0})},wAe=({key:e,id:t,extInfo:r,reportData:n})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),n=n||{},r&&"string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=r.toString()}return IAe(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:n.ad_pos_type||0,source_url:n.source_url||"",expand_feild:n.reportAdData||"",expand_feild2:r,aid:n.aid||0,traceid:n.traceid||"",ad_unit_id:n.ad_unit_id})},IAe=(e,t)=>{var r=cAe(e);if(r&&0!==r.length)return t=Object.assign({publisher_appid:bAe,appid:bAe,orig_weapp_id:"",network_type:yAe,wechat_version:pAe,platform:uAe,system_version:dAe,device_orientation:lAe,wxapp_lib_version:hAe,wxapp_lib_time:fAe,machine_type:gAe,ad_platform:mAe?1:0},t),t=Object.assign({DeviceModel:gAe,DeviceBrand:vAe,OsName:uAe,OsVersion:dAe},t),r=r.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),Yu({sdkApiName:"advert_report",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:r})}}).catch((e=>{}))},SAe=(e,t,r)=>{_Ae({key:e}),wAe({key:e,extInfo:t,reportData:r})},kAe={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:ue,isWaGame:!0,isApp:!1,isIOS:he,isAndroid:pe,isWindows:fe,isMac:ge,isPC:me,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:"",safeArea:{}},CAe={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""};h.onLoad((()=>{kAe.startTime=new Date,CAe.enterForegroundTime=new Date}));var EAe=()=>CEe(kAe,["oaid","imei","idfa","common_device_id"]),AAe=()=>{var e=vy();return kAe.screenWidth=e.screenWidth,kAe.screenHeight=e.screenHeight,kAe.deviceOrientation=kAe.screenWidth>kAe.screenHeight?"landscape":"portrait",kAe.deviceOrientation},TAe=()=>{},PAe=()=>TAe(),xAe=()=>new Promise((e=>{TAe=e})),MAe=()=>new Promise((e=>{nAe((t=>{kAe.oaid=t,e()}))})),RAe=()=>new Promise((e=>{iAe().then((({imei:t,oaid:r,commonid:n})=>{he?kAe.idfa=t:pe&&(kAe.oaid=r,kAe.imei=t),kAe.common_device_id=n||"{}",e(),xAe().then((()=>{SAe(VEe.GET_DEVICEINFO_SUCCESS)}))})).catch((t=>{e(),xAe().then((()=>{SAe(VEe.GET_DEVICEINFO_ERROR,t)}))}))})),DAe=()=>new Promise((e=>{z.onReady((()=>{var t;kAe.safeArea=z.safeArea||{},kAe.startTime=new Date,kAe.deviceOrientation=oAe()||"",kAe.envVersion=z.envVersion;var n=Zy(),i=eb();kAe.screenWidth=i.screenWidth||0,kAe.screenHeight=i.screenHeight||0,kAe.systemVersion=n.system,kAe.wechatVersion=n.version,kAe.SDKVersion=n.SDKVersion,kAe.brand=n.brand,kAe.model=n.model,kAe.isIPad=null===(t=n.model)||void 0===t?void 0:t.includes("iPad"),kAe.isWaGame=Te(),kAe.isApp=Me();try{kAe.gameAppId=z.accountInfo.appId,kAe.SDKVersionTime=r.updateTime}catch(e){}Promise.all([MAe(),RAe()]).then((()=>e(kAe)))}))})),OAe=DAe(),LAe=e=>{var t=Object.keys(e);for(var r of t)kAe[r]=e[r]},NAe,BAe,FAe,WAe,jAe,VAe,UAe;try{XS((({webviewId:e,openType:t,path:r})=>{kAe.isWaGame||(CAe.lastWebviewId=CAe.currentWebviewId,CAe.currentWebviewId=e||0,CAe.currentOpenType=t,CAe.weappPath=r)}))}catch(e){}var $Ae=()=>({gameTouchStartPosX:NAe,gameTouchStartPosY:BAe,gameTouchEndPosX:FAe,gameTouchEndPosY:WAe,gameTouchInterval:jAe,gameTouchStartTime:VAe,gameTouchEndTime:UAe}),zAe=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(NAe=Math.round(e.changedTouches[0].clientX),BAe=Math.round(e.changedTouches[0].clientY),FAe=0,WAe=0,jAe=0,VAe=+new Date)},qAe=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(FAe=Math.round(e.changedTouches[0].clientX),WAe=Math.round(e.changedTouches[0].clientY),jAe=+new Date-VAe,UAe=+new Date)},HAe=()=>{_Ee.offTouchStart(zAe),_Ee.offTouchEnd(qAe)};ik((({scene:e})=>{CAe.enterForegroundTime=new Date,CAe.currentScene=e})),mk((()=>{CAe.gameDuration+=Date.now()-CAe.enterForegroundTime.getTime()}));class GAe extends rye{constructor({id:e,style:t,src:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s,independent:c=!1}={}){super({id:e,style:t,props:{src:r},type:"image",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s,independent:c})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:jd(this.src)})}}class KAe{constructor(){this.emitter=new Nt({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=C.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);"function"==typeof r&&(this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}var JAe={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},XAe=0,YAe={};z.onReady((()=>{XAe=z.appType+1e3,YAe=z.appLaunchInfo}));var QAe={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},ZAe=({component:e,eventName:t,eventData:r,src:n=""}={})=>{var i=vg(),a=z.SDKVersion||"",o=Object.keys(YAe.query||{}).map((e=>`${e}=${YAe.query[e]}`)).join(",");o=encodeURIComponent(o);var s="";switch(t){case"onLoad":s=[r.duration,r.controls?2:1].join(";");break;case"onWaiting":case"onTimeUpdate":s=[r.position,r.buffered].join(";");break;case"onError":s=r.errMsg.replace(","," ");break;case"onFullScreenChange":s=r.fullScreen?2:1;break;case"onImageLoad":s=[r.isLazyLoad?2:1,r.size,r.loadTime,r.width,r.height,r.originalWidth,r.originalHeight].join(";");break;case"onImageError":s=[r.isLazyLoad?2:1].join(";")}var c=[Math.round(Date.now()/1e3),YAe.scene,"",YAe.sessionid||YAe.sessionId,YAe.path,o,i,a,JAe[e],QAe[t],s,encodeURIComponent(n.substring(0,1024)).substring(0,1024),XAe].join(",");E.reportKeyValue({key:"MediaCompStatus",value:c})},eTe={},tTe=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];pe&&tTe.push("onVideoFullScreenChange");var rTe=(e,t,r)=>{"ad"!==e.scene&&ZAe({component:"video",eventName:t,eventData:r,src:e.src})};class nTe extends EC{constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,hide:o=!1,src:s,poster:c,referrerPolicy:l="no-referrer",initialTime:u=0,playbackRate:d=1,live:p=!1,objectFit:h="contain",controls:f=!0,showProgress:g=!0,showProgressInControlMode:v=g,autoplay:m=!1,muted:y=!1,loop:b=!1,customCache:_=!1,enableProgressGesture:w=!0,enablePlayGesture:I=!1,showCenterPlayBtn:S=!0,autoInsert:k=!0,scene:C="default",preLoad:E=!1,obeyMuteSwitch:A=!1,underGameView:T=!1,backgroundColor:P="#000000",playerHint:x="",zIndex:M,autoPauseIfNavigate:R=!0,autoPauseIfOpenNative:D=!0,independent:O=!1}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=k,this.playerHint=x,this.scene=C,this.preLoad=E,this.underGameView=T,this.zIndex=M,this.autoPauseIfOpenNative=D,this.autoPauseIfNavigate=R,this.customCache=_,this.independent=O,eTe[this.id]=this;var L=null;this.emitter=new KAe,this.deferred=[],this._buffered=0,this._position=0;var N={x:r,y:n,width:i,height:a,hide:o,src:s,poster:c,initialTime:u,playbackRate:d,live:p,objectFit:h,controls:f,showProgress:g,showProgressInControlMode:v,backgroundColor:P,autoplay:m,muted:y,loop:b,enableProgressGesture:w,enablePlayGesture:I,showCenterPlayBtn:S,obeyMuteSwitch:A,referrerPolicy:l};Object.keys(N).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>N[e],set:t=>{"src"!==e&&N[e]===t||(N[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(L),L=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),tTe.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,rTe(this,"onSrcSet",{}),new Promise(((e,t)=>{gu("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:jd(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return new Promise(((e,t)=>{he?setTimeout((()=>{gu("removeVideoPlayer",{videoPlayerId:this.id,success:e,fail:t})}),0):gu("removeVideoPlayer",{videoPlayerId:this.id,success:e,fail:t}),tTe.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete eTe[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,customCache:this.customCache,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,independent:this.independent};return this.isSrcChanged&&(t.filePath=jd(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=jd(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&rTe(this,"onSrcSet",{}),new Promise(((t,r)=>{gu("updateVideoPlayer",Object.assign({},e,{success:t,fail:r}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((r,n)=>{gu("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,independent:this.independent,success:r,fail:n})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}tTe.forEach((e=>{var t=e.replace("Video","");nTe.prototype[t]=function(t){this.emitter.on(e,t)};var r=t.replace("on","off");nTe.prototype[r]=function(t){this.emitter.off(e,t)}})),tTe.forEach((e=>{Kt(e,(t=>{var r=t.videoPlayerId||JSON.parse(t.data||"{}").id,n=eTe[r];if(n)if(n.emitter.emit(e,t),"onVideoProgress"!==e){var i=t;"onVideoTimeUpdate"===e?(n._position=t.position,i={position:t.position,buffered:n._buffered}):"onVideoWaiting"===e&&(i={position:n._position,buffered:n._buffered}),rTe(n,e.replace("Video",""),i)}else n._buffered=t.buffered}))}));var iTe={};class aTe extends EC{constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,url:o="",urls:s=[],scale:c=1,autoInsert:l=!0,hide:u=!1,zIndex:d=0}={}){if(super({style:e,name:t}),this.x=r,this.y=n,this.width=i,this.height=a,this.scale=+c,this.hide=u,this.autoInsert=l,this.url=o,this.zIndex=d,this.emitter=new Lp("ImagePreviewer",!0),iTe[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return gu("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{gu("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{gu("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete iTe[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}Kt("onImagePreviewerLoadFail",(e=>{iTe[e.viewId].emitter.emit("onImageLoadFail",e)}));var oTe=new WeakMap,sTe=a.prototype.call.bind(WeakMap.prototype.get),cTe=a.prototype.call.bind(WeakMap.prototype.set),lTe=a.prototype.call.bind(WeakMap.prototype.delete),uTe=e=>sTe(oTe,e),dTe=function(e){var t=uTe(this),r={view:rye,text:nye,image:GAe,video:nTe,"image-previewer":aTe}[e.name],n="";e.attributes.id?n=hC(e.attributes.id):v.error(`${e.name} 缺少id`);var i=Object.keys(e.attributes).reduce(((r,i)=>{var a=e.attributes[i],o=hC(i);return"id"===i?(r.style=Object.assign(r.style||{},t.style[n]),r):"class"===i?(r.style=a.split(/\s+/).reduce(((e,r)=>Object.assign(e,t.style[r])),r.style||{}),r):(/\{\{.+\}\}/.test(a)||(r[o]=""===a||"true"===a||"false"!==a&&a),r)}),{});i.name=n;var a=new r(i);return t[n]=a,e.children.forEach((e=>{var t=dTe.call(this,e);a.add(t)})),a},pTe=e=>{lTe(oTe,e)};class hTe{constructor(){cTe(oTe,this,{})}}var fTe=function(e,t,r){var n=uTe(this);n.xom=e,n.style=t,n.state=r,dTe.call(this,e)},gTe={ACTION_TYPE_CLICK_GAME:1,ACTION_TYPE_CLICK_CLOSE_BTN:2,ACTION_TYPE_CLICK_HIDE:3,ACTION_TYPE_COMPLAINT:4,ACTION_TYPE_NOT_INTERESTED:5,ACTION_TYPE_INFLUEENCE_OPERATION:6},vTe={AD_TYPE_BANNER:1,AD_TYPE_PORTAL:2,AD_TYPE_ICON:3},mTe={reportId:1101,idkey:{BANNER_LOAD_ERROR:1,BANNER_RENDER_ERROR:2,PORTAL_LOAD_ERROR:3,PORTAL_RENDER_ERROR:14,LAUNCH_APP_ERROR:5,REPORT_ERROR:6,BANNER_TIMEOUT:7,BANNER_WXDATA_TIMEOUT:8,BANNER_TIMEOUT_RETRY_SUCCESS:9,BANNER_TIMEOUT_RETRY_FAIL:10,PORTAL_TIMEOUT:11,PORTAL_WXDATA_TIMEOUT:12,PORTAL_TIMEOUT_RETRY_SUCCESS:13,PORTAL_TIMEOUT_RETRY_FAIL:4,BANNER_DATA_INVALID:15,PORTAL_DATA_INVALID:16,BANNER_DATA_INVALID_RETRY_SUCCESS:17,BANNER_DATA_INVALID_RETRY_FAIL:18,PORTAL_DATA_INVALID_RETRY_SUCCESS:19,PORTAL_DATA_INVALID_RETRY_FAIL:20,ICON_LOAD_ERROR:21,ICON_TIMEOUT:22,ICON_WXDATA_TIMEOUT:23,ICON_TIMEOUT_RETRY_SUCCESS:24,ICON_TIMEOUT_RETRY_FAIL:25,ICON_DATA_INVALID:26,ICON_DATA_INVALID_RETRY_SUCCESS:27,ICON_DATA_INVALID_RETRY_FAIL:28,BANNER_PRELOAD_SUCCESS:29,BANNER_PRELOAD_FAIL:30,PORTAL_PRELOAD_SUCCESS:31,PORTAL_PRELOAD_FAIL:32,ICON_PRELOAD_SUCCESS:33,ICON_PRELOAD_FAIL:34},designWidth:375,TIMEOUT:15e3,ERRMSG:{NODATA:"no data available, please invoke load()",DUPLICATEWARN:"同一时刻只能展示一个同一类型的组件",NO_ADUNITID_WARN:"please pass in the adUnitId"},adType:vTe,adTypeName:{[vTe.AD_TYPE_BANNER]:"BANNER",[vTe.AD_TYPE_PORTAL]:"PORTAL",[vTe.AD_TYPE_ICON]:"ICON"},actionType:gTe,feedbackList:[{name:"不感兴趣",actionType:gTe.ACTION_TYPE_NOT_INTERESTED},{name:"影响操作",actionType:gTe.ACTION_TYPE_INFLUEENCE_OPERATION}],presetChars:{0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625}},yTe=null,bTe=!1;function _Te(){var e=null;if(Te()){var t=new Oh.Canvas;t.width=1,t.height=1,e=t.getContext("2d")}else if(de||me){e=(we?new Oh.OffscreenCanvas(0,0):document.createElement("canvas")).getContext("2d")}return e}function wTe(e,t){var r,n={};return gu("measureText",{text:e,fontSize:null!==(r=null==t?void 0:t.fontSize)&&void 0!==r?r:10,fontFamily:(null==t?void 0:t.fontFamily)||"sans-serif",fontWeight:"normal",fontStyle:"normal",complete(e){n={width:e.width||0}}}),n}function ITe(e,t){var r={};if(bTe)r=wTe(e,t);else if(yTe||(yTe=_Te()),yTe){var n=t?`${t.fontSize||10}px ${t.fontFamily||"sans-serif"}`:null;n&&(yTe.font=n),r=yTe.measureText(e)}else bTe=!0,r=wTe(e,t);return r.width||0}var STe=mTe.presetChars,kTe="PingFangSC-Regular, SF Pro Display, SF Pro Text";class CTe{constructor(){}getCharWidth(e,t){return(STe[e]?STe[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){return pe?this.getTextWidthInAndroid(e,t):Math.ceil(ITe(e,t?{fontSize:t,fontFamily:kTe}:void 0)||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var r=0;return e.forEach((e=>{var n=this.getCharWidth(e,t);r+=n})),r}getMaxWordLength(e,t,r,n=!0){e=(e=String(e)).split("");var i=0,a=0;n&&(r-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],c=this.getCharWidth(s,t);if(i+c>r)break;a++,i+=c}return a}textMetrics(e,t){for(var{fontSize:r,maxWidth:n,maxLines:i=1}=t,a=[],o=0,s=e.substring(0,e.length);o<i;){var c=this.getMaxWordLength(s,r,n,!(o!==i-1)),l=o===i-1?this.limitString(s,c):s.substring(0,c);l&&a.push({text:l,width:this.getTextWidth(l,r)}),o++,s=s.substring(c,s.length)}return a}}var ETe=new CTe,ATe=new Lp("playableads",!1);function TTe(e){ATe.on("playableStatusChange",e)}function PTe(e){ATe.off("playableStatusChange",e)}Tt("onPlayableStatusChange",(e=>{ATe.emit("playableStatusChange",e)}));var xTe=Qm("ad"),MTe=O()(O()({GameGlobal:bg,_onShow:ik,_onHide:mk,_offShow:ak,_offHide:yk,onBeforeHide:gk,onAfterHide:bk,offBeforeHide:vk,offAfterHide:_k,_downloadFileSkipCheckDomain:bv,touch:_Ee,reportCanvasData:GC,ReportCanvasDataEventType:jC,checkAndUseAdSkipCard:SEe,_requestSkipCheckDomain:Xb,onAppRoute:XS,showToast:rE,_getNetworkType:dg,getChannelsLiveInfo:o_e,_showModal:QC,getInitScreenSize:eb,getSystemInfoSync:vy,onAppRouteDone:qM,onWindowResize:EK,beginAudioInterruption:$$,endAudioInterruption:z$,__wxConfig:z,onNativeEvent:Kt,offNativeEvent:Yt,onNetworkWeakChange:fg,getExptInfoSync:zE,addInnerShareCallbacks:$le,onBeforeUnloadPage:CI,_onUserCaptureScreen:i1,getAdUxInfo:yr,getStableSystemInfo:Zy,vibrateShort:gO,vibrateLong:vO},P),{},{webviewLayout:cye,nativeviewLayout:lye,View:rye,Text:nye,Image:GAe,Video:nTe,Component:hTe,initComponent:fTe,createComponent:dTe,getPrivateThis:uTe,removePrivateThis:pTe,invoke:_r,invokeMethod:gu,beforeInvoke:xc,onMethod:Tt,publish:lr,subscribe:gr,invokeOperateWXDataPromise:Yu,_invokeMethod:bu,gametext:ETe,packageChannel:xTe,getGameTouchStatus:$Ae,onPlayableStatusChange:TTe,offPlayableStatusChange:PTe,_getABTestConfig:Lh,readdir:Yh,stat:lh,unlink:tf,writeFile:qh,readFileSync:zh,access:Zh,accessSync:ef,wxNativeConsole:v,wxConsole:f,console:console,_createInnerAudioContext:Vz,onPaymentCompletedPagePreload:oA,invokeOperateWXData:Xu}),RTe=MTe;tEe({name:"ad",waLibName:"WAAd.js",globalName:"AD",globalGetter:()=>({console:console,wxConsole:f,wxNativeConsole:v,__wxConfig:z,__errorTracer__:C,Reporter:E,Foundation:h,WeixinJSBridge:b,IS_APP:!1,IS_APPSERVICE_SDK:!0,IS_WAGAME:!1,IS_WORKER:!1,wxRunOnDebug:d,__appServiceSDKAD__:RTe}),exportApis:{createRewardedVideoAd:{apiKey:"createRewardedVideoAd",noExportWx:!0},createInterstitialAd:{apiKey:"createInterstitialAd",noExportWx:!0},createCustomAd:{apiKey:"createCustomAd",noExportWx:!0},preloadAd:{apiKey:"preloadAd",noExportWx:!0}},provideInGlobal:"ADSDK",src:"./src/sdk/dist/ad.js",onInjectCallback:()=>{Jm("ad",Gm.injected)}});var DTe=e=>{loadSdkSubPackage(e,getAllRegisterdSubPackageInfos()[e])},OTe=()=>{_loadAllSdkSubPackage(getAllRegisterdSubPackageInfos())},LTe=e=>{hEe(e)},NTe,BTe,FTe,WTe,jTe,VTe,UTe,$Te,zTe,qTe,HTe,GTe,KTe,JTe,XTe,YTe,QTe,ZTe,ePe,tPe,rPe,nPe,iPe,aPe,oPe,sPe,cPe,lPe,uPe,dPe,pPe,hPe,fPe,gPe,vPe,mPe,yPe,bPe,_Pe,wPe,IPe,SPe,kPe,CPe,EPe,APe,TPe,PPe,xPe,MPe,RPe,DPe,OPe,LPe,NPe,BPe,FPe,WPe,jPe,VPe,UPe,$Pe,zPe,qPe,HPe,GPe,KPe,JPe,XPe,YPe,QPe,ZPe,exe,txe,rxe,nxe,ixe,axe,oxe,sxe,cxe,lxe,uxe,dxe,pxe,hxe,fxe,gxe,vxe,mxe,yxe,bxe,_xe,wxe,Ixe,Sxe,kxe,Cxe,Exe,Axe,Txe,Pxe,xxe,Mxe,Rxe,Dxe,Oxe,Lxe,Nxe,Bxe,Fxe,Wxe,jxe,Vxe,Uxe,$xe,zxe,qxe,Hxe,Gxe,Kxe,Jxe,Xxe,Yxe,Qxe,Zxe,eMe,tMe,rMe,nMe,iMe,aMe,oMe,sMe,cMe,lMe,uMe,dMe,pMe,hMe,fMe,gMe,vMe,mMe,yMe,bMe,_Me,wMe,IMe,SMe,kMe,CMe,EMe,AMe,TMe,PMe,xMe,MMe,RMe,DMe,OMe,LMe,NMe,BMe,FMe,WMe,jMe,VMe,UMe,$Me,zMe,qMe,HMe,GMe,KMe,JMe,XMe,YMe,QMe,ZMe,eRe,tRe,rRe,nRe,iRe,aRe,oRe,sRe,cRe,lRe,uRe,dRe,pRe,hRe,fRe,gRe,vRe,mRe,yRe,bRe,_Re,wRe,IRe,SRe,kRe,CRe,ERe,ARe,TRe,PRe,xRe,MRe,RRe,DRe,ORe,LRe,NRe,BRe,FRe,WRe,jRe,VRe,URe,$Re,zRe,qRe,HRe,GRe,KRe,JRe,XRe,YRe,QRe,ZRe,eDe,tDe,rDe,nDe,iDe,aDe,oDe,sDe,cDe,lDe,uDe,dDe,pDe,hDe,fDe,gDe,vDe,mDe,yDe,bDe,_De,wDe,IDe,SDe,kDe,CDe,EDe,ADe,TDe,PDe,xDe,MDe,RDe,DDe,ODe,LDe,NDe,BDe,FDe,WDe,jDe,VDe,UDe,$De,zDe,qDe,HDe,GDe,KDe,JDe,XDe,YDe,QDe,ZDe,eOe,tOe,rOe,nOe,iOe,aOe,oOe,sOe,cOe,lOe,uOe,dOe,pOe,hOe,fOe,gOe,vOe,mOe,yOe,bOe,_Oe,wOe,IOe,SOe,kOe,COe,EOe,AOe,TOe,POe,xOe,MOe,ROe,DOe,OOe,LOe,NOe,BOe,FOe,WOe,jOe,VOe,UOe,$Oe,zOe,qOe,HOe,GOe,KOe,JOe,XOe,YOe,QOe,ZOe,eLe,tLe,rLe,nLe,iLe,aLe,oLe,sLe,cLe,lLe,uLe,dLe,pLe,hLe,fLe,gLe,vLe,mLe,yLe,bLe,_Le,wLe,ILe,SLe,kLe,CLe,ELe,ALe,TLe,PLe,xLe,MLe,RLe,DLe,OLe,LLe,NLe,BLe,FLe,WLe,jLe,VLe,ULe,$Le,zLe,qLe,HLe,GLe,KLe,JLe,XLe,YLe,QLe,ZLe,eNe,tNe,rNe,nNe,iNe,aNe,oNe,sNe,cNe,lNe,uNe,dNe,pNe,hNe,fNe,gNe,vNe,mNe,yNe,bNe,_Ne,wNe,INe,SNe,kNe,CNe,ENe,ANe,TNe,PNe,xNe,MNe,RNe,DNe,ONe,LNe,NNe,BNe,FNe,WNe,jNe,VNe,UNe,$Ne,zNe,qNe,HNe,GNe,KNe,JNe,XNe,YNe,QNe,ZNe,eBe,tBe,rBe,nBe,iBe,aBe,oBe,sBe,cBe,lBe,uBe,dBe,pBe,hBe,fBe,gBe,vBe,mBe,yBe,bBe,_Be,wBe,IBe,SBe,kBe,CBe,EBe,ABe,TBe,PBe,xBe,MBe,RBe,DBe,OBe,LBe,NBe,BBe,FBe,WBe,jBe,VBe,UBe,$Be,zBe,qBe,HBe,GBe,KBe,JBe,XBe,YBe,QBe,ZBe,eFe,tFe,rFe,nFe,iFe,aFe,oFe,sFe,cFe,lFe,uFe,dFe,pFe,hFe,fFe,gFe,vFe,mFe,yFe,bFe,_Fe,wFe,IFe,SFe,kFe,CFe,EFe,AFe,TFe,PFe,xFe,MFe,RFe,DFe,OFe,LFe,NFe,BFe,FFe,WFe,jFe,VFe,UFe,$Fe,zFe,qFe,HFe,GFe,KFe,JFe,XFe,YFe,QFe,ZFe,eWe,tWe,rWe,nWe,iWe,aWe,oWe,sWe,cWe,lWe,uWe,dWe,pWe,hWe,fWe,gWe,vWe,mWe,yWe,bWe,_We,wWe,IWe,SWe,kWe,CWe,EWe,AWe,TWe,PWe,xWe,MWe,RWe,DWe,OWe,LWe,NWe,BWe,FWe,WWe,jWe,VWe,UWe,$We,zWe,qWe,HWe,GWe,KWe,JWe,XWe,YWe,QWe,ZWe,eje,tje,rje,nje,ije,aje,oje,sje,cje,lje,uje,dje,pje,hje,fje,gje,vje,mje,yje,bje,_je,wje,Ije,Sje,kje,Cje,Eje,Aje,Tje,Pje,xje,Mje,Rje,Dje,Oje,Lje,Nje,Bje,Fje,Wje,jje,Vje,Uje,$je,zje,qje,Hje,Gje,Kje,Jje,Xje,Yje,Qje,Zje,eVe,tVe,rVe,nVe,iVe,aVe,oVe,sVe,cVe,lVe,uVe,dVe,pVe,hVe,fVe,gVe,vVe,mVe,yVe,bVe,_Ve,wVe,IVe,SVe,kVe,CVe,EVe,AVe,TVe,PVe,xVe,MVe,RVe,DVe,OVe,LVe,NVe,BVe,FVe,WVe,jVe,VVe,UVe,$Ve,zVe,qVe,HVe,GVe,KVe,JVe,XVe,YVe,QVe,ZVe,eUe,tUe,rUe,nUe,iUe,aUe,oUe,sUe,cUe,lUe,uUe,dUe,pUe,hUe,fUe,gUe,vUe,mUe,yUe,bUe,_Ue,wUe,IUe,SUe,kUe,CUe,EUe,AUe,TUe,PUe,xUe,MUe,RUe,DUe,OUe,LUe,NUe,BUe,FUe,WUe,jUe,VUe,UUe,$Ue,zUe,qUe,HUe,GUe,KUe,JUe,XUe,YUe,QUe,ZUe,e$e,t$e,r$e,n$e,i$e,a$e,o$e,s$e,c$e,l$e,u$e,d$e,p$e,h$e,f$e,g$e,v$e,m$e,y$e,b$e,_$e,w$e,I$e,S$e,k$e,C$e,E$e,A$e,T$e,P$e,x$e,M$e,R$e,D$e,O$e,L$e,N$e,B$e,F$e,W$e,j$e,V$e,U$e,$$e,z$e,q$e,H$e,G$e,K$e,J$e,X$e,Y$e,Q$e,Z$e,eze,tze,rze,nze,ize,aze,oze,sze,cze,lze,uze,dze,pze,hze,fze,gze,vze,mze,yze,bze,_ze,wze,Ize,Sze,kze,Cze,Eze,Aze,Tze,Pze,xze,Mze,Rze,Dze,Oze,Lze,Nze,Bze,Fze,Wze,jze,Vze,Uze,$ze,zze,qze,Hze,Gze,Kze,Jze,Xze,Yze,Qze,Zze,eqe,tqe,rqe,nqe,iqe,aqe,oqe,sqe,cqe,lqe,uqe,dqe,pqe,hqe,fqe,gqe,vqe,mqe,yqe,bqe,_qe,wqe,Iqe,Sqe,kqe,Cqe,Eqe,Aqe,Tqe,Pqe,xqe,Mqe,Rqe,Dqe,Oqe,Lqe,Nqe,Bqe,Fqe,Wqe,jqe,Vqe,Uqe,$qe,zqe,qqe,Hqe,Gqe,Kqe,Jqe,Xqe,Yqe,Qqe,Zqe,eHe,tHe,rHe,nHe,iHe,aHe,oHe,sHe,cHe,lHe,uHe,dHe,pHe,hHe,fHe,gHe,vHe,mHe,yHe,bHe,_He,wHe,IHe,SHe,kHe,CHe,EHe,AHe,THe,PHe,xHe,MHe,RHe,DHe,OHe,LHe,NHe,BHe,FHe,WHe,jHe,VHe,UHe,$He,zHe,qHe,HHe,GHe,KHe,JHe,XHe,YHe,QHe,ZHe,eGe,tGe,rGe,nGe,iGe,aGe,oGe,sGe,cGe,lGe,uGe,dGe,pGe,hGe,fGe,gGe,vGe,mGe,yGe,bGe,_Ge,wGe,IGe,SGe,kGe,CGe,EGe,AGe,TGe,PGe,xGe,MGe,RGe,DGe,OGe,LGe,NGe,BGe,FGe,WGe,jGe,VGe,UGe,$Ge,zGe,qGe,HGe,GGe,KGe,JGe,XGe,YGe,QGe,ZGe,eKe,tKe,rKe,nKe,iKe,aKe,oKe,sKe,cKe,lKe,uKe,dKe,pKe,hKe,fKe,gKe,vKe,mKe,yKe,bKe,_Ke,wKe,IKe,SKe,kKe,CKe,EKe,AKe,TKe,PKe,xKe,MKe,RKe,DKe,OKe,LKe,NKe,BKe,FKe,WKe,jKe,VKe,UKe,$Ke,zKe,qKe,HKe,GKe,KKe,JKe,XKe,YKe,QKe,ZKe,eJe,tJe,rJe,nJe,iJe,aJe,oJe,sJe,cJe,lJe,uJe,dJe,pJe,hJe,fJe,gJe,vJe,mJe,yJe,bJe,_Je,wJe,IJe,SJe,kJe,CJe,EJe,AJe,TJe,PJe,xJe,MJe,RJe,DJe,OJe,LJe,NJe,BJe,FJe,WJe,jJe,VJe,UJe,$Je,zJe,qJe,HJe,GJe,KJe,JJe,XJe,YJe,QJe,ZJe,eXe,tXe,rXe,nXe,iXe,aXe,oXe,sXe,cXe,lXe,uXe,dXe,pXe,hXe,fXe,gXe,vXe,mXe,yXe,bXe,_Xe,wXe,IXe,SXe,kXe,CXe,EXe,AXe,TXe,PXe,xXe,MXe,RXe,DXe,OXe,LXe,NXe,BXe,FXe,WXe,jXe,VXe,UXe,$Xe,zXe,qXe,HXe,GXe,KXe,JXe,XXe,YXe,QXe,ZXe,eYe,tYe,rYe,nYe,iYe,aYe,oYe,sYe,cYe,lYe,uYe,dYe,pYe,hYe,fYe,gYe,vYe,mYe,yYe,bYe,_Ye,wYe,IYe,SYe,kYe,CYe,EYe,AYe,TYe,PYe,xYe,MYe,RYe,DYe,OYe,LYe,NYe,BYe,FYe,WYe,jYe,VYe,UYe,$Ye,zYe,qYe,HYe,GYe,KYe,JYe,XYe,YYe,QYe,ZYe,eQe,tQe,rQe,nQe,iQe,aQe,oQe,sQe,cQe,lQe,uQe,dQe,pQe,hQe,fQe,gQe,vQe,mQe,yQe,bQe,_Qe,wQe,IQe,SQe,kQe,CQe,EQe,AQe,TQe,PQe,xQe,MQe,RQe,DQe,OQe,LQe,NQe,BQe,FQe,WQe,jQe,VQe,UQe,$Qe,zQe,qQe,HQe,GQe,KQe,JQe,XQe,YQe,QQe,ZQe,eZe,tZe,rZe,nZe,iZe,aZe,oZe,sZe,cZe,lZe,uZe,dZe,pZe,hZe,fZe,gZe,vZe,mZe,yZe,bZe,_Ze,wZe,IZe,SZe,kZe,CZe,EZe,AZe,TZe,PZe,xZe,MZe,RZe,DZe,OZe,LZe,NZe,BZe,FZe,WZe,jZe,VZe,UZe,$Ze,zZe,qZe,HZe,GZe,KZe,JZe,XZe,YZe,QZe,ZZe,e0e,t0e,r0e,n0e,i0e,a0e,o0e,s0e,c0e,l0e,u0e,d0e,p0e,h0e,f0e,g0e,v0e,m0e,y0e,b0e,_0e,w0e,I0e,S0e,k0e,C0e,E0e,A0e,T0e,P0e,x0e,M0e,R0e,D0e,O0e,L0e,N0e,B0e,F0e,W0e,j0e,V0e,U0e,$0e,z0e,q0e,H0e,G0e,K0e,J0e,X0e,Y0e,Q0e,Z0e,e1e,t1e,r1e,n1e,i1e,a1e,o1e,s1e,c1e,l1e,u1e,d1e,p1e,h1e,f1e,g1e,v1e,m1e,y1e,b1e;z.isIsolateContext||k.hijack();var{setStorage:_1e,setStorageSync:w1e,plugin_setStorage:I1e,plugin_setStorageSync:S1e,batchSetStorage:k1e,batchSetStorageSync:C1e,plugin_batchSetStorage:E1e,plugin_batchSetStorageSync:A1e,getStorage:T1e,getStorageSync:P1e,plugin_getStorage:x1e,plugin_getStorageSync:M1e,batchGetStorage:R1e,batchGetStorageSync:D1e,plugin_batchGetStorage:O1e,plugin_batchGetStorageSync:L1e,getStorageInfo:N1e,getStorageInfoSync:B1e,plugin_getStorageInfo:F1e,plugin_getStorageInfoSync:W1e,removeStorage:j1e,removeStorageSync:V1e,plugin_removeStorage:U1e,plugin_removeStorageSync:$1e,clearStorage:z1e,clearStorageSync:q1e,plugin_clearStorage:H1e,plugin_clearStorageSync:G1e}=d0;FCe(eval),Fbe(),Ok(),_Ie(),wIe(),vp(),gM(),Lbe();var K1e=R_.connectSocket,J1e=R_.closeSocket,X1e=R_.sendSocketMessage,Y1e=R_.onSocketOpen,Q1e=R_.onSocketClose,Z1e=R_.onSocketMessage,e3e=R_.onSocketError,t3e=TM,r3e=xM,n3e=MM,i3e=DM,a3e=OM,o3e=LM,s3e=BM,c3e=OY,l3e=LY,u3e=uY,d3e=dY,p3e=pY,h3e=hY,f3e=SY,g3e=kY,v3e=CY,m3e=EY,y3e=IY,b3e=GY,_3e=KY,w3e=JY,I3e=XY,S3e=YY,k3e=ZY,C3e=eQ,E3e=tQ,A3e=Gne,T3e=Jne,P3e=Xne,x3e=Qne,M3e=eie,R3e=aie,D3e=Zne,O3e=tie,L3e=oie,N3e=sie,B3e=lie,F3e=uie,W3e=pie,j3e=hie,V3e=Xme,U3e=Jme,$3e=r1,z3e=s1,q3e=c1,H3e=yF,G3e=u1,K3e=l1,J3e=d1,X3e=h1,Y3e=f1,Q3e=g1,Z3e=gO,e2e=vO,t2e=v1,r2e=m1,n2e=y1,i2e=b1,a2e=_1,o2e=w1,s2e=I1,c2e=rE,l2e=nE,u2e=aE,d2e=oE,p2e=ZC,h2e=sE,f2e=cE,g2e=ZH,v2e=eG,m2e=tG,y2e=aG,b2e=oG,_2e=cG,w2e=lG,I2e=uG,S2e=Tx,k2e=xx,C2e=Mx,E2e=Lx,A2e=Bx,T2e=Ux,P2e=$M,x2e=Wx,M2e=jx,R2e=SZ,D2e=kZ,O2e=CZ,L2e=EZ,N2e={};function B2e(e){var t;return()=>t=t||e()}var F2e=(NTe=RSe(),BTe=BSe(),FTe=HSe(),WTe=eke(),jTe=Ike(),VTe=wke(),UTe=WSe(.05),$Te=$Se(),zTe=WSe(.05),qTe=WSe(.05),HTe=WSe(.05),GTe=WSe(.05),KTe=$Se(),JTe=WSe(.05),XTe=WSe(.05),YTe=WSe(.05),QTe=WSe(.05),ZTe=$Se(),ePe=WSe(.05),tPe=WSe(.05),rPe=WSe(.05),nPe=WSe(.05),iPe=$Se(),aPe=WSe(.05),oPe=WSe(.05),sPe=WSe(.05),cPe=WSe(.05),lPe=$Se(),uPe=WSe(.05),dPe=WSe(.05),pPe=WSe(.05),hPe=WSe(.05),fPe=$Se(),gPe=WSe(.05),vPe=WSe(.05),mPe=WSe(.05),yPe=WSe(.05),bPe=$Se(),_Pe=WSe(.05),wPe=WSe(.05),IPe=WSe(.05),SPe=WSe(.05),kPe=WSe(.05),CPe=WSe(.05),EPe=WSe(.05),APe=$Se(),TPe=WSe(.05),PPe=$Se(),xPe=WSe(.05),MPe=$Se(),RPe=WSe(.05),DPe=WSe(.05),OPe=WSe(.05),LPe=$Se(),NPe=XSe(),BPe=WSe(.05),FPe=WSe(.05),WPe=$Se(),jPe=WSe(.05),VPe=$Se(),UPe=WSe(.05),$Pe=$Se(),zPe=WSe(.05),qPe=WSe(.05),HPe=WSe(.05),GPe=WSe(.05),KPe=WSe(.05),JPe=WSe(.05),XPe=WSe(.05),YPe=WSe(.05),QPe=WSe(.05),ZPe=WSe(.05),exe=$Se(),txe=WSe(.05),rxe=$Se(),nxe=WSe(.05),ixe=$Se(),axe=WSe(.05),oxe=$Se(),sxe=WSe(.05),cxe=WSe(.05),lxe=$Se(),uxe=WSe(.05),dxe=WSe(.05),pxe=WSe(.05),hxe=WSe(.05),fxe=WSe(.05),gxe=WSe(.05),vxe=$Se(),mxe=WSe(.05),yxe=$Se(),bxe=WSe(.05),_xe=$Se(),wxe=WSe(.05),Ixe=WSe(.05),Sxe=WSe(.05),kxe=$Se(),Cxe=WSe(.05),Exe=WSe(.05),Axe=$Se(),Txe=WSe(.05),Pxe=$Se(),xxe=WSe(.05),Mxe=$Se(),Rxe=WSe(.05),Dxe=$Se(),Oxe=WSe(.05),Lxe=$Se(),Nxe=WSe(.05),Bxe=ike(),Fxe=$Se(),Wxe=WSe(.05),jxe=WSe(.05),Vxe=WSe(.05),Uxe=WSe(.05),$xe=WSe(.05),zxe=WSe(.05),qxe=WSe(.05),Hxe=WSe(.05),Gxe=WSe(.05),Kxe=$Se(),Jxe=WSe(.05),Xxe=WSe(.05),Yxe=WSe(.05),Qxe=WSe(.05),Zxe=$Se(),eMe=nke("permission"),tMe=WSe(.05),rMe=$Se(),nMe=nke("permission"),iMe=WSe(.05),aMe=WSe(.05),oMe=$Se(),sMe=WSe(.05),cMe=$Se(),lMe=WSe(.05),uMe=WSe(.05),dMe=WSe(.05),pMe=WSe(.05),hMe=WSe(.05),fMe=$Se(),gMe=WSe(.05),vMe=$Se(),mMe=XSe(),yMe=WSe(.05),bMe=WSe(.05),_Me=WSe(.05),wMe=WSe(.05),IMe=WSe(.05),SMe=WSe(.05),kMe=$Se(),CMe=WSe(.05),EMe=WSe(.05),AMe=WSe(.05),TMe=$Se(),PMe=WSe(.05),xMe=WSe(.05),MMe=WSe(.05),RMe=$Se(),DMe=WSe(.05),OMe=$Se(),LMe=WSe(.05),NMe=WSe(.05),BMe=WSe(.05),FMe=WSe(.05),WMe=WSe(.05),jMe=$Se(),VMe=WSe(.05),UMe=$Se(),$Me=WSe(.05),zMe=$Se(),qMe=WSe(.05),HMe=$Se(),GMe=WSe(.05),KMe=$Se(),JMe=WSe(.05),XMe=$Se(),YMe=WSe(.05),QMe=$Se(),ZMe=WSe(.05),eRe=$Se(),tRe=WSe(.05),rRe=$Se(),nRe=WSe(.05),iRe=WSe(.05),aRe=$Se(),oRe=WSe(.05),sRe=$Se(),cRe=WSe(.05),lRe=$Se(),uRe=WSe(.05),dRe=WSe(.05),pRe=WSe(.05),hRe=WSe(.05),fRe=$Se(),gRe=WSe(.05),vRe=$Se(),mRe=WSe(.05),yRe=$Se(),bRe=WSe(.05),_Re=$Se(),wRe=WSe(.05),IRe=WSe(.05),SRe=WSe(.05),kRe=WSe(.05),CRe=WSe(.05),ERe=WSe(.05),ARe=WSe(.05),TRe=WSe(.05),PRe=WSe(.05),xRe=$Se(),MRe=WSe(.05),RRe=$Se(),DRe=WSe(.05),ORe=$Se(),LRe=WSe(.05),NRe=$Se(),BRe=WSe(.05),FRe=$Se(),WRe=WSe(.05),jRe=$Se(),VRe=WSe(.05),URe=WSe(.05),$Re=WSe(.05),zRe=WSe(.05),qRe=$Se(),HRe=WSe(.05),GRe=WSe(.05),KRe=nke("permission"),JRe=nke("permission"),XRe=WSe(.05),YRe=$Se(),QRe=WSe(.05),ZRe=$Se(),eDe=WSe(.05),tDe=$Se(),rDe=WSe(.05),nDe=$Se(),iDe=WSe(.05),aDe=$Se(),oDe=WSe(.05),sDe=$Se(),cDe=WSe(.05),lDe=WSe(.05),uDe=WSe(.05),dDe=$Se(),pDe=WSe(.05),hDe=$Se(),fDe=WSe(.05),gDe=$Se(),vDe=WSe(.05),mDe=$Se(),yDe=WSe(.05),bDe=$Se(),_De=WSe(.05),wDe=$Se(),IDe=WSe(.05),SDe=$Se(),kDe=WSe(.05),CDe=$Se(),EDe=WSe(.05),ADe=$Se(),TDe=WSe(.05),PDe=$Se(),xDe=WSe(.05),MDe=$Se(),RDe=WSe(.05),DDe=WSe(.05),ODe=WSe(.05),LDe=$Se(),NDe=WSe(.05),BDe=$Se(),FDe=WSe(.05),WDe=$Se(),jDe=WSe(.05),VDe=$Se(),UDe=WSe(.05),$De=$Se(),zDe=WSe(.05),qDe=WSe(.05),HDe=WSe(.05),GDe=WSe(.05),KDe=$Se(),JDe=WSe(.05),XDe=$Se(),YDe=WSe(.05),QDe=$Se(),ZDe=WSe(.05),eOe=WSe(.05),tOe=WSe(.05),rOe=WSe(.05),nOe=WSe(.05),iOe=WSe(.05),aOe=WSe(.05),oOe=WSe(.05),sOe=WSe(.05),cOe=WSe(.05),lOe=WSe(.05),uOe=$Se(),dOe=WSe(.05),pOe=$Se(),hOe=WSe(.05),fOe=$Se(),gOe=WSe(.05),vOe=WSe(.05),mOe=WSe(.05),yOe=WSe(.05),bOe=WSe(.05),_Oe=$Se(),wOe=WSe(.05),IOe=$Se(),SOe=WSe(.05),kOe=$Se(),COe=WSe(.05),EOe=$Se(),AOe=WSe(.05),TOe=$Se(),POe=WSe(.05),xOe=WSe(.05),MOe=$Se(),ROe=WSe(.05),DOe=WSe(.05),OOe=WSe(.05),LOe=WSe(.05),NOe=WSe(.05),BOe=WSe(.05),FOe=WSe(.05),WOe=WSe(.05),jOe=$Se(),VOe=WSe(.05),UOe=$Se(),$Oe=WSe(.05),zOe=$Se(),qOe=WSe(.05),HOe=$Se(),GOe=WSe(.05),KOe=WSe(.05),JOe=WSe(.05),XOe=WSe(.05),YOe=$Se(),QOe=WSe(.05),ZOe=$Se(),eLe=WSe(.05),tLe=WSe(.05),rLe=WSe(.05),nLe=WSe(.05),iLe=WSe(.05),aLe=WSe(.05),oLe=WSe(.05),sLe=WSe(.05),cLe=WSe(.05),lLe=WSe(.05),uLe=$Se(),dLe=WSe(.05),pLe=$Se(),hLe=WSe(.05),fLe=$Se(),gLe=WSe(.05),vLe=$Se(),mLe=WSe(.05),yLe=$Se(),bLe=WSe(.05),_Le=WSe(.05),wLe=WSe(.05),ILe=WSe(.05),SLe=WSe(.05),kLe=WSe(.05),CLe=WSe(.05),ELe=WSe(.05),ALe=WSe(.05),TLe=WSe(.05),PLe=WSe(.05),xLe=WSe(.05),MLe=WSe(.05),RLe=WSe(.05),DLe=$Se(),OLe=WSe(.05),LLe=WSe(.05),NLe=$Se(),BLe=WSe(.05),FLe=$Se(),WLe=WSe(.05),jLe=WSe(.05),VLe=WSe(.05),ULe=$Se(),$Le=WSe(.05),zLe=$Se(),qLe=WSe(.05),HLe=WSe(.05),GLe=WSe(.05),KLe=WSe(.05),JLe=WSe(.05),XLe=WSe(.05),YLe=WSe(.05),QLe=WSe(.05),ZLe=WSe(.05),eNe=WSe(.05),tNe=WSe(.05),rNe=WSe(.05),nNe=WSe(.05),iNe=WSe(.05),aNe=WSe(.05),oNe=WSe(.05),sNe=WSe(.05),cNe=WSe(.05),lNe=WSe(.05),uNe=$Se(),dNe=WSe(.05),pNe=$Se(),hNe=WSe(.05),fNe=$Se(),gNe=WSe(.05),vNe=$Se(),mNe=WSe(.05),yNe=$Se(),bNe=WSe(.05),_Ne=WSe(.05),wNe=WSe(.05),INe=$Se(),SNe=WSe(.05),kNe=$Se(),CNe=WSe(.05),ENe=$Se(),ANe=WSe(.05),TNe=$Se(),PNe=WSe(.05),xNe=$Se(),MNe=WSe(.05),RNe=WSe(.05),DNe=$Se(),ONe=WSe(.05),LNe=$Se(),NNe=WSe(.05),BNe=$Se(),FNe=WSe(.05),WNe=$Se(),jNe=WSe(.05),VNe=$Se(),UNe=WSe(.05),$Ne=WSe(.05),zNe=WSe(.05),qNe=WSe(.05),HNe=WSe(.05),GNe=WSe(.05),KNe=nke("declare"),JNe=WSe(.05),XNe=$Se(),YNe=nke("declare"),QNe=WSe(.05),ZNe=WSe(.05),eBe=$Se(),tBe=nke("declare"),rBe=WSe(.05),nBe=$Se(),iBe=nke("declare"),aBe=WSe(.05),oBe=$Se(),sBe=nke("declare"),cBe=WSe(.05),lBe=WSe(.05),uBe=WSe(.05),dBe=WSe(.05),pBe=nke("declare"),hBe=WSe(.05),fBe=$Se(),gBe=nke("declare"),vBe=WSe(.05),mBe=$Se(),yBe=WSe(.05),bBe=$Se(),_Be=WSe(.05),wBe=$Se(),IBe=WSe(.05),SBe=WSe(.05),kBe=WSe(.05),CBe=WSe(.05),EBe=WSe(.05),ABe=$Se(),TBe=WSe(.05),PBe=WSe(.05),xBe=WSe(.05),MBe=$Se(),RBe=WSe(.05),DBe=$Se(),OBe=WSe(.05),LBe=WSe(.05),NBe=WSe(.05),BBe=WSe(.05),FBe=WSe(.05),WBe=WSe(.05),jBe=WSe(.05),VBe=$Se(),UBe=WSe(.05),$Be=WSe(.05),zBe=$Se(),qBe=WSe(.05),HBe=$Se(),GBe=WSe(.05),KBe=WSe(.05),JBe=WSe(.05),XBe=$Se(),YBe=WSe(.05),QBe=$Se(),ZBe=WSe(.05),eFe=WSe(.05),tFe=WSe(.05),rFe=$Se(),nFe=WSe(.05),iFe=$Se(),aFe=WSe(.05),oFe=WSe(.05),sFe=WSe(.05),cFe=$Se(),lFe=WSe(.05),uFe=$Se(),dFe=WSe(.05),pFe=WSe(.05),hFe=WSe(.05),fFe=$Se(),gFe=WSe(.05),vFe=$Se(),mFe=WSe(.05),yFe=$Se(),bFe=WSe(.05),_Fe=$Se(),wFe=nke("permission"),IFe=WSe(.05),SFe=WSe(.05),kFe=WSe(.05),CFe=WSe(.05),EFe=$Se(),AFe=WSe(.05),TFe=$Se(),PFe=WSe(.05),xFe=$Se(),MFe=WSe(.05),RFe=$Se(),DFe=WSe(.05),OFe=$Se(),LFe=WSe(.05),NFe=WSe(.05),BFe=WSe(.05),FFe=WSe(.05),WFe=$Se(),jFe=WSe(.05),VFe=$Se(),UFe=WSe(.05),$Fe=$Se(),zFe=WSe(.05),qFe=WSe(.05),HFe=WSe(.05),GFe=WSe(.05),KFe=WSe(.05),JFe=WSe(.05),XFe=WSe(.05),YFe=$Se(),QFe=WSe(.05),ZFe=WSe(.05),eWe=WSe(.05),tWe=WSe(.05),rWe=WSe(.05),nWe=$Se(),iWe=WSe(.05),aWe=$Se(),oWe=WSe(.05),sWe=$Se(),cWe=WSe(.05),lWe=$Se(),uWe=WSe(.05),dWe=ike(),pWe=$Se(),hWe=XSe(),fWe=WSe(.05),gWe=WSe(.05),vWe=ike(),mWe=$Se(),yWe=WSe(.05),bWe=$Se(),_We=WSe(.05),wWe=$Se(),IWe=XSe(),SWe=WSe(.05),kWe=$Se(),CWe=XSe(),EWe=WSe(.05),AWe=$Se(),TWe=WSe(.05),PWe=WSe(.05),xWe=WSe(.05),MWe=WSe(.05),RWe=WSe(.05),DWe=WSe(.05),OWe=WSe(.05),LWe=WSe(.05),NWe=WSe(.05),BWe=WSe(.05),FWe=WSe(.05),WWe=WSe(.05),jWe=WSe(.05),VWe=WSe(.05),UWe=WSe(.05),$We=WSe(.05),zWe=$Se(),qWe=WSe(.05),HWe=WSe(.05),GWe=WSe(.05),KWe=WSe(.05),JWe=WSe(.05),XWe=WSe(.05),YWe=WSe(.05),QWe=WSe(.05),ZWe=$Se(),eje=WSe(.05),tje=WSe(.05),rje=$Se(),nje=WSe(.05),ije=WSe(.05),aje=WSe(.05),oje=WSe(.05),sje=WSe(.05),cje=WSe(.05),lje=WSe(.05),uje=WSe(.05),dje=WSe(.05),pje=WSe(.05),hje=WSe(.05),fje=WSe(.05),gje=WSe(.05),vje=$Se(),mje=WSe(.05),yje=$Se(),bje=WSe(.05),_je=WSe(.05),wje=WSe(.05),Ije=WSe(.05),Sje=WSe(.05),kje=WSe(.05),Cje=WSe(.05),Eje=$Se(),Aje=WSe(.05),Tje=$Se(),Pje=WSe(.05),xje=WSe(.05),Mje=WSe(.05),Rje=WSe(.05),Dje=$Se(),Oje=WSe(.05),Lje=WSe(.05),Nje=$Se(),Bje=nke("permission"),Fje=nke("declare"),Wje=WSe(.05),jje=$Se(),Vje=WSe(.05),Uje=$Se(),$je=WSe(.05),zje=$Se(),qje=WSe(.05),Hje=$Se(),Gje=WSe(.05),Kje=$Se(),Jje=WSe(.05),Xje=$Se(),Yje=WSe(.05),Qje=$Se(),Zje=WSe(.05),eVe=WSe(.05),tVe=WSe(.05),rVe=WSe(.05),nVe=WSe(.05),iVe=$Se(),aVe=WSe(.05),oVe=$Se(),sVe=WSe(.05),cVe=$Se(),lVe=WSe(.05),uVe=WSe(.05),dVe=WSe(.05),pVe=WSe(.05),hVe=WSe(.05),fVe=WSe(.05),gVe=WSe(.05),vVe=WSe(.05),mVe=WSe(.05),yVe=WSe(.05),bVe=WSe(.05),_Ve=WSe(.05),wVe=WSe(.05),IVe=WSe(.05),SVe=WSe(.05),kVe=WSe(.05),CVe=WSe(.05),EVe=$Se(),AVe=WSe(.05),TVe=WSe(.05),PVe=WSe(.05),xVe=WSe(.05),MVe=WSe(.05),RVe=$Se(),DVe=WSe(.05),OVe=WSe(.05),LVe=WSe(.05),NVe=WSe(.05),BVe=WSe(.05),FVe=$Se(),WVe=WSe(.05),jVe=WSe(.05),VVe=WSe(.05),UVe=WSe(.05),$Ve=$Se(),zVe=WSe(.05),qVe=$Se(),HVe=WSe(.05),GVe=$Se(),KVe=WSe(.05),JVe=$Se(),XVe=WSe(.05),YVe=$Se(),QVe=WSe(.05),ZVe=$Se(),eUe=WSe(.05),tUe=WSe(.05),rUe=WSe(.05),nUe=WSe(.05),iUe=$Se(),aUe=WSe(.05),oUe=$Se(),sUe=WSe(.05),cUe=WSe(.05),lUe=WSe(.05),uUe=WSe(.05),dUe=WSe(.05),pUe=WSe(.05),hUe=WSe(.05),fUe=WSe(.05),gUe=WSe(.05),vUe=WSe(.05),mUe=WSe(.05),yUe=WSe(.05),bUe=$Se(),_Ue=WSe(.05),wUe=WSe(.05),IUe=WSe(.05),SUe=WSe(.05),kUe=WSe(.05),CUe=WSe(.05),EUe=WSe(.05),AUe=WSe(.05),TUe=WSe(.05),PUe=WSe(.05),xUe=WSe(.05),MUe=WSe(.05),RUe=WSe(.05),DUe=WSe(.05),OUe=WSe(.05),LUe=WSe(.05),NUe=WSe(.05),BUe=WSe(.05),FUe=WSe(.05),WUe=WSe(.05),jUe=WSe(.05),VUe=WSe(.05),UUe=WSe(.05),$Ue=WSe(.05),zUe=WSe(.05),qUe=WSe(.05),HUe=WSe(.05),GUe=WSe(.05),KUe=WSe(.05),JUe=WSe(.05),XUe=WSe(.05),YUe=jCe("function"),QUe=WSe(.05),ZUe=WSe(.05),e$e=WSe(.05),t$e=WSe(.05),r$e=WSe(.05),n$e=WSe(.05),i$e=WSe(.05),a$e=WSe(.05),o$e=WSe(.05),s$e=WSe(.05),c$e=WSe(.05),l$e=WSe(.05),u$e=WSe(.05),d$e=WSe(.05),p$e=WSe(.05),h$e=WSe(.05),f$e=WSe(.05),g$e=WSe(.05),v$e=WSe(.05),m$e=WSe(.05),y$e=WSe(.05),b$e=WSe(.05),_$e=WSe(.05),w$e=WSe(.05),I$e=WSe(.05),S$e=WSe(.05),k$e=$Se(),C$e=WSe(.05),E$e=WSe(.05),A$e=WSe(.05),T$e=WSe(.05),P$e=WSe(.05),x$e=WSe(.05),M$e=WSe(.05),R$e=WSe(.05),D$e=WSe(.05),O$e=$Se(),L$e=WSe(.05),N$e=WSe(.05),B$e=WSe(.05),F$e=WSe(.05),W$e=WSe(.05),j$e=WSe(0),V$e=WSe(0),U$e=WSe(.05,"serviceMarket"),$$e=tke((()=>B2e((()=>pe?__cloudSDKMain__.getServiceMarketAPI():il.getServiceMarketAPI()))())),z$e=WSe(.05,"cloud"),q$e=tke((()=>B2e((()=>pe?__cloudSDKMain__.getCloudAPI():il.getCloudAPI()))())),H$e=WSe(1),G$e=WSe(.05),K$e=WSe(.05),J$e=WSe(.05),X$e=WSe(.05),Y$e=WSe(.05),Q$e=WSe(.05),Z$e=WSe(.05),eze=WSe(.05),tze=WSe(.05),rze=WSe(.05),nze=WSe(.05),ize=WSe(.05),aze=WSe(.05),oze=WSe(.05),sze=WSe(.05),cze=WSe(.05),OSe(lze=NTe(lze=BTe(lze=FTe(lze=WTe(lze=jTe(lze=VTe((uze=class{constructor(){N()(this,"setStorage",dze,this),N()(this,"setStorageSync",pze,this),N()(this,"plugin_setStorage",hze,this),N()(this,"plugin_setStorageSync",fze,this),N()(this,"batchSetStorage",gze,this),N()(this,"batchSetStorageSync",vze,this),N()(this,"plugin_batchSetStorage",mze,this),N()(this,"plugin_batchSetStorageSync",yze,this),N()(this,"getStorage",bze,this),N()(this,"getStorageSync",_ze,this),N()(this,"plugin_getStorage",wze,this),N()(this,"plugin_getStorageSync",Ize,this),N()(this,"batchGetStorage",Sze,this),N()(this,"batchGetStorageSync",kze,this),N()(this,"plugin_batchGetStorage",Cze,this),N()(this,"plugin_batchGetStorageSync",Eze,this),N()(this,"getStorageInfo",Aze,this),N()(this,"getStorageInfoSync",Tze,this),N()(this,"plugin_getStorageInfo",Pze,this),N()(this,"plugin_getStorageInfoSync",xze,this),N()(this,"removeStorage",Mze,this),N()(this,"removeStorageSync",Rze,this),N()(this,"plugin_removeStorage",Dze,this),N()(this,"plugin_removeStorageSync",Oze,this),N()(this,"clearStorage",Lze,this),N()(this,"clearStorageSync",Nze,this),N()(this,"plugin_clearStorage",Bze,this),N()(this,"plugin_clearStorageSync",Fze,this),N()(this,"drawCanvas",Wze,this),N()(this,"createContext",jze,this),N()(this,"createCanvasContext",Vze,this),N()(this,"canvasToTempFilePath",Uze,this),N()(this,"canvasGetImageData",$ze,this),N()(this,"canvasPutImageData",zze,this),N()(this,"createOffscreenCanvas",qze,this),N()(this,"getAccountInfoSync",Hze,this),N()(this,"getShareInfo",Gze,this),N()(this,"authPrivateMessage",Kze,this),N()(this,"pageScrollTo",Jze,this),N()(this,"chooseInvoiceTitle",Xze,this),N()(this,"chooseInvoice",Yze,this),N()(this,"openCustomerServiceChat",Qze,this),N()(this,"onPageReload",Zze,this),N()(this,"createAudioContext",eqe,this),N()(this,"createVideoContext",tqe,this),N()(this,"createMapContext",rqe,this),N()(this,"createLivePlayerContext",nqe,this),N()(this,"getPassiveEvent",iqe,this),N()(this,"arrayBufferToBase64",aqe,this),N()(this,"base64ToArrayBuffer",oqe,this),N()(this,"openSetting",sqe,this),N()(this,"getExtConfig",cqe,this),N()(this,"chooseMedia",lqe,this),N()(this,"previewMedia",uqe,this),N()(this,"chooseMultiMedia",dqe,this),N()(this,"chooseMessageFile",pqe,this),N()(this,"chooseWeChatContact",hqe,this),N()(this,"uploadEncryptedFileToCDN",fqe,this),N()(this,"onUploadEncryptedFileToCDNProgress",gqe,this),N()(this,"uploadToCommonCDN",vqe,this),N()(this,"getExtConfigSync",mqe,this),N()(this,"showShareMenu",yqe,this),N()(this,"hideShareMenu",bqe,this),N()(this,"updateShareMenu",_qe,this),N()(this,"shareAppMessageForFakeNative",wqe,this),N()(this,"openUrl",Iqe,this),N()(this,"setNavigationBarColor",Sqe,this),N()(this,"setNavigationBarAlpha",kqe,this),N()(this,"showShareImageMenu",Cqe,this),N()(this,"shareFileMessage",Eqe,this),N()(this,"shareVideoMessage",Aqe,this),N()(this,"vibrateShort",Tqe,this),N()(this,"vibrateLong",Pqe,this),N()(this,"getSetting",xqe,this),N()(this,"checkIsSupportFacialRecognition",Mqe,this),N()(this,"startFacialRecognitionVerify",Rqe,this),N()(this,"startFacialRecognitionVerifyAndUploadVideo",Dqe,this),N()(this,"startCustomFacialRecognitionVerify",Oqe,this),N()(this,"startCustomFacialRecognitionVerifyAndUploadVideo",Lqe,this),N()(this,"sendBizRedPacket",Nqe,this),N()(this,"sendGoldenRedPacket",Bqe,this),N()(this,"openGoldenRedPacketDetail",Fqe,this),N()(this,"showRedPackage",Wqe,this),N()(this,"jumpRedPacketEnvelopePreview",jqe,this),N()(this,"quickSendRedPacket",Vqe,this),N()(this,"sendRedCoverAppMsg",Uqe,this),N()(this,"addPhoneContact",$qe,this),N()(this,"quicklyAddBrandContact",zqe,this),N()(this,"searchContacts",qqe,this),N()(this,"privateSearchContacts",Hqe,this),N()(this,"sendSms",Gqe,this),N()(this,"setScreenBrightness",Kqe,this),N()(this,"getScreenBrightness",Jqe,this),N()(this,"setVisualEffectOnCapture",Xqe,this),N()(this,"onScreenRecordingStateChanged",Yqe,this),N()(this,"offScreenRecordingStateChanged",Qqe,this),N()(this,"getScreenRecordingState",Zqe,this),N()(this,"shareToWeRun",eHe,this),N()(this,"getWeRunData",tHe,this),N()(this,"uploadWeRunData",rHe,this),N()(this,"addWeRunData",nHe,this),N()(this,"canIUse",iHe,this),N()(this,"setPageStyle",aHe,this),N()(this,"triggerGettingWidgetData",oHe,this),N()(this,"navigateToMiniProgram",sHe,this),N()(this,"navigateToMiniProgramDirectly",cHe,this),N()(this,"navigateToDevMiniProgram",lHe,this),N()(this,"navigateBackMiniProgram",uHe,this),N()(this,"launchMiniProgram",dHe,this),N()(this,"launchDevMiniProgram",pHe,this),N()(this,"exitMiniProgram",hHe,this),N()(this,"openEmbeddedMiniProgram",fHe,this),N()(this,"launchApplicationDirectly",gHe,this),N()(this,"launchApplicationForNative",vHe,this),N()(this,"setNavigationBarRightButton",mHe,this),N()(this,"onTapNavigationBarRightButton",yHe,this),N()(this,"setTopBarText",bHe,this),N()(this,"setTabBarBadge",_He,this),N()(this,"removeTabBarBadge",wHe,this),N()(this,"showTabBarRedDot",IHe,this),N()(this,"hideTabBarRedDot",SHe,this),N()(this,"showTabBar",kHe,this),N()(this,"hideTabBar",CHe,this),N()(this,"setTabBarStyle",EHe,this),N()(this,"setTabBarItem",AHe,this),N()(this,"getTabBarManager",THe,this),N()(this,"setBackgroundColor",PHe,this),N()(this,"setBackgroundTextStyle",xHe,this),N()(this,"setEnableDebug",MHe,this),N()(this,"captureScreen",RHe,this),N()(this,"onUserCaptureScreen",DHe,this),N()(this,"offUserCaptureScreen",OHe,this),N()(this,"setKeepScreenOn",LHe,this),N()(this,"checkIsSupportSoterAuthentication",NHe,this),N()(this,"startSoterAuthentication",BHe,this),N()(this,"checkIsSoterEnrolledInDevice",FHe,this),N()(this,"openDeliveryList",WHe,this),N()(this,"navigateBackH5",jHe,this),N()(this,"openBusinessView",VHe,this),N()(this,"navigateBackApplication",UHe,this),N()(this,"navigateBackNative",$He,this),N()(this,"reportIDKey",zHe,this),N()(this,"reportKeyValue",qHe,this),N()(this,"setWindowSize",HHe,this),N()(this,"setNavigationBarTitle",GHe,this),N()(this,"showNavigationBarLoading",KHe,this),N()(this,"hideNavigationBarLoading",JHe,this),N()(this,"hideHomeButton",XHe,this),N()(this,"startPullDownRefresh",YHe,this),N()(this,"stopPullDownRefresh",QHe,this),N()(this,"operateWXData",ZHe,this),N()(this,"getOpenDeviceId",eGe,this),N()(this,"getMenuButtonBoundingClientRect",tGe,this),N()(this,"getSelectedTextRange",rGe,this),N()(this,"enableAlertBeforeUnload",nGe,this),N()(this,"disableAlertBeforeUnload",iGe,this),N()(this,"setNavigateBackInterception",aGe,this),N()(this,"stopNavigateBackInterception",oGe,this),N()(this,"makeBluetoothPair",sGe,this),N()(this,"isBluetoothDevicePaired",cGe,this),N()(this,"openBluetoothAdapter",lGe,this),N()(this,"openBluetoothAdapterBackground",uGe,this),N()(this,"closeBluetoothAdapter",dGe,this),N()(this,"getBluetoothAdapterState",pGe,this),N()(this,"onBluetoothAdapterStateChange",hGe,this),N()(this,"offBluetoothAdapterStateChange",fGe,this),N()(this,"startBluetoothDevicesDiscovery",gGe,this),N()(this,"stopBluetoothDevicesDiscovery",vGe,this),N()(this,"startMonitoringBluetoothDevice",mGe,this),N()(this,"stopMonitoringBluetoothDevice",yGe,this),N()(this,"getBluetoothDevices",bGe,this),N()(this,"getConnectedBluetoothDevices",_Ge,this),N()(this,"getMonitoredBluetoothDevices",wGe,this),N()(this,"createBLEConnection",IGe,this),N()(this,"setBLEMTU",SGe,this),N()(this,"setBluetoothBackgroundMode",kGe,this),N()(this,"getBLEMTU",CGe,this),N()(this,"onBLEMTUChange",EGe,this),N()(this,"offBLEMTUChange",AGe,this),N()(this,"closeBLEConnection",TGe,this),N()(this,"getBLEDeviceServices",PGe,this),N()(this,"getBLEDeviceRSSI",xGe,this),N()(this,"getBLEDeviceCharacteristics",MGe,this),N()(this,"createBLEPeripheralServer",RGe,this),N()(this,"onBLEPeripheralConnectionStateChanged",DGe,this),N()(this,"offBLEPeripheralConnectionStateChanged",OGe,this),N()(this,"notifyBLECharacteristicValueChanged",LGe,this),N()(this,"notifyBLECharacteristicValueChange",NGe,this),N()(this,"readBLECharacteristicValue",BGe,this),N()(this,"writeBLECharacteristicValue",FGe,this),N()(this,"onBluetoothDeviceFound",WGe,this),N()(this,"offBluetoothDeviceFound",jGe,this),N()(this,"onMonitoredBluetoothDeviceFound",VGe,this),N()(this,"offMonitoredBluetoothDeviceFound",UGe,this),N()(this,"onBLEConnectionStateChanged",$Ge,this),N()(this,"onBLEConnectionStateChange",zGe,this),N()(this,"onBLECharacteristicValueChange",qGe,this),N()(this,"offBLEConnectionStateChanged",HGe,this),N()(this,"offBLEConnectionStateChange",GGe,this),N()(this,"offBLECharacteristicValueChange",KGe,this),N()(this,"startBeaconDiscovery",JGe,this),N()(this,"stopBeaconDiscovery",XGe,this),N()(this,"getBeacons",YGe,this),N()(this,"onBeaconUpdate",QGe,this),N()(this,"offBeaconUpdate",ZGe,this),N()(this,"onBeaconServiceChange",eKe,this),N()(this,"offBeaconServiceChange",tKe,this),N()(this,"startWifi",rKe,this),N()(this,"stopWifi",nKe,this),N()(this,"getWifiList",iKe,this),N()(this,"getConnectedWifi",aKe,this),N()(this,"connectWifi",oKe,this),N()(this,"presetWifiList",sKe,this),N()(this,"setWifiList",cKe,this),N()(this,"onGetWifiList",lKe,this),N()(this,"onWifiConnected",uKe,this),N()(this,"onWifiConnectedWithPartialInfo",dKe,this),N()(this,"offGetWifiList",pKe,this),N()(this,"offWifiConnected",hKe,this),N()(this,"offWifiConnectedWithPartialInfo",fKe,this),N()(this,"onEvaluateWifi",gKe,this),N()(this,"getHCEState",vKe,this),N()(this,"startHCE",mKe,this),N()(this,"stopHCE",yKe,this),N()(this,"sendHCEMessage",bKe,this),N()(this,"onHCEMessage",_Ke,this),N()(this,"offHCEMessage",wKe,this),N()(this,"getNFCAdapter",IKe,this),N()(this,"startLocalServiceDiscovery",SKe,this),N()(this,"stopLocalServiceDiscovery",kKe,this),N()(this,"onLocalServiceFound",CKe,this),N()(this,"offLocalServiceFound",EKe,this),N()(this,"onLocalServiceLost",AKe,this),N()(this,"offLocalServiceLost",TKe,this),N()(this,"onLocalServiceDiscoveryStop",PKe,this),N()(this,"offLocalServiceDiscoveryStop",xKe,this),N()(this,"onLocalServiceResolveFail",MKe,this),N()(this,"offLocalServiceResolveFail",RKe,this),N()(this,"getLocalIPAddress",DKe,this),N()(this,"redirectTo",OKe,this),N()(this,"reLaunch",LKe,this),N()(this,"navigateTo",NKe,this),N()(this,"switchTab",BKe,this),N()(this,"navigateBack",FKe,this),N()(this,"onAppShow",WKe,this),N()(this,"offAppShow",jKe,this),N()(this,"onAppHide",VKe,this),N()(this,"offAppHide",UKe,this),N()(this,"onError",$Ke,this),N()(this,"offError",zKe,this),N()(this,"onUnhandledRejection",qKe,this),N()(this,"offUnhandledRejection",HKe,this),N()(this,"getLaunchOptionsSync",GKe,this),N()(this,"getEnterOptionsSync",KKe,this),N()(this,"onWindowResize",JKe,this),N()(this,"offWindowResize",XKe,this),N()(this,"setPageOrientation",YKe,this),N()(this,"getBackgroundFetchData",QKe,this),N()(this,"onBackgroundFetchData",ZKe,this),N()(this,"setBackgroundFetchToken",eJe,this),N()(this,"getBackgroundFetchToken",tJe,this),N()(this,"request",rJe,this),N()(this,"connectSocket",nJe,this),N()(this,"closeSocket",iJe,this),N()(this,"sendSocketMessage",aJe,this),N()(this,"onSocketOpen",oJe,this),N()(this,"onSocketClose",sJe,this),N()(this,"onSocketMessage",cJe,this),N()(this,"onSocketError",lJe,this),N()(this,"uploadFile",uJe,this),N()(this,"downloadFile",dJe,this),N()(this,"addNativeDownloadTask",pJe,this),N()(this,"downloadApp",hJe,this),N()(this,"installDownloadApp",fJe,this),N()(this,"getAppInstallState",gJe,this),N()(this,"queryDownloadAppTask",vJe,this),N()(this,"cancelDownloadAppTask",mJe,this),N()(this,"resumeDownloadAppTask",yJe,this),N()(this,"pauseDownloadAppTask",bJe,this),N()(this,"onDownloadAppStateChange",_Je,this),N()(this,"downloadAppForIOS",wJe,this),N()(this,"calRqt",IJe,this),N()(this,"secureTunnel",SJe,this),N()(this,"chooseImage",kJe,this),N()(this,"previewImage",CJe,this),N()(this,"getImageInfo",EJe,this),N()(this,"saveImageToPhotosAlbum",AJe,this),N()(this,"compressImage",TJe,this),N()(this,"editImage",PJe,this),N()(this,"cropImage",xJe,this),N()(this,"startRecord",MJe,this),N()(this,"stopRecord",RJe,this),N()(this,"playVoice",DJe,this),N()(this,"pauseVoice",OJe,this),N()(this,"stopVoice",LJe,this),N()(this,"onVoicePlayEnd",NJe,this),N()(this,"chooseVideo",BJe,this),N()(this,"saveVideoToPhotosAlbum",FJe,this),N()(this,"getVideoInfo",WJe,this),N()(this,"compressVideo",jJe,this),N()(this,"loadFontFace",VJe,this),N()(this,"createMediaContainer",UJe,this),N()(this,"createMediaRecorder",$Je,this),N()(this,"createVideoDecoder",zJe,this),N()(this,"openVideoEditor",qJe,this),N()(this,"createMediaAudioPlayer",HJe,this),N()(this,"createWebAudioContext",GJe,this),N()(this,"getLocation",KJe,this),N()(this,"getFuzzyLocation",JJe,this),N()(this,"openLocation",XJe,this),N()(this,"chooseLocation",YJe,this),N()(this,"choosePoi",QJe,this),N()(this,"onLocationChange",ZJe,this),N()(this,"offLocationChange",eXe,this),N()(this,"onLocationChangeError",tXe,this),N()(this,"offLocationChangeError",rXe,this),N()(this,"startLocationUpdateBackground",nXe,this),N()(this,"startLocationUpdate",iXe,this),N()(this,"stopLocationUpdate",aXe,this),N()(this,"getNetworkType",oXe,this),N()(this,"onNetworkStatusChange",sXe,this),N()(this,"offNetworkStatusChange",cXe,this),N()(this,"onNetworkWeakChange",lXe,this),N()(this,"offNetworkWeakChange",uXe,this),N()(this,"getSystemInfo",dXe,this),N()(this,"getSystemInfoSync",pXe,this),N()(this,"getSystemInfoAsync",hXe,this),N()(this,"openSystemBluetoothSetting",fXe,this),N()(this,"openAppAuthorizeSetting",gXe,this),N()(this,"getSystemSetting",vXe,this),N()(this,"getAppAuthorizeSetting",mXe,this),N()(this,"getDeviceInfo",yXe,this),N()(this,"getWindowInfo",bXe,this),N()(this,"getAppBaseInfo",_Xe,this),N()(this,"getRendererUserAgent",wXe,this),N()(this,"getBatteryInfo",IXe,this),N()(this,"getBatteryInfoSync",SXe,this),N()(this,"startAccelerometer",kXe,this),N()(this,"stopAccelerometer",CXe,this),N()(this,"onAccelerometerChange",EXe,this),N()(this,"offAccelerometerChange",AXe,this),N()(this,"startCompass",TXe,this),N()(this,"stopCompass",PXe,this),N()(this,"onCompassChange",xXe,this),N()(this,"offCompassChange",MXe,this),N()(this,"startDeviceMotionListening",RXe,this),N()(this,"stopDeviceMotionListening",DXe,this),N()(this,"onDeviceMotionChange",OXe,this),N()(this,"offDeviceMotionChange",LXe,this),N()(this,"startGyroscope",NXe,this),N()(this,"stopGyroscope",BXe,this),N()(this,"onGyroscopeChange",FXe,this),N()(this,"offGyroscopeChange",WXe,this),N()(this,"checkIsOpenAccessibility",jXe,this),N()(this,"addPhoneCalendar",VXe,this),N()(this,"addPhoneRepeatCalendar",UXe,this),N()(this,"getRandomValues",$Xe,this),N()(this,"getWebviewDebugInfo",zXe,this),N()(this,"reportAction",qXe,this),N()(this,"getBackgroundAudioManager",HXe,this),N()(this,"getRecorderManager",GXe,this),N()(this,"getBackgroundAudioPlayerState",KXe,this),N()(this,"playBackgroundAudio",JXe,this),N()(this,"pauseBackgroundAudio",XXe,this),N()(this,"seekBackgroundAudio",YXe,this),N()(this,"stopBackgroundAudio",QXe,this),N()(this,"onBackgroundAudioPlay",ZXe,this),N()(this,"onBackgroundAudioPause",eYe,this),N()(this,"onBackgroundAudioStop",tYe,this),N()(this,"joinVoIPChat",rYe,this),N()(this,"exitVoIPChat",nYe,this),N()(this,"updateVoIPChatMuteConfig",iYe,this),N()(this,"onVoIPChatMembersChanged",aYe,this),N()(this,"onVoIPChatSpeakersChanged",oYe,this),N()(this,"onVoIPChatInterrupted",sYe,this),N()(this,"offVoIPChatMembersChanged",cYe,this),N()(this,"offVoIPChatSpeakersChanged",lYe,this),N()(this,"offVoIPChatInterrupted",uYe,this),N()(this,"subscribeVoIPVideoMembers",dYe,this),N()(this,"onVoIPVideoMembersChanged",pYe,this),N()(this,"offVoIPVideoMembersChanged",hYe,this),N()(this,"onVoIPChatStateChanged",fYe,this),N()(this,"offVoIPChatStateChanged",gYe,this),N()(this,"join1v1Chat",vYe,this),N()(this,"setEnable1v1Chat",mYe,this),N()(this,"requestSubscribeMessage",yYe,this),N()(this,"requestSubscribeDeviceMessage",bYe,this),N()(this,"login",_Ye,this),N()(this,"logout",wYe,this),N()(this,"checkSession",IYe,this),N()(this,"authorize",SYe,this),N()(this,"getUserInfo",kYe,this),N()(this,"getUserProfile",CYe,this),N()(this,"requestPayment",EYe,this),N()(this,"verifyPaymentPassword",AYe,this),N()(this,"bindPaymentCard",TYe,this),N()(this,"requestPaymentToBank",PYe,this),N()(this,"requestVirtualPayment",xYe,this),N()(this,"openOfflinePayView",MYe,this),N()(this,"openWCPayCardList",RYe,this),N()(this,"requestMallPayment",DYe,this),N()(this,"setCurrentPaySpeech",OYe,this),N()(this,"loadPaySpeechDialectConfig",LYe,this),N()(this,"requestJointPayment",NYe,this),N()(this,"getWCPayOverseaPrepayRequest",BYe,this),N()(this,"requestH5Transaction",FYe,this),N()(this,"openWCPayOverseaPaymentReceive",WYe,this),N()(this,"handleWCPayOverseaWalletBuffer",jYe,this),N()(this,"requestVerifyUserIdentity",VYe,this),N()(this,"requestPersonalPay",UYe,this),N()(this,"phoneBindCardVerifySms",$Ye,this),N()(this,"faceVerifyForPay",zYe,this),N()(this,"openOfficialAccountProfile",qYe,this),N()(this,"openUserProfile",HYe,this),N()(this,"requestBizSplitBillPayment",GYe,this),N()(this,"openSelectPayment",KYe,this),N()(this,"requestEntrustAuthorization",JYe,this),N()(this,"requestFacetoFacePayment",XYe,this),N()(this,"requestQueryCashier",YYe,this),N()(this,"requestOrderPayment",QYe,this),N()(this,"checkBeforeAddOrder",ZYe,this),N()(this,"notifyWCPayResult",eQe,this),N()(this,"openMiniProgramProfile",tQe,this),N()(this,"openMiniProgramSearch",rQe,this),N()(this,"openMiniProgramHistoryList",nQe,this),N()(this,"openMiniProgramStarList",iQe,this),N()(this,"openMiniProgramAuthManageList",aQe,this),N()(this,"batchGetContactDirectly",oQe,this),N()(this,"preloadMiniProgramEnvDirectly",sQe,this),N()(this,"predownloadMiniProgramPackageDirectly",cQe,this),N()(this,"preventApplePayUI",lQe,this),N()(this,"getWxSecData",uQe,this),N()(this,"addCard",dQe,this),N()(this,"openCard",pQe,this),N()(this,"checkTrafficCardConditions",hQe,this),N()(this,"queryTrafficCardInfo",fQe,this),N()(this,"issueTrafficCard",gQe,this),N()(this,"rechargeTrafficCard",vQe,this),N()(this,"setDefaultTrafficCard",mQe,this),N()(this,"deleteTrafficCard",yQe,this),N()(this,"addFileToFavorites",bQe,this),N()(this,"addVideoToFavorites",_Qe,this),N()(this,"openChannelsCreateContact",wQe,this),N()(this,"getChannelsShareKey",IQe,this),N()(this,"openChannelsPostPage",SQe,this),N()(this,"scanCode",kQe,this),N()(this,"openQRCode",CQe,this),N()(this,"scanItem",EQe,this),N()(this,"privateScanItem",AQe,this),N()(this,"chooseAddress",TQe,this),N()(this,"openDocument",PQe,this),N()(this,"getFileSystemManager",xQe,this),N()(this,"saveFileToDisk",MQe,this),N()(this,"getABTestConfig",RQe,this),N()(this,"chooseContact",DQe,this),N()(this,"removeUserCloudStorage",OQe,this),N()(this,"setUserCloudStorage",LQe,this),N()(this,"makePhoneCall",NQe,this),N()(this,"makeVoIPCall",BQe,this),N()(this,"onAppRoute",FQe,this),N()(this,"onAppRouteDone",WQe,this),N()(this,"onAppEnterBackground",jQe,this),N()(this,"onAppEnterForeground",VQe,this),N()(this,"onAppUnhang",UQe,this),N()(this,"onPageNotFound",$Qe,this),N()(this,"offPageNotFound",zQe,this),N()(this,"onLazyLoadError",qQe,this),N()(this,"offLazyLoadError",HQe,this),N()(this,"onThemeChange",GQe,this),N()(this,"offThemeChange",KQe,this),N()(this,"onCopyUrl",JQe,this),N()(this,"offCopyUrl",XQe,this),N()(this,"createAnimation",YQe,this),N()(this,"createInnerAudioContext",QQe,this),N()(this,"getAvailableAudioSources",ZQe,this),N()(this,"onAudioInterruptionBegin",eZe,this),N()(this,"offAudioInterruptionBegin",tZe,this),N()(this,"onAudioInterruptionEnd",rZe,this),N()(this,"offAudioInterruptionEnd",nZe,this),N()(this,"setInnerAudioOption",iZe,this),N()(this,"createCameraContext",aZe,this),N()(this,"createLivePusherContext",oZe,this),N()(this,"onWebviewEvent",sZe,this),N()(this,"onNativeEvent",cZe,this),N()(this,"hideKeyboard",lZe,this),N()(this,"onKeyboardHeightChange",uZe,this),N()(this,"offKeyboardHeightChange",dZe,this),N()(this,"getPublicLibVersion",pZe,this),N()(this,"showModal",hZe,this),N()(this,"showToast",fZe,this),N()(this,"hideToast",gZe,this),N()(this,"showLoading",vZe,this),N()(this,"hideLoading",mZe,this),N()(this,"showActionSheet",yZe,this),N()(this,"showShareActionSheet",bZe,this),N()(this,"reportAnalytics",_Ze,this),N()(this,"reportMonitor",wZe,this),N()(this,"getClipboardData",IZe,this),N()(this,"setClipboardData",SZe,this),N()(this,"createSelectorQuery",kZe,this),N()(this,"createIntersectionObserver",CZe,this),N()(this,"createMediaQueryObserver",EZe,this),N()(this,"nextTick",AZe,this),N()(this,"updatePerfData",TZe,this),N()(this,"traceEvent",PZe,this),N()(this,"onMemoryWarning",xZe,this),N()(this,"offMemoryWarning",MZe,this),N()(this,"reportPerformance",RZe,this),N()(this,"getPerformance",DZe,this),N()(this,"getUpdateManager",OZe,this),N()(this,"updateWeChatApp",LZe,this),N()(this,"getPluginUpdateManager",NZe,this),N()(this,"createWorker",BZe,this),N()(this,"voiceSplitJoint",FZe,this),N()(this,"uploadSilkVoice",WZe,this),N()(this,"downloadSilkVoice",jZe,this),N()(this,"getResPath",VZe,this),N()(this,"setResPath",UZe,this),N()(this,"setCookies",$Ze,this),N()(this,"getCookies",zZe,this),N()(this,"faceDetect",qZe,this),N()(this,"initFaceDetect",HZe,this),N()(this,"stopFaceDetect",GZe,this),N()(this,"createBufferURL",KZe,this),N()(this,"revokeBufferURL",JZe,this),N()(this,"createSignal",XZe,this),N()(this,"bindGroup",YZe,this),N()(this,"joinGroup",QZe,this),N()(this,"getLabInfo",ZZe,this),N()(this,"setLabInfo",e0e,this),N()(this,"createUDPSocket",t0e,this),N()(this,"createTCPSocket",r0e,this),N()(this,"env",n0e,this),N()(this,"error",i0e,this),N()(this,"isSystemError",a0e,this),N()(this,"isSDKError",o0e,this),N()(this,"isThirdError",s0e,this),N()(this,"createRewardedVideoAd",c0e,this),N()(this,"createInterstitialAd",l0e,this),N()(this,"createCustomAd",u0e,this),N()(this,"preloadVideoAd",d0e,this),N()(this,"preloadAd",p0e,this),N()(this,"getLogManager",h0e,this),N()(this,"getRealtimeLogManager",f0e,this),N()(this,"getExptInfo",g0e,this),N()(this,"getExptInfoSync",v0e,this),N()(this,"reportEvent",m0e,this),N()(this,"reportStableEvent",y0e,this),N()(this,"getChannelsLiveInfo",b0e,this),N()(this,"getChannelsLiveState",_0e,this),N()(this,"getChannelsLiveReservation",w0e,this),N()(this,"getChannelsLiveNoticeInfo",I0e,this),N()(this,"openChannelsLive",S0e,this),N()(this,"openChannelsActivity",k0e,this),N()(this,"openChannelsUserProfile",C0e,this),N()(this,"openChannelsLiveCollection",E0e,this),N()(this,"openChannelsEvent",A0e,this),N()(this,"reserveChannelsLive",T0e,this),N()(this,"openPublicServicePayment",P0e,this),N()(this,"version",x0e,this),N()(this,"chooseShareGroup",M0e,this),N()(this,"enterContact",R0e,this),N()(this,"getGroupEnterInfo",D0e,this),N()(this,"preloadWebview",O0e,this),N()(this,"preloadSkylineView",L0e,this),N()(this,"getSkylineInfo",N0e,this),N()(this,"getSkylineInfoSync",B0e,this),N()(this,"publishWeChatState",F0e,this),N()(this,"publishWechatStateActivity",W0e,this),N()(this,"checkPublishWeChatStateScene",j0e,this),N()(this,"lanDebug",V0e,this),N()(this,"createVKSession",U0e,this),N()(this,"createVKReference",$0e,this),N()(this,"isVKSupport",z0e,this),N()(this,"createCacheManager",q0e,this),N()(this,"getDebuggerMessager",H0e,this),N()(this,"chooseLicensePlate",G0e,this),N()(this,"createSharedArrayBuffer",K0e,this),N()(this,"createInferenceSession",J0e,this),N()(this,"preloadAssets",X0e,this),N()(this,"addToDesktop",Y0e,this),N()(this,"setPassiveEvent",Q0e,this),N()(this,"router",Z0e,this),N()(this,"worklet",e1e,this),N()(this,"serviceMarket",t1e,this),N()(this,"cloud",r1e,this),N()(this,"getXrFrameSystem",n1e,this),N()(this,"onXrFrameTouchEventNegotiation",i1e,this),N()(this,"addDevicePanel",a1e,this),N()(this,"removeDevicePanel",o1e,this),N()(this,"getDevicePanelList",s1e,this),N()(this,"canIUseDevicePanel",c1e,this),N()(this,"preDownloadSubpackage",l1e,this),N()(this,"requestDeviceVoIP",u1e,this),N()(this,"pay",d1e,this),N()(this,"notifyPayResult",p1e,this),N()(this,"checkIsPictureInPictureActive",h1e,this),N()(this,"editTextWithPopForm",f1e,this),N()(this,"openAddressWithLightMode",g1e,this),N()(this,"getGMCryptoManager",v1e,this),N()(this,"getUserCryptoManager",m1e,this),N()(this,"batchAddDevicePanel",y1e,this),N()(this,"checkIsAddedToMyMiniProgram",b1e,this)}saveFile(...e){return console.warn("wx.saveFile 即将废弃，请使用 wx.getFileSystemManager().saveFile"),yZ(...e)}getSavedFileList(...e){return console.warn("wx.getSavedFileList 即将废弃，请使用 wx.getFileSystemManager().getSavedFileList"),_Z(...e)}getSavedFileInfo(...e){return console.warn("wx.getSavedFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),wZ(...e)}getFileInfo(...e){return console.warn("wx.getFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),bZ(...e)}removeSavedFile(...e){return console.warn("wx.removeSavedFile 即将废弃，请使用 wx.getFileSystemManager().removeSavedFile"),IZ(...e)}},dze=F()(uze.prototype,"setStorage",[UTe,$Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _1e}}),pze=F()(uze.prototype,"setStorageSync",[zTe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w1e}}),hze=F()(uze.prototype,"plugin_setStorage",[qTe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I1e}}),fze=F()(uze.prototype,"plugin_setStorageSync",[HTe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S1e}}),gze=F()(uze.prototype,"batchSetStorage",[GTe,KTe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k1e}}),vze=F()(uze.prototype,"batchSetStorageSync",[JTe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C1e}}),mze=F()(uze.prototype,"plugin_batchSetStorage",[XTe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E1e}}),yze=F()(uze.prototype,"plugin_batchSetStorageSync",[YTe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A1e}}),bze=F()(uze.prototype,"getStorage",[QTe,ZTe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T1e}}),_ze=F()(uze.prototype,"getStorageSync",[ePe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P1e}}),wze=F()(uze.prototype,"plugin_getStorage",[tPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x1e}}),Ize=F()(uze.prototype,"plugin_getStorageSync",[rPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M1e}}),Sze=F()(uze.prototype,"batchGetStorage",[nPe,iPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R1e}}),kze=F()(uze.prototype,"batchGetStorageSync",[aPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D1e}}),Cze=F()(uze.prototype,"plugin_batchGetStorage",[oPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O1e}}),Eze=F()(uze.prototype,"plugin_batchGetStorageSync",[sPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L1e}}),Aze=F()(uze.prototype,"getStorageInfo",[cPe,lPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N1e}}),Tze=F()(uze.prototype,"getStorageInfoSync",[uPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B1e}}),Pze=F()(uze.prototype,"plugin_getStorageInfo",[dPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F1e}}),xze=F()(uze.prototype,"plugin_getStorageInfoSync",[pPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W1e}}),Mze=F()(uze.prototype,"removeStorage",[hPe,fPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j1e}}),Rze=F()(uze.prototype,"removeStorageSync",[gPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V1e}}),Dze=F()(uze.prototype,"plugin_removeStorage",[vPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U1e}}),Oze=F()(uze.prototype,"plugin_removeStorageSync",[mPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $1e}}),Lze=F()(uze.prototype,"clearStorage",[yPe,bPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z1e}}),Nze=F()(uze.prototype,"clearStorageSync",[_Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q1e}}),Bze=F()(uze.prototype,"plugin_clearStorage",[wPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H1e}}),Fze=F()(uze.prototype,"plugin_clearStorageSync",[IPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G1e}}),Wze=F()(uze.prototype,"drawCanvas",[SPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oj}}),jze=F()(uze.prototype,"createContext",[kPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bV}}),Vze=F()(uze.prototype,"createCanvasContext",[CPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wV}}),Uze=F()(uze.prototype,"canvasToTempFilePath",[EPe,APe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hj}}),$ze=F()(uze.prototype,"canvasGetImageData",[TPe,PPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kj}}),zze=F()(uze.prototype,"canvasPutImageData",[xPe,MPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pj}}),qze=F()(uze.prototype,"createOffscreenCanvas",[RPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oV}}),Hze=F()(uze.prototype,"getAccountInfoSync",[DPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RE}}),Gze=F()(uze.prototype,"getShareInfo",[OPe,LPe,NPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S2e}}),Kze=F()(uze.prototype,"authPrivateMessage",[BPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T2e}}),Jze=F()(uze.prototype,"pageScrollTo",[FPe,WPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rK}}),Xze=F()(uze.prototype,"chooseInvoiceTitle",[jPe,VPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ND}}),Yze=F()(uze.prototype,"chooseInvoice",[UPe,$Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rO}}),Qze=F()(uze.prototype,"openCustomerServiceChat",[zPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JO}}),Zze=F()(uze.prototype,"onPageReload",[qPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{TI.call(W2e,e)}}}),eqe=F()(uze.prototype,"createAudioContext",[HPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==Kc.getRootNodeId(ul.currentWebviewId)?t.__wxExparserNodeId__:"";return Kz.call(W2e,e,ul.currentWebviewId,r)}}}),tqe=F()(uze.prototype,"createVideoContext",[GPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==Kc.getRootNodeId(ul.currentWebviewId)?t.__wxExparserNodeId__:"";return yB.call(W2e,e,ul.currentWebviewId,r)}}}),rqe=F()(uze.prototype,"createMapContext",[KPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==Kc.getRootNodeId(ul.currentWebviewId)?t.__wxExparserNodeId__:"";return RL.call(W2e,e,ul.currentWebviewId,r)}}}),nqe=F()(uze.prototype,"createLivePlayerContext",[JPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==Kc.getRootNodeId(ul.currentWebviewId)?t.__wxExparserNodeId__:"";return WF.call(W2e,e,ul.currentWebviewId,r)}}}),iqe=F()(uze.prototype,"getPassiveEvent",[XPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YIe}}),aqe=F()(uze.prototype,"arrayBufferToBase64",[YPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.surroundThirdByTryCatch(Ow)}}),oqe=F()(uze.prototype,"base64ToArrayBuffer",[QPe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.surroundThirdByTryCatch(Lw)}}),sqe=F()(uze.prototype,"openSetting",[ZPe,exe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ib}}),cqe=F()(uze.prototype,"getExtConfig",[txe,rxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BJ}}),lqe=F()(uze.prototype,"chooseMedia",[nxe,ixe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gQ}}),uqe=F()(uze.prototype,"previewMedia",[axe,oxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mQ}}),dqe=F()(uze.prototype,"chooseMultiMedia",[sxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SQ}}),pqe=F()(uze.prototype,"chooseMessageFile",[cxe,lxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fQ}}),hqe=F()(uze.prototype,"chooseWeChatContact",[uxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r2e}}),fqe=F()(uze.prototype,"uploadEncryptedFileToCDN",[dxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O_}}),gqe=F()(uze.prototype,"onUploadEncryptedFileToCDNProgress",[pxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L_}}),vqe=F()(uze.prototype,"uploadToCommonCDN",[hxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B_}}),mqe=F()(uze.prototype,"getExtConfigSync",[fxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NJ}}),yqe=F()(uze.prototype,"showShareMenu",[gxe,vxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k2e}}),bqe=F()(uze.prototype,"hideShareMenu",[mxe,yxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C2e}}),_qe=F()(uze.prototype,"updateShareMenu",[bxe,_xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E2e}}),wqe=F()(uze.prototype,"shareAppMessageForFakeNative",[wxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A2e}}),Iqe=F()(uze.prototype,"openUrl",[Ixe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WT}}),Sqe=F()(uze.prototype,"setNavigationBarColor",[Sxe,kxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y2e}}),kqe=F()(uze.prototype,"setNavigationBarAlpha",[Cxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b2e}}),Cqe=F()(uze.prototype,"showShareImageMenu",[Exe,Axe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P2e}}),Eqe=F()(uze.prototype,"shareFileMessage",[Txe,Pxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x2e}}),Aqe=F()(uze.prototype,"shareVideoMessage",[xxe,Mxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M2e}}),Tqe=F()(uze.prototype,"vibrateShort",[Rxe,Dxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z3e}}),Pqe=F()(uze.prototype,"vibrateLong",[Oxe,Lxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e2e}}),xqe=F()(uze.prototype,"getSetting",[Nxe,Bxe,Fxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RD}}),Mqe=F()(uze.prototype,"checkIsSupportFacialRecognition",[Wxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gR}}),Rqe=F()(uze.prototype,"startFacialRecognitionVerify",[jxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mR}}),Dqe=F()(uze.prototype,"startFacialRecognitionVerifyAndUploadVideo",[Vxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bR}}),Oqe=F()(uze.prototype,"startCustomFacialRecognitionVerify",[Uxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yR}}),Lqe=F()(uze.prototype,"startCustomFacialRecognitionVerifyAndUploadVideo",[$xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _R}}),Nqe=F()(uze.prototype,"sendBizRedPacket",[zxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iR}}),Bqe=F()(uze.prototype,"sendGoldenRedPacket",[qxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nR}}),Fqe=F()(uze.prototype,"openGoldenRedPacketDetail",[Hxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rR}}),Wqe=F()(uze.prototype,"showRedPackage",[Gxe,Kxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dR}}),jqe=F()(uze.prototype,"jumpRedPacketEnvelopePreview",[Jxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pR}}),Vqe=F()(uze.prototype,"quickSendRedPacket",[Xxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hR}}),Uqe=F()(uze.prototype,"sendRedCoverAppMsg",[Yxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fR}}),$qe=F()(uze.prototype,"addPhoneContact",[Qxe,Zxe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n2e}}),zqe=F()(uze.prototype,"quicklyAddBrandContact",[eMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i2e}}),qqe=F()(uze.prototype,"searchContacts",[tMe,rMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a2e}}),Hqe=F()(uze.prototype,"privateSearchContacts",[nMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o2e}}),Gqe=F()(uze.prototype,"sendSms",[iMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s2e}}),Kqe=F()(uze.prototype,"setScreenBrightness",[aMe,oMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G3e}}),Jqe=F()(uze.prototype,"getScreenBrightness",[sMe,cMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K3e}}),Xqe=F()(uze.prototype,"setVisualEffectOnCapture",[lMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J3e}}),Yqe=F()(uze.prototype,"onScreenRecordingStateChanged",[uMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X3e}}),Qqe=F()(uze.prototype,"offScreenRecordingStateChanged",[dMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y3e}}),Zqe=F()(uze.prototype,"getScreenRecordingState",[pMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q3e}}),eHe=F()(uze.prototype,"shareToWeRun",[hMe,fMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eO}}),tHe=F()(uze.prototype,"getWeRunData",[gMe,vMe,mMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DD}}),rHe=F()(uze.prototype,"uploadWeRunData",[yMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OD}}),nHe=F()(uze.prototype,"addWeRunData",[bMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LD}}),iHe=F()(uze.prototype,"canIUse",[_Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I0}}),aHe=F()(uze.prototype,"setPageStyle",[wMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sK}}),oHe=F()(uze.prototype,"triggerGettingWidgetData",[IMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bX}}),sHe=F()(uze.prototype,"navigateToMiniProgram",[SMe,kMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fx}}),cHe=F()(uze.prototype,"navigateToMiniProgramDirectly",[CMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vx}}),lHe=F()(uze.prototype,"navigateToDevMiniProgram",[EMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mq}}),uHe=F()(uze.prototype,"navigateBackMiniProgram",[AMe,TMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pq}}),dHe=F()(uze.prototype,"launchMiniProgram",[PMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rq}}),pHe=F()(uze.prototype,"launchDevMiniProgram",[xMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dq}}),hHe=F()(uze.prototype,"exitMiniProgram",[MMe,RMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bq}}),fHe=F()(uze.prototype,"openEmbeddedMiniProgram",[DMe,OMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rH}}),gHe=F()(uze.prototype,"launchApplicationDirectly",[LMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H6}}),vHe=F()(uze.prototype,"launchApplicationForNative",[NMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q6}}),mHe=F()(uze.prototype,"setNavigationBarRightButton",[BMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _2e}}),yHe=F()(uze.prototype,"onTapNavigationBarRightButton",[FMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w2e}}),bHe=F()(uze.prototype,"setTopBarText",[WMe,jMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pG}}),_He=F()(uze.prototype,"setTabBarBadge",[VMe,UMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $G}}),wHe=F()(uze.prototype,"removeTabBarBadge",[$Me,zMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zG}}),IHe=F()(uze.prototype,"showTabBarRedDot",[qMe,HMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qG}}),SHe=F()(uze.prototype,"hideTabBarRedDot",[GMe,KMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HG}}),kHe=F()(uze.prototype,"showTabBar",[JMe,XMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KG}}),CHe=F()(uze.prototype,"hideTabBar",[YMe,QMe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JG}}),EHe=F()(uze.prototype,"setTabBarStyle",[ZMe,eRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YG}}),AHe=F()(uze.prototype,"setTabBarItem",[tRe,rRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZG}}),THe=F()(uze.prototype,"getTabBarManager",[nRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lke}}),PHe=F()(uze.prototype,"setBackgroundColor",[iRe,aRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PK}}),xHe=F()(uze.prototype,"setBackgroundTextStyle",[oRe,sRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xK}}),MHe=F()(uze.prototype,"setEnableDebug",[cRe,lRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a5}}),RHe=F()(uze.prototype,"captureScreen",[uRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $3e}}),DHe=F()(uze.prototype,"onUserCaptureScreen",[dRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z3e}}),OHe=F()(uze.prototype,"offUserCaptureScreen",[pRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q3e}}),LHe=F()(uze.prototype,"setKeepScreenOn",[hRe,fRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H3e}}),NHe=F()(uze.prototype,"checkIsSupportSoterAuthentication",[gRe,vRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZM}}),BHe=F()(uze.prototype,"startSoterAuthentication",[mRe,yRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eR}}),FHe=F()(uze.prototype,"checkIsSoterEnrolledInDevice",[bRe,_Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tR}}),WHe=F()(uze.prototype,"openDeliveryList",[wRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G6}}),jHe=F()(uze.prototype,"navigateBackH5",[IRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qme}}),VHe=F()(uze.prototype,"openBusinessView",[SRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zme}}),UHe=F()(uze.prototype,"navigateBackApplication",[kRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eye}}),$He=F()(uze.prototype,"navigateBackNative",[CRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tye}}),zHe=F()(uze.prototype,"reportIDKey",[ERe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IX}}),qHe=F()(uze.prototype,"reportKeyValue",[ARe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SX}}),HHe=F()(uze.prototype,"setWindowSize",[TRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mbe}}),GHe=F()(uze.prototype,"setNavigationBarTitle",[PRe,xRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g2e}}),KHe=F()(uze.prototype,"showNavigationBarLoading",[MRe,RRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v2e}}),JHe=F()(uze.prototype,"hideNavigationBarLoading",[DRe,ORe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m2e}}),XHe=F()(uze.prototype,"hideHomeButton",[LRe,NRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I2e}}),YHe=F()(uze.prototype,"startPullDownRefresh",[BRe,FRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nK}}),QHe=F()(uze.prototype,"stopPullDownRefresh",[WRe,jRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iK}}),ZHe=F()(uze.prototype,"operateWXData",[VRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FD}}),eGe=F()(uze.prototype,"getOpenDeviceId",[URe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jD}}),tGe=F()(uze.prototype,"getMenuButtonBoundingClientRect",[$Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LK}}),rGe=F()(uze.prototype,"getSelectedTextRange",[zRe,qRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NK}}),nGe=F()(uze.prototype,"enableAlertBeforeUnload",[HRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RK}}),iGe=F()(uze.prototype,"disableAlertBeforeUnload",[GRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DK}}),aGe=F()(uze.prototype,"setNavigateBackInterception",[KRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LT}}),oGe=F()(uze.prototype,"stopNavigateBackInterception",[JRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NT}}),sGe=F()(uze.prototype,"makeBluetoothPair",[XRe,YRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V3}}),cGe=F()(uze.prototype,"isBluetoothDevicePaired",[QRe,ZRe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U3}}),lGe=F()(uze.prototype,"openBluetoothAdapter",[eDe,tDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S1}}),uGe=F()(uze.prototype,"openBluetoothAdapterBackground",[rDe,nDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R1}}),dGe=F()(uze.prototype,"closeBluetoothAdapter",[iDe,aDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D1}}),pGe=F()(uze.prototype,"getBluetoothAdapterState",[oDe,sDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O1}}),hGe=F()(uze.prototype,"onBluetoothAdapterStateChange",[cDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dq}}),fGe=F()(uze.prototype,"offBluetoothAdapterStateChange",[lDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pq}}),gGe=F()(uze.prototype,"startBluetoothDevicesDiscovery",[uDe,dDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L1}}),vGe=F()(uze.prototype,"stopBluetoothDevicesDiscovery",[pDe,hDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N1}}),mGe=F()(uze.prototype,"startMonitoringBluetoothDevice",[fDe,gDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e2}}),yGe=F()(uze.prototype,"stopMonitoringBluetoothDevice",[vDe,mDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n2}}),bGe=F()(uze.prototype,"getBluetoothDevices",[yDe,bDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B1}}),_Ge=F()(uze.prototype,"getConnectedBluetoothDevices",[_De,wDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W1}}),wGe=F()(uze.prototype,"getMonitoredBluetoothDevices",[IDe,SDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k1}}),IGe=F()(uze.prototype,"createBLEConnection",[kDe,CDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t3}}),SGe=F()(uze.prototype,"setBLEMTU",[EDe,ADe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $3}}),kGe=F()(uze.prototype,"setBluetoothBackgroundMode",[TDe,PDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X1}}),CGe=F()(uze.prototype,"getBLEMTU",[xDe,MDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J3}}),EGe=F()(uze.prototype,"onBLEMTUChange",[RDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G3}}),AGe=F()(uze.prototype,"offBLEMTUChange",[DDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K3}}),TGe=F()(uze.prototype,"closeBLEConnection",[ODe,LDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r3}}),PGe=F()(uze.prototype,"getBLEDeviceServices",[NDe,BDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n3}}),xGe=F()(uze.prototype,"getBLEDeviceRSSI",[FDe,WDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F1}}),MGe=F()(uze.prototype,"getBLEDeviceCharacteristics",[jDe,VDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i3}}),RGe=F()(uze.prototype,"createBLEPeripheralServer",[UDe,$De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B3}}),DGe=F()(uze.prototype,"onBLEPeripheralConnectionStateChanged",[zDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W3}}),OGe=F()(uze.prototype,"offBLEPeripheralConnectionStateChanged",[qDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j3}}),LGe=F()(uze.prototype,"notifyBLECharacteristicValueChanged",[HDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a3}}),NGe=F()(uze.prototype,"notifyBLECharacteristicValueChange",[GDe,KDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o3}}),BGe=F()(uze.prototype,"readBLECharacteristicValue",[JDe,XDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s3}}),FGe=F()(uze.prototype,"writeBLECharacteristicValue",[YDe,QDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c3}}),WGe=F()(uze.prototype,"onBluetoothDeviceFound",[ZDe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f3}}),jGe=F()(uze.prototype,"offBluetoothDeviceFound",[eOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g3}}),VGe=F()(uze.prototype,"onMonitoredBluetoothDeviceFound",[tOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c2}}),UGe=F()(uze.prototype,"offMonitoredBluetoothDeviceFound",[rOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l2}}),$Ge=F()(uze.prototype,"onBLEConnectionStateChanged",[nOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u3}}),zGe=F()(uze.prototype,"onBLEConnectionStateChange",[iOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sq}}),qGe=F()(uze.prototype,"onBLECharacteristicValueChange",[aOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p3}}),HGe=F()(uze.prototype,"offBLEConnectionStateChanged",[oOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d3}}),GGe=F()(uze.prototype,"offBLEConnectionStateChange",[sOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cq}}),KGe=F()(uze.prototype,"offBLECharacteristicValueChange",[cOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h3}}),JGe=F()(uze.prototype,"startBeaconDiscovery",[lOe,uOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J0}}),XGe=F()(uze.prototype,"stopBeaconDiscovery",[dOe,pOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X0}}),YGe=F()(uze.prototype,"getBeacons",[hOe,fOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y0}}),QGe=F()(uze.prototype,"onBeaconUpdate",[gOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q0}}),ZGe=F()(uze.prototype,"offBeaconUpdate",[vOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z0}}),eKe=F()(uze.prototype,"onBeaconServiceChange",[mOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e1}}),tKe=F()(uze.prototype,"offBeaconServiceChange",[yOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t1}}),rKe=F()(uze.prototype,"startWifi",[bOe,_Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u2}}),nKe=F()(uze.prototype,"stopWifi",[wOe,IOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d2}}),iKe=F()(uze.prototype,"getWifiList",[SOe,kOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p2}}),aKe=F()(uze.prototype,"getConnectedWifi",[COe,EOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f2}}),oKe=F()(uze.prototype,"connectWifi",[AOe,TOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g2}}),sKe=F()(uze.prototype,"presetWifiList",[POe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v2}}),cKe=F()(uze.prototype,"setWifiList",[xOe,MOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m2}}),lKe=F()(uze.prototype,"onGetWifiList",[ROe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y2}}),uKe=F()(uze.prototype,"onWifiConnected",[DOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _2}}),dKe=F()(uze.prototype,"onWifiConnectedWithPartialInfo",[OOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E2}}),pKe=F()(uze.prototype,"offGetWifiList",[LOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b2}}),hKe=F()(uze.prototype,"offWifiConnected",[NOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w2}}),fKe=F()(uze.prototype,"offWifiConnectedWithPartialInfo",[BOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A2}}),gKe=F()(uze.prototype,"onEvaluateWifi",[FOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k2}}),vKe=F()(uze.prototype,"getHCEState",[WOe,jOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T2}}),mKe=F()(uze.prototype,"startHCE",[VOe,UOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P2}}),yKe=F()(uze.prototype,"stopHCE",[$Oe,zOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x2}}),bKe=F()(uze.prototype,"sendHCEMessage",[qOe,HOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M2}}),_Ke=F()(uze.prototype,"onHCEMessage",[GOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R2}}),wKe=F()(uze.prototype,"offHCEMessage",[KOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D2}}),IKe=F()(uze.prototype,"getNFCAdapter",[JOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t6}}),SKe=F()(uze.prototype,"startLocalServiceDiscovery",[XOe,YOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o6}}),kKe=F()(uze.prototype,"stopLocalServiceDiscovery",[QOe,ZOe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s6}}),CKe=F()(uze.prototype,"onLocalServiceFound",[eLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c6}}),EKe=F()(uze.prototype,"offLocalServiceFound",[tLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l6}}),AKe=F()(uze.prototype,"onLocalServiceLost",[rLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u6}}),TKe=F()(uze.prototype,"offLocalServiceLost",[nLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d6}}),PKe=F()(uze.prototype,"onLocalServiceDiscoveryStop",[iLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p6}}),xKe=F()(uze.prototype,"offLocalServiceDiscoveryStop",[aLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h6}}),MKe=F()(uze.prototype,"onLocalServiceResolveFail",[oLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f6}}),RKe=F()(uze.prototype,"offLocalServiceResolveFail",[sLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g6}}),DKe=F()(uze.prototype,"getLocalIPAddress",[cLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O6}}),OKe=F()(uze.prototype,"redirectTo",[lLe,uLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fI}}),LKe=F()(uze.prototype,"reLaunch",[dLe,pLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gI}}),NKe=F()(uze.prototype,"navigateTo",[hLe,fLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pI}}),BKe=F()(uze.prototype,"switchTab",[gLe,vLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vI}}),FKe=F()(uze.prototype,"navigateBack",[mLe,yLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pp}}),WKe=F()(uze.prototype,"onAppShow",[bLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rk}}),jKe=F()(uze.prototype,"offAppShow",[_Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nk}}),VKe=F()(uze.prototype,"onAppHide",[wLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hk}}),UKe=F()(uze.prototype,"offAppHide",[ILe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fk}}),$Ke=F()(uze.prototype,"onError",[SLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ple}}),zKe=F()(uze.prototype,"offError",[kLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hle}}),qKe=F()(uze.prototype,"onUnhandledRejection",[CLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fle}}),HKe=F()(uze.prototype,"offUnhandledRejection",[ELe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gle}}),GKe=F()(uze.prototype,"getLaunchOptionsSync",[ALe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FO}}),KKe=F()(uze.prototype,"getEnterOptionsSync",[TLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WS}}),JKe=F()(uze.prototype,"onWindowResize",[PLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EK}}),XKe=F()(uze.prototype,"offWindowResize",[xLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AK}}),YKe=F()(uze.prototype,"setPageOrientation",[MLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uq}}),QKe=F()(uze.prototype,"getBackgroundFetchData",[RLe,DLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R2e}}),ZKe=F()(uze.prototype,"onBackgroundFetchData",[OLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D2e}}),eJe=F()(uze.prototype,"setBackgroundFetchToken",[LLe,NLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O2e}}),tJe=F()(uze.prototype,"getBackgroundFetchToken",[BLe,FLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L2e}}),rJe=F()(uze.prototype,"request",[WLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kke}}),nJe=F()(uze.prototype,"connectSocket",[jLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K1e}}),iJe=F()(uze.prototype,"closeSocket",[VLe,ULe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J1e}}),aJe=F()(uze.prototype,"sendSocketMessage",[$Le,zLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X1e}}),oJe=F()(uze.prototype,"onSocketOpen",[qLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y1e}}),sJe=F()(uze.prototype,"onSocketClose",[HLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q1e}}),cJe=F()(uze.prototype,"onSocketMessage",[GLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z1e}}),lJe=F()(uze.prototype,"onSocketError",[KLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e3e}}),uJe=F()(uze.prototype,"uploadFile",[JLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n_}}),dJe=F()(uze.prototype,"downloadFile",[XLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _v}}),pJe=F()(uze.prototype,"addNativeDownloadTask",[YLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F_}}),hJe=F()(uze.prototype,"downloadApp",[QLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H_}}),fJe=F()(uze.prototype,"installDownloadApp",[ZLe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X_}}),gJe=F()(uze.prototype,"getAppInstallState",[eNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G_}}),vJe=F()(uze.prototype,"queryDownloadAppTask",[tNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K_}}),mJe=F()(uze.prototype,"cancelDownloadAppTask",[rNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J_}}),yJe=F()(uze.prototype,"resumeDownloadAppTask",[nNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q_}}),bJe=F()(uze.prototype,"pauseDownloadAppTask",[iNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y_}}),_Je=F()(uze.prototype,"onDownloadAppStateChange",[aNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z_}}),wJe=F()(uze.prototype,"downloadAppForIOS",[oNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ew}}),IJe=F()(uze.prototype,"calRqt",[sNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tw}}),SJe=F()(uze.prototype,"secureTunnel",[cNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rw}}),kJe=F()(uze.prototype,"chooseImage",[lNe,uNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t3e}}),CJe=F()(uze.prototype,"previewImage",[dNe,pNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r3e}}),EJe=F()(uze.prototype,"getImageInfo",[hNe,fNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n3e}}),AJe=F()(uze.prototype,"saveImageToPhotosAlbum",[gNe,vNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i3e}}),TJe=F()(uze.prototype,"compressImage",[mNe,yNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a3e}}),PJe=F()(uze.prototype,"editImage",[bNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o3e}}),xJe=F()(uze.prototype,"cropImage",[_Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s3e}}),MJe=F()(uze.prototype,"startRecord",[wNe,INe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c3e}}),RJe=F()(uze.prototype,"stopRecord",[SNe,kNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l3e}}),DJe=F()(uze.prototype,"playVoice",[CNe,ENe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f3e}}),OJe=F()(uze.prototype,"pauseVoice",[ANe,TNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g3e}}),LJe=F()(uze.prototype,"stopVoice",[PNe,xNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v3e}}),NJe=F()(uze.prototype,"onVoicePlayEnd",[MNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m3e}}),BJe=F()(uze.prototype,"chooseVideo",[RNe,DNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u3e}}),FJe=F()(uze.prototype,"saveVideoToPhotosAlbum",[ONe,LNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d3e}}),WJe=F()(uze.prototype,"getVideoInfo",[NNe,BNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p3e}}),jJe=F()(uze.prototype,"compressVideo",[FNe,WNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h3e}}),VJe=F()(uze.prototype,"loadFontFace",[jNe,VNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y3e}}),UJe=F()(uze.prototype,"createMediaContainer",[UNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RQ}}),$Je=F()(uze.prototype,"createMediaRecorder",[$Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dZ}}),zJe=F()(uze.prototype,"createVideoDecoder",[zNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zQ}}),qJe=F()(uze.prototype,"openVideoEditor",[qNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gZ}}),HJe=F()(uze.prototype,"createMediaAudioPlayer",[HNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uQ}}),GJe=F()(uze.prototype,"createWebAudioContext",[GNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F$}}),KJe=F()(uze.prototype,"getLocation",[KNe,JNe,XNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bJ}}),JJe=F()(uze.prototype,"getFuzzyLocation",[YNe,QNe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LJ}}),XJe=F()(uze.prototype,"openLocation",[ZNe,eBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IJ}}),YJe=F()(uze.prototype,"chooseLocation",[tBe,rBe,nBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _J}}),QJe=F()(uze.prototype,"choosePoi",[iBe,aBe,oBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wJ}}),ZJe=F()(uze.prototype,"onLocationChange",[sBe,cBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kJ}}),eXe=F()(uze.prototype,"offLocationChange",[lBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CJ}}),tXe=F()(uze.prototype,"onLocationChangeError",[uBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AJ}}),rXe=F()(uze.prototype,"offLocationChangeError",[dBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TJ}}),nXe=F()(uze.prototype,"startLocationUpdateBackground",[pBe,hBe,fBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PJ}}),iXe=F()(uze.prototype,"startLocationUpdate",[gBe,vBe,mBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xJ}}),aXe=F()(uze.prototype,"stopLocationUpdate",[yBe,bBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MJ}}),oXe=F()(uze.prototype,"getNetworkType",[_Be,wBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dg}}),sXe=F()(uze.prototype,"onNetworkStatusChange",[IBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pg}}),cXe=F()(uze.prototype,"offNetworkStatusChange",[SBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hg}}),lXe=F()(uze.prototype,"onNetworkWeakChange",[kBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fg}}),uXe=F()(uze.prototype,"offNetworkWeakChange",[CBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gg}}),dXe=F()(uze.prototype,"getSystemInfo",[EBe,ABe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Iy}}),pXe=F()(uze.prototype,"getSystemInfoSync",[TBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vy}}),hXe=F()(uze.prototype,"getSystemInfoAsync",[PBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ky}}),fXe=F()(uze.prototype,"openSystemBluetoothSetting",[xBe,MBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cy}}),gXe=F()(uze.prototype,"openAppAuthorizeSetting",[RBe,DBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ey}}),vXe=F()(uze.prototype,"getSystemSetting",[OBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Py}}),mXe=F()(uze.prototype,"getAppAuthorizeSetting",[LBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xy}}),yXe=F()(uze.prototype,"getDeviceInfo",[NBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fy}}),bXe=F()(uze.prototype,"getWindowInfo",[BBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jy}}),_Xe=F()(uze.prototype,"getAppBaseInfo",[FBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uy}}),wXe=F()(uze.prototype,"getRendererUserAgent",[WBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ky}}),IXe=F()(uze.prototype,"getBatteryInfo",[jBe,VBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S0}}),SXe=F()(uze.prototype,"getBatteryInfoSync",[UBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k0}}),kXe=F()(uze.prototype,"startAccelerometer",[$Be,zBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A0}}),CXe=F()(uze.prototype,"stopAccelerometer",[qBe,HBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T0}}),EXe=F()(uze.prototype,"onAccelerometerChange",[GBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M0}}),AXe=F()(uze.prototype,"offAccelerometerChange",[KBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x0}}),TXe=F()(uze.prototype,"startCompass",[JBe,XBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O0}}),PXe=F()(uze.prototype,"stopCompass",[YBe,QBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L0}}),xXe=F()(uze.prototype,"onCompassChange",[ZBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F0}}),MXe=F()(uze.prototype,"offCompassChange",[eFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B0}}),RXe=F()(uze.prototype,"startDeviceMotionListening",[tFe,rFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I6}}),DXe=F()(uze.prototype,"stopDeviceMotionListening",[nFe,iFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S6}}),OXe=F()(uze.prototype,"onDeviceMotionChange",[aFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k6}}),LXe=F()(uze.prototype,"offDeviceMotionChange",[oFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C6}}),NXe=F()(uze.prototype,"startGyroscope",[sFe,cFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m6}}),BXe=F()(uze.prototype,"stopGyroscope",[lFe,uFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y6}}),FXe=F()(uze.prototype,"onGyroscopeChange",[dFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b6}}),WXe=F()(uze.prototype,"offGyroscopeChange",[pFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _6}}),jXe=F()(uze.prototype,"checkIsOpenAccessibility",[hFe,fFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E6}}),VXe=F()(uze.prototype,"addPhoneCalendar",[gFe,vFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P6}}),UXe=F()(uze.prototype,"addPhoneRepeatCalendar",[mFe,yFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x6}}),$Xe=F()(uze.prototype,"getRandomValues",[bFe,_Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aae}}),zXe=F()(uze.prototype,"getWebviewDebugInfo",[wFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D6}}),qXe=F()(uze.prototype,"reportAction",[IFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _X}}),HXe=F()(uze.prototype,"getBackgroundAudioManager",[SFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HY}}),GXe=F()(uze.prototype,"getRecorderManager",[kFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DY}}),KXe=F()(uze.prototype,"getBackgroundAudioPlayerState",[CFe,EFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b3e}}),JXe=F()(uze.prototype,"playBackgroundAudio",[AFe,TFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _3e}}),XXe=F()(uze.prototype,"pauseBackgroundAudio",[PFe,xFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w3e}}),YXe=F()(uze.prototype,"seekBackgroundAudio",[MFe,RFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I3e}}),QXe=F()(uze.prototype,"stopBackgroundAudio",[DFe,OFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S3e}}),ZXe=F()(uze.prototype,"onBackgroundAudioPlay",[LFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k3e}}),eYe=F()(uze.prototype,"onBackgroundAudioPause",[NFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C3e}}),tYe=F()(uze.prototype,"onBackgroundAudioStop",[BFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E3e}}),rYe=F()(uze.prototype,"joinVoIPChat",[FFe,WFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A3e}}),nYe=F()(uze.prototype,"exitVoIPChat",[jFe,VFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T3e}}),iYe=F()(uze.prototype,"updateVoIPChatMuteConfig",[UFe,$Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P3e}}),aYe=F()(uze.prototype,"onVoIPChatMembersChanged",[zFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x3e}}),oYe=F()(uze.prototype,"onVoIPChatSpeakersChanged",[qFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M3e}}),sYe=F()(uze.prototype,"onVoIPChatInterrupted",[HFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R3e}}),cYe=F()(uze.prototype,"offVoIPChatMembersChanged",[GFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D3e}}),lYe=F()(uze.prototype,"offVoIPChatSpeakersChanged",[KFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O3e}}),uYe=F()(uze.prototype,"offVoIPChatInterrupted",[JFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L3e}}),dYe=F()(uze.prototype,"subscribeVoIPVideoMembers",[XFe,YFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N3e}}),pYe=F()(uze.prototype,"onVoIPVideoMembersChanged",[QFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B3e}}),hYe=F()(uze.prototype,"offVoIPVideoMembersChanged",[ZFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F3e}}),fYe=F()(uze.prototype,"onVoIPChatStateChanged",[eWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W3e}}),gYe=F()(uze.prototype,"offVoIPChatStateChanged",[tWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j3e}}),vYe=F()(uze.prototype,"join1v1Chat",[rWe,nWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V3e}}),mYe=F()(uze.prototype,"setEnable1v1Chat",[iWe,aWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U3e}}),yYe=F()(uze.prototype,"requestSubscribeMessage",[oWe,sWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dO}}),bYe=F()(uze.prototype,"requestSubscribeDeviceMessage",[cWe,lWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MO}}),_Ye=F()(uze.prototype,"login",[uWe,dWe,pWe,hWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OR}}),wYe=F()(uze.prototype,"logout",[fWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NR}}),IYe=F()(uze.prototype,"checkSession",[gWe,vWe,mWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LR}}),SYe=F()(uze.prototype,"authorize",[yWe,bWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GR}}),kYe=F()(uze.prototype,"getUserInfo",[_We,wWe,IWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hD}}),CYe=F()(uze.prototype,"getUserProfile",[SWe,kWe,CWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SD}}),EYe=F()(uze.prototype,"requestPayment",[EWe,AWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wA}}),AYe=F()(uze.prototype,"verifyPaymentPassword",[TWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oP}}),TYe=F()(uze.prototype,"bindPaymentCard",[PWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rS}}),PYe=F()(uze.prototype,"requestPaymentToBank",[xWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aP}}),xYe=F()(uze.prototype,"requestVirtualPayment",[MWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QT}}),MYe=F()(uze.prototype,"openOfflinePayView",[RWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cS}}),RYe=F()(uze.prototype,"openWCPayCardList",[DWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nP}}),DYe=F()(uze.prototype,"requestMallPayment",[OWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aS}}),OYe=F()(uze.prototype,"setCurrentPaySpeech",[LWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rP}}),LYe=F()(uze.prototype,"loadPaySpeechDialectConfig",[NWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nS}}),NYe=F()(uze.prototype,"requestJointPayment",[BWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lP}}),BYe=F()(uze.prototype,"getWCPayOverseaPrepayRequest",[FWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sS}}),FYe=F()(uze.prototype,"requestH5Transaction",[WWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iP}}),WYe=F()(uze.prototype,"openWCPayOverseaPaymentReceive",[jWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cP}}),jYe=F()(uze.prototype,"handleWCPayOverseaWalletBuffer",[VWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZT}}),VYe=F()(uze.prototype,"requestVerifyUserIdentity",[UWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oS}}),UYe=F()(uze.prototype,"requestPersonalPay",[$We,zWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dP}}),$Ye=F()(uze.prototype,"phoneBindCardVerifySms",[qWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iS}}),zYe=F()(uze.prototype,"faceVerifyForPay",[HWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iO}}),qYe=F()(uze.prototype,"openOfficialAccountProfile",[GWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aO}}),HYe=F()(uze.prototype,"openUserProfile",[KWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sO}}),GYe=F()(uze.prototype,"requestBizSplitBillPayment",[JWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RO}}),KYe=F()(uze.prototype,"openSelectPayment",[XWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eP}}),JYe=F()(uze.prototype,"requestEntrustAuthorization",[YWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lS}}),XYe=F()(uze.prototype,"requestFacetoFacePayment",[QWe,ZWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tP}}),YYe=F()(uze.prototype,"requestQueryCashier",[eje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sP}}),QYe=F()(uze.prototype,"requestOrderPayment",[tje,rje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XT}}),ZYe=F()(uze.prototype,"checkBeforeAddOrder",[nje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YT}}),eQe=F()(uze.prototype,"notifyWCPayResult",[ije],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pP}}),tQe=F()(uze.prototype,"openMiniProgramProfile",[aje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oO}}),rQe=F()(uze.prototype,"openMiniProgramSearch",[oje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FP}}),nQe=F()(uze.prototype,"openMiniProgramHistoryList",[sje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WP}}),iQe=F()(uze.prototype,"openMiniProgramStarList",[cje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jP}}),aQe=F()(uze.prototype,"openMiniProgramAuthManageList",[lje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VP}}),oQe=F()(uze.prototype,"batchGetContactDirectly",[uje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UP}}),sQe=F()(uze.prototype,"preloadMiniProgramEnvDirectly",[dje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zP}}),cQe=F()(uze.prototype,"predownloadMiniProgramPackageDirectly",[pje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qP}}),lQe=F()(uze.prototype,"preventApplePayUI",[hje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cO}}),uQe=F()(uze.prototype,"getWxSecData",[fje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lO}}),dQe=F()(uze.prototype,"addCard",[gje,vje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YM}}),pQe=F()(uze.prototype,"openCard",[mje,yje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QM}}),hQe=F()(uze.prototype,"checkTrafficCardConditions",[bje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wR}}),fQe=F()(uze.prototype,"queryTrafficCardInfo",[_je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IR}}),gQe=F()(uze.prototype,"issueTrafficCard",[wje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SR}}),vQe=F()(uze.prototype,"rechargeTrafficCard",[Ije],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kR}}),mQe=F()(uze.prototype,"setDefaultTrafficCard",[Sje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CR}}),yQe=F()(uze.prototype,"deleteTrafficCard",[kje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ER}}),bQe=F()(uze.prototype,"addFileToFavorites",[Cje,Eje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AR}}),_Qe=F()(uze.prototype,"addVideoToFavorites",[Aje,Tje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TR}}),wQe=F()(uze.prototype,"openChannelsCreateContact",[Pje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PR}}),IQe=F()(uze.prototype,"getChannelsShareKey",[xje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MR}}),SQe=F()(uze.prototype,"openChannelsPostPage",[Mje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RR}}),kQe=F()(uze.prototype,"scanCode",[Rje,Dje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V0}}),CQe=F()(uze.prototype,"openQRCode",[Oje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U0}}),EQe=F()(uze.prototype,"scanItem",[Lje,Nje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q0}}),AQe=F()(uze.prototype,"privateScanItem",[Bje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H0}}),TQe=F()(uze.prototype,"chooseAddress",[Fje,Wje,jje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kD}}),F()(uze.prototype,"saveFile",[Vje,Uje],Object.getOwnPropertyDescriptor(uze.prototype,"saveFile"),uze.prototype),PQe=F()(uze.prototype,"openDocument",[$je,zje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sh}}),F()(uze.prototype,"getSavedFileList",[qje,Hje],Object.getOwnPropertyDescriptor(uze.prototype,"getSavedFileList"),uze.prototype),F()(uze.prototype,"getSavedFileInfo",[Gje,Kje],Object.getOwnPropertyDescriptor(uze.prototype,"getSavedFileInfo"),uze.prototype),F()(uze.prototype,"getFileInfo",[Jje,Xje],Object.getOwnPropertyDescriptor(uze.prototype,"getFileInfo"),uze.prototype),F()(uze.prototype,"removeSavedFile",[Yje,Qje],Object.getOwnPropertyDescriptor(uze.prototype,"removeSavedFile"),uze.prototype),xQe=F()(uze.prototype,"getFileSystemManager",[Zje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mZ}}),MQe=F()(uze.prototype,"saveFileToDisk",[eVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wie}}),RQe=F()(uze.prototype,"getABTestConfig",[tVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nh}}),DQe=F()(uze.prototype,"chooseContact",[rVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t2e}}),OQe=F()(uze.prototype,"removeUserCloudStorage",[nVe,iVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N6}}),LQe=F()(uze.prototype,"setUserCloudStorage",[aVe,oVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F6}}),NQe=F()(uze.prototype,"makePhoneCall",[sVe,cVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W0}}),BQe=F()(uze.prototype,"makeVoIPCall",[lVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j0}}),FQe=F()(uze.prototype,"onAppRoute",[uVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XS}}),WQe=F()(uze.prototype,"onAppRouteDone",[dVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qM}}),jQe=F()(uze.prototype,"onAppEnterBackground",[pVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qk}}),VQe=F()(uze.prototype,"onAppEnterForeground",[hVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zS}}),UQe=F()(uze.prototype,"onAppUnhang",[fVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jce}}),$Qe=F()(uze.prototype,"onPageNotFound",[gVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xle}}),zQe=F()(uze.prototype,"offPageNotFound",[vVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mle}}),qQe=F()(uze.prototype,"onLazyLoadError",[mVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fle}}),HQe=F()(uze.prototype,"offLazyLoadError",[yVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ble}}),GQe=F()(uze.prototype,"onThemeChange",[bVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UD}}),KQe=F()(uze.prototype,"offThemeChange",[_Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zD}}),JQe=F()(uze.prototype,"onCopyUrl",[wVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TIe}}),XQe=F()(uze.prototype,"offCopyUrl",[IVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PIe}}),YQe=F()(uze.prototype,"createAnimation",[SVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hK}}),QQe=F()(uze.prototype,"createInnerAudioContext",[kVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uz}}),ZQe=F()(uze.prototype,"getAvailableAudioSources",[CVe,EVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rQ}}),eZe=F()(uze.prototype,"onAudioInterruptionBegin",[AVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aU}}),tZe=F()(uze.prototype,"offAudioInterruptionBegin",[TVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oU}}),rZe=F()(uze.prototype,"onAudioInterruptionEnd",[PVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cU}}),nZe=F()(uze.prototype,"offAudioInterruptionEnd",[xVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lU}}),iZe=F()(uze.prototype,"setInnerAudioOption",[MVe,RVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nQ}}),aZe=F()(uze.prototype,"createCameraContext",[DVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>mF.call(W2e,null,ul.currentWebviewId)}}),oZe=F()(uze.prototype,"createLivePusherContext",[OVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>GV.call(W2e,null,ul.currentWebviewId)}}),sZe=F()(uze.prototype,"onWebviewEvent",[LVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VG}}),cZe=F()(uze.prototype,"onNativeEvent",[NVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UG}}),lZe=F()(uze.prototype,"hideKeyboard",[BVe,FVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cK}}),uZe=F()(uze.prototype,"onKeyboardHeightChange",[WVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uK}}),dZe=F()(uze.prototype,"offKeyboardHeightChange",[jVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dK}}),pZe=F()(uze.prototype,"getPublicLibVersion",[VVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i5}}),hZe=F()(uze.prototype,"showModal",[UVe,$Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p2e}}),fZe=F()(uze.prototype,"showToast",[zVe,qVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c2e}}),gZe=F()(uze.prototype,"hideToast",[HVe,GVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l2e}}),vZe=F()(uze.prototype,"showLoading",[KVe,JVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u2e}}),mZe=F()(uze.prototype,"hideLoading",[XVe,YVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d2e}}),yZe=F()(uze.prototype,"showActionSheet",[QVe,ZVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h2e}}),bZe=F()(uze.prototype,"showShareActionSheet",[eUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f2e}}),_Ze=F()(uze.prototype,"reportAnalytics",[tUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wX}}),wZe=F()(uze.prototype,"reportMonitor",[rUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kX}}),IZe=F()(uze.prototype,"getClipboardData",[nUe,iUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G0}}),SZe=F()(uze.prototype,"setClipboardData",[aUe,oUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K0}}),kZe=F()(uze.prototype,"createSelectorQuery",[sUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vX}}),CZe=F()(uze.prototype,"createIntersectionObserver",[cUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mX}}),EZe=F()(uze.prototype,"createMediaQueryObserver",[lUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yX}}),AZe=F()(uze.prototype,"nextTick",[uUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hE}}),TZe=F()(uze.prototype,"updatePerfData",[dUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L4}}),PZe=F()(uze.prototype,"traceEvent",[pUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N4}}),xZe=F()(uze.prototype,"onMemoryWarning",[hUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V4}}),MZe=F()(uze.prototype,"offMemoryWarning",[fUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U4}}),RZe=F()(uze.prototype,"reportPerformance",[gUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I7}}),DZe=F()(uze.prototype,"getPerformance",[vUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C9}}),OZe=F()(uze.prototype,"getUpdateManager",[mUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eee}}),LZe=F()(uze.prototype,"updateWeChatApp",[yUe,bUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nee}}),NZe=F()(uze.prototype,"getPluginUpdateManager",[_Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hee}}),BZe=F()(uze.prototype,"createWorker",[wUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hoe}}),FZe=F()(uze.prototype,"voiceSplitJoint",[IUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yQ}}),WZe=F()(uze.prototype,"uploadSilkVoice",[SUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bQ}}),jZe=F()(uze.prototype,"downloadSilkVoice",[kUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Q}}),VZe=F()(uze.prototype,"getResPath",[CUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wQ}}),UZe=F()(uze.prototype,"setResPath",[EUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IQ}}),$Ze=F()(uze.prototype,"setCookies",[AUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uk}}),zZe=F()(uze.prototype,"getCookies",[TUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $k}}),qZe=F()(uze.prototype,"faceDetect",[PUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ose}}),HZe=F()(uze.prototype,"initFaceDetect",[xUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dse}}),GZe=F()(uze.prototype,"stopFaceDetect",[MUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lse}}),KZe=F()(uze.prototype,"createBufferURL",[RUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qbe}}),JZe=F()(uze.prototype,"revokeBufferURL",[DUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e_e}}),XZe=F()(uze.prototype,"createSignal",[OUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t_e}}),YZe=F()(uze.prototype,"bindGroup",[LUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nbe}}),QZe=F()(uze.prototype,"joinGroup",[NUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bbe}}),ZZe=F()(uze.prototype,"getLabInfo",[BUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sve}}),e0e=F()(uze.prototype,"setLabInfo",[FUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cve}}),t0e=F()(uze.prototype,"createUDPSocket",[WUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pie}}),r0e=F()(uze.prototype,"createTCPSocket",[jUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tte}}),n0e=F()(uze.prototype,"env",[VUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zce}}),i0e=F()(uze.prototype,"error",[UUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qQ}}),a0e=F()(uze.prototype,"isSystemError",[$Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HQ}}),o0e=F()(uze.prototype,"isSDKError",[zUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GQ}}),s0e=F()(uze.prototype,"isThirdError",[qUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KQ}}),c0e=F()(uze.prototype,"createRewardedVideoAd",[HUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ene}}),l0e=F()(uze.prototype,"createInterstitialAd",[GUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ane}}),u0e=F()(uze.prototype,"createCustomAd",[KUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pne}}),d0e=F()(uze.prototype,"preloadVideoAd",[JUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TH}}),p0e=F()(uze.prototype,"preloadAd",[XUe,YUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),h0e=F()(uze.prototype,"getLogManager",[QUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $5}}),f0e=F()(uze.prototype,"getRealtimeLogManager",[ZUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A4}}),g0e=F()(uze.prototype,"getExptInfo",[e$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $E}}),v0e=F()(uze.prototype,"getExptInfoSync",[t$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zE}}),m0e=F()(uze.prototype,"reportEvent",[r$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HE}}),y0e=F()(uze.prototype,"reportStableEvent",[n$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GE}}),b0e=F()(uze.prototype,"getChannelsLiveInfo",[i$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o_e}}),_0e=F()(uze.prototype,"getChannelsLiveState",[a$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s_e}}),w0e=F()(uze.prototype,"getChannelsLiveReservation",[o$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c_e}}),I0e=F()(uze.prototype,"getChannelsLiveNoticeInfo",[s$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l_e}}),S0e=F()(uze.prototype,"openChannelsLive",[c$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h_e}}),k0e=F()(uze.prototype,"openChannelsActivity",[l$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m_e}}),C0e=F()(uze.prototype,"openChannelsUserProfile",[u$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g_e}}),E0e=F()(uze.prototype,"openChannelsLiveCollection",[d$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y_e}}),A0e=F()(uze.prototype,"openChannelsEvent",[p$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b_e}}),T0e=F()(uze.prototype,"reserveChannelsLive",[h$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return __e}}),P0e=F()(uze.prototype,"openPublicServicePayment",[f$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C_e}}),x0e=F()(uze.prototype,"version",[g$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D$()}}),M0e=F()(uze.prototype,"chooseShareGroup",[v$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D4}}),R0e=F()(uze.prototype,"enterContact",[m$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R4}}),D0e=F()(uze.prototype,"getGroupEnterInfo",[y$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LO}}),O0e=F()(uze.prototype,"preloadWebview",[b$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wre}}),L0e=F()(uze.prototype,"preloadSkylineView",[_$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lre}}),N0e=F()(uze.prototype,"getSkylineInfo",[w$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jre}}),B0e=F()(uze.prototype,"getSkylineInfoSync",[I$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ure}}),F0e=F()(uze.prototype,"publishWeChatState",[S$e,k$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KO}}),W0e=F()(uze.prototype,"publishWechatStateActivity",[C$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HO}}),j0e=F()(uze.prototype,"checkPublishWeChatStateScene",[E$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GO}}),V0e=F()(uze.prototype,"lanDebug",[A$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Twe}}),U0e=F()(uze.prototype,"createVKSession",[T$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uoe}}),$0e=F()(uze.prototype,"createVKReference",[P$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $oe}}),z0e=F()(uze.prototype,"isVKSupport",[x$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zoe}}),q0e=F()(uze.prototype,"createCacheManager",[M$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kge}}),H0e=F()(uze.prototype,"getDebuggerMessager",[R$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IIe}}),G0e=F()(uze.prototype,"chooseLicensePlate",[D$e,O$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XO}}),K0e=F()(uze.prototype,"createSharedArrayBuffer",[L$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NB}}),J0e=F()(uze.prototype,"createInferenceSession",[N$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zf}}),X0e=F()(uze.prototype,"preloadAssets",[B$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WIe}}),Y0e=F()(uze.prototype,"addToDesktop",[F$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XIe}}),Q0e=F()(uze.prototype,"setPassiveEvent",[W$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QIe}}),Z0e=F()(uze.prototype,"router",[j$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kre()}}),e1e=F()(uze.prototype,"worklet",[V$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cre()}}),t1e=F()(uze.prototype,"serviceMarket",[U$e,$$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r1e=F()(uze.prototype,"cloud",[z$e,q$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),n1e=F()(uze.prototype,"getXrFrameSystem",[H$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bie}}),i1e=F()(uze.prototype,"onXrFrameTouchEventNegotiation",[G$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r,n=null!==(r=null==e?void 0:e.is)&&void 0!==r?r:"unknown component",i=C.surroundThirdByTryCatch(t,`at xrFrame touch event negotiator of "${n}"`);Kc.xrFrameTouchEvent.onNegotiation(e,i)}}}),a1e=F()(uze.prototype,"addDevicePanel",[K$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QO}}),o1e=F()(uze.prototype,"removeDevicePanel",[J$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZO}}),s1e=F()(uze.prototype,"getDevicePanelList",[X$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eL}}),c1e=F()(uze.prototype,"canIUseDevicePanel",[Y$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tL}}),l1e=F()(uze.prototype,"preDownloadSubpackage",[Q$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lY}}),u1e=F()(uze.prototype,"requestDeviceVoIP",[Z$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pL}}),d1e=F()(uze.prototype,"pay",[eze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sSe}}),p1e=F()(uze.prototype,"notifyPayResult",[tze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tle}}),h1e=F()(uze.prototype,"checkIsPictureInPictureActive",[rze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WCe}}),f1e=F()(uze.prototype,"editTextWithPopForm",[nze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nae}}),g1e=F()(uze.prototype,"openAddressWithLightMode",[ize],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tae}}),v1e=F()(uze.prototype,"getGMCryptoManager",[aze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iIe}}),m1e=F()(uze.prototype,"getUserCryptoManager",[oze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nwe}}),y1e=F()(uze.prototype,"batchAddDevicePanel",[sze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rL}}),b1e=F()(uze.prototype,"checkIsAddedToMyMiniProgram",[cze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vL}}),lze=uze))||lze)||lze)||lze)||lze)||lze)||lze)||lze),W2e=new F2e;Ybe(W2e),z.onReady((()=>{De()&&(N2e.openWCPayLQTDetail=$be,N2e.openWCPayLQTSave=zbe,N2e.openWCPayLQTDepositPlan=qbe,N2e.openWCPayLQTDepositPlanAdd=Hbe,Object.defineProperty(N2e,"reportIDKey",{get:()=>function(e={}){gu("reportIDKey",e)},configurable:!0})),z.exportBaseMethods&&(U2e.getBaseMethods=Vbe)})),nIe(),Mie((()=>({env:zce,downloadFile:bv,getFileSystemManager:mZ,encode:GIe,decode:KIe,base64ToArrayBuffer:Lw,cloud:W2e.cloud,getStorage:T1e,getStorageSync:P1e,setStorage:_1e,setStorageSync:w1e,removeStorage:j1e,removeStorageSync:V1e,clearStorage:z1e,clearStorageSync:q1e,getStorageInfo:N1e,getStorageInfoSync:B1e,onAppShow:rk,offAppShow:nk,onAppHide:hk,offAppHide:fk,createVKSession:Uoe,isVKSupport:zoe,getSystemInfoSync:vy,createVideoDecoder:zQ,createBufferURL:Qbe,showShareImageMenu:P2e}))),gr("INVOKE_METHOD",(({name:e,args:t})=>{W2e[e](t,!0)})),gr("WEBVIEW_ERROR_MSG",(({msg:e})=>{E.triggerErrorMessage(e)}));var j2e=Object.getOwnPropertyNames(Object.getPrototypeOf(W2e)),V2e=Object.getOwnPropertyNames(W2e),U2e=j2e.concat(V2e).reduce(((e,t)=>("constructor"===t||(e[t]=W2e[t]),e)),{});lEe(U2e,!0);var $2e=O()(O()({wx:U2e,createPluginWX:Wce,buildPluginPrivateApi:kae,createPluginConsole:jce,createPluginWXWebAssembly:Vce,onAppRouteResized:mle,showShareMenu:k2e,setWxInterfaceDisabled:jI,setWxInterfaceIsInvokeInTap:_d,unsetWxInterfaceIsInvokeInTap:wd,_setWxIsInvokeInTapForNavToMiniProgram:Jk,_createSelectorQuery:sX,_createIntersectionObserver:dX,_createMediaQueryObserver:gX,_getOpenerEventChannel:Rp,pluginInfos:Uce,_virtualDOMTunnel:qce(ur,gr)},BG),{},{saveExitState:Dle,loadExitState:Ole,createRouter:mI,setEnableDebug:a5,_apiData:g0,loadSubpackage:XX,setAppServiceEngine:Qc,setExparser:nl,setVirtualDOM:Jc,setWebNode:el,setCloudSDK:al,requestPluginPaymentEmitter:Ix,worklet:{registerJsValue:Ere,createAnimatedStyleAsync:Are,removeRouteContext:xre},xrFrame:{getCanvasContext:jie,createXrFrame:Wie,assignCanvasNodeIdToXrFrame:eN},splitOnBridgeListener:U,exportGlobal:{wx:U2e,get WXWebAssembly(){return Pse()},Path2D:vV}});Rke()&&($2e.wx.invokeThird=Dke,$2e.wx.onThird=Oke),Hce($2e,g,U2e),Hce($2e,y,U2e),Hce($2e,A,U2e),LTe($2e),G(O()(O()({},A),$2e));var z2e=$2e})(),M=u.default})();var R=M.wx,D;(()=>{var e={421:(e,t,r)=>{r.d(t,{D:()=>i,m:()=>n});var n={APP:"app",APP_RENDER:"app_sub_render",APP_XRFRAME_RENDER:"app_xrframe_render",APP_SCL:"app_sub_scl",GAME:"game",GAME_OPEN_DATA:"gameOpenData"},i={GAME_PLUGIN_PRELOAD:"gamePlugin_preload_",GAME_PLUGIN:"gamePlugin_"}},159:(e,t,r)=>{var n=r(407),i=r(369);h.onBridgeReady((()=>{b.on("onError",(e=>{h.emitUnhandledError(e)})),b.on("unhandledRejection",(e=>{h.emitUnhandledRejection(null==e?void 0:e.reason,null==e?void 0:e.promise)}))})),h.onUnhandledRejection((function(e={}){(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),v.error("Uncaught (in promise) FrameworkError",e.reason)):(0,n.sK)(e.reason,"",e.promise||null)})),h.onUnhandledError((function(e){e=(0,i.Bs)(e),(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),v.error("Uncaught FrameworkError",e)):(0,n.sK)(e,"")})),h.onFrameworkError((function(e){"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),v.error("FrameworkError",e)}))},112:(e,t,r)=>{r.d(t,{OJ:()=>a,YZ:()=>i,yQ:()=>n});function n(){if(r.g.PerfDog)return r.g.PerfDog}function i(){if("undefined"!=typeof NativeGlobal&&NativeGlobal.Profiler)return NativeGlobal.Profiler}var a=new class{constructor(){this.callbacks=new Map}sendPackage(e,t){var r=this.callbacks.get(e);r&&Array.isArray(r)&&r.forEach((r=>{r(e,t)}))}registerCallback(e,t){if(this.callbacks.get(e)){this.callbacks.get(e).push(t)}else{var r=[t];this.callbacks.set(e,r)}}}},962:(e,t,r)=>{var n=r(826);p.onReady((()=>{"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,n.M)(),r=0;r<t.length;r++){var i=t[r].contextGlobal.__wxSourceMap;if("object"==typeof i&&i[e]){var a=void 0;try{a=JSON.parse(JSON.stringify(i[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return a}}})}))},251:(e,t,r)=>{var n,i=r(888),a=r.n(i),o=r(97),s=r.n(o),c=r(407),l=r(369),u=r(421),d={},f={},g={},m={},y={},b={},_={},w=0;I.subscribe("subContextMessage",((e,t)=>{var r=g[t];return r&&r.__onMessageHandler(e)})),I.subscribe("subContextReady",((e,t)=>{var r;if(((0,c.G$)()||(0,c.oi)())&&(r=g[t]),h.env.isGame)if("game"===n.__name__||r&&"game"===r.__name__||"string"==typeof n.__name__&&n.__name__.includes("preload")||r&&"string"==typeof r.__name__&&r.__name__.includes("preload")){var i=n;if((r?n&&"game"===n.name?n:r:n).delaySubContextReadyCallback=()=>{(0,c.G$)()||(0,c.oi)()?g[t].__onReadyHandler(t,e):i&&i.__onReadyHandler(t,e)},(0,c.G$)()||(0,c.oi)())return void g[t].__onPreloadReadyHandler(t,e);if(!i)return;i.__onPreloadReadyHandler(t,e),n=void 0}else{if((0,c.G$)()||(0,c.oi)())return void g[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}else{if((0,c.G$)()||I.isAsync())return void g[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}})),I.subscribe("subContextLibVarReady",((e,t)=>{g[t].__onLibVarReadyHandler(e)}));var S=function(e){var t=I.create(e);return d[this.__guid__]=t,t},k=function(e,t,r){var n,i,a=(0,c.G$)()||I.isAsync(),o=!1;if("number"==typeof t&&I.supportAllocFromSnapshot()?(v.info(`[JSContext] alloc(fromSnapshot) name=${e}, snapshotCtxIdx=${t}`),n=I.allocFromSnapshot(e,t),I.setAppSubContextId(n),I.associateRealId2SdkId(n)):r&&I.supportAllocEmpty()?(v.info(`[JSContext] alloc(empty) name=${e}`),o=!0,a?i=new Promise((t=>{n=I.allocEmpty(e,(()=>{t(n)}))})):n=I.allocEmpty()):(r&&v.warn("SubContext: allocEmpty is not supported"),v.info(`[JSContext] alloc name=${e}`),n=a?I.alloc(e):I.alloc(),I.setAppSubContextId(n),I.associateRealId2SdkId(n)),a&&(g[n]=this),d[this.__guid__]=n,o&&n>0)if(i)i=i.then((e=>{var t=this.loadLibFiles(r);return v.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${t}`),e}));else{var s=this.loadLibFiles(r);v.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${s}`)}return i||n},C=function(e,t,r){Object.defineProperty(this,e,s()({value:t},r?{writable:!0,configurable:!1}:{writable:!1,configurable:!1}))},E=function(){void 0!==f[this.__guid__]&&(b[this.__guid__].forEach((e=>{this.postMessage(e)})),b[this.__guid__]=[])},A=function(){void 0!==f[this.__guid__]&&(0,l.YF)((()=>{_[this.__guid__].forEach((e=>{this.postMessage(e)})),_[this.__guid__]=[]}))},T=(e,t)=>(M.traceBeginEvent("Framework","evaluateScript",{moduleName:t,fileList:e}),e=>{M.traceEndEvent({isSuccess:e})}),P=new Set;t.Z=class{constructor({name:e,secure:t=!0,env:r={},entry:n=[],entryLibs:i=null,injectAfterAlloc:a=!0,snapshotContextName:o="",isPreload:s=!1}){C.call(this,"__name__",e,s),C.call(this,"__guid__",w++,s),C.call(this,"__secure__",t,s),C.call(this,"__entry__",n,s),C.call(this,"__entryLibs__",i,s),C.call(this,"__injectAfterAlloc__",a,s),C.call(this,"__snapshotContextName__",o,s),this.contextGlobal=globalThis,this.alreadyLoadedJsFiles=new Set,this.alreadyLoadedLibFiles=new Set,this.firstLoadJsFilesStartTime=null,this.initialScriptInjected=!1,this.setExportEnv(r),y[this.__guid__]=[],b[this.__guid__]=[],_[this.__guid__]=[]}static supportEntryLibs(){return I.supportAllocEmpty()}getInnerId(){return f[this.__guid__]}getSnapshotCtxIdx(){var e,t;if(!this.__snapshotContextName__)return null;var r=null===(e=p)||void 0===e||null===(t=e.snapshotMetaInfo)||void 0===t?void 0:t[this.__snapshotContextName__];return"number"==typeof r?r:null}init(){var e=this;if(n=this,!I.supportAlloc())return S.call(this,this.__entry__);var t=k.call(this,this.__name__,this.getSnapshotCtxIdx(),this.__entryLibs__);if(t instanceof Promise)return t.then((e=>(v.info(`[JSContext] alloc done, name=${this.__name__}, ret=${e}`),e)));if(v.info(`[JSContext] alloc done, name=${this.__name__}, ret=${t}`),this.__injectAfterAlloc__){if(((0,c.G$)()||I.isAsync())&&(0,c.N0)())return a()((function*(){for(var t=0,r=e.__entry__.length;t<r;t++)yield e.evaluateScriptFile(e.__entry__[t])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))}}preInit(e,t){var r=this;if(this.preHandleExportEnv=e,this.skipCondomList=t,n=this,!I.supportAlloc())return S.call(this,this.__entry__);k.call(this,this.__name__,this.getSnapshotCtxIdx()),this.__injectAfterAlloc__&&(this.delayExecuteJsFile=()=>{if(((0,c.G$)()||I.isAsync())&&(0,c.N0)())return a()((function*(){for(var e=0,t=r.__entry__.length;e<t;e++)yield r.evaluateScriptFile(r.__entry__[e])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))})}callDelayFn(){return new Promise(((e,t)=>{var r=Date.now(),i=()=>{if(this.delaySubContextReadyCallback){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var a=this.delayExecuteJsFile&&this.delayExecuteJsFile();n=void 0,e(a)}else{if(Date.now()-r>2e4)return h.env.platform,t();setTimeout(i)}};i()}))}callDelayFnSync(){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var e=this.delayExecuteJsFile&&this.delayExecuteJsFile();return n=void 0,e}unShiftEntries(e){this.__entry__.unshift(...e)}afterPreloadInit(){return("android"===h.env.platform||"ios"===h.env.platform)&&!I.isAsync()?this.callDelayFnSync():this.callDelayFn()}onMessage(e){(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback)&&(y[this.__guid__].forEach((e=>{this.__onMsgCallback(e)})),y[this.__guid__]=[])}postMessage(e){var t=f[this.__guid__];return void 0!==t?I.publish("mainContextMessage",e,[t])[0]:void b[this.__guid__].push(e)}postMessageAsync(e){var t=f[this.__guid__];void 0!==t?(0,l.YF)((()=>{I.publish("mainContextMessage",e,[t])})):_[this.__guid__].push(e)}onInitReady(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}setExportEnv(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,m[this.__guid__]=e}setName(e){this.name=e,this.__name__=e}setEntry(e){this.__entry__&&this.__entry__.pop?(this.__entry__.splice(0,this.__entry__.length),this.__entry__.push(...e)):this.__entry__=[...e]}getEntry(){return this.__entry__}refreshExportEnv(e){return new Promise((t=>{if(!e)throw Error("refreshExportEnv: missing arguments.");this.setExportEnv(e);var r=m[this.__guid__],n=f[this.__guid__];I.publish("subContextEnvReady",r,[n],!0),I.subscribe("subContextRefreshEnvReady",((e,r)=>{n===r&&t()}))}))}refreshWxConfig(e,t){var r=f[this.__guid__];I.publish("subContextRefreshWxConfig",{key:e,value:t},[r])}dynamicExportGlobal(e={name:"",value:"",needCondom:!0},t){var r=()=>{var r=f[this.__guid__];I.publish("exportGlobalRequire",e,[r]),t&&t()};void 0!==d[this.__guid__]?r():this.onInitReady(r)}evaluateScriptFile(e,t){var r=d[this.__guid__];if(void 0!==r){var n=T([e],t);if(((0,c.G$)()||I.isAsync())&&(0,c.N0)())return new Promise((t=>{var i=I.evaluateScriptFile(r,e,(()=>t(i)));if(1!==i)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${i}`)})).then((()=>{n(!0)}));var i=I.evaluateScriptFile(r,e);if(1!==i)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${i}`);n(!0),this.alreadyLoadedJsFiles.add(e)}}loadLibFiles(e){var t=d&&d[this.__guid__];if(void 0===t)return"fail: no clientId";if(!I||!I.loadLibFiles)return"fail: not support loadLibFiles";try{e=e.filter((e=>!this.alreadyLoadedLibFiles.has(e)));var r=I.loadLibFiles(t,e);return e.forEach((e=>this.alreadyLoadedLibFiles.add(e))),r}catch(t){throw new Error(`SubContext loadLibFiles "${e}" failed: error ${t}`)}}loadJsFiles(e,t,{waitResult:r=!1,reportKey:n,isPageInitialScript:i=!1}={}){e=e.map((e=>"/"===e[0]?e:"/"+e));var a=d&&d[this.__guid__],o=e.filter((e=>this.alreadyLoadedJsFiles.has(e)));o.length>0&&v.info("[SubContext] loadJsFiles ignored loaded: "+o.join(","));var s=null;if(0===(e=e.filter((e=>!this.alreadyLoadedJsFiles.has(e)))).length)return v.info("[SubContext] loadJsFiles have no files to load, return"),s;var c={};if(void 0!==a){var l="android"===p.platform?"key":"reportKey",h=n;if(void 0!==h){if(P.has(h)){var f=1;do{h=n+"-#"+f++}while(P.has(h))}P.add(h)}if(c[l]=h,null===this.firstLoadJsFilesStartTime&&(this.firstLoadJsFilesStartTime=Date.now()),i&&!this.initialScriptInjected&&this.__name__===u.m.APP&&(this.initialScriptInjected=!0,c.initialScript=!0,c.initialScriptStartTime=this.firstLoadJsFilesStartTime),I&&I.batchLoadJsFiles)try{var g=Date.now(),m=T(e,t);try{I.batchLoadJsFiles(a,e,c)}catch(e){throw m(!1),e}r?s=e=>{m(!!e)}:m(!0),v.info("[SubContext] loadJsFiles done, cost "+(Date.now()-g)),e.forEach((e=>this.alreadyLoadedJsFiles.add(e)))}catch(t){throw new Error(`SubContext loadJsFiles "${e}" failed: error ${t}`)}}return s}destroy(){var e=d[this.__guid__],t=f[this.__guid__];e>0&&(I.publish("subContextDestroy",{},[t]),I.destroy(e)),delete g[t],delete d[this.__guid__],delete f[this.__guid__],delete m[this.__guid__],delete y[this.__guid__],delete b[this.__guid__],delete _[this.__guid__],delete this.__guid__,delete this.contextGlobal}__onMessageHandler(e){return"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):void y[this.__guid__].push(e)}__onReadyHandler(e,t){g[e]=this,f[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=m[this.__guid__];r&&I.publish("subContextEnvReady",r,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((e=>{e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,E.call(this),A.call(this)}__onPreloadReadyHandler(e,t){g[e]=this,f[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=m[this.__guid__];r&&(r.preHandleEnv=this.preHandleExportEnv,r.skipCondomList=this.skipCondomList,I.publish("preloadSubContextEnvReady",r,[e],!0))}}},826:(e,t,r)=>{r.d(t,{M:()=>a,z:()=>i});var n=[],i=function(e){n.push(e)},a=function(){return n}},407:(e,t,r)=>{r.d(t,{F:()=>s,G$:()=>d,Hw:()=>u,N0:()=>o,NG:()=>g,QT:()=>c,Qj:()=>v,c6:()=>m,cF:()=>f,gn:()=>h,oi:()=>y,sK:()=>l,xJ:()=>a});var n=r(888),i=r.n(n),a=globalThis;var o=function(){return void 0!==p&&p.isIsolateContext},s=function(){k.deepFreezeGlobalObjs(["console"],!0)},c=function(){var e=i()((function*(e,t){E.reportIDKey({key:t});try{yield e()}catch(e){E.reportIDKey({key:`${t}_fail`,force:!0});var r=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";E.errorReport({key:r,error:e,extend:""})}}));return function(t,r){return e.apply(this,arguments)}}(),l=function(e,t,r){void 0!==r?E.thirdErrorReport({error:e,isUnhandledRejection:!0,promise:r,extend:t}):E.thirdErrorReport({error:e,isUnhandledRejection:!1,extend:t})},u=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){E.errorReport({key:e,error:t,extend:""})}}},d=function(){return"devtools"===p.platform},h=function(){return"ios"===p.platform},f=e=>{var t;if(b.invoke("accessSync",{path:e},(e=>{/:fail/.test(e.errMsg)&&(t=e.errMsg)})),t)throw new Error(t)},g=e=>{var t,r;if(b.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t},v=(e="",t=[])=>{if(e&&"string"==typeof e&&!/^index/.test(e)){var r=e.replace(/(^\/+)|(\/+$)/g,"").split("/"),n=t.find((t=>{if(t.independent){var n=t.root||"",i=t.alias||"",a=n.replace(/(^\/+)|(\/+$)/g,"").split("/");if(r.length>=a.length){var o=a.every(((e,t)=>e===r[t]));if(o)return o}if(i&&0===e.indexOf(i))return!0}return!1}));if(n)return n}return!1},m=e=>[1001,1011,1007,1008,1074,1088,1044,1010,1096,1014,1043,1107,1155].indexOf(e)>=0,y=()=>I.isAsync()},551:(e,t,n)=>{n.d(t,{E:()=>N,F:()=>B});var a=n(97),o=n.n(a),s=n(251),c=n(112),u=n(407),d=n(625),f=n(421);n.g.LanDebug=c.OJ,n.g.getPerfDog=c.yQ,n.g.getProfiler=c.YZ;var g="undefined"!=typeof __AppServiceRemoteDebugger__,m=null,y={};h.onLoad((()=>{m=g?__AppServiceRemoteDebugger__(p.platform,d.M,d.O,u.NG,n.g.WeixinJSBridge):null,g&&m&&((y=(0,u.gn)()?m.runtime.getSubContextGlobals():{}).BaseConsole&&m.runtime.setupConsole(console,y.BaseConsole),n.g.__remoteDebug__=m.__remoteDebug__,n.g.__isAppServiceRemoteDebugMode__=!0,n.g.__debuggerMessager__=d.O)}));var _="app-service.js",w="appservice.app.js",k="common.app.js",C="appservice.js",P=new s.Z({name:f.m.APP,secure:!1,entry:[_],injectAfterAlloc:!1,snapshotContextName:"app:sub"}),x=new Set;p.onReady((()=>{"develop"!==p.envVersion&&"trial"!==p.envVersion||(x.add("wx0354ba48aadc0ab2"),x.add("wxfa43a4a7041a84de"))}));var R=e=>v.info("[injectEntryFile] "+e),D=new Set,O=(e,t)=>{if(!D.has(e)){g&&m&&(0,u.gn)()&&m.runtime.registerScript(e);var r=-1,n=-1;D.add(e),R(`isLazyLoad: ${p.isLazyLoad}`),R(`moduleName: ${e}`),R(`separatedPlugins: ${JSON.stringify(t)}`);var i=[];if(p.isLazyLoad){console.info("Lazy code loading is enabled. Only injecting required components."),t.forEach((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,x.add(t.plugin_id));try{R(`accessSync path: ${r+k}`),(0,u.cF)(r+k),i.push(r+k,r+w),t.prefix_path||((e,t)=>{v.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(0,u.NG)(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}v.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(p.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,v.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))})),P.refreshWxConfig("subPackages",p.subPackages)}})(e,r+"plugin.json")}catch(e){i.push(r+C)}})),i.push(e+k,e+w),R(`using separated plugins: ${JSON.stringify(i)}`);var a=e||"__APP__";r=Date.now(),P.loadJsFiles(i,a,{reportKey:`entry-${a}`}),n=Date.now()}else(i=t.map((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");return t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,x.add(t.plugin_id)),r+C}))).push(e+_),R(`using separated plugins: ${JSON.stringify(i)}`),r=Date.now(),i.forEach((t=>{if(t="/"===t[0]?t:"/"+t,!P.alreadyLoadedJsFiles.has(t)){try{P.evaluateScriptFile(t,e||"__APP__")}catch(e){R(`inject ${t} failed, reason: ${e.message}`)}P.alreadyLoadedJsFiles.add(t)}})),n=Date.now();P.refreshWxConfig("extendedLibList",Array.from(x)),r>0&&n>0&&R("time cost: "+(n-r))}},L=(0,u.Hw)("appServiceSDKScriptError",(e=>{var t=e.moduleName,r="__APP__"===t,n=e.separatedPlugins||[];"string"!=typeof t&&console.error("SubContext onSubPackageReady error: moduleName is empty"),t.endsWith("/")||(t=`${t}/`),p.onReady((()=>{(0,u.gn)()&&g?(t=r?"":t,m.runtime.isInitialInject()?(m.runtime.startBufferBridgeMessages(),m.runtime.runAfterAttached((()=>{O(t,n),m.runtime.dispatchBridgeMessages()}))):O(t,n)):O(r?"":t,n)}))})),N=function(){var e,t={};g&&m&&(t=o()({__isAppServiceRemoteDebugMode__:!0,__remoteDebug__:m.__remoteDebug__},y));var n=(null===(e=r)||void 0===e?void 0:e.version)||"9.9.9",a=o()(o()({wxLibVersion:n,__Function__:i,console:Object.assign({group:()=>{},groupEnd:()=>{}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__sclEngine__:__sclEngine__,__wxConfig:p,Reporter:E,BaseConsole:S.BaseConsole,wxNativeConsole:v,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},__subContextEngineBridge__:A,__freezeLibContextGlobal__:()=>(0,u.F)(),originConsole:console},t),{},{debuggerMessager:d.O,__userActionTracer__:T,__appServiceSDK__:M,WeixinJSBridge:b});a.Trace=l,M.onSubPackageReady(L),P.setExportEnv(a),P.init()},B=function(){return P};I&&I.subscribe&&I.subscribe("injectEntryFile",(e=>{O(e.moduleName,e.separatedPlugins)}))},220:(e,t,r)=>{r.d(t,{DW:()=>a,Tq:()=>s,vh:()=>o});var n=r(421),i=new(r(251).Z)({name:n.m.APP_RENDER,secure:!0,entry:[],entryLibs:["WARenderContext.js"],snapshotContextName:"app:subRender"}),a=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:p,Reporter:E,BaseConsole:S.BaseConsole,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:v,WeixinJSBridge:b,__sclEngine__:__sclEngine__,__appServiceConsole__:S,SkylineGlobal:"undefined"==typeof SkylineGlobal?{}:SkylineGlobal};return e.Trace=l,i.setExportEnv(e),i.__initPromise__=i.init(),i},o=function(){return i},s=(e,t)=>I.publish(e,t,[i.getInnerId()])},286:(e,t,r)=>{r.d(t,{Nz:()=>s,Pc:()=>o,dx:()=>a});var n=r(421),i=new(r(251).Z)({name:n.m.APP_SCL,secure:!1,entry:["common.app.js","webview.app.js"],entryLibs:["WASclContext.js"]}),a=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:p,Reporter:E,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:v,WeixinJSBridge:b,__sclEngine__:__sclEngine__};return e.Trace=l,i.setExportEnv(e),i.__initPromise__=i.init(),i},o=function(){return i},s=(e,t)=>I.publish(e,t,[i.getInnerId()])},445:(e,t,r)=>{r.d(t,{$:()=>o,k:()=>s});var n,i=r(421),a=r(251),o=function(e){if(n)return console.error(new Error("createAppXRFrameRenderContext: exceed max concurrent XRFrameRenderContext limit.")),n;n=new a.Z({name:i.m.APP_XRFRAME_RENDER,secure:!1,entry:[],entryLibs:"devtools"===p.platform?["WAXRFrameRenderContextDevTools.js"]:["WAXRFrameRenderContext.js"]});var t={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:p,Reporter:E,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:v,WeixinJSBridge:b,Trace:l,console:console,args:e,BaseConsole:S.BaseConsole};return n.setExportEnv(t),n.init(),n},s=()=>n},625:(e,t,r)=>{r.d(t,{M:()=>a,O:()=>i});var n=[],i="undefined"!=typeof DebuggerConnection?DebuggerConnection:{};i.registerCallback=e=>{"function"==typeof e&&n.push(e)},i.onCustomMessage=(e,t)=>{n.forEach((r=>{try{r(e,t)}catch(e){}}))};var a="undefined"!=typeof JSThread?JSThread:null},568:(e,t,r)=>{r.d(t,{M:()=>u,eC:()=>d,xC:()=>h});var n=r(251),i=r(407),a=r(112),o=r(625),s=r(421);r.g.LanDebug=a.OJ,r.g.getPerfDog=a.yQ,r.g.__debuggerMessager__=o.O;var c=new n.Z({name:s.m.GAME,secure:!1,entry:["game.js"],snapshotContextName:"game:sub"});function l(){M.getABTestConfig({experimentId:(0,i.gn)()?"clicfg_appbrand_ios_game_split_multi_plugincode":"clicfg_appbrand_game_split_multi_plugincode",experimentType:"Expt",success(e){e&&1===Number(e.testConfig)&&function(){var e=p.plugins||p.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!r||r.some((e=>"gameContext"===e.type))})).map((t=>e[t]));c.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}()},fail(e){v.error("getABTestConfig fail",e)}})}var u=function(e){return e.__wxConfig=p,c.setExportEnv(e),(0,i.G$)()||I.isAsync()||l(),c.afterPreloadInit()},d=function(){return c},h=function(e,t){return c.preInit(e,t)}},771:(e,t,r)=>{r.d(t,{J:()=>s,r:()=>c});var n=r(421),i=r(251),a=r(407),o=new i.Z({name:n.m.GAME_OPEN_DATA,secure:!0,entry:["subContext.js"],snapshotContextName:"game:sub"});var s=e=>(e.__wxConfig=p,o.setExportEnv(e),(0,a.G$)()||I.isAsync()||function(){var e=p.plugins||p.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!!r&&r.some((e=>"openDataContext"===e.type))})).map((t=>e[t]));o.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}(),o.init()),c=function(){return o}},311:(e,t,r)=>{r.d(t,{K0:()=>k,dr:()=>w,hS:()=>C,qo:()=>S});var n=r(888),i=r.n(n),a=r(97),o=r.n(a),s=r(421),c=r(251),l=r(826),u=r(407),d=r(568),f=r(771),g={},v={isolatedContext:{},gameContext:{},gameOpenDataContext:{},unknown:{}},m=e=>`__plugin__/${e}/plugin.js`,y=null,b=!1,_=1;h.onLoad((()=>{h.env.isGame&&p.preload&&"android"===h.env.platform&&!I.isAsync()?(y=new c.Z({name:s.D.GAME_PLUGIN_PRELOAD+_,secure:!1,isPreload:!0,snapshotContextName:"game:sub"}),_++,y.preInit()):b=!0}));var w=(e={provider:"",secure:!0,env:null,subContext:!1,isPreload:!1})=>{var{env:t,secure:r,isPreload:n,subContext:a}=e,{provider:d}=e;if(!1===(0,u.N0)())throw new Error("isn't isolateContext mode!");var h,f=g[d=`${d}_${a?"_sub":"main"}`];if(f)return h=f.contextGlobal.__require,!0===f.__isCompleted||!1===f.__isCompleted&&(f.dynamicExportGlobal({name:"pluginEnv",value:t}),v.isolatedContext[d]=h),h;var _,w=s.D.GAME_PLUGIN+d,S=m(d.slice(0,-5));_=b?new c.Z({name:w,secure:r,entry:[S],snapshotContextName:"game:sub"}):y;var k=e=>{if(e.__wxConfig=p,_.setExportEnv(o()(o()({},e),{},{pluginEnv:t})),b)return _.init();_.setName(w),_.setEntry([S]),_.afterPreloadInit(),b=!0};return((0,u.G$)()||I.isAsync())&&!0===n?i()((function*(){return yield(0,u.QT)(i()((function*(){(0,l.z)(_),yield k(M.getIsolatedGamePluginContextEnv(e)),h=_.contextGlobal.__require,_.__isCompleted=!1,g[d]=_})),"initGamePluginContext"),h}))():((0,u.QT)((()=>{(0,l.z)(_),k(M.getIsolatedGamePluginContextEnv(e)),h=_.contextGlobal.__require,_.__isCompleted=!0,g[d]=_}),"initGamePluginContext"),v.isolatedContext[d]=h,h)},S=(e,t,r)=>{var{__name__:n}=e,a=m(t),o="game"===n?"gameContext":"gameOpenData"===n?"gameOpenDataContext":"unknown";return((0,u.G$)()||I.isAsync())&&!0===r?i()((function*(){return yield e.evaluateScriptFile(a),v[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o}}))():(e.evaluateScriptFile(a),v[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o})},k=function(){var e=i()((function*(){var e,t,r=(e=p.gamePlugins||p.plugins||{},t=[],Object.keys(e).forEach((r=>{if(e[r].contexts)e[r].contexts.forEach((n=>{t.push(o()(o()({},e[r]),{},{context:n,contexts:null}));var i=e[r].provider;"wx20afc706a711eefc"!==i&&"wx4d5893418b75cb20"!==i||t.push(o()(o()({},e[r]),{},{context:n,subContext:!0,contexts:null}))}));else{t.push(o()(o()({},e[r]),{},{context:{type:"gameContext"},contexts:null}));var n=e[r].provider;"wx20afc706a711eefc"!==n&&"wx4d5893418b75cb20"!==n||t.push(o()(o()({},e[r]),{},{context:{type:"gameContext"},subContext:!0,contexts:null}))}})),t),n=(e,t)=>e.getEntry().unshift(t);return Promise.all(r.map((e=>{var{provider:t,context:r}=e;switch(r.type){case"isolatedContext":return w(o()(o()({},e),{},{isPreload:!0}));case"gameContext":return n((0,d.eC)(),m(t));case"openDataContext":return n((0,f.r)(),m(t));default:throw new Error(`pluginConf error: invalid context name: ${r.type}`)}})))}));return function(){return e.apply(this,arguments)}}(),C=()=>v},429:(e,t,r)=>{var n=r(826);I&&I.subscribe&&(I.subscribe("loadJsFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadJsFiles(e.paths,e.moduleName,e.options);v.warn(`[MainContext] context name with ${e.contextName} not found, loadJsFiles fail`)})),I.subscribe("loadLibFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadLibFiles(e.paths);v.warn(`[MainContext] context name with ${e.contextName} not found, loadLibFiles fail`)})))},369:(e,t,r)=>{r.d(t,{Bs:()=>n,YF:()=>o});var n=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}},i=!1,a=[],o=e=>{a.push(e),i||(i=!0,Promise.resolve().then((()=>{for(var e=0;e<a.length;++e)if("function"==typeof a[e])try{a[e]()}catch(e){throw v.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),console.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),e}i=!1,a.length=0})))}},888:e=>{e.exports=c.asyncToGenerator},97:e=>{e.exports=c.objectSpread2}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{createAppRenderContext:()=>_,createAppSclContext:()=>S,createAppXRFrameRenderContext:()=>A,createGameOpenDataContext:()=>D,createIsolatedGamePlugin:()=>u.dr,getAppContext:()=>r.F,getGameContext:()=>c.eC,getGameOpenDataContext:()=>l.r,getGamePlugins:()=>u.hS,getPool:()=>f.M,initAppRelatedContexts:()=>b,initFunctionalPage:()=>P,initGameJS:()=>x,initGameRelatedContexts:()=>T,injectGamePlugin:()=>u.qo,isIsolateContext:()=>d.N0,isValidGameIndependentSubpackagePath:()=>d.Qj,loadJsFiles:()=>O,onSubContextMessage:()=>B,postMessageToSubContext:()=>L,postMessageToSubContextSync:()=>N,publishToRenderContext:()=>i.Tq,publishToSclContext:()=>s.Nz,waitAppRenderContextInit:()=>w,waitAppSclContextInit:()=>C});var e=n(888),t=n.n(e),r=(n(159),n(551)),i=n(220),a=n(445),s=n(286),c=n(568),l=n(771),u=n(311),d=n(407),f=n(826),g=(n(429),n(962),n(421)),m=Object.keys,y=new h.EventEmitter,b=function(e){(0,d.N0)();for(var t=m(e),n=0;n<t.length;n++){var i=t[n];d.xJ[i]=e[i]}(0,d.N0)()&&(0,d.QT)((()=>{k.hijack(),(0,f.z)((0,r.F)()),(0,r.E)()}),"initAppIsolatedContext"),p.onReady((()=>{!(0,d.N0)()&&p.plugins&&(k.overwriteSetPrototypeOf(),k.deepFreezeGlobalObjs([],!1))}))},_=function(){var e;(0,d.N0)(),(0,d.QT)((()=>{e=(0,i.DW)(),(0,f.z)(e),e.onMessage((e=>{y.emit("subContextMessage",e)})),(0,d.F)()}),"createAppRenderContext")},w=function(){var e=t()((function*(){var e,t=(0,f.M)().find((e=>e.__name__===g.m.APP_RENDER));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("render context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),S=function(){var e;(0,d.N0)(),(0,d.QT)((()=>{e=(0,s.dx)(),(0,f.z)(e),e.onMessage((e=>{y.emit("subContextMessage",e)})),(0,d.F)()}),"createAppSclContext")},C=function(){var e=t()((function*(){var e,t=(0,f.M)().find((e=>e.__name__===g.m.APP_SCL));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("scl context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),A=function(e){(0,d.QT)((()=>{var t=(0,a.$)(e);(0,f.z)(t),t.onMessage((e=>{y.emit("subContextMessage",e)}))}),"createAppXRFrameRenderContext")},T=()=>{var e,t;if(1===p.envPreloadType){var r=M.getGameRelatedContextsExportsWx();e=r.game,t=r.gameSkipCondom}function n(){var e=M.getGameRelatedContextsExports(),t=e.game.FunctionalPage,r=p.appLaunchInfo;if(t.parseCompletePath(r.path).isFunctionalPage&&t.VALID_SCENE.includes(r.scene))P(e);else if((0,d.c6)(r.scene)){var n=(0,d.Qj)(r.path,p.subPackages);if(n){var i=(0,c.eC)(),a=n.root;a.endsWith(".js")||(a.endsWith("/")||(a=`${a}/`),a=`${a}game.js`),i.setEntry([a]),R(e,(e=>{e&&(console.error("run game independent subpackage fail",e),v.error("run game independent subpackage fail",e),i.evaluateScriptFile("game.js"),E.reportIDKey({key:"loadGameIndependentSubPackageFail"}))}))}else R(e)}else R(e)}1===p.envPreloadType&&(M.loadPreloadSdkSubPackage(),v.info("load subpackage finish")),(0,c.xC)(e,t),p.onReady((()=>{((0,d.G$)()||I.isAsync())&&(0,d.N0)()?(0,u.K0)().then((()=>(n(),null))):n()}))};function P(e){(e=e||M.getGameRelatedContextsExports()).game.FunctionalPage.initFunctionalPage()}function x(e){e=e||M.getGameRelatedContextsExports(),(0,f.M)().length>0||R(e)}function R(e,t){e=e||M.getGameRelatedContextsExports(),(0,d.N0)()&&(0,d.QT)((()=>{(0,d.F)(),(0,f.z)((0,c.eC)());var r=(0,c.M)(e.game);r&&r.catch&&r.catch((e=>{"function"==typeof t&&t(e)}))}),"initGameIsolatedContext")}function D(e){e=e||M.getGameRelatedContextsExports(),(0,d.QT)((()=>{(0,f.z)((0,l.r)());var t=(0,l.J)(e.gameOpenData);t&&t.catch&&t.catch((e=>{}))}),"initGameOpenDataContext")}var O=()=>{},L=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,a.k)().postMessageAsync(e):"string"==typeof t&&4294967298===t?(0,s.Pc)().postMessageAsync(e):(0,i.vh)().postMessageAsync(e)},N=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,a.k)().postMessage(e):4294967298===t?(0,s.Pc)().postMessage(e):(0,i.vh)().postMessage(e)},B=e=>{y.on("subContextMessage",e)}})(),D=o})();var O=function(){var e="undefined"!=typeof __wxModule__?__wxModule__:{};if(n.definePlugin=e.definePlugin,n.requirePlugin=e.requirePlugin,"function"==typeof __passWAServiceGlobal__){var t={};if(t.__appServiceEngine__=__appServiceEngine__,t.__appServiceSDK__=M,t.__virtualDOM__=__virtualDOM__,t.__subContextEngine__=D,t.__sclEngine__=__sclEngine__,t.Reporter=E,t.exparser=exparser,t.WeixinJSBridge=b,t.Foundation=h,t.Protect=k,"undefined"!=typeof __isAppServiceRemoteDebugMode__)return void __passWAServiceGlobal__({});__passWAServiceGlobal__(t)}};function L(){var e;void 0!==R&&R.version&&(e=R.version);try{O()}catch(e){}e&&void 0!==n&&n.wx&&(n.wx.version=e)}D.isIsolateContext(),D.isIsolateContext()&&"undefined"==typeof __isAppServiceRemoteDebugMode__||L(),h.onLoad((function(){D.initAppRelatedContexts(n)}))})(this);var __WAServiceMainContextEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;
;(function(){return 11111;})();.cb(...r);v